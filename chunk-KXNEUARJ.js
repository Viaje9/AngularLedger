var VV=Object.create;var Py=Object.defineProperty,jV=Object.defineProperties,UV=Object.getOwnPropertyDescriptor,BV=Object.getOwnPropertyDescriptors,$V=Object.getOwnPropertyNames,uh=Object.getOwnPropertySymbols,wT=Object.getPrototypeOf,Oy=Object.prototype.hasOwnProperty,IT=Object.prototype.propertyIsEnumerable,HV=Reflect.get;var _T=(t,e,n)=>e in t?Py(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})Oy.call(e,n)&&_T(t,n,e[n]);if(uh)for(var n of uh(e))IT.call(e,n)&&_T(t,n,e[n]);return t},pe=(t,e)=>jV(t,BV(e));var zV=(t,e)=>{var n={};for(var r in t)Oy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&uh)for(var r of uh(t))e.indexOf(r)<0&&IT.call(t,r)&&(n[r]=t[r]);return n};var RY=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var qV=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $V(e))!Oy.call(t,i)&&i!==n&&Py(t,i,{get:()=>e[i],enumerable:!(r=UV(e,i))||r.enumerable});return t};var xY=(t,e,n)=>(n=t!=null?VV(wT(t)):{},qV(e||!t||!t.__esModule?Py(n,"default",{value:t,enumerable:!0}):n,t));var Yn=(t,e,n)=>HV(wT(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function ET(t,e){return Object.is(t,e)}var ut=null,al=!1,dh=1,mn=Symbol("SIGNAL");function ye(t){let e=ut;return ut=t,e}function GV(){return al}var ll={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fh(t){if(al)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(t);let e=ut.nextProducerIndex++;if(Uo(ut),e<ut.producerNode.length&&ut.producerNode[e]!==t&&cl(ut)){let n=ut.producerNode[e];yh(n,ut.producerIndexOfThis[e])}ut.producerNode[e]!==t&&(ut.producerNode[e]=t,ut.producerIndexOfThis[e]=cl(ut)?ST(t,ut,e):0),ut.producerLastReadVersion[e]=t.version}function WV(){dh++}function bT(t){if(!(cl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===dh)){if(!t.producerMustRecompute(t)&&!mh(t)){t.dirty=!1,t.lastCleanEpoch=dh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=dh}}function DT(t){if(t.liveConsumerNode===void 0)return;let e=al;al=!0;try{for(let n of t.liveConsumerNode)n.dirty||TT(n)}finally{al=e}}function CT(){return ut?.consumerAllowSignalWrites!==!1}function TT(t){t.dirty=!0,DT(t),t.consumerMarkedDirty?.(t)}function ph(t){return t&&(t.nextProducerIndex=0),ye(t)}function gh(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(cl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)yh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function mh(t){Uo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(bT(n),r!==n.version))return!0}return!1}function Vy(t){if(Uo(t),cl(t))for(let e=0;e<t.producerNode.length;e++)yh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ST(t,e,n){if(AT(t),Uo(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ST(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function yh(t,e){if(AT(t),Uo(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)yh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Uo(i),i.producerIndexOfThis[r]=e}}function cl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Uo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function AT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function RT(t){let e=Object.create(KV);e.computation=t;let n=()=>{if(bT(e),fh(e),e.value===hh)throw e.error;return e.value};return n[mn]=e,n}var ky=Symbol("UNSET"),Fy=Symbol("COMPUTING"),hh=Symbol("ERRORED"),KV=pe(F({},ll),{value:ky,dirty:!0,error:null,equal:ET,producerMustRecompute(t){return t.value===ky||t.value===Fy},producerRecomputeValue(t){if(t.value===Fy)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Fy;let n=ph(t),r;try{r=t.computation()}catch(i){r=hh,t.error=i}finally{gh(t,n)}if(e!==ky&&e!==hh&&r!==hh&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function QV(){throw new Error}var xT=QV;function MT(){xT()}function NT(t){xT=t}var YV=null;function PT(t){let e=Object.create(jy);e.value=t;let n=()=>(fh(e),e.value);return n[mn]=e,n}function vh(t,e){CT()||MT(),t.equal(t.value,e)||(t.value=e,ZV(t))}function OT(t,e){CT()||MT(),vh(t,e(t.value))}var jy=pe(F({},ll),{equal:ET,value:void 0});function ZV(t){t.version++,WV(),DT(t),YV?.()}function kT(t,e,n){let r=Object.create(XV);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function o(c){s(c)||(Vy(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Ly)}let a=()=>{if(r.fn===null)return;if(GV())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!mh(r))return;r.hasRun=!0;let c=ph(r);try{r.cleanupFn(),r.cleanupFn=Ly,r.fn(i)}finally{gh(r,c)}};return r.ref={notify:()=>TT(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[mn]:r},r.ref}var Ly=()=>{},XV=pe(F({},ll),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Ly});function ee(t){return typeof t=="function"}function Bo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var _h=Bo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ws(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){e=s instanceof _h?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{FT(s)}catch(o){e=e??[],o instanceof _h?e=[...e,...o.errors]:e.push(o)}}if(e)throw new _h(e)}}add(e){var n;if(e&&e!==this)if(this.closed)FT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ws(n,e)}remove(e){let{_finalizers:n}=this;n&&ws(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var Uy=Pe.EMPTY;function wh(t){return t instanceof Pe||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function FT(t){ee(t)?t():t.unsubscribe()}var Nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $o={setTimeout(t,e,...n){let{delegate:r}=$o;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=$o;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ih(t){$o.setTimeout(()=>{let{onUnhandledError:e}=Nn;if(e)e(t);else throw t})}function xr(){}var LT=By("C",void 0,void 0);function VT(t){return By("E",void 0,t)}function jT(t){return By("N",t,void 0)}function By(t,e,n){return{kind:t,value:e,error:n}}var Is=null;function Ho(t){if(Nn.useDeprecatedSynchronousErrorHandling){let e=!Is;if(e&&(Is={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Is;if(Is=null,n)throw r}}else t()}function UT(t){Nn.useDeprecatedSynchronousErrorHandling&&Is&&(Is.errorThrown=!0,Is.error=t)}var Es=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wh(e)&&e.add(this)):this.destination=tj}static create(e,n,r){return new zo(e,n,r)}next(e){this.isStopped?Hy(jT(e),this):this._next(e)}error(e){this.isStopped?Hy(VT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hy(LT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},JV=Function.prototype.bind;function $y(t,e){return JV.call(t,e)}var zy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Eh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Eh(r)}else Eh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Eh(n)}}},zo=class extends Es{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Nn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&$y(e.next,s),error:e.error&&$y(e.error,s),complete:e.complete&&$y(e.complete,s)}):i=e}this.destination=new zy(i)}};function Eh(t){Nn.useDeprecatedSynchronousErrorHandling?UT(t):Ih(t)}function ej(t){throw t}function Hy(t,e){let{onStoppedNotification:n}=Nn;n&&$o.setTimeout(()=>n(t,e))}var tj={closed:!0,next:xr,error:ej,complete:xr};var qo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(t){return t}function bh(...t){return qy(t)}function qy(t){return t.length===0?Lt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ne=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=rj(n)?n:new zo(n,r,i);return Ho(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=BT(r),new r((i,s)=>{let o=new zo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qo](){return this}pipe(...n){return qy(n)(this)}toPromise(n){return n=BT(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function BT(t){var e;return(e=t??Nn.Promise)!==null&&e!==void 0?e:Promise}function nj(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function rj(t){return t&&t instanceof Es||nj(t)&&wh(t)}function Gy(t){return ee(t?.lift)}function ue(t){return e=>{if(Gy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(t,e,n,r,i){return new Wy(t,e,n,r,i)}var Wy=class extends Es{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Go(){return ue((t,e)=>{let n=null;t._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var hi=class extends ne{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Gy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(le(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Go()(this)}};var Wo={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=Wo;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(s=>{n=void 0,t(s)});return new Pe(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=Wo;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Wo;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var $T=Bo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=(()=>{class t extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Dh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $T}next(n){Ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Uy:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ws(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return t.create=(e,n)=>new Dh(e,n),t})(),Dh=class extends te{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Uy}};var Je=class extends te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ul={now(){return(ul.delegate||Date).now()},delegate:void 0};var dl=class extends te{constructor(e=1/0,n=1/0,r=ul){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Ch=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var hl={setInterval(t,e,...n){let{delegate:r}=hl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=hl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var fi=class extends Ch{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return hl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&hl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ws(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ko=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ko.now=ul.now;var pi=class extends Ko{constructor(e,n=Ko.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var yn=new pi(fi),Ky=yn;var Th=class extends fi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Sh=class extends pi{};var Qy=new Sh(Th);var Ah=class extends fi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Wo.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(Wo.cancelAnimationFrame(n),e._scheduled=void 0)}};var Rh=class extends pi{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var HT=new Rh(Ah);var Vt=new ne(t=>t.complete());function xh(t){return t&&ee(t.schedule)}function Yy(t){return t[t.length-1]}function Mh(t){return ee(Yy(t))?t.pop():void 0}function Zn(t){return xh(Yy(t))?t.pop():void 0}function zT(t,e){return typeof Yy(t)=="number"?t.pop():e}function Nh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xX(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function GT(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function qT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bs(t){return this instanceof bs?(this.v=t,this):new bs(t)}function WT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(y){return new Promise(function(w,A){s.push([g,y,w,A])>1||a(g,y)})})}function a(g,y){try{c(r[g](y))}catch(w){f(s[0][3],w)}}function c(g){g.value instanceof bs?Promise.resolve(g.value.v).then(u,d):f(s[0][2],g)}function u(g){a("next",g)}function d(g){a("throw",g)}function f(g,y){g(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function KT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qT=="function"?qT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Qo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ph(t){return ee(t?.then)}function Oh(t){return ee(t[qo])}function kh(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function Fh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ij(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lh=ij();function Vh(t){return ee(t?.[Lh])}function jh(t){return WT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield bs(n.read());if(i)return yield bs(void 0);yield yield bs(r)}}finally{n.releaseLock()}})}function Uh(t){return ee(t?.getReader)}function Me(t){if(t instanceof ne)return t;if(t!=null){if(Oh(t))return sj(t);if(Qo(t))return oj(t);if(Ph(t))return aj(t);if(kh(t))return QT(t);if(Vh(t))return cj(t);if(Uh(t))return lj(t)}throw Fh(t)}function sj(t){return new ne(e=>{let n=t[qo]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function oj(t){return new ne(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function aj(t){return new ne(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ih)})}function cj(t){return new ne(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function QT(t){return new ne(e=>{uj(t,e).catch(n=>e.error(n))})}function lj(t){return QT(jh(t))}function uj(t,e){var n,r,i,s;return GT(this,void 0,void 0,function*(){try{for(n=KT(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Yt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function gi(t,e=0){return ue((n,r)=>{n.subscribe(le(r,i=>Yt(r,t,()=>r.next(i),e),()=>Yt(r,t,()=>r.complete(),e),i=>Yt(r,t,()=>r.error(i),e)))})}function mi(t,e=0){return ue((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function YT(t,e){return Me(t).pipe(mi(e),gi(e))}function ZT(t,e){return Me(t).pipe(mi(e),gi(e))}function XT(t,e){return new ne(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function JT(t,e){return new ne(n=>{let r;return Yt(n,e,()=>{r=t[Lh](),Yt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Bh(t,e){if(!t)throw new Error("Iterable cannot be null");return new ne(n=>{Yt(n,e,()=>{let r=t[Symbol.asyncIterator]();Yt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function eS(t,e){return Bh(jh(t),e)}function tS(t,e){if(t!=null){if(Oh(t))return YT(t,e);if(Qo(t))return XT(t,e);if(Ph(t))return ZT(t,e);if(kh(t))return Bh(t,e);if(Vh(t))return JT(t,e);if(Uh(t))return eS(t,e)}throw Fh(t)}function ke(t,e){return e?tS(t,e):Me(t)}function X(...t){let e=Zn(t);return ke(t,e)}function Yo(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new ne(e?i=>e.schedule(r,0,i):r)}function $h(t){return!!t&&(t instanceof ne||ee(t.lift)&&ee(t.subscribe))}var Mr=Bo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function nS(t){return t instanceof Date&&!isNaN(t)}function se(t,e){return ue((n,r)=>{let i=0;n.subscribe(le(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:dj}=Array;function hj(t,e){return dj(e)?t(...e):t(e)}function Zo(t){return se(e=>hj(t,e))}var{isArray:fj}=Array,{getPrototypeOf:pj,prototype:gj,keys:mj}=Object;function Hh(t){if(t.length===1){let e=t[0];if(fj(e))return{args:e,keys:null};if(yj(e)){let n=mj(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function yj(t){return t&&typeof t=="object"&&pj(t)===gj}function zh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ds(...t){let e=Zn(t),n=Mh(t),{args:r,keys:i}=Hh(t);if(r.length===0)return ke([],e);let s=new ne(vj(r,e,i?o=>zh(i,o):Lt));return n?s.pipe(Zo(n)):s}function vj(t,e,n=Lt){return r=>{rS(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)rS(e,()=>{let u=ke(t[c],e),d=!1;u.subscribe(le(r,f=>{s[c]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function rS(t,e,n){t?Yt(n,t,e):e()}function iS(t,e,n,r,i,s,o,a){let c=[],u=0,d=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},y=A=>u<r?w(A):c.push(A),w=A=>{s&&e.next(A),u++;let S=!1;Me(n(A,d++)).subscribe(le(e,k=>{i?.(k),s?y(k):e.next(k)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;c.length&&u<r;){let k=c.shift();o?Yt(e,o,()=>w(k)):w(k)}g()}catch(k){e.error(k)}}))};return t.subscribe(le(e,y,()=>{f=!0,g()})),()=>{a?.()}}function Ge(t,e,n=1/0){return ee(e)?Ge((r,i)=>se((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),ue((r,i)=>iS(r,i,t,n)))}function yi(t=1/0){return Ge(Lt,t)}function sS(){return yi(1)}function Xn(...t){return sS()(ke(t,Zn(t)))}function vi(t){return new ne(e=>{Me(t()).subscribe(e)})}function Zy(...t){let e=Mh(t),{args:n,keys:r}=Hh(t),i=new ne(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let f=!1;Me(n[d]).subscribe(le(s,g=>{f||(f=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(r?zh(r,a):a),s.complete())}))}});return e?i.pipe(Zo(e)):i}var _j=["addListener","removeListener"],wj=["addEventListener","removeEventListener"],Ij=["on","off"];function fl(t,e,n,r){if(ee(n)&&(r=n,n=void 0),r)return fl(t,e,n).pipe(Zo(r));let[i,s]=Dj(t)?wj.map(o=>a=>t[o](e,a,n)):Ej(t)?_j.map(oS(t,e)):bj(t)?Ij.map(oS(t,e)):[];if(!i&&Qo(t))return Ge(o=>fl(o,e,n))(Me(t));if(!i)throw new TypeError("Invalid event target");return new ne(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function oS(t,e){return n=>r=>t[n](e,r)}function Ej(t){return ee(t.addListener)&&ee(t.removeListener)}function bj(t){return ee(t.on)&&ee(t.off)}function Dj(t){return ee(t.addEventListener)&&ee(t.removeEventListener)}function Xo(t=0,e,n=Ky){let r=-1;return e!=null&&(xh(e)?n=e:r=e),new ne(i=>{let s=nS(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Cj(t=0,e=yn){return t<0&&(t=0),Xo(t,t,e)}function pl(...t){let e=Zn(t),n=zT(t,1/0),r=t;return r.length?r.length===1?Me(r[0]):yi(n)(ke(r,e)):Vt}var Tj=new ne(xr);function Ve(t,e){return ue((n,r)=>{let i=0;n.subscribe(le(r,s=>t.call(e,s,i++)&&r.next(s)))})}function aS(t){return ue((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let u=i;i=null,n.next(u)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(le(n,u=>{r=!0,i=u,s||Me(t(u)).subscribe(s=le(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function qh(t,e=yn){return aS(()=>Xo(t,e))}function _i(t){return ue((e,n)=>{let r=null,i=!1,s;r=e.subscribe(le(n,void 0,void 0,o=>{s=Me(t(o,_i(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function cS(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(le(o,d=>{let f=u++;c=a?t(c,d,f):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Nr(t,e){return ee(e)?Ge(t,e,1):Ge(t,1)}function lS(t){return new ne(e=>t.subscribe(e))}var Sj={connector:()=>new te};function Gh(t,e=Sj){let{connector:n}=e;return ue((r,i)=>{let s=n();Me(t(lS(s))).subscribe(i),i.add(r.subscribe(s))})}function Wh(t,e=yn){return ue((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+t,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}n.subscribe(le(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function wi(t){return ue((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function et(t){return t<=0?()=>Vt:ue((e,n)=>{let r=0;e.subscribe(le(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function uS(){return ue((t,e)=>{t.subscribe(le(e,xr))})}function gl(t){return se(()=>t)}function Xy(t,e){return e?n=>Xn(e.pipe(et(1),uS()),n.pipe(Xy(t))):Ge((n,r)=>Me(t(n,r)).pipe(et(1),gl(n)))}function Aj(t,e=yn){let n=Xo(t,e);return Xy(()=>n)}function ml(t,e=Lt){return t=t??Rj,ue((n,r)=>{let i,s=!0;n.subscribe(le(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function Rj(t,e){return t===e}function Kh(t=xj){return ue((e,n)=>{let r=!1;e.subscribe(le(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function xj(){return new Mr}function Ii(t){return ue((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ve((i,s)=>t(i,s,r)):Lt,et(1),n?wi(e):Kh(()=>new Mr))}function Jo(t){return t<=0?()=>Vt:ue((e,n)=>{let r=[];e.subscribe(le(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ve((i,s)=>t(i,s,r)):Lt,Jo(1),n?wi(e):Kh(()=>new Mr))}function dS(t,e){let n=ee(t)?t:()=>t;return ee(e)?Gh(e,{connector:n}):r=>new hi(r,n)}function Mj(t){return t?e=>Gh(t)(e):e=>dS(new te)(e)}function Qh(t,e){return ue(cS(t,e,arguments.length>=2,!0))}function yl(t){return Ve((e,n)=>t<=n)}function Pn(...t){let e=Zn(t);return ue((n,r)=>{(e?Xn(t,n,e):Xn(t,n)).subscribe(r)})}function jt(t,e){return ue((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(le(r,c=>{i?.unsubscribe();let u=0,d=s++;Me(t(c,d)).subscribe(i=le(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function er(t){return ue((e,n)=>{Me(t).subscribe(le(n,()=>n.complete(),xr)),!n.closed&&e.subscribe(n)})}function tt(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?ue((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(le(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Lt}var tA="https://g.co/ng/security#xss",Y=class extends Error{constructor(e,n){super(Ff(e,n)),this.code=e}};function Ff(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var nA=Symbol("InputSignalNode#UNSET"),Nj=pe(F({},jy),{transformFn:void 0,applyValueToInputSignal(t,e){vh(t,e)}});function rA(t,e){let n=Object.create(Nj);n.value=t,n.transformFn=e?.transform;function r(){if(fh(n),n.value===nA)throw new Y(-950,!1);return n.value}return r[mn]=n,r}function Rl(t){return{toString:t}.toString()}var Yh="__parameters__";function Pj(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function iA(t,e,n){return Rl(()=>{let r=Pj(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,d){let f=c.hasOwnProperty(Yh)?c[Yh]:Object.defineProperty(c,Yh,{value:[]})[Yh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var dt=globalThis;function je(t){for(let e in t)if(t[e]===je)return e;throw Error("Could not find renamed property on target object.")}function Oj(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function $t(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map($t).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function mv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var kj=je({__forward_ref__:je});function _n(t){return t.__forward_ref__=_n,t.toString=function(){return $t(this())},t}function Ut(t){return sA(t)?t():t}function sA(t){return typeof t=="function"&&t.hasOwnProperty(kj)&&t.__forward_ref__===_n}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ie(t){return{providers:t.providers||[],imports:t.imports||[]}}function Lf(t){return hS(t,aA)||hS(t,cA)}function oA(t){return Lf(t)!==null}function hS(t,e){return t.hasOwnProperty(e)?t[e]:null}function Fj(t){let e=t&&(t[aA]||t[cA]);return e||null}function fS(t){return t&&(t.hasOwnProperty(pS)||t.hasOwnProperty(Lj))?t[pS]:null}var aA=je({\u0275prov:je}),pS=je({\u0275inj:je}),cA=je({ngInjectableDef:je}),Lj=je({ngInjectorDef:je}),j=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lA(t){return t&&!!t.\u0275providers}var Vj=je({\u0275cmp:je}),jj=je({\u0275dir:je}),Uj=je({\u0275pipe:je}),Bj=je({\u0275mod:je}),uf=je({\u0275fac:je}),vl=je({__NG_ELEMENT_ID__:je}),gS=je({__NG_ENV_ID__:je});function xl(t){return typeof t=="string"?t:t==null?"":String(t)}function $j(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():xl(t)}function Hj(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Y(-200,t)}function g_(t,e){throw new Y(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),yv;function uA(){return yv}function Zt(t){let e=yv;return yv=t,e}function dA(t,e,n){let r=Lf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;g_(t,"Injector")}var zj={},_l=zj,vv="__NG_DI_FLAG__",df="ngTempTokenPath",qj="ngTokenPath",Gj=/\n/gm,Wj="\u0275",mS="__source",ra;function Kj(){return ra}function Ei(t){let e=ra;return ra=t,e}function Qj(t,e=ve.Default){if(ra===void 0)throw new Y(-203,!1);return ra===null?dA(t,void 0,e):ra.get(t,e&ve.Optional?null:void 0,e)}function R(t,e=ve.Default){return(uA()||Qj)(Ut(t),e)}function O(t,e=ve.Default){return R(t,Vf(e))}function Vf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _v(t){let e=[];for(let n=0;n<t.length;n++){let r=Ut(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,s=ve.Default;for(let o=0;o<r.length;o++){let a=r[o],c=Yj(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function hA(t,e){return t[vv]=e,t.prototype[vv]=e,t}function Yj(t){return t[vv]}function Zj(t,e,n,r){let i=t[df];throw e[mS]&&i.unshift(e[mS]),t.message=Xj(`
`+t.message,i,n,r),t[qj]=i,t[df]=null,t}function Xj(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Wj?t.slice(2):t;let i=$t(e);if(Array.isArray(e))i=e.map($t).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):$t(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Gj,`
  `)}`}var ct=hA(iA("Optional"),8);var fA=hA(iA("SkipSelf"),4);function Rs(t,e){let n=t.hasOwnProperty(uf);return n?t[uf]:null}function Jj(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function eU(t){return t.flat(Number.POSITIVE_INFINITY)}function m_(t,e){t.forEach(n=>Array.isArray(n)?m_(n,e):e(n))}function pA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tU(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function nU(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function y_(t,e,n){let r=Ml(t,e);return r>=0?t[r|1]=n:(r=~r,nU(t,r,e,n)),r}function ev(t,e){let n=Ml(t,e);if(n>=0)return t[n|1]}function Ml(t,e){return rU(t,e,1)}function rU(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var sa={},Bt=[],oa=new j(""),gA=new j("",-1),mA=new j(""),ff=class{get(e,n=_l){if(n===_l){let r=new Error(`NullInjectorError: No provider for ${$t(e)}!`);throw r.name="NullInjectorError",r}return n}},yA=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yA||{}),rr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rr||{}),aa=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(aa||{});function iU(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function wv(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];sU(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function vA(t){return t===3||t===4||t===6}function sU(t){return t.charCodeAt(0)===64}function wl(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?yS(t,n,i,null,e[++r]):yS(t,n,i,null,null))}}return t}function yS(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var _A="ng-template";function oU(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&iU(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(v_(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function v_(t){return t.type===4&&t.value!==_A}function aU(t,e,n){let r=t.type===4&&!n?_A:t.value;return e===r}function cU(t,e,n){let r=4,i=t.attrs,s=i!==null?dU(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!On(r)&&!On(c))return!1;if(o&&On(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!aU(t,c,n)||c===""&&e.length===1){if(On(r))return!1;o=!0}}else if(r&8){if(i===null||!oU(t,i,c,n)){if(On(r))return!1;o=!0}}else{let u=e[++a],d=lU(c,i,v_(t),n);if(d===-1){if(On(r))return!1;o=!0;continue}if(u!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(On(r))return!1;o=!0}}}}return On(r)||o}function On(t){return(t&1)===0}function lU(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return hU(e,t)}function wA(t,e,n=!1){for(let r=0;r<e.length;r++)if(cU(t,e[r],n))return!0;return!1}function uU(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function dU(t){for(let e=0;e<t.length;e++){let n=t[e];if(vA(n))return e}return t.length}function hU(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function fU(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function vS(t,e){return t?":not("+e.trim()+")":e}function pU(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!On(o)&&(e+=vS(s,i),i=""),r=o,s=s||!On(r);n++}return i!==""&&(e+=vS(s,i)),e}function gU(t){return t.map(pU).join(",")}function mU(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!On(i))break;i=s}r++}return{attrs:e,classes:n}}function cr(t){return Rl(()=>{let e=TA(t),n=pe(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yA.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rr.Emulated,styles:t.styles||Bt,_:null,schemas:t.schemas||null,tView:null,id:""});SA(n);let r=t.dependencies;return n.directiveDefs=wS(r,!1),n.pipeDefs=wS(r,!0),n.id=_U(n),n})}function yU(t){return Pr(t)||EA(t)}function vU(t){return t!==null}function Ee(t){return Rl(()=>({type:t.type,bootstrap:t.bootstrap||Bt,declarations:t.declarations||Bt,imports:t.imports||Bt,exports:t.exports||Bt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _S(t,e){if(t==null)return sa;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=aa.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==aa.None?[r,a]:r,e[s]=o):n[s]=r}return n}function De(t){return Rl(()=>{let e=TA(t);return SA(e),e})}function IA(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Pr(t){return t[Vj]||null}function EA(t){return t[jj]||null}function bA(t){return t[Uj]||null}function DA(t){let e=Pr(t)||EA(t)||bA(t);return e!==null?e.standalone:!1}function CA(t,e){let n=t[Bj]||null;if(!n&&e===!0)throw new Error(`Type ${$t(t)} does not have '\u0275mod' property.`);return n}function TA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||sa,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Bt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_S(t.inputs,e),outputs:_S(t.outputs),debugInfo:null}}function SA(t){t.features?.forEach(e=>e(t))}function wS(t,e){if(!t)return null;let n=e?bA:yU;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(vU)}function _U(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function on(t){return{\u0275providers:t}}function wU(...t){return{\u0275providers:AA(!0,t),\u0275fromNgModule:!0}}function AA(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return m_(e,o=>{let a=o;Iv(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&RA(i,s),n}function RA(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];__(i,s=>{e(s,r)})}}function Iv(t,e,n,r){if(t=Ut(t),!t)return!1;let i=null,s=fS(t),o=!s&&Pr(t);if(!s&&!o){let c=t.ngModule;if(s=fS(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Iv(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{m_(s.imports,d=>{Iv(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&RA(u,e)}if(!a){let u=Rs(i)||(()=>new i);e({provide:i,useFactory:u,deps:Bt},i),e({provide:mA,useValue:i,multi:!0},i),e({provide:oa,useValue:()=>R(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;__(c,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function __(t,e){for(let n of t)lA(n)&&(n=n.\u0275providers),Array.isArray(n)?__(n,e):e(n)}var IU=je({provide:String,useValue:je});function xA(t){return t!==null&&typeof t=="object"&&IU in t}function EU(t){return!!(t&&t.useExisting)}function bU(t){return!!(t&&t.useFactory)}function ca(t){return typeof t=="function"}function DU(t){return!!t.useClass}var jf=new j(""),nf={},CU={},tv;function Uf(){return tv===void 0&&(tv=new ff),tv}var ht=class{},Il=class extends ht{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bv(e,o=>this.processProvider(o)),this.records.set(gA,ea(void 0,this)),i.has("environment")&&this.records.set(ht,ea(void 0,this));let s=this.records.get(jf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mA,Bt,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ei(this),r=Zt(void 0),i;try{return e()}finally{Ei(n),Zt(r)}}get(e,n=_l,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gS))return e[gS](this);r=Vf(r);let i,s=Ei(this),o=Zt(void 0);try{if(!(r&ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=xU(e)&&Lf(e);u&&this.injectableDefInScope(u)?c=ea(Ev(e),nf):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ve.Self?Uf():this.parent;return n=r&ve.Optional&&n===_l?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[df]=a[df]||[]).unshift($t(e)),s)throw a;return Zj(a,e,"R3InjectorError",this.source)}else throw a}finally{Zt(o),Ei(s)}}resolveInjectorInitializers(){let e=ye(null),n=Ei(this),r=Zt(void 0),i;try{let s=this.get(oa,Bt,ve.Self);for(let o of s)o()}finally{Ei(n),Zt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push($t(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(e){e=Ut(e);let n=ca(e)?e:Ut(e&&e.provide),r=SU(e);if(!ca(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ea(void 0,nf,!0),i.factory=()=>_v(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===nf&&(n.value=CU,n.value=n.factory()),typeof n.value=="object"&&n.value&&RU(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ut(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ev(t){let e=Lf(t),n=e!==null?e.factory:Rs(t);if(n!==null)return n;if(t instanceof j)throw new Y(204,!1);if(t instanceof Function)return TU(t);throw new Y(204,!1)}function TU(t){if(t.length>0)throw new Y(204,!1);let n=Fj(t);return n!==null?()=>n.factory(t):()=>new t}function SU(t){if(xA(t))return ea(void 0,t.useValue);{let e=MA(t);return ea(e,nf)}}function MA(t,e,n){let r;if(ca(t)){let i=Ut(t);return Rs(i)||Ev(i)}else if(xA(t))r=()=>Ut(t.useValue);else if(bU(t))r=()=>t.useFactory(..._v(t.deps||[]));else if(EU(t))r=()=>R(Ut(t.useExisting));else{let i=Ut(t&&(t.useClass||t.provide));if(AU(t))r=()=>new i(..._v(t.deps));else return Rs(i)||Ev(i)}return r}function ea(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function AU(t){return!!t.deps}function RU(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function xU(t){return typeof t=="function"||typeof t=="object"&&t instanceof j}function bv(t,e){for(let n of t)Array.isArray(n)?bv(n,e):n&&lA(n)?bv(n.\u0275providers,e):e(n)}function Xt(t,e){t instanceof Il&&t.assertNotDestroyed();let n,r=Ei(t),i=Zt(void 0);try{return e()}finally{Ei(r),Zt(i)}}function NA(){return uA()!==void 0||Kj()!=null}function w_(t){if(!NA())throw new Y(-203,!1)}function MU(t){return typeof t=="function"}var lr=0,de=1,oe=2,xt=3,Fn=4,Jt=5,la=6,El=7,At=8,ua=9,ir=10,We=11,bl=12,IS=13,ya=14,sn=15,xs=16,ta=17,Or=18,Bf=19,PA=20,bi=21,rf=22,Ms=23,wt=25,I_=1;var Ns=7,pf=8,da=9,Rt=10,gf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gf||{});function Di(t){return Array.isArray(t)&&typeof t[I_]=="object"}function Lr(t){return Array.isArray(t)&&t[I_]===!0}function E_(t){return(t.flags&4)!==0}function $f(t){return t.componentOffset>-1}function Hf(t){return(t.flags&1)===1}function kr(t){return!!t.template}function Dv(t){return(t[oe]&512)!==0}var Cv=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function OA(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ht(){return kA}function kA(t){return t.type.prototype.ngOnChanges&&(t.setInput=PU),NU}Ht.ngInherit=!0;function NU(){let t=LA(this),e=t?.current;if(e){let n=t.previous;if(n===sa)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function PU(t,e,n,r,i){let s=this.declaredInputs[r],o=LA(t)||OU(t,{previous:sa,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Cv(u&&u.currentValue,n,c===sa),OA(t,e,i,n)}var FA="__ngSimpleChanges__";function LA(t){return t[FA]||null}function OU(t,e){return t[FA]=e}var ES=null;var tr=function(t,e,n){ES?.(t,e,n)},VA="svg",kU="math";function sr(t){for(;Array.isArray(t);)t=t[lr];return t}function FU(t){for(;Array.isArray(t);){if(typeof t[I_]=="object")return t;t=t[lr]}return null}function jA(t,e){return sr(e[t])}function wn(t,e){return sr(e[t.index])}function b_(t,e){return t.data[e]}function UA(t,e){return t[e]}function Ai(t,e){let n=e[t];return Di(n)?n:n[lr]}function LU(t){return(t[oe]&4)===4}function D_(t){return(t[oe]&128)===128}function VU(t){return Lr(t[xt])}function Ci(t,e){return e==null?null:t[e]}function BA(t){t[ta]=0}function jU(t){t[oe]&1024||(t[oe]|=1024,D_(t)&&zf(t))}function UU(t,e){for(;t>0;)e=e[ya],t--;return e}function Dl(t){return!!(t[oe]&9216||t[Ms]?.dirty)}function Tv(t){t[ir].changeDetectionScheduler?.notify(7),t[oe]&64&&(t[oe]|=1024),Dl(t)&&zf(t)}function zf(t){t[ir].changeDetectionScheduler?.notify(0);let e=Cl(t);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!D_(e)));)e=Cl(e)}function $A(t,e){if((t[oe]&256)===256)throw new Y(911,!1);t[bi]===null&&(t[bi]=[]),t[bi].push(e)}function BU(t,e){if(t[bi]===null)return;let n=t[bi].indexOf(e);n!==-1&&t[bi].splice(n,1)}function Cl(t){let e=t[xt];return Lr(e)?e[xt]:e}var ge={lFrame:XA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var HA=!1;function $U(){return ge.lFrame.elementDepthCount}function HU(){ge.lFrame.elementDepthCount++}function zU(){ge.lFrame.elementDepthCount--}function zA(){return ge.bindingsEnabled}function qA(){return ge.skipHydrationRootTNode!==null}function qU(t){return ge.skipHydrationRootTNode===t}function GU(){ge.skipHydrationRootTNode=null}function he(){return ge.lFrame.lView}function ze(){return ge.lFrame.tView}function C_(t){return ge.lFrame.contextLView=t,t[At]}function T_(t){return ge.lFrame.contextLView=null,t}function ft(){let t=GA();for(;t!==null&&t.type===64;)t=t.parent;return t}function GA(){return ge.lFrame.currentTNode}function WU(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function js(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function S_(){return ge.lFrame.isParent}function A_(){ge.lFrame.isParent=!1}function KU(){return ge.lFrame.contextLView}function WA(){return HA}function bS(t){HA=t}function KA(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function QU(t){return ge.lFrame.bindingIndex=t}function Ri(){return ge.lFrame.bindingIndex++}function QA(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function YU(){return ge.lFrame.inI18n}function ZU(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,Sv(e)}function XU(){return ge.lFrame.currentDirectiveIndex}function Sv(t){ge.lFrame.currentDirectiveIndex=t}function R_(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function x_(){return ge.lFrame.currentQueryIndex}function qf(t){ge.lFrame.currentQueryIndex=t}function JU(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function YA(t,e,n){if(n&ve.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=JU(s),i===null||(s=s[ya],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ge.lFrame=ZA();return r.currentTNode=e,r.lView=t,!0}function M_(t){let e=ZA(),n=t[de];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZA(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?XA(t):e}function XA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function JA(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eR=JA;function N_(){let t=JA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eB(t){return(ge.lFrame.contextLView=UU(t,ge.lFrame.contextLView))[At]}function xi(){return ge.lFrame.selectedIndex}function Ps(t){ge.lFrame.selectedIndex=t}function Nl(){let t=ge.lFrame;return b_(t.tView,t.selectedIndex)}function tR(){ge.lFrame.currentNamespace=VA}function nR(){tB()}function tB(){ge.lFrame.currentNamespace=null}function nB(){return ge.lFrame.currentNamespace}var rR=!0;function Gf(){return rR}function Wf(t){rR=t}function rB(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=kA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Kf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function sf(t,e,n){iR(t,e,3,n)}function of(t,e,n,r){(t[oe]&3)===n&&iR(t,e,n,r)}function nv(t,e){let n=t[oe];(n&3)===e&&(n&=16383,n+=1,t[oe]=n)}function iR(t,e,n,r){let i=r!==void 0?t[ta]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ta]+=65536),(a<s||s==-1)&&(iB(t,n,e,c),t[ta]=(t[ta]&4294901760)+c+2),c++}function DS(t,e){tr(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),tr(5,t,e)}}function iB(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[oe]>>14<t[ta]>>16&&(t[oe]&3)===e&&(t[oe]+=16384,DS(a,s)):DS(a,s)}var ia=-1,Os=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function sB(t){return t instanceof Os}function oB(t){return(t.flags&8)!==0}function aB(t){return(t.flags&16)!==0}function sR(t){return t!==ia}function mf(t){return t&32767}function cB(t){return t>>16}function yf(t,e){let n=cB(t),r=e;for(;n>0;)r=r[ya],n--;return r}var Av=!0;function vf(t){let e=Av;return Av=t,e}var lB=256,oR=lB-1,aR=5,uB=0,nr={};function dB(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vl)&&(r=n[vl]),r==null&&(r=n[vl]=uB++);let i=r&oR,s=1<<i;e.data[t+(i>>aR)]|=s}function _f(t,e){let n=cR(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,rv(r.data,t),rv(e,null),rv(r.blueprint,null));let i=P_(t,e),s=t.injectorIndex;if(sR(i)){let o=mf(i),a=yf(i,e),c=a[de].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function rv(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cR(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function P_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fR(i),r===null)return ia;if(n++,i=i[ya],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ia}function Rv(t,e,n){dB(t,e,n)}function hB(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(vA(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function lR(t,e,n){if(n&ve.Optional||t!==void 0)return t;g_(e,"NodeInjector")}function uR(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[ua],s=Zt(void 0);try{return i?i.get(e,r,n&ve.Optional):dA(e,r,n&ve.Optional)}finally{Zt(s)}}return lR(r,e,n)}function dR(t,e,n,r=ve.Default,i){if(t!==null){if(e[oe]&2048&&!(r&ve.Self)){let o=mB(t,e,n,r,nr);if(o!==nr)return o}let s=hR(t,e,n,r,nr);if(s!==nr)return s}return uR(e,n,r,i)}function hR(t,e,n,r,i){let s=pB(n);if(typeof s=="function"){if(!YA(e,t,r))return r&ve.Host?lR(i,n,r):uR(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ve.Optional))g_(n);else return o}finally{eR()}}else if(typeof s=="number"){let o=null,a=cR(t,e),c=ia,u=r&ve.Host?e[sn][Jt]:null;for((a===-1||r&ve.SkipSelf)&&(c=a===-1?P_(t,e):e[a+8],c===ia||!TS(r,!1)?a=-1:(o=e[de],a=mf(c),e=yf(c,e)));a!==-1;){let d=e[de];if(CS(s,a,d.data)){let f=fB(a,e,n,o,r,u);if(f!==nr)return f}c=e[a+8],c!==ia&&TS(r,e[de].data[a+8]===u)&&CS(s,a,e)?(o=d,a=mf(c),e=yf(c,e)):a=-1}}return i}function fB(t,e,n,r,i,s){let o=e[de],a=o.data[t+8],c=r==null?$f(a)&&Av:r!=o&&(a.type&3)!==0,u=i&ve.Host&&s===a,d=af(a,o,n,c,u);return d!==null?ks(e,o,d,a):nr}function af(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,d=s>>20,f=r?a:a+d,g=i?a+d:u;for(let y=f;y<g;y++){let w=o[y];if(y<c&&n===w||y>=c&&w.type===n)return y}if(i){let y=o[c];if(y&&kr(y)&&y.type===n)return c}return null}function ks(t,e,n,r){let i=t[n],s=e.data;if(sB(i)){let o=i;o.resolving&&Hj($j(s[n]));let a=vf(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Zt(o.injectImpl):null,d=YA(t,r,ve.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&rB(n,s[n],e)}finally{u!==null&&Zt(u),vf(a),o.resolving=!1,eR()}}return i}function pB(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vl)?t[vl]:void 0;return typeof e=="number"?e>=0?e&oR:gB:e}function CS(t,e,n){let r=1<<t;return!!(n[e+(t>>aR)]&r)}function TS(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var As=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dR(this._tNode,this._lView,e,Vf(r),n)}};function gB(){return new As(ft(),he())}function Vn(t){return Rl(()=>{let e=t.prototype.constructor,n=e[uf]||xv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[uf]||xv(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function xv(t){return sA(t)?()=>{let e=xv(Ut(t));return e&&e()}:Rs(t)}function mB(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[oe]&2048&&!(o[oe]&512);){let a=hR(s,o,n,r|ve.Self,nr);if(a!==nr)return a;let c=s.parent;if(!c){let u=o[PA];if(u){let d=u.get(n,nr,r);if(d!==nr)return d}c=fR(o),o=o[ya]}s=c}return i}function fR(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function O_(t){return hB(ft(),t)}function SS(t,e=null,n=null,r){let i=pR(t,e,n,r);return i.resolveInjectorInitializers(),i}function pR(t,e=null,n=null,r,i=new Set){let s=[n||Bt,wU(t)];return r=r||(typeof t=="object"?void 0:$t(t)),new Il(s,e||Uf(),r||null,i)}var Ts=class Ts{static create(e,n){if(Array.isArray(e))return SS({name:""},n,e,"");{let r=e.name??"";return SS({name:r},e.parent,e.providers,r)}}};Ts.THROW_IF_NOT_FOUND=_l,Ts.NULL=new ff,Ts.\u0275prov=L({token:Ts,providedIn:"any",factory:()=>R(gA)}),Ts.__NG_ELEMENT_ID__=-1;var Ce=Ts;var yB=new j("");yB.__NG_ELEMENT_ID__=t=>{let e=ft();if(e===null)throw new Y(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new Y(204,!1)};var vB="ngOriginalError";function iv(t){return t[vB]}var vn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&iv(e);for(;n&&iv(n);)n=iv(n);return n||null}},gR=new j("",{providedIn:"root",factory:()=>O(vn).handleError.bind(void 0)}),va=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_B,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Mv=class extends va{constructor(e){super(),this._lView=e}onDestroy(e){return $A(this._lView,e),()=>BU(this._lView,e)}};function _B(){return new Mv(he())}var Nv=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=O(vn,{optional:!0}),this.destroyRef=O(va),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Y(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new Y(953,!1);if(this.listeners===null)return;let n=ye(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ye(n)}}};function k_(t){return new Nv}function AS(t,e){return rA(t,e)}function wB(t){return rA(nA,t)}var Uie=(AS.required=wB,AS);function IB(){return _a(ft(),he())}function _a(t,e){return new Te(wn(t,e))}var Te=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=IB;let t=e;return t})();function mR(t){return t instanceof Te?t.nativeElement:t}var Pv=class extends te{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,NA()&&(this.destroyRef=O(va,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=sv(s),i&&(i=sv(i)),o&&(o=sv(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}};function sv(t){return e=>{setTimeout(t,void 0,e)}}var Ae=Pv;function EB(){return this._results[Symbol.iterator]()}var wf=class t{get changes(){return this._changes??=new Ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=EB)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=eU(e);(this._changesDetected=!Jj(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function yR(t){return(t.flags&128)===128}var vR=new Map,bB=0;function DB(){return bB++}function CB(t){vR.set(t[Bf],t)}function TB(t){vR.delete(t[Bf])}var RS="__ngContext__";function Ti(t,e){Di(e)?(t[RS]=e[Bf],CB(e)):t[RS]=e}function _R(t){return IR(t[bl])}function wR(t){return IR(t[Fn])}function IR(t){for(;t!==null&&!Lr(t);)t=t[Fn];return t}var Ov;function ER(t){Ov=t}function bR(){if(Ov!==void 0)return Ov;if(typeof document<"u")return document;throw new Y(210,!1)}var Pl=new j("",{providedIn:"root",factory:()=>SB}),SB="ng",F_=new j(""),en=new j("",{providedIn:"platform",factory:()=>"unknown"});var Mi=new j(""),Ol=new j("",{providedIn:"root",factory:()=>bR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var AB="h",RB="b";var xB=()=>null;function L_(t,e,n=!1){return xB(t,e,n)}var DR=!1,MB=new j("",{providedIn:"root",factory:()=>DR});var Zh;function NB(){if(Zh===void 0&&(Zh=null,dt.trustedTypes))try{Zh=dt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Zh}function Qf(t){return NB()?.createHTML(t)||t}var Xh;function CR(){if(Xh===void 0&&(Xh=null,dt.trustedTypes))try{Xh=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Xh}function xS(t){return CR()?.createHTML(t)||t}function MS(t){return CR()?.createScriptURL(t)||t}var If=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tA})`}};function Us(t){return t instanceof If?t.changingThisBreaksApplicationSecurity:t}function Yf(t,e){let n=PB(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tA})`)}return n===e}function PB(t){return t instanceof If&&t.getTypeName()||null}function OB(t){let e=new Fv(t);return kB()?new kv(e):e}var kv=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Qf(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Fv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Qf(e),n}};function kB(){try{return!!new window.DOMParser().parseFromString(Qf(""),"text/html")}catch{return!1}}var FB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function V_(t){return t=String(t),t.match(FB)?t:"unsafe:"+t}function Vr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function kl(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var TR=Vr("area,br,col,hr,img,wbr"),SR=Vr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AR=Vr("rp,rt"),LB=kl(AR,SR),VB=kl(SR,Vr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jB=kl(AR,Vr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),NS=kl(TR,VB,jB,LB),RR=Vr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),UB=Vr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),BB=Vr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),$B=kl(RR,UB,BB),HB=Vr("script,style,template"),Lv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=GB(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=qB(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=PS(e).toLowerCase();if(!NS.hasOwnProperty(n))return this.sanitizedSomething=!0,!HB.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!$B.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;RR[a]&&(c=V_(c)),this.buf.push(" ",o,'="',OS(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=PS(e).toLowerCase();NS.hasOwnProperty(n)&&!TR.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(OS(e))}};function zB(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function qB(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw xR(e);return e}function GB(t){let e=t.firstChild;if(e&&zB(t,e))throw xR(e);return e}function PS(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function xR(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var WB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KB=/([^\#-~ |!])/g;function OS(t){return t.replace(/&/g,"&amp;").replace(WB,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(KB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Jh;function MR(t,e){let n=null;try{Jh=Jh||OB(t);let r=e?String(e):"";n=Jh.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Jh.getInertBodyElement(r)}while(r!==s);let a=new Lv().sanitizeChildren(kS(n)||n);return Qf(a)}finally{if(n){let r=kS(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function kS(t){return"content"in t&&QB(t)?t.content:null}function QB(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Fl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Fl||{});function NR(t){let e=j_();return e?xS(e.sanitize(Fl.HTML,t)||""):Yf(t,"HTML")?xS(Us(t)):MR(bR(),xl(t))}function YB(t){let e=j_();return e?e.sanitize(Fl.URL,t)||"":Yf(t,"URL")?Us(t):V_(xl(t))}function ZB(t){let e=j_();if(e)return MS(e.sanitize(Fl.RESOURCE_URL,t)||"");if(Yf(t,"ResourceURL"))return MS(Us(t));throw new Y(904,!1)}function XB(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?ZB:YB}function PR(t,e,n){return XB(e,n)(t)}function j_(){let t=he();return t&&t[ir].sanitizer}var JB=/^>|^->|<!--|-->|--!>|<!-$/g,e2=/(<|>)/g,t2="\u200B$1\u200B";function n2(t){return t.replace(JB,e=>e.replace(e2,t2))}function OR(t){return t instanceof Function?t():t}function kR(t){return(t??O(Ce)).get(en)==="browser"}var Fr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Fr||{}),r2;function U_(t,e){return r2(t,e)}function na(t,e,n,r,i){if(r!=null){let s,o=!1;Lr(r)?s=r:Di(r)&&(o=!0,r=r[lr]);let a=sr(r);t===0&&n!==null?i==null?UR(e,n,a):Ef(e,n,a,i||null,!0):t===1&&n!==null?Ef(e,n,a,i||null,!0):t===2?v2(e,a,o):t===3&&e.destroyNode(a),s!=null&&w2(e,t,s,n,i)}}function i2(t,e){return t.createText(e)}function s2(t,e,n){t.setValue(e,n)}function o2(t,e){return t.createComment(n2(e))}function FR(t,e,n){return t.createElement(e,n)}function a2(t,e){LR(t,e),e[lr]=null,e[Jt]=null}function c2(t,e,n,r,i,s){r[lr]=i,r[Jt]=e,Jf(t,r,n,1,i,s)}function LR(t,e){e[ir].changeDetectionScheduler?.notify(8),Jf(t,e,e[We],2,null,null)}function l2(t){let e=t[bl];if(!e)return ov(t[de],t);for(;e;){let n=null;if(Di(e))n=e[bl];else{let r=e[Rt];r&&(n=r)}if(!n){for(;e&&!e[Fn]&&e!==t;)Di(e)&&ov(e[de],e),e=e[xt];e===null&&(e=t),Di(e)&&ov(e[de],e),n=e&&e[Fn]}e=n}}function u2(t,e,n,r){let i=Rt+r,s=n.length;r>0&&(n[i-1][Fn]=e),r<s-Rt?(e[Fn]=n[i],pA(n,Rt+r,e)):(n.push(e),e[Fn]=null),e[xt]=n;let o=e[xs];o!==null&&n!==o&&VR(o,e);let a=e[Or];a!==null&&a.insertView(t),Tv(e),e[oe]|=128}function VR(t,e){let n=t[da],r=e[xt];if(Di(r))t[oe]|=gf.HasTransplantedViews;else{let i=r[xt][sn];e[sn]!==i&&(t[oe]|=gf.HasTransplantedViews)}n===null?t[da]=[e]:n.push(e)}function B_(t,e){let n=t[da],r=n.indexOf(e);n.splice(r,1)}function Tl(t,e){if(t.length<=Rt)return;let n=Rt+e,r=t[n];if(r){let i=r[xs];i!==null&&i!==t&&B_(i,r),e>0&&(t[n-1][Fn]=r[Fn]);let s=hf(t,Rt+e);a2(r[de],r);let o=s[Or];o!==null&&o.detachView(s[de]),r[xt]=null,r[Fn]=null,r[oe]&=-129}return r}function Zf(t,e){if(!(e[oe]&256)){let n=e[We];n.destroyNode&&Jf(t,e,n,3,null,null),l2(e)}}function ov(t,e){if(e[oe]&256)return;let n=ye(null);try{e[oe]&=-129,e[oe]|=256,e[Ms]&&Vy(e[Ms]),h2(t,e),d2(t,e),e[de].type===1&&e[We].destroy();let r=e[xs];if(r!==null&&Lr(e[xt])){r!==e[xt]&&B_(r,e);let i=e[Or];i!==null&&i.detachView(t)}TB(e)}finally{ye(n)}}function d2(t,e){let n=t.cleanup,r=e[El];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[El]=null);let i=e[bi];if(i!==null){e[bi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function h2(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Os)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];tr(4,a,c);try{c.call(a)}finally{tr(5,a,c)}}else{tr(4,i,s);try{s.call(i)}finally{tr(5,i,s)}}}}}function jR(t,e,n){return f2(t,e.parent,n)}function f2(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[lr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===rr.None||s===rr.Emulated)return null}return wn(r,n)}}function Ef(t,e,n,r,i){t.insertBefore(e,n,r,i)}function UR(t,e,n){t.appendChild(e,n)}function FS(t,e,n,r,i){r!==null?Ef(t,e,n,r,i):UR(t,e,n)}function p2(t,e,n,r){t.removeChild(e,n,r)}function $_(t,e){return t.parentNode(e)}function g2(t,e){return t.nextSibling(e)}function BR(t,e,n){return y2(t,e,n)}function m2(t,e,n){return t.type&40?wn(t,n):null}var y2=m2,LS;function Xf(t,e,n,r){let i=jR(t,r,e),s=e[We],o=r.parent||e[Jt],a=BR(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)FS(s,i,n[c],a,!1);else FS(s,i,n,a,!1);LS!==void 0&&LS(s,r,e,n,i)}function cf(t,e){if(e!==null){let n=e.type;if(n&3)return wn(e,t);if(n&4)return Vv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return cf(t,r);{let i=t[e.index];return Lr(i)?Vv(-1,i):sr(i)}}else{if(n&32)return U_(e,t)()||sr(t[e.index]);{let r=$R(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Cl(t[sn]);return cf(i,r)}else return cf(t,e.next)}}}return null}function $R(t,e){if(e!==null){let r=t[sn][Jt],i=e.projection;return r.projection[i]}return null}function Vv(t,e){let n=Rt+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return cf(r,i)}return e[Ns]}function v2(t,e,n){let r=$_(t,e);r&&p2(t,r,e,n)}function H_(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Ti(sr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)H_(t,e,n.child,r,i,s,!1),na(e,t,i,a,s);else if(c&32){let u=U_(n,r),d;for(;d=u();)na(e,t,i,d,s);na(e,t,i,a,s)}else c&16?HR(t,e,r,n,i,s):na(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Jf(t,e,n,r,i,s){H_(n,r,t.firstChild,e,i,s,!1)}function _2(t,e,n){let r=e[We],i=jR(t,n,e),s=n.parent||e[Jt],o=BR(s,n,e);HR(r,0,e,n,i,o)}function HR(t,e,n,r,i,s){let o=n[sn],c=o[Jt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];na(e,t,i,d,s)}else{let u=c,d=o[xt];yR(r)&&(u.flags|=128),H_(t,e,u,d,i,s,!0)}}function w2(t,e,n,r,i){let s=n[Ns],o=sr(n);s!==o&&na(e,t,r,s,i);for(let a=Rt;a<n.length;a++){let c=n[a];Jf(c[de],c,t,e,r,s)}}function I2(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Fr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Fr.Important),t.setStyle(n,r,i,s))}}function E2(t,e,n){t.setAttribute(e,"style",n)}function zR(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qR(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&wv(t,e,r),i!==null&&zR(t,e,i),s!==null&&E2(t,e,s)}var ur={};function jn(t=1){GR(ze(),he(),xi()+t,!1)}function GR(t,e,n,r){if(!r)if((e[oe]&3)===3){let s=t.preOrderCheckHooks;s!==null&&sf(e,s,n)}else{let s=t.preOrderHooks;s!==null&&of(e,s,0,n)}Ps(n)}function U(t,e=ve.Default){let n=he();if(n===null)return R(t,e);let r=ft();return dR(r,n,Ut(t),e)}function WR(){let t="invalid";throw new Error(t)}function KR(t,e,n,r,i,s){let o=ye(null);try{let a=null;i&aa.SignalBased&&(a=e[r][mn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&aa.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):OA(e,a,r,s)}finally{ye(o)}}function b2(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ps(~i);else{let s=i,o=n[++r],a=n[++r];ZU(o,s);let c=e[s];a(2,c)}}}finally{Ps(-1)}}function ep(t,e,n,r,i,s,o,a,c,u,d){let f=e.blueprint.slice();return f[lr]=i,f[oe]=r|4|128|8|64,(u!==null||t&&t[oe]&2048)&&(f[oe]|=2048),BA(f),f[xt]=f[ya]=t,f[At]=n,f[ir]=o||t&&t[ir],f[We]=a||t&&t[We],f[ua]=c||t&&t[ua]||null,f[Jt]=s,f[Bf]=DB(),f[la]=d,f[PA]=u,f[sn]=e.type==2?t[sn]:f,f}function wa(t,e,n,r,i){let s=t.data[e];if(s===null)s=D2(t,e,n,r,i),YU()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=WU();s.injectorIndex=o===null?-1:o.injectorIndex}return js(s,!0),s}function D2(t,e,n,r,i){let s=GA(),o=S_(),a=o?s:s&&s.parent,c=t.data[e]=x2(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function QR(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function YR(t,e,n,r,i){let s=xi(),o=r&2;try{Ps(-1),o&&e.length>wt&&GR(t,e,wt,!1),tr(o?2:0,i),n(r,i)}finally{Ps(s),tr(o?3:1,i)}}function z_(t,e,n){if(E_(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ye(r)}}}function q_(t,e,n){zA()&&(F2(t,e,n,wn(n,e)),(n.flags&64)===64&&JR(t,e,n))}function G_(t,e,n=wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ZR(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=W_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function W_(t,e,n,r,i,s,o,a,c,u,d){let f=wt+r,g=f+i,y=C2(f,g),w=typeof u=="function"?u():u;return y[de]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:w,incompleteFirstPass:!1,ssrId:d}}function C2(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ur);return n}function T2(t,e,n,r){let s=r.get(MB,DR)||n===rr.ShadowDom,o=t.selectRootElement(e,s);return S2(o),o}function S2(t){A2(t)}var A2=()=>null;function R2(t,e,n,r){let i=nx(e);i.push(n),t.firstCreatePass&&rx(t).push(r,i.length-1)}function x2(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return qA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function VS(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=aa.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?jS(r,n,u,a,c):jS(r,n,u,a)}return r}function jS(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function M2(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let f=s[d],g=n?n.get(f):null,y=g?g.inputs:null,w=g?g.outputs:null;c=VS(0,f.inputs,d,c,y),u=VS(1,f.outputs,d,u,w);let A=c!==null&&o!==null&&!v_(e)?W2(c,d,o):null;a.push(A)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function N2(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function tp(t,e,n,r,i,s,o,a){let c=wn(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(Q_(t,n,d,r,i),$f(e)&&P2(n,e.index)):e.type&3?(r=N2(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function P2(t,e){let n=Ai(e,t);n[oe]&16||(n[oe]|=64)}function K_(t,e,n,r){if(zA()){let i=r===null?null:{"":-1},s=V2(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&XR(t,e,n,o,i,a),i&&j2(n,r,i)}n.mergedAttrs=wl(n.mergedAttrs,n.attrs)}function XR(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Rv(_f(n,e),t,r[u].type);B2(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=QR(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=wl(n.mergedAttrs,d.hostAttrs),$2(t,n,e,c,d),U2(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}M2(t,n,s)}function O2(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;k2(o)!=a&&o.push(a),o.push(n,r,s)}}function k2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function F2(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;$f(n)&&H2(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||_f(n,e),Ti(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=ks(e,t,a,n);if(Ti(u,e),o!==null&&G2(e,a-i,u,c,n,o),kr(c)){let d=Ai(n.index,e);d[At]=ks(e,t,a,n)}}}function JR(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=XU();try{Ps(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Sv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&L2(c,u)}}finally{Ps(-1),Sv(o)}}function L2(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function V2(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(wA(e,o.selectors,!1))if(r||(r=[]),kr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;jv(t,e,c)}else r.unshift(o),jv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function jv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function j2(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Y(-301,!1);r.push(e[i],s)}}}function U2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kr(e)&&(n[""]=t)}}function B2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $2(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Rs(i.type,!0)),o=new Os(s,kr(i),U);t.blueprint[r]=o,n[r]=o,O2(t,e,r,QR(t,n,i.hostVars,ur),i)}function H2(t,e,n){let r=wn(e,t),i=ZR(n),s=t[ir].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=np(t,ep(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function z2(t,e,n,r,i,s){let o=wn(t,e);q2(e[We],o,s,t.value,n,r,i)}function q2(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?xl(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function G2(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],d=o[a++],f=o[a++];KR(r,n,c,u,d,f)}}function W2(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function ex(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function tx(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];qf(s),a.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function np(t,e){return t[bl]?t[IS][Fn]=e:t[bl]=e,t[IS]=e,e}function Uv(t,e,n){qf(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function nx(t){return t[El]||(t[El]=[])}function rx(t){return t.cleanup||(t.cleanup=[])}function ix(t,e,n){return(t===null||kr(t))&&(n=FU(n[e.index])),n[We]}function sx(t,e){let n=t[ua],r=n?n.get(vn,null):null;r&&r.handleError(e)}function Q_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],d=t.data[o];KR(d,u,r,a,c,i)}}function K2(t,e,n){let r=jA(e,t);s2(t[We],r,n)}function Q2(t,e){let n=Ai(e,t),r=n[de];Y2(r,n);let i=n[lr];i!==null&&n[la]===null&&(n[la]=L_(i,n[ua])),Y_(r,n,n[At])}function Y2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Y_(t,e,n){M_(e);try{let r=t.viewQuery;r!==null&&Uv(1,r,n);let i=t.template;i!==null&&YR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Or]?.finishViewCreation(t),t.staticContentQueries&&tx(t,e),t.staticViewQueries&&Uv(2,t.viewQuery,n);let s=t.components;s!==null&&Z2(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,N_()}}function Z2(t,e){for(let n=0;n<e.length;n++)Q2(t,e[n])}function Ll(t,e,n,r){let i=ye(null);try{let s=e.tView,a=t[oe]&4096?4096:16,c=ep(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[xs]=u;let d=t[Or];return d!==null&&(c[Or]=d.createEmbeddedView(s)),Y_(s,c,n),c}finally{ye(i)}}function ox(t,e){let n=Rt+e;if(n<t.length)return t[n]}function ha(t,e){return!e||e.firstChild===null||yR(t)}function Vl(t,e,n,r=!0){let i=e[de];if(u2(i,e,t,n),r){let o=Vv(n,t),a=e[We],c=$_(a,t[Ns]);c!==null&&c2(i,t[Jt],a,e,c,o)}let s=e[la];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function ax(t,e){let n=Tl(t,e);return n!==void 0&&Zf(n[de],n),n}function bf(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(sr(s)),Lr(s)&&X2(s,r);let o=n.type;if(o&8)bf(t,e,n.child,r);else if(o&32){let a=U_(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=$R(e,n);if(Array.isArray(a))r.push(...a);else{let c=Cl(e[sn]);bf(c[de],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function X2(t,e){for(let n=Rt;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&bf(r[de],r,i,e)}t[Ns]!==t[lr]&&e.push(t[Ns])}var cx=[];function J2(t){return t[Ms]??e$(t)}function e$(t){let e=cx.pop()??Object.create(n$);return e.lView=t,e}function t$(t){t.lView[Ms]!==t&&(t.lView=null,cx.push(t))}var n$=pe(F({},ll),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{zf(t.lView)},consumerOnSignalRead(){this.lView[Ms]=this}}),r$=100;function lx(t,e=!0,n=0){let r=t[ir],i=r.rendererFactory,s=!1;s||i.begin?.();try{i$(t,n)}catch(o){throw e&&sx(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function i$(t,e){let n=WA();try{bS(!0),Bv(t,e);let r=0;for(;Dl(t);){if(r===r$)throw new Y(103,!1);r++,Bv(t,1)}}finally{bS(n)}}function s$(t,e,n,r){let i=e[oe];if((i&256)===256)return;let s=!1,o=!1;!s&&e[ir].inlineEffectRunner?.flush(),M_(e);let a=null,c=null;!s&&o$(t)&&(c=J2(e),a=ph(c));try{BA(e),QU(t.bindingStartIndex),n!==null&&YR(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let g=t.preOrderCheckHooks;g!==null&&sf(e,g,null)}else{let g=t.preOrderHooks;g!==null&&of(e,g,0,null),nv(e,0)}if(o||a$(e),ux(e,0),t.contentQueries!==null&&tx(t,e),!s)if(u){let g=t.contentCheckHooks;g!==null&&sf(e,g)}else{let g=t.contentHooks;g!==null&&of(e,g,1),nv(e,1)}b2(t,e);let d=t.components;d!==null&&hx(e,d,0);let f=t.viewQuery;if(f!==null&&Uv(2,f,r),!s)if(u){let g=t.viewCheckHooks;g!==null&&sf(e,g)}else{let g=t.viewHooks;g!==null&&of(e,g,2),nv(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[rf]){for(let g of e[rf])g();e[rf]=null}s||(e[oe]&=-73)}catch(u){throw s||zf(e),u}finally{c!==null&&(gh(c,a),t$(c)),N_()}}function o$(t){return t.type!==2}function ux(t,e){for(let n=_R(t);n!==null;n=wR(n))for(let r=Rt;r<n.length;r++){let i=n[r];dx(i,e)}}function a$(t){for(let e=_R(t);e!==null;e=wR(e)){if(!(e[oe]&gf.HasTransplantedViews))continue;let n=e[da];for(let r=0;r<n.length;r++){let i=n[r];jU(i)}}}function c$(t,e,n){let r=Ai(e,t);dx(r,n)}function dx(t,e){D_(t)&&Bv(t,e)}function Bv(t,e){let r=t[de],i=t[oe],s=t[Ms],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&mh(s)),o||=!1,s&&(s.dirty=!1),t[oe]&=-9217,o)s$(r,t,r.template,t[At]);else if(i&8192){ux(t,1);let a=r.components;a!==null&&hx(t,a,1)}}function hx(t,e,n){for(let r=0;r<e.length;r++)c$(t,e[r],n)}function Z_(t,e){let n=WA()?64:1088;for(t[ir].changeDetectionScheduler?.notify(e);t;){t[oe]|=n;let r=Cl(t);if(Dv(t)&&!r)return t;t=r}return null}var Fs=class{get rootNodes(){let e=this._lView,n=e[de];return bf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(e){this._lView[At]=e}get destroyed(){return(this._lView[oe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(Lr(e)){let n=e[pf],r=n?n.indexOf(this):-1;r>-1&&(Tl(e,r),hf(n,r))}this._attachedToViewContainer=!1}Zf(this._lView[de],this._lView)}onDestroy(e){$A(this._lView,e)}markForCheck(){Z_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){Tv(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,lx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Dv(this._lView),n=this._lView[xs];n!==null&&!e&&B_(n,this._lView),LR(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=e;let n=Dv(this._lView),r=this._lView[xs];r!==null&&!n&&VR(r,this._lView),Tv(this._lView)}},Ln=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=d$;let t=e;return t})(),l$=Ln,u$=class extends l${constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ll(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Fs(i)}};function d$(){return rp(ft(),he())}function rp(t,e){return t.type&4?new u$(e,t,_a(t,e)):null}var $ie=new RegExp(`^(\\d+)*(${RB}|${AB})*(.*)`);var h$=()=>null;function fa(t,e){return h$(t,e)}var pa=class{},fx=new j("",{providedIn:"root",factory:()=>!1});var px=new j(""),$v=class{},Df=class{};function f$(t){let e=Error(`No component factory found for ${$t(t)}.`);return e[p$]=t,e}var p$="ngComponent";var Hv=class{resolveComponentFactory(e){throw f$(e)}},hw=class hw{};hw.NULL=new Hv;var or=hw,ga=class{},dr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>g$();let t=e;return t})();function g$(){let t=he(),e=ft(),n=Ai(e.index,t);return(Di(n)?n:t)[We]}var m$=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),av={};var US=new Set;function jr(t){US.has(t)||(US.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gx(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof dt.requestAnimationFrame=="function"&&dt.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function BS(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function $S(...t){}var K=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,_$(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,y$,$S,$S);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},y$={};function X_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function v$(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{gx(()=>{t.callbackScheduled=!1,zv(t),t.isCheckStableRunning=!0,X_(t),t.isCheckStableRunning=!1})}),zv(t))}function _$(t){let e=()=>{v$(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(w$(a))return n.invokeTask(i,s,o,a);try{return HS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zS(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return HS(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!I$(a)&&e(),zS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zv(t),X_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function HS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zS(t){t._nesting--,X_(t)}var qv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function w$(t){return mx(t,"__ignore_ng_zone__")}function I$(t){return mx(t,"__scheduler_tick__")}function mx(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Ss=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ss||{}),yx={destroy(){}};function J_(t,e){!e&&w_(J_);let n=e?.injector??O(Ce);if(!kR(n))return yx;jr("NgAfterRender");let r=n.get(ip),i=r.handler??=new Tf,s=e?.phase??Ss.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(va).onDestroy(o),c=Xt(n,()=>new Cf(s,t));return i.register(c),{destroy:o}}function Ni(t,e){!e&&w_(Ni);let n=e?.injector??O(Ce);if(!kR(n))return yx;jr("NgAfterNextRender");let r=n.get(ip),i=r.handler??=new Tf,s=e?.phase??Ss.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(va).onDestroy(o),c=Xt(n,()=>new Cf(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Cf=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=O(K),this.errorHandler=O(vn,{optional:!0}),O(pa,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Tf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Ss.EarlyRead]:new Set,[Ss.Write]:new Set,[Ss.MixedReadWrite]:new Set,[Ss.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},ip=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Sf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=mv(i,a);else if(s==2){let c=a,u=e[++o];r=mv(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Af=class extends or{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Pr(e);return new Ls(n,this.ngModule)}};function qS(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function E$(t){let e=t.toLowerCase();return e==="svg"?VA:e==="math"?kU:null}var Gv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vf(r);let i=this.injector.get(e,av,r);return i!==av||n===av?i:this.parentInjector.get(e,n,r)}},Ls=class extends Df{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qS(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=gU(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof ht?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Gv(e,o):e,c=a.get(ga,null);if(c===null)throw new Y(407,!1);let u=a.get(m$,null),d=a.get(ip,null),f=a.get(pa,null),g={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},y=c.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",A=r?T2(y,r,this.componentDef.encapsulation,a):FR(y,w,E$(w)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let k=null;A!==null&&(k=L_(A,a,!0));let B=W_(0,null,null,1,0,null,null,null,null,null,null),$=ep(null,B,null,S,null,null,g,y,a,null,k);M_($);let G,ie;try{let W=this.componentDef,b,_=null;W.findHostDirectiveDefs?(b=[],_=new Map,W.findHostDirectiveDefs(W,b,_),b.push(W)):b=[W];let I=b$($,A),D=D$(I,A,W,b,$,g,y);ie=b_(B,wt),A&&S$(y,W,A,r),n!==void 0&&A$(ie,this.ngContentSelectors,n),G=T$(D,W,b,_,$,[R$]),Y_(B,$,null)}finally{N_()}return new Wv(this.componentType,G,_a(ie,$),$,ie)}finally{ye(s)}}},Wv=class extends $v{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Fs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Q_(s[de],s,i,e,n),this.previousInputValues.set(e,n);let o=Ai(this._tNode.index,s);Z_(o,1)}}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function b$(t,e){let n=t[de],r=wt;return t[r]=e,wa(n,r,2,"#host",null)}function D$(t,e,n,r,i,s,o){let a=i[de];C$(r,t,e,o);let c=null;e!==null&&(c=L_(e,i[ua]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=ep(i,ZR(n),null,d,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&jv(a,t,r.length-1),np(i,f),i[t.index]=f}function C$(t,e,n,r){for(let i of t)e.mergedAttrs=wl(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sf(e,e.mergedAttrs,!0),n!==null&&qR(r,n,e))}function T$(t,e,n,r,i,s){let o=ft(),a=i[de],c=wn(o,i);XR(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,g=ks(i,a,f,o);Ti(g,i)}JR(a,i,o),c&&Ti(c,i);let u=ks(i,a,o.directiveStart+o.componentOffset,o);if(t[At]=i[At]=u,s!==null)for(let d of s)d(u,e);return z_(a,o,i),u}function S$(t,e,n,r){if(r)wv(t,n,["ng-version","18.0.1"]);else{let{attrs:i,classes:s}=mU(e.selectors[0]);i&&wv(t,n,i),s&&s.length>0&&zR(t,n,s.join(" "))}}function A$(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function R$(){let t=ft();Kf(he()[de],t)}var In=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=x$;let t=e;return t})();function x$(){let t=ft();return _x(t,he())}var M$=In,vx=class extends M${constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){let e=P_(this._hostTNode,this._hostLView);if(sR(e)){let n=yf(e,this._hostLView),r=mf(e),i=n[de].data[r+8];return new As(i,n)}else return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=GS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Rt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=fa(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,ha(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!MU(e),a;if(o)a=n;else{let w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}let c=o?e:new Ls(Pr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let A=(o?u:this.parentInjector).get(ht,null);A&&(s=A)}let d=Pr(c.componentType??{}),f=fa(this._lContainer,d?.id??null),g=f?.firstChild??null,y=c.create(u,i,g,s);return this.insertImpl(y.hostView,a,ha(this._hostTNode,f)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(VU(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xt],u=new vx(c,c[Jt],c[xt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Vl(o,i,s,r),e.attachToViewContainerRef(),pA(cv(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=GS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Tl(this._lContainer,n);r&&(hf(cv(this._lContainer),n),Zf(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=Tl(this._lContainer,n);return r&&hf(cv(this._lContainer),n)!=null?new Fs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function GS(t){return t[pf]}function cv(t){return t[pf]||(t[pf]=[])}function _x(t,e){let n,r=e[t.index];return Lr(r)?n=r:(n=ex(r,e,null,t),e[t.index]=n,np(e,n)),P$(n,e,t,r),new vx(n,t,e)}function N$(t,e){let n=t[We],r=n.createComment(""),i=wn(e,t),s=$_(n,i);return Ef(n,s,r,g2(n,i),!1),r}var P$=F$,O$=()=>!1;function k$(t,e,n){return O$(t,e,n)}function F$(t,e,n,r){if(t[Ns])return;let i;n.type&8?i=sr(r):i=N$(e,n),t[Ns]=i}var Kv=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Qv=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)tw(e,n).matches!==null&&this.queries[n].setDirty()}},Rf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=$$(e):this.predicate=e}},Yv=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Zv=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,L$(n,s)),this.matchTNodeWithReadOption(e,n,af(n,e,s,!1,!1))}else r===Ln?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,af(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Te||i===In||i===Ln&&n.type&4)this.addMatch(n.index,-2);else{let s=af(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function L$(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function V$(t,e){return t.type&11?_a(t,e):t.type&4?rp(t,e):null}function j$(t,e,n,r){return n===-1?V$(e,t):n===-2?U$(t,e,r):ks(t,t[de],n,e)}function U$(t,e,n){if(n===Te)return _a(e,t);if(n===Ln)return rp(e,t);if(n===In)return _x(e,t)}function wx(t,e,n,r){let i=e[Or].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let d=s[u];a.push(j$(e,d,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Xv(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=wx(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],d=e[-c];for(let f=Rt;f<d.length;f++){let g=d[f];g[xs]===g[xt]&&Xv(g[de],g,u,r)}if(d[da]!==null){let f=d[da];for(let g=0;g<f.length;g++){let y=f[g];Xv(y[de],y,u,r)}}}}}return r}function ew(t,e){return t[Or].queries[e].queryList}function Ix(t,e,n){let r=new wf((n&4)===4);return R2(t,e,r,r.destroy),(e[Or]??=new Qv).queries.push(new Kv(r))-1}function Ex(t,e,n){let r=ze();return r.firstCreatePass&&(bx(r,new Rf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Ix(r,he(),e)}function B$(t,e,n,r){let i=ze();if(i.firstCreatePass){let s=ft();bx(i,new Rf(e,n,r),s.index),H$(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Ix(i,he(),n)}function $$(t){return t.split(",").map(e=>e.trim())}function bx(t,e,n){t.queries===null&&(t.queries=new Yv),t.queries.track(new Zv(e,n))}function H$(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function tw(t,e){return t.queries.getByIndex(e)}function Dx(t,e){let n=t[de],r=tw(n,e);return r.crossesNgTemplate?Xv(n,t,e,[]):wx(n,t,r,e)}function Cx(t){return typeof t=="function"&&t[mn]!==void 0}function nw(t,e){jr("NgSignals");let n=PT(t),r=n[mn];return e?.equal&&(r.equal=e.equal),n.set=i=>vh(r,i),n.update=i=>OT(r,i),n.asReadonly=z$.bind(n),n}function z$(){let t=this[mn];if(t.readonlyFn===void 0){let e=()=>this();e[mn]=t,t.readonlyFn=e}return t.readonlyFn}function Tx(t){return Cx(t)&&typeof t.set=="function"}function Sx(t,e){let n,r=RT(()=>{n._dirtyCounter();let i=K$(n,t);if(e&&i===void 0)throw new Y(-951,!1);return i});return n=r[mn],n._dirtyCounter=nw(0),n._flatValue=void 0,r}function q$(){return Sx(!0,!1)}function G$(){return Sx(!0,!0)}function W$(t,e){let n=t[mn];n._lView=he(),n._queryIndex=e,n._queryList=ew(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function K$(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[oe]&4)return e?void 0:Bt;let i=ew(n,r),s=Dx(n,r);return i.reset(s,mR),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}function WS(t,e){return q$()}function Q$(t,e){return G$()}var zie=(WS.required=Q$,WS);function Y$(t){return Object.getPrototypeOf(t.prototype).constructor}function nt(t){let e=Y$(t.type),n=!0,r=[t];for(;e;){let i;if(kr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=ef(t.inputs),o.inputTransforms=ef(t.inputTransforms),o.declaredInputs=ef(t.declaredInputs),o.outputs=ef(t.outputs);let a=i.hostBindings;a&&tH(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&J$(t,c),u&&eH(t,u),Z$(t,i),Oj(t.outputs,i.outputs),kr(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===nt&&(n=!1)}}e=Object.getPrototypeOf(e)}X$(r)}function Z$(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function X$(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=wl(i.hostAttrs,n=wl(n,i.hostAttrs))}}function ef(t){return t===sa?{}:t===Bt?[]:t}function J$(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function eH(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function tH(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Ur(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Si=class{},Sl=class{};var Jv=class extends Si{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Af(this);let i=CA(e);this._bootstrapComponents=OR(i.bootstrap),this._r3Injector=pR(e,n,[{provide:Si,useValue:this},{provide:or,useValue:this.componentFactoryResolver},...r],$t(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},e_=class extends Sl{constructor(e){super(),this.moduleType=e}create(e){return new Jv(this.moduleType,e,[])}};var xf=class extends Si{constructor(e){super(),this.componentFactoryResolver=new Af(this),this.instance=null;let n=new Il([...e.providers,{provide:Si,useValue:this},{provide:or,useValue:this.componentFactoryResolver}],e.parent||Uf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function sp(t,e,n=null){return new xf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Br=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Je(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nH(t,e,n){return t[e]=n}function Un(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function rH(t){return(t.flags&32)===32}function iH(t,e,n,r,i,s,o,a,c){let u=e.consts,d=wa(e,t,4,o||null,a||null);K_(e,n,d,Ci(u,c)),Kf(e,d);let f=d.tView=W_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function Mf(t,e,n,r,i,s,o,a,c,u){let d=n+wt,f=e.firstCreatePass?iH(d,e,t,r,i,s,o,a,c):e.data[d];js(f,!1);let g=sH(e,t,f,n);Gf()&&Xf(e,t,g,f),Ti(g,t);let y=ex(g,t,g,f);return t[d]=y,np(t,y),k$(y,f,t),Hf(f)&&q_(e,t,f),c!=null&&G_(t,f,u),f}function Bn(t,e,n,r,i,s,o,a){let c=he(),u=ze(),d=Ci(u.consts,s);return Mf(c,u,t,e,n,r,i,d,o,a),Bn}var sH=oH;function oH(t,e,n,r){return Wf(!0),e[We].createComment("")}function hr(t,e,n,r){let i=he(),s=Ri();if(Un(i,s,e)){let o=ze(),a=Nl();z2(a,i,t,e,n,r)}return hr}function aH(t,e,n,r){return Un(t,Ri(),n)?e+xl(n)+r:ur}function tf(t,e){return t<<17|e<<2}function Vs(t){return t>>17&32767}function cH(t){return(t&2)==2}function lH(t,e){return t&131071|e<<17}function t_(t){return t|2}function ma(t){return(t&131068)>>2}function lv(t,e){return t&-131069|e<<2}function uH(t){return(t&1)===1}function n_(t){return t|1}function dH(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Vs(o),c=ma(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Ml(f,d)>0)&&(u=!0)}else d=n;if(i)if(c!==0){let g=Vs(t[a+1]);t[r+1]=tf(g,a),g!==0&&(t[g+1]=lv(t[g+1],r)),t[a+1]=lH(t[a+1],r)}else t[r+1]=tf(a,0),a!==0&&(t[a+1]=lv(t[a+1],r)),a=r;else t[r+1]=tf(c,0),a===0?a=r:t[c+1]=lv(t[c+1],r),c=r;u&&(t[r+1]=t_(t[r+1])),KS(t,d,r,!0),KS(t,d,r,!1),hH(e,d,t,r,s),o=tf(a,c),s?e.classBindings=o:e.styleBindings=o}function hH(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ml(s,e)>=0&&(n[r+1]=n_(n[r+1]))}function KS(t,e,n,r){let i=t[n+1],s=e===null,o=r?Vs(i):ma(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];fH(c,e)&&(a=!0,t[o+1]=r?n_(u):t_(u)),o=r?Vs(u):ma(u)}a&&(t[n+1]=r?t_(i):n_(i))}function fH(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ml(t,e)>=0:!1}var kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pH(t){return t.substring(kn.key,kn.keyEnd)}function gH(t){return mH(t),Ax(t,Rx(t,0,kn.textEnd))}function Ax(t,e){let n=kn.textEnd;return n===e?-1:(e=kn.keyEnd=yH(t,kn.key=e,n),Rx(t,e,n))}function mH(t){kn.key=0,kn.keyEnd=0,kn.value=0,kn.valueEnd=0,kn.textEnd=t.length}function Rx(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function yH(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Bs(t,e,n){let r=he(),i=Ri();if(Un(r,i,e)){let s=ze(),o=Nl();tp(s,o,r,t,e,r[We],n,!1)}return Bs}function r_(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Q_(t,n,s[o],o,r)}function rw(t,e,n){return Mx(t,e,n,!1),rw}function $r(t,e){return Mx(t,e,null,!0),$r}function xx(t){_H(CH,vH,t,!0)}function vH(t,e){for(let n=gH(e);n>=0;n=Ax(e,n))y_(t,pH(e),!0)}function Mx(t,e,n,r){let i=he(),s=ze(),o=QA(2);if(s.firstUpdatePass&&Px(s,t,o,r),e!==ur&&Un(i,o,e)){let a=s.data[xi()];Ox(s,a,i,i[We],t,i[o+1]=SH(e,n),r,o)}}function _H(t,e,n,r){let i=ze(),s=QA(2);i.firstUpdatePass&&Px(i,null,s,r);let o=he();if(n!==ur&&Un(o,s,n)){let a=i.data[xi()];if(kx(a,r)&&!Nx(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=mv(c,n||"")),r_(i,a,o,n,r)}else TH(i,a,o,o[We],o[s+1],o[s+1]=DH(t,e,n),r,s)}}function Nx(t,e){return e>=t.expandoStartIndex}function Px(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[xi()],o=Nx(t,n);kx(s,r)&&e===null&&!o&&(e=!1),e=wH(i,s,e,r),dH(i,s,e,n,o,r)}}function wH(t,e,n,r){let i=R_(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=uv(null,t,e,n,r),n=Al(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=uv(i,t,e,n,r),s===null){let c=IH(t,e,r);c!==void 0&&Array.isArray(c)&&(c=uv(null,t,e,c[1],r),c=Al(c,e.attrs,r),EH(t,e,r,c))}else s=bH(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function IH(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ma(r)!==0)return t[Vs(r)]}function EH(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Vs(i)]=r}function bH(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Al(r,o,n)}return Al(r,e.attrs,n)}function uv(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Al(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Al(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),y_(t,o,n?!0:e[++s]))}return t===void 0?null:t}function DH(t,e,n){if(n==null||n==="")return Bt;let r=[],i=Us(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function CH(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&y_(t,r,n)}function TH(t,e,n,r,i,s,o,a){i===ur&&(i=Bt);let c=0,u=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,y=u<s.length?s[u+1]:void 0,w=null,A;d===f?(c+=2,u+=2,g!==y&&(w=f,A=y)):f===null||d!==null&&d<f?(c+=2,w=d):(u+=2,w=f,A=y),w!==null&&Ox(t,e,n,r,w,A,o,a),d=c<i.length?i[c]:null,f=u<s.length?s[u]:null}}function Ox(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=uH(u)?QS(c,e,n,i,ma(u),o):void 0;if(!Nf(d)){Nf(s)||cH(u)&&(s=QS(c,null,n,i,a,o));let f=jA(xi(),n);I2(r,o,f,i,s)}}function QS(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,g=n[i+1];g===ur&&(g=f?Bt:void 0);let y=f?ev(g,r):d===r?g:void 0;if(u&&!Nf(y)&&(y=ev(c,r)),Nf(y)&&(a=y,o))return a;let w=t[i+1];i=o?Vs(w):ma(w)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=ev(c,r))}return a}function Nf(t){return t!==void 0}function SH(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=$t(Us(t)))),t}function kx(t,e){return(t.flags&(e?8:16))!==0}var i_=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function dv(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function AH(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=t.at(s),d=e[s],f=dv(s,u,s,d,n);if(f!==0){f<0&&t.updateValue(s,d),s++;continue}let g=t.at(o),y=e[c],w=dv(o,g,c,y,n);if(w!==0){w<0&&t.updateValue(o,y),o--,c--;continue}let A=n(s,u),S=n(o,g),k=n(s,d);if(Object.is(k,S)){let B=n(c,y);Object.is(B,A)?(t.swap(s,o),t.updateValue(o,y),c--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(r??=new Pf,i??=ZS(t,s,o,n),s_(t,r,s,k))t.updateValue(s,d),s++,o++;else if(i.has(k))r.set(A,t.detach(s)),o--;else{let B=t.create(s,e[s]);t.attach(s,B),s++,o++}}for(;s<=c;)YS(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let d=t.at(s),f=u.value,g=dv(s,d,s,f,n);if(g!==0)g<0&&t.updateValue(s,f),s++,u=c.next();else{r??=new Pf,i??=ZS(t,s,o,n);let y=n(s,f);if(s_(t,r,s,y))t.updateValue(s,f),s++,o++,u=c.next();else if(!i.has(y))t.attach(s,t.create(s,f)),s++,o++,u=c.next();else{let w=n(s,d);r.set(w,t.detach(s)),o--}}}for(;!u.done;)YS(t,r,n,t.length,u.value),u=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function s_(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function YS(t,e,n,r,i){if(s_(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function ZS(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Pf=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function iw(t,e){jr("NgControlFlow");let n=he(),r=Ri(),i=n[r]!==ur?n[r]:-1,s=i!==-1?Of(n,wt+i):void 0,o=0;if(Un(n,r,t)){let a=ye(null);try{if(s!==void 0&&ax(s,o),t!==-1){let c=wt+t,u=Of(n,c),d=l_(n[de],c),f=fa(u,d.tView.ssrId),g=Ll(n,d,e,{dehydratedView:f});Vl(u,g,o,ha(d,f))}}finally{ye(a)}}else if(s!==void 0){let a=ox(s,o);a!==void 0&&(a[At]=e)}}var o_=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Rt}};function qie(t){return t}function Gie(t,e){return e}var a_=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Wie(t,e,n,r,i,s,o,a,c,u,d,f,g){jr("NgControlFlow");let y=he(),w=ze(),A=c!==void 0,S=he(),k=a?o.bind(S[sn][At]):o,B=new a_(A,k);S[wt+t]=B,Mf(y,w,t+1,e,n,r,i,Ci(w.consts,s)),A&&Mf(y,w,t+2,c,u,d,f,Ci(w.consts,g))}var c_=class extends i_{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Rt}at(e){return this.getLView(e)[At].$implicit}attach(e,n){let r=n[la];this.needsIndexUpdate||=e!==this.length,Vl(this.lContainer,n,e,ha(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,RH(this.lContainer,e)}create(e,n){let r=fa(this.lContainer,this.templateTNode.tView.ssrId),i=Ll(this.hostLView,this.templateTNode,new o_(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Zf(e[de],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[At].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[At].$index=e}getLView(e){return xH(this.lContainer,e)}};function Kie(t){let e=ye(null),n=xi();try{let r=he(),i=r[de],s=r[n],o=n+1,a=Of(r,o);if(s.liveCollection===void 0){let u=l_(i,o);s.liveCollection=new c_(a,r,u)}else s.liveCollection.reset();let c=s.liveCollection;if(AH(c,t,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let u=Ri(),d=c.length===0;if(Un(r,u,d)){let f=n+2,g=Of(r,f);if(d){let y=l_(i,f),w=fa(g,y.tView.ssrId),A=Ll(r,y,void 0,{dehydratedView:w});Vl(g,A,0,ha(y,w))}else ax(g,0)}}}finally{ye(e)}}function Of(t,e){return t[e]}function RH(t,e){return Tl(t,e)}function xH(t,e){return ox(t,e)}function l_(t,e){return b_(t,e)}function MH(t,e,n,r,i,s){let o=e.consts,a=Ci(o,i),c=wa(e,t,2,r,a);return K_(e,n,c,Ci(o,s)),c.attrs!==null&&Sf(c,c.attrs,!1),c.mergedAttrs!==null&&Sf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function zt(t,e,n,r){let i=he(),s=ze(),o=wt+t,a=i[We],c=s.firstCreatePass?MH(o,s,i,e,n,r):s.data[o],u=NH(s,i,c,a,e,t);i[o]=u;let d=Hf(c);return js(c,!0),qR(a,u,c),!rH(c)&&Gf()&&Xf(s,i,u,c),$U()===0&&Ti(u,i),HU(),d&&(q_(s,i,c),z_(s,c,i)),r!==null&&G_(i,c),zt}function Mt(){let t=ft();S_()?A_():(t=t.parent,js(t,!1));let e=t;qU(e)&&GU(),zU();let n=ze();return n.firstCreatePass&&(Kf(n,t),E_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&oB(e)&&r_(n,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aB(e)&&r_(n,e,he(),e.stylesWithoutHost,!1),Mt}function Pi(t,e,n,r){return zt(t,e,n,r),Mt(),Pi}var NH=(t,e,n,r,i,s)=>(Wf(!0),FR(r,i,nB()));function PH(t,e,n,r,i){let s=e.consts,o=Ci(s,r),a=wa(e,t,8,"ng-container",o);o!==null&&Sf(a,o,!0);let c=Ci(s,i);return K_(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function Fx(t,e,n){let r=he(),i=ze(),s=t+wt,o=i.firstCreatePass?PH(s,i,r,e,n):i.data[s];js(o,!0);let a=OH(i,r,o,t);return r[s]=a,Gf()&&Xf(i,r,a,o),Ti(a,r),Hf(o)&&(q_(i,r,o),z_(i,o,r)),n!=null&&G_(r,o),Fx}function Lx(){let t=ft(),e=ze();return S_()?A_():(t=t.parent,js(t,!1)),e.firstCreatePass&&(Kf(e,t),E_(t)&&e.queries.elementEnd(t)),Lx}function sw(t,e,n){return Fx(t,e,n),Lx(),sw}var OH=(t,e,n,r)=>(Wf(!0),o2(e[We],""));function ow(){return he()}function op(t,e,n){let r=he(),i=Ri();if(Un(r,i,e)){let s=ze(),o=Nl();tp(s,o,r,t,e,r[We],n,!0)}return op}function kH(t,e,n){let r=he(),i=Ri();if(Un(r,i,e)){let s=ze(),o=Nl(),a=R_(s.data),c=ix(a,o,r);tp(s,o,r,t,e,c,n,!0)}return kH}var Cs=void 0;function FH(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var LH=["en",[["a","p"],["AM","PM"],Cs],[["AM","PM"],Cs,Cs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cs,"{1} 'at' {0}",Cs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",FH],hv={};function aw(t){let e=VH(t),n=XS(e);if(n)return n;let r=e.split("-")[0];if(n=XS(r),n)return n;if(r==="en")return LH;throw new Y(701,!1)}function XS(t){return t in hv||(hv[t]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[t]),hv[t]}var Ia=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ia||{});function VH(t){return t.toLowerCase().replace(/_/g,"-")}var kf="en-US";var jH=kf;function UH(t){typeof t=="string"&&(jH=t.toLowerCase().replace(/_/g,"-"))}var BH=(t,e,n)=>{};function pt(t,e,n,r){let i=he(),s=ze(),o=ft();return cw(s,i,i[We],o,t,e,r),pt}function $H(t,e){let n=ft(),r=he(),i=ze(),s=R_(i.data),o=ix(s,n,r);return cw(i,r,o,n,t,e),$H}function HH(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[El],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function cw(t,e,n,r,i,s,o){let a=Hf(r),u=t.firstCreatePass&&rx(t),d=e[At],f=nx(e),g=!0;if(r.type&3||o){let A=wn(r,e),S=o?o(A):A,k=f.length,B=o?G=>o(sr(G[r.index])):r.index;BH(A,i,s);let $=null;if(!o&&a&&($=HH(t,e,i,r.index)),$!==null){let G=$.__ngLastListenerFn__||$;G.__ngNextListenerFn__=s,$.__ngLastListenerFn__=s,g=!1}else{s=eA(r,e,d,s);let G=n.listen(S,i,s);f.push(s,G),u&&u.push(i,B,k,k+1)}}else s=eA(r,e,d,s);let y=r.outputs,w;if(g&&y!==null&&(w=y[i])){let A=w.length;if(A)for(let S=0;S<A;S+=2){let k=w[S],B=w[S+1],ie=e[k][B].subscribe(s),W=f.length;f.push(s,ie),u&&u.push(i,r.index,W,-(W+1))}}}function JS(t,e,n,r){let i=ye(null);try{return tr(6,e,n),n(r)!==!1}catch(s){return sx(t,s),!1}finally{tr(7,e,n),ye(i)}}function eA(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Ai(t.index,e):e;Z_(o,5);let a=JS(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=JS(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function Ea(t=1){return eB(t)}function zH(t,e){let n=null,r=uU(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?wA(t,s,!0):fU(r,s))return i}return n}function Vx(t){let e=he()[sn][Jt];if(!e.projection){let n=t?t.length:1,r=e.projection=tU(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?zH(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function jx(t,e=0,n,r,i,s){let o=he(),a=ze(),c=r?t+1:null;c!==null&&Mf(o,a,c,r,i,s,null,n);let u=wa(a,wt+t,16,null,n||null);u.projection===null&&(u.projection=e),A_();let f=!o[la]||qA();o[sn][Jt].projection[u.projection]===null&&c!==null?qH(o,a,c):f&&(u.flags&32)!==32&&_2(a,o,u)}function qH(t,e,n){let r=wt+n,i=e.data[r],s=t[r],o=fa(s,i.tView.ssrId),a=Ll(t,i,void 0,{dehydratedView:o});Vl(s,a,0,ha(i,o))}function GH(t,e,n,r){B$(t,e,n,r)}function ap(t,e,n){Ex(t,e,n)}function jl(t){let e=he(),n=ze(),r=x_();qf(r+1);let i=tw(n,r);if(t.dirty&&LU(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=Dx(e,r);t.reset(s,mR),t.notifyOnChanges()}return!0}return!1}function Ul(){return ew(he(),x_())}function Qie(t,e,n,r){W$(t,Ex(e,n,r))}function Yie(t=1){qf(x_()+t)}function WH(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Zie(t){let e=KU();return UA(e,wt+t)}function ba(t,e=""){let n=he(),r=ze(),i=t+wt,s=r.firstCreatePass?wa(r,i,1,e,null):r.data[i],o=KH(r,n,s,e,t);n[i]=o,Gf()&&Xf(r,n,o,s),js(s,!1)}var KH=(t,e,n,r,i)=>(Wf(!0),i2(e[We],r));function QH(t){return $s("",t,""),QH}function $s(t,e,n){let r=he(),i=aH(r,t,e,n);return i!==ur&&K2(r,xi(),i),$s}function YH(t,e,n){Tx(e)&&(e=e());let r=he(),i=Ri();if(Un(r,i,e)){let s=ze(),o=Nl();tp(s,o,r,t,e,r[We],n,!1)}return YH}function Xie(t,e){let n=Tx(t);return n&&t.set(e),n}function ZH(t,e){let n=he(),r=ze(),i=ft();return cw(r,n,n[We],i,t,e),ZH}function XH(t,e,n){let r=ze();if(r.firstCreatePass){let i=kr(t);u_(n,r.data,r.blueprint,i,!0),u_(e,r.data,r.blueprint,i,!1)}}function u_(t,e,n,r,i){if(t=Ut(t),Array.isArray(t))for(let s=0;s<t.length;s++)u_(t[s],e,n,r,i);else{let s=ze(),o=he(),a=ft(),c=ca(t)?t:Ut(t.provide),u=MA(t),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(ca(t)||!t.multi){let y=new Os(u,i,U),w=pv(c,e,i?d:d+g,f);w===-1?(Rv(_f(a,o),s,c),fv(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[w]=y,o[w]=y)}else{let y=pv(c,e,d+g,f),w=pv(c,e,d,d+g),A=y>=0&&n[y],S=w>=0&&n[w];if(i&&!S||!i&&!A){Rv(_f(a,o),s,c);let k=tz(i?ez:JH,n.length,i,r,u);!i&&S&&(n[w].providerFactory=k),fv(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),o.push(k)}else{let k=Ux(n[i?w:y],u,!i&&r);fv(s,t,y>-1?y:w,k)}!i&&r&&S&&n[w].componentProviders++}}}function fv(t,e,n,r){let i=ca(e),s=DU(e);if(i||s){let c=(s?Ut(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,c]):u[d+1].push(r,c)}else u.push(n,c)}}}function Ux(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function pv(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function JH(t,e,n,r){return d_(this.multi,[])}function ez(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ks(n,n[de],this.providerFactory.index,r);s=a.slice(0,o),d_(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],d_(i,s);return s}function d_(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function tz(t,e,n,r,i){let s=new Os(t,n,U);return s.multi=[],s.index=e,s.componentProviders=0,Ux(s,i,r&&!n),s}function tn(t,e=[]){return n=>{n.providersResolver=(r,i)=>XH(r,i?i(t):t,e)}}var nz=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=AA(!1,r.type),s=i.length>0?sp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(R(ht))});let t=e;return t})();function fr(t){jr("NgStandalone"),t.getStandaloneInjector=e=>e.get(nz).getOrCreateStandaloneInjector(t)}function Bx(t,e,n,r){return $x(he(),KA(),t,e,n,r)}function rz(t,e){let n=t[e];return n===ur?void 0:n}function $x(t,e,n,r,i,s){let o=e+n;return Un(t,o,i)?nH(t,o+1,s?r.call(s,i):r(i)):rz(t,o+1)}function Jie(t,e){let n=ze(),r,i=t+wt;n.firstCreatePass?(r=iz(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Rs(r.type,!0)),o,a=Zt(U);try{let c=vf(!1),u=s();return vf(c),WH(n,he(),i,u),u}finally{Zt(a)}}function iz(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function ese(t,e,n){let r=t+wt,i=he(),s=UA(i,r);return sz(i,r)?$x(i,KA(),e,s.transform,n,s):s.transform(n)}function sz(t,e){return t[de].data[e].pure}function tse(t,e){return rp(t,e)}var ar=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Hx=new ar("18.0.1"),Da=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var lw=new j(""),Bl=new j(""),cp=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,uw||(oz(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(R(K),R(lp),R(Bl))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),lp=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return uw?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function oz(t){uw=t}var uw;function Hs(t){return!!t&&typeof t.then=="function"}function zx(t){return!!t&&typeof t.subscribe=="function"}var Ca=new j(""),qx=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=O(Ca,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Hs(o))r.push(o);else if(zx(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$l=new j("");function az(){NT(()=>{throw new Y(600,!1)})}function cz(t){return t.isBoundToModule}var lz=10;function uz(t,e,n){try{let r=n();return Hs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var pr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(gR),this.afterRenderEffectManager=O(ip),this.zonelessEnabled=O(fx),this.externalTestViews=new Set,this.beforeRender=new te,this.afterTick=new te,this.componentTypes=[],this.components=[],this.isStable=O(Br).hasPendingTasks.pipe(se(r=>!r)),this._injector=O(ht)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Df;if(!this._injector.get(qx).done){let y=!s&&DA(r),w=!1;throw new Y(405,w)}let a;s?a=r:a=this._injector.get(or).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=cz(a)?void 0:this._injector.get(Si),u=i||a.selector,d=a.create(Ce.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(lw,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),gv(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Y(101,!1);let i=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ye(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(ga,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<lz;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:u}of this._views)dz(c,u,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>Dl(c))&&(o.execute(),!this.allViews.some(({_lView:c})=>Dl(c))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;gv(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get($l,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>gv(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Y(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gv(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function dz(t,e,n,r){if(!n&&!Dl(t))return;lx(t,e,n&&!r?0:1)}var h_=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},up=(()=>{let e=class e{compileModuleSync(r){return new e_(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=CA(r),o=OR(s.declarations).reduce((a,c)=>{let u=Pr(c);return u&&a.push(new Ls(u)),a},[]);return new h_(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hz=(()=>{let e=class e{constructor(){this.zone=O(K),this.changeDetectionScheduler=O(pa),this.applicationRef=O(pr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fz({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new K(gz()),[{provide:K,useFactory:t},{provide:oa,multi:!0,useFactory:()=>{let n=O(hz,{optional:!0});return()=>n.initialize()}},{provide:oa,multi:!0,useFactory:()=>{let n=O(mz);return()=>{n.initialize()}}},{provide:gR,useFactory:pz},e===!0?{provide:px,useValue:!0}:[]]}function pz(){let t=O(K),e=O(vn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function gz(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var mz=(()=>{let e=class e{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=O(K),this.pendingTasks=O(Br)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yz=(()=>{let e=class e{constructor(){this.appRef=O(pr),this.taskService=O(Br),this.ngZone=O(K),this.zonelessEnabled=O(fx),this.disableScheduling=O(px,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof qv||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?BS:gx;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&K.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vz(){return typeof $localize<"u"&&$localize.locale||kf}var Ta=new j("",{providedIn:"root",factory:()=>O(Ta,ve.Optional|ve.SkipSelf)||vz()});var Gx=new j("");var lf=null;function _z(t=[],e){return Ce.create({name:e,providers:[{provide:jf,useValue:"platform"},{provide:Gx,useValue:new Set([()=>lf=null])},...t]})}function wz(t=[]){if(lf)return lf;let e=_z(t);return lf=e,az(),Iz(e),e}function Iz(t){t.get(F_,null)?.forEach(n=>n())}function nse(){return!1}var En=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ez;let t=e;return t})();function Ez(t){return bz(ft(),he(),(t&16)===16)}function bz(t,e,n){if($f(t)&&!n){let r=Ai(t.index,e);return new Fs(r,r)}else if(t.type&47){let r=e[sn];return new Fs(r,e)}return null}var Wx=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(R(pr))},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let t=e;return t})();function Kx(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=wz(r),s=[fz({}),{provide:pa,useExisting:yz},...n||[]],a=new xf({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(K);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(vn,null),d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:y=>{u.handleError(y)}})});let f=()=>a.destroy(),g=i.get(Gx);return g.add(f),a.onDestroy(()=>{d.unsubscribe(),g.delete(f)}),uz(u,c,()=>{let y=a.get(qx);return y.runInitializers(),y.donePromise.then(()=>{let w=a.get(Ta,kf);UH(w||kf);let A=a.get(pr);return e!==void 0&&A.bootstrap(e),A})})})}catch(e){return Promise.reject(e)}}function bn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function dw(t){let e=ye(null);try{return t()}finally{ye(e)}}var Dz=new j("",{providedIn:"root",factory:()=>O(Cz)}),Cz=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new f_});let t=e;return t})(),f_=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=O(Br),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},p_=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=kT(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(vn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Qx(t,e){jr("NgSignals"),!e?.injector&&w_(Qx);let n=e?.injector??O(Ce),r=e?.manualCleanup!==!0?n.get(va):null,i=new p_(n.get(Dz),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(En,null,{optional:!0});return!s||!(s._lView[oe]&8)?i.watcher.notify():(s._lView[rf]??=[]).push(i.watcher.notify),i}function rse(t,e){let n=Pr(t),r=e.elementInjector||Uf();return new Ls(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function Yx(t){let e=Pr(t);if(!e)return null;let n=new Ls(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var nM=null;function gr(){return nM}function rM(t){nM??=t}var dp=class{};var ce=new j(""),_w=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>O(Sz),providedIn:"platform"});let t=e;return t})(),iM=new j(""),Sz=(()=>{let e=class e extends _w{constructor(){super(),this._doc=O(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gr().getBaseHref(this._doc)}onPopState(r){let i=gr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=gr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ww(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Zx(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Hr(t){return t&&t[0]!=="?"?"?"+t:t}var qr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>O(Iw),providedIn:"root"});let t=e;return t})(),sM=new j(""),Iw=(()=>{let e=class e extends qr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??O(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ww(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Hr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Hr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Hr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(_w),R(sM,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oM=(()=>{let e=class e extends qr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=ww(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Hr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Hr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(_w),R(sM,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),mr=(()=>{let e=class e{constructor(r){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=xz(Zx(Xx(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Hr(i))}normalize(r){return e.stripTrailingSlash(Rz(this._basePath,Xx(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Hr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Hr,e.joinWithSlash=ww,e.stripTrailingSlash=Zx,e.\u0275fac=function(i){return new(i||e)(R(qr))},e.\u0275prov=L({token:e,factory:()=>Az(),providedIn:"root"});let t=e;return t})();function Az(){return new mr(R(qr))}function Rz(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Xx(t){return t.replace(/\/index.html$/,"")}function xz(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var aM=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(aM||{});var zr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Hl(t,e){let n=aw(t),r=n[Ia.NumberSymbols][e];if(typeof r>"u"){if(e===zr.CurrencyDecimal)return n[Ia.NumberSymbols][zr.Decimal];if(e===zr.CurrencyGroup)return n[Ia.NumberSymbols][zr.Group]}return r}function Mz(t,e){return aw(t)[Ia.NumberFormats][e]}var Nz=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Jx=22,hp=".",zl="0",Pz=";",Oz=",",fw="#";function kz(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=Hl(n,zr.Infinity);else{let u=jz(t);o&&(u=Vz(u));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(s){let B=s.match(Nz);if(B===null)throw new Error(`${s} is not a valid digit info`);let $=B[1],G=B[3],ie=B[5];$!=null&&(d=pw($)),G!=null&&(f=pw(G)),ie!=null?g=pw(ie):G!=null&&f>g&&(g=f)}Uz(u,f,g);let y=u.digits,w=u.integerLen,A=u.exponent,S=[];for(c=y.every(B=>!B);w<d;w++)y.unshift(0);for(;w<0;w++)y.unshift(0);w>0?S=y.splice(w,y.length):(S=y,y=[0]);let k=[];for(y.length>=e.lgSize&&k.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)k.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&k.unshift(y.join("")),a=k.join(Hl(n,r)),S.length&&(a+=Hl(n,i)+S.join("")),A&&(a+=Hl(n,zr.Exponential)+"+"+A)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function Fz(t,e,n){let r=Mz(e,aM.Decimal),i=Lz(r,Hl(e,zr.MinusSign));return kz(t,i,e,zr.Group,zr.Decimal,n)}function Lz(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Pz),i=r[0],s=r[1],o=i.indexOf(hp)!==-1?i.split(hp):[i.substring(0,i.lastIndexOf(zl)+1),i.substring(i.lastIndexOf(zl)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(fw));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===zl?n.minFrac=n.maxFrac=d+1:f===fw?n.maxFrac=d+1:n.posSuf+=f}let u=a.split(Oz);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let d=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf(fw);n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function Vz(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function jz(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(hp))>-1&&(e=e.replace(hp,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===zl;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===zl;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>Jx&&(r=r.splice(0,Jx-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function Uz(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,u=e+t.integerLen,d=r.reduceRight(function(f,g,y,w){return g=g+f,w[y]=g<10?g:g-10,c&&(w[y]===0&&y>=u?w.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}function pw(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function fp(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var gw=/\s+/,eM=[],Dse=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=eM,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(gw):eM}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(gw):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(gw).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(U(Te),U(dr))},e.\u0275dir=De({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var cM=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new mw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){tM("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){tM("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(U(In),U(Ln))},e.\u0275dir=De({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),mw=class{constructor(){this.$implicit=null,this.ngIf=null}};function tM(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${$t(e)}'.`)}var lM=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(U(In))},e.\u0275dir=De({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ht]});let t=e;return t})();function Bz(t,e){return new Y(2100,!1)}var Cse=(()=>{let e=class e{constructor(r){this._locale=r}transform(r,i,s){if(!$z(r))return null;s||=this._locale;try{let o=Hz(r);return Fz(o,s,i)}catch(o){throw Bz(e,o.message)}}};e.\u0275fac=function(i){return new(i||e)(U(Ta,16))},e.\u0275pipe=IA({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function $z(t){return!(t==null||t===""||t!==t)}function Hz(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var zs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let t=e;return t})(),Ew="browser",zz="server";function bw(t){return t===Ew}function pp(t){return t===zz}var uM=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>bw(O(en))?new yw(O(ce),window):new vw});let t=e;return t})(),yw=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=qz(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function qz(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var vw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Sa=class{};var Wl=class{},mp=class{},Gr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Cw=class{encodeKey(e){return dM(e)}encodeValue(e){return dM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Gz(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var Wz=/%(\d[a-f0-9])/gi,Kz={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dM(t){return encodeURIComponent(t).replace(Wz,(e,n)=>Kz[n]??e)}function gp(t){return`${t}`}var ki=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Cw,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Gz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(gp):[gp(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(gp(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(gp(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Tw=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Qz(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function hM(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function fM(t){return typeof Blob<"u"&&t instanceof Blob}function pM(t){return typeof FormData<"u"&&t instanceof FormData}function Yz(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Gl=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Qz(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Gr,this.context??=new Tw,!this.params)this.params=new ki,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||hM(this.body)||fM(this.body)||pM(this.body)||Yz(this.body)?this.body:this.body instanceof ki?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||pM(this.body)?null:fM(this.body)?this.body.type||null:hM(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ki?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),d)),new t(n,r,o,{params:d,headers:u,context:f,reportProgress:c,responseType:i,withCredentials:a,transferCache:s})}},Fi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Fi||{}),Kl=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Gr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},yp=class t extends Kl{constructor(e={}){super(e),this.type=Fi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ql=class t extends Kl{constructor(e={}){super(e),this.type=Fi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Oi=class extends Kl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},_M=200,Zz=204;function Dw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Xz=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Gl)o=r;else{let u;s.headers instanceof Gr?u=s.headers:u=new Gr(s.headers);let d;s.params&&(s.params instanceof ki?d=s.params:d=new ki({fromObject:s.params})),o=new Gl(r,i,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:d,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=X(o).pipe(Nr(u=>this.handler.handle(u)));if(r instanceof Gl||s.observe==="events")return a;let c=a.pipe(Ve(u=>u instanceof Ql));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return c.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return c.pipe(se(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return c.pipe(se(u=>u.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ki().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Dw(s,i))}post(r,i,s={}){return this.request("POST",r,Dw(s,i))}put(r,i,s={}){return this.request("PUT",r,Dw(s,i))}};e.\u0275fac=function(i){return new(i||e)(R(Wl))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Jz=/^\)\]\}',?\n/,eq="X-Request-URL";function gM(t){if(t.url)return t.url;let e=eq.toLocaleLowerCase();return t.headers.get(e)}var tq=(()=>{let e=class e{constructor(){this.fetchImpl=O(Sw,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=O(K)}handle(r){return new ne(i=>{let s=new AbortController;return this.doRequest(r,s.signal,i).then(Aw,o=>i.error(new Oi({error:o}))),()=>s.abort()})}doRequest(r,i,s){return v(this,null,function*(){let o=this.createRequestInit(r),a;try{let w=this.fetchImpl(r.urlWithParams,F({signal:i},o));nq(w),s.next({type:Fi.Sent}),a=yield w}catch(w){s.error(new Oi({error:w,status:w.status??0,statusText:w.statusText,url:r.urlWithParams,headers:w.headers}));return}let c=new Gr(a.headers),u=a.statusText,d=gM(a)??r.urlWithParams,f=a.status,g=null;if(r.reportProgress&&s.next(new yp({headers:c,status:f,statusText:u,url:d})),a.body){let w=a.headers.get("content-length"),A=[],S=a.body.getReader(),k=0,B,$,G=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>v(this,null,function*(){for(;;){let{done:W,value:b}=yield S.read();if(W)break;if(A.push(b),k+=b.length,r.reportProgress){$=r.responseType==="text"?($??"")+(B??=new TextDecoder).decode(b,{stream:!0}):void 0;let _=()=>s.next({type:Fi.DownloadProgress,total:w?+w:void 0,loaded:k,partialText:$});G?G.run(_):_()}}}));let ie=this.concatChunks(A,k);try{let W=a.headers.get("Content-Type")??"";g=this.parseBody(r,ie,W)}catch(W){s.error(new Oi({error:W,headers:new Gr(a.headers),status:a.status,statusText:a.statusText,url:gM(a)??r.urlWithParams}));return}}f===0&&(f=g?_M:0),f>=200&&f<300?(s.next(new Ql({body:g,headers:c,status:f,statusText:u,url:d})),s.complete()):s.error(new Oi({error:g,headers:c,status:f,statusText:u,url:d}))})}parseBody(r,i,s){switch(r.responseType){case"json":let o=new TextDecoder().decode(i).replace(Jz,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:s});case"arraybuffer":return i.buffer}}createRequestInit(r){let i={},s=r.withCredentials?"include":void 0;if(r.headers.forEach((o,a)=>i[o]=a.join(",")),i.Accept??="application/json, text/plain, */*",!i["Content-Type"]){let o=r.detectContentTypeHeader();o!==null&&(i["Content-Type"]=o)}return{body:r.serializeBody(),method:r.method,headers:i,credentials:s}}concatChunks(r,i){let s=new Uint8Array(i),o=0;for(let a of r)s.set(a,o),o+=a.length;return s}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Sw=class{};function Aw(){}function nq(t){t.then(Aw,Aw)}function wM(t,e){return e(t)}function rq(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function iq(t,e,n){return(r,i)=>Xt(n,()=>e(r,s=>t(s,i)))}var sq=new j(""),Rw=new j(""),oq=new j(""),IM=new j("",{providedIn:"root",factory:()=>!0});function aq(){let t=null;return(e,n)=>{t===null&&(t=(O(sq,{optional:!0})??[]).reduceRight(rq,wM));let r=O(Br);if(O(IM)){let s=r.add();return t(e,n).pipe(Ii(()=>r.remove(s)))}else return t(e,n)}}var mM=(()=>{let e=class e extends Wl{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=O(Br),this.contributeToStability=O(IM)}handle(r){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Rw),...this.injector.get(oq,[])]));this.chain=i.reduceRight((s,o)=>iq(s,o,this.injector),wM)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Ii(()=>this.pendingTasks.remove(i)))}else return this.chain(r,i=>this.backend.handle(i))}};e.\u0275fac=function(i){return new(i||e)(R(mp),R(ht))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();var cq=/^\)\]\}',?\n/;function lq(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var yM=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new Y(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?ke(i.\u0275loadImpl()):X(null)).pipe(jt(()=>new ne(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((S,k)=>a.setRequestHeader(S,k.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let S=r.detectContentTypeHeader();S!==null&&a.setRequestHeader("Content-Type",S)}if(r.responseType){let S=r.responseType.toLowerCase();a.responseType=S!=="json"?S:"text"}let c=r.serializeBody(),u=null,d=()=>{if(u!==null)return u;let S=a.statusText||"OK",k=new Gr(a.getAllResponseHeaders()),B=lq(a)||r.url;return u=new yp({headers:k,status:a.status,statusText:S,url:B}),u},f=()=>{let{headers:S,status:k,statusText:B,url:$}=d(),G=null;k!==Zz&&(G=typeof a.response>"u"?a.responseText:a.response),k===0&&(k=G?_M:0);let ie=k>=200&&k<300;if(r.responseType==="json"&&typeof G=="string"){let W=G;G=G.replace(cq,"");try{G=G!==""?JSON.parse(G):null}catch(b){G=W,ie&&(ie=!1,G={error:b,text:G})}}ie?(o.next(new Ql({body:G,headers:S,status:k,statusText:B,url:$||void 0})),o.complete()):o.error(new Oi({error:G,headers:S,status:k,statusText:B,url:$||void 0}))},g=S=>{let{url:k}=d(),B=new Oi({error:S,status:a.status||0,statusText:a.statusText||"Unknown Error",url:k||void 0});o.error(B)},y=!1,w=S=>{y||(o.next(d()),y=!0);let k={type:Fi.DownloadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),r.responseType==="text"&&a.responseText&&(k.partialText=a.responseText),o.next(k)},A=S=>{let k={type:Fi.UploadProgress,loaded:S.loaded};S.lengthComputable&&(k.total=S.total),o.next(k)};return a.addEventListener("load",f),a.addEventListener("error",g),a.addEventListener("timeout",g),a.addEventListener("abort",g),r.reportProgress&&(a.addEventListener("progress",w),c!==null&&a.upload&&a.upload.addEventListener("progress",A)),a.send(c),o.next({type:Fi.Sent}),()=>{a.removeEventListener("error",g),a.removeEventListener("abort",g),a.removeEventListener("load",f),a.removeEventListener("timeout",g),r.reportProgress&&(a.removeEventListener("progress",w),c!==null&&a.upload&&a.upload.removeEventListener("progress",A)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(R(Sa))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),EM=new j(""),uq="XSRF-TOKEN",dq=new j("",{providedIn:"root",factory:()=>uq}),hq="X-XSRF-TOKEN",fq=new j("",{providedIn:"root",factory:()=>hq}),vp=class{},pq=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=fp(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(en),R(dq))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function gq(t,e){let n=t.url.toLowerCase();if(!O(EM)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=O(vp).getToken(),i=O(fq);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var bM=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(bM||{});function mq(t,e){return{\u0275kind:t,\u0275providers:e}}function jse(...t){let e=[Xz,yM,mM,{provide:Wl,useExisting:mM},{provide:mp,useFactory:()=>O(tq,{optional:!0})??O(yM)},{provide:Rw,useValue:gq,multi:!0},{provide:EM,useValue:!0},{provide:vp,useClass:pq}];for(let n of t)e.push(...n.\u0275providers);return on(e)}var vM=new j("");function Use(){return mq(bM.LegacyInterceptors,[{provide:vM,useFactory:aq},{provide:Rw,useExisting:vM,multi:!0}])}var Nw=class extends dp{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pw=class t extends Nw{static makeCurrent(){rM(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yq();return n==null?null:vq(n)}resetBaseElement(){Yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fp(document.cookie,e)}},Yl=null;function yq(){return Yl=Yl||document.querySelector("base"),Yl?Yl.getAttribute("href"):null}function vq(t){return new URL(t,document.baseURI).pathname}var Ow=class{addToWindow(e){dt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new Y(5103,!1);return s},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=dt.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?gr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},_q=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),_p=new j(""),SM=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new Y(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(_p),R(K))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Zl=class{constructor(e){this._doc=e}},xw="ng-app-id",AM=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pp(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${xw}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(xw),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(xw,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(Pl),R(Ol,8),R(en))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Mw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lw=/%COMP%/g,RM="%COMP%",wq=`_nghost-${RM}`,Iq=`_ngcontent-${RM}`,Eq=!0,bq=new j("",{providedIn:"root",factory:()=>Eq});function Dq(t){return Iq.replace(Lw,t)}function Cq(t){return wq.replace(Lw,t)}function xM(t,e){return e.map(n=>n.replace(Lw,t))}var DM=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=pp(c),this.defaultRenderer=new Xl(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===rr.ShadowDom&&(i=pe(F({},i),{encapsulation:rr.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof wp?s.applyToHost(r):s instanceof Jl&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case rr.Emulated:o=new wp(u,d,i,this.appId,f,a,c,g);break;case rr.ShadowDom:return new kw(u,d,r,i,a,c,this.nonce,g);default:o=new Jl(u,d,i,f,a,c,g);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(SM),R(AM),R(Pl),R(bq),R(ce),R(en),R(K),R(Ol))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Xl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Mw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(CM(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(CM(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Mw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Mw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Fr.DashCase|Fr.Important)?e.style.setProperty(n,r,i&Fr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Fr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=gr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function CM(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var kw=class extends Xl{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=xM(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jl=class extends Xl{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?xM(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},wp=class extends Jl{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=Dq(u),this.hostAttr=Cq(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Tq=(()=>{let e=class e extends Zl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),TM=["alt","control","meta","shift"],Sq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Aq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Rq=(()=>{let e=class e extends Zl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),TM.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=Sq[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),TM.forEach(a=>{if(a!==s){let c=Aq[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function aoe(t,e){return Kx(F({rootComponent:t},xq(e)))}function xq(t){return{appProviders:[...MM,...t?.providers??[]],platformProviders:Oq}}function Mq(){Pw.makeCurrent()}function Nq(){return new vn}function Pq(){return ER(document),document}var Oq=[{provide:en,useValue:Ew},{provide:F_,useValue:Mq,multi:!0},{provide:ce,useFactory:Pq,deps:[]}];var kq=new j(""),Fq=[{provide:Bl,useClass:Ow,deps:[]},{provide:lw,useClass:cp,deps:[K,lp,Bl]},{provide:cp,useClass:cp,deps:[K,lp,Bl]}],MM=[{provide:jf,useValue:"root"},{provide:vn,useFactory:Nq,deps:[]},{provide:_p,useClass:Tq,multi:!0,deps:[ce,K,en]},{provide:_p,useClass:Rq,multi:!0,deps:[ce]},DM,AM,SM,{provide:ga,useExisting:DM},{provide:Sa,useClass:_q,deps:[]},[]],coe=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Pl,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(R(kq,12))},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({providers:[...MM,...Fq],imports:[zs,Wx]});let t=e;return t})();var NM=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Lq={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},Fw=new j("HammerGestureConfig"),PM=new j("HammerLoader"),Vq=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(r){let i=new Hammer(r,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(let s in this.overrides)i.get(s).set(this.overrides[s]);return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),jq=(()=>{let e=class e extends Zl{constructor(r,i,s,o){super(r),this._config=i,this.console=s,this.loader=o,this._loaderPromise=null}supports(r){return!(!Lq.hasOwnProperty(r.toLowerCase())&&!this.isCustomEvent(r)||!window.Hammer&&!this.loader)}addEventListener(r,i,s){let o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,c=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){c=()=>{};return}a||(c=this.addEventListener(r,i,s))}).catch(()=>{c=()=>{}})),()=>{c()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(r),c=function(u){o.runGuarded(function(){s(u)})};return a.on(i,c),()=>{a.off(i,c),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(r){return this._config.events.indexOf(r)>-1}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(Fw),R(Da),R(PM,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),loe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({providers:[{provide:_p,useClass:jq,multi:!0,deps:[ce,Fw,Da,[new ct,PM]]},{provide:Fw,useClass:Vq,deps:[]}]});let t=e;return t})();var kM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Bq=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,g=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(g=64)),r.push(n[d],n[f],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Bq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new jw;let g=s<<2|a>>4;if(r.push(g),u!==64){let y=a<<4&240|u>>2;if(r.push(y),f!==64){let w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},jw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$q=function(t){let e=kM(t);return FM.encodeByteArray(e,!0)},Bw=function(t){return $q(t).replace(/\./g,"")},$w=function(t){try{return FM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Hq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var zq=()=>Hq().__FIREBASE_DEFAULTS__,qq=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$w(t[1]);return e&&JSON.parse(e)},Ep=()=>{try{return zq()||qq()||Gq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LM=t=>{var e,n;return(n=(e=Ep())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var Hw=()=>{var t;return(t=Ep())===null||t===void 0?void 0:t.config},zw=t=>{var e;return(e=Ep())===null||e===void 0?void 0:e[`_${t}`]};var Ip=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Wq(){var t;let e=(t=Ep())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BM(){let t=Ye();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qw(){return!Wq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aa(){try{return typeof indexedDB=="object"}catch{return!1}}function bp(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function $M(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Kq="FirebaseError",qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kq,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}},an=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Qq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qt(i,a,r)}};function Qq(t,e){return t.replace(Yq,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Yq=/\{\$([^}]+)}/g;function HM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Li(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(OM(s)&&OM(o)){if(!Li(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function OM(t){return t!==null&&typeof t=="object"}function Ra(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xa(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ma(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zM(t,e){let n=new Uw(t,e);return n.subscribe.bind(n)}var Uw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Zq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vw),i.error===void 0&&(i.error=Vw),i.complete===void 0&&(i.complete=Vw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Zq(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vw(){}var doe=4*60*60*1e3;function $e(t){return t&&t._delegate?t._delegate:t}var gt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qs="[DEFAULT]";var Gw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ip;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jq(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Xq(t){return t===qs?void 0:t}function Jq(t){return t.instantiationMode==="EAGER"}var Dp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Gw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var eG=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),tG={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},nG=we.INFO,rG={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},iG=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=rG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Vi=class{constructor(e){this.name=e,this._logLevel=nG,this._logHandler=iG,this._userLogHandler=null,eG.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var sG=(t,e)=>e.some(n=>t instanceof n),qM,GM;function oG(){return qM||(qM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aG(){return GM||(GM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WM=new WeakMap,Kw=new WeakMap,KM=new WeakMap,Ww=new WeakMap,Yw=new WeakMap;function cG(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($n(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WM.set(n,t)}).catch(()=>{}),Yw.set(e,t),e}function lG(t){if(Kw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Kw.set(t,e)}var Qw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QM(t){Qw=t(Qw)}function uG(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Cp(this),e,...n);return KM.set(r,e.sort?e.sort():[e]),$n(r)}:aG().includes(t)?function(...e){return t.apply(Cp(this),e),$n(WM.get(this))}:function(...e){return $n(t.apply(Cp(this),e))}}function dG(t){return typeof t=="function"?uG(t):(t instanceof IDBTransaction&&lG(t),sG(t,oG())?new Proxy(t,Qw):t)}function $n(t){if(t instanceof IDBRequest)return cG(t);if(Ww.has(t))return Ww.get(t);let e=dG(t);return e!==t&&(Ww.set(t,e),Yw.set(e,t)),e}var Cp=t=>Yw.get(t);function Gs(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=$n(o);return r&&o.addEventListener("upgradeneeded",c=>{r($n(o.result),c.oldVersion,c.newVersion,$n(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function Tp(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),$n(n).then(()=>{})}var hG=["get","getKey","getAll","getAllKeys","count"],fG=["put","add","delete","clear"],Zw=new Map;function YM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zw.get(e))return Zw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hG.includes(n)))return;let s=function(o,...a){return v(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Zw.set(e,s),s}QM(t=>pe(F({},t),{get:(e,n,r)=>YM(e,n)||t.get(e,n,r),has:(e,n)=>!!YM(e,n)||t.has(e,n)}));var Jw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pG(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function pG(t){let e=t.getComponent();return e?.type==="VERSION"}var eI="@firebase/app",ZM="0.10.5";var Ws=new Vi("@firebase/app"),gG="@firebase/app-compat",mG="@firebase/analytics-compat",yG="@firebase/analytics",vG="@firebase/app-check-compat",_G="@firebase/app-check",wG="@firebase/auth",IG="@firebase/auth-compat",EG="@firebase/database",bG="@firebase/database-compat",DG="@firebase/functions",CG="@firebase/functions-compat",TG="@firebase/installations",SG="@firebase/installations-compat",AG="@firebase/messaging",RG="@firebase/messaging-compat",xG="@firebase/performance",MG="@firebase/performance-compat",NG="@firebase/remote-config",PG="@firebase/remote-config-compat",OG="@firebase/storage",kG="@firebase/storage-compat",FG="@firebase/firestore",LG="@firebase/vertexai-preview",VG="@firebase/firestore-compat",jG="firebase",UG="10.12.2";var tI="[DEFAULT]",BG={[eI]:"fire-core",[gG]:"fire-core-compat",[yG]:"fire-analytics",[mG]:"fire-analytics-compat",[_G]:"fire-app-check",[vG]:"fire-app-check-compat",[wG]:"fire-auth",[IG]:"fire-auth-compat",[EG]:"fire-rtdb",[bG]:"fire-rtdb-compat",[DG]:"fire-fn",[CG]:"fire-fn-compat",[TG]:"fire-iid",[SG]:"fire-iid-compat",[AG]:"fire-fcm",[RG]:"fire-fcm-compat",[xG]:"fire-perf",[MG]:"fire-perf-compat",[NG]:"fire-rc",[PG]:"fire-rc-compat",[OG]:"fire-gcs",[kG]:"fire-gcs-compat",[FG]:"fire-fst",[VG]:"fire-fst-compat",[LG]:"fire-vertex","fire-js":"fire-js",[jG]:"fire-js-all"};var eu=new Map,$G=new Map,nI=new Map;function XM(t,e){try{t.container.addComponent(e)}catch(n){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nn(t){let e=t.name;if(nI.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;nI.set(e,t);for(let n of eu.values())XM(n,t);for(let n of $G.values())XM(n,t);return!0}function yr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t.settings!==void 0}var HG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ji=new an("app","Firebase",HG);var rI=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ji.create("app-deleted",{appName:this._name})}};var Ui=UG;function oI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:tI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ji.create("bad-app-name",{appName:String(i)});if(n||(n=Hw()),!n)throw ji.create("no-options");let s=eu.get(i);if(s){if(Li(n,s.options)&&Li(r,s.config))return s;throw ji.create("duplicate-app",{appName:i})}let o=new Dp(i);for(let c of nI.values())o.addComponent(c);let a=new rI(n,r,o);return eu.set(i,a),a}function Wr(t=tI){let e=eu.get(t);if(!e&&t===tI&&Hw())return oI();if(!e)throw ji.create("no-app",{appName:t});return e}function Sp(){return Array.from(eu.values())}function Ue(t,e,n){var r;let i=(r=BG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ws.warn(a.join(" "));return}nn(new gt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var zG="firebase-heartbeat-database",qG=1,tu="firebase-heartbeat-store",Xw=null;function nN(){return Xw||(Xw=Gs(zG,qG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ji.create("idb-open",{originalErrorMessage:t.message})})),Xw}function GG(t){return v(this,null,function*(){try{let n=(yield nN()).transaction(tu),r=yield n.objectStore(tu).get(rN(t));return yield n.done,r}catch(e){if(e instanceof qt)Ws.warn(e.message);else{let n=ji.create("idb-get",{originalErrorMessage:e?.message});Ws.warn(n.message)}}})}function JM(t,e){return v(this,null,function*(){try{let r=(yield nN()).transaction(tu,"readwrite");yield r.objectStore(tu).put(e,rN(t)),yield r.done}catch(n){if(n instanceof qt)Ws.warn(n.message);else{let r=ji.create("idb-set",{originalErrorMessage:n?.message});Ws.warn(r.message)}}})}function rN(t){return`${t.name}!${t.options.appId}`}var WG=1024,KG=30*24*60*60*1e3,iI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new sI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eN();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=KG}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return v(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=eN(),{heartbeatsToSend:r,unsentEntries:i}=QG(this._heartbeatsCache.heartbeats),s=Bw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function eN(){return new Date().toISOString().substring(0,10)}function QG(t,e=WG){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),tN(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tN(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var sI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Aa()?bp().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield GG(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return JM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return JM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tN(t){return Bw(JSON.stringify({version:2,heartbeats:t})).length}function YG(t){nn(new gt("platform-logger",e=>new Jw(e),"PRIVATE")),nn(new gt("heartbeat",e=>new iI(e),"PRIVATE")),Ue(eI,ZM,t),Ue(eI,ZM,"esm2017"),Ue("fire-js","")}YG("");var ZG="firebase",XG="10.12.2";Ue(ZG,XG,"app");var Kr=new ar("ANGULARFIRE2_VERSION"),iN=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Oa(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Qs=(t,e)=>{let n=e?[e]:Sp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Pa=class{constructor(){return Qs(JG)}},JG="app-check";function Na(){}var Ap=class{zone;delegate;constructor(e,n=Qy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},aI=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Na,{},Na,Na)),n.pipe(tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Bi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Ap(Zone.current)),this.insideAngular=n.run(()=>new Ap(Zone.current,yn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(K))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Rp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function e4(t){return Rp().ngZone.runOutsideAngular(()=>t())}function Ks(t){return Rp().ngZone.run(()=>t())}function t4(t){return n4(Rp())(t)}function n4(t){return function(n){return n=n.lift(new aI(t.ngZone)),n.pipe(mi(t.outsideAngular),gi(t.insideAngular))}}var r4=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ks(()=>t.apply(void 0,r))},xe=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Na,{},Na,Na))),r[s]=r4(r[s],n));let i=e4(()=>t.apply(this,r));if(!e)if(i instanceof ne){let s=Rp();return i.pipe(mi(s.outsideAngular),gi(s.insideAngular))}else return Ks(()=>i);return i instanceof ne?i.pipe(t4):i instanceof Promise?Ks(()=>new Promise((s,o)=>i.then(a=>Ks(()=>s(a)),a=>Ks(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ks(()=>i)};var Hn=class{constructor(e){return e}},Qr=class{constructor(){return Sp()}};function i4(t){return t&&t.length===1?t[0]:new Hn(Wr())}var cI=new j("angularfire2._apps"),s4={provide:Hn,useFactory:i4,deps:[[new ct,cI]]},o4={provide:Qr,deps:[[new ct,cI]]};function a4(t){return(e,n)=>{let r=n.get(en);Ue("angularfire",Kr.full,"core"),Ue("angularfire",Kr.full,"app"),Ue("angular",Hx.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Hn(i)}}function Yoe(t,...e){return on([s4,o4,{provide:cI,useFactory:a4(t),multi:!0,deps:[K,Ce,Bi,...e]}])}var Zoe=xe(Wr,!0);var Xoe=xe(oI,!0);function IN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var EN=IN,bN=new an("auth","Firebase",IN());var kp=new Vi("@firebase/auth");function c4(t,...e){kp.logLevel<=we.WARN&&kp.warn(`Auth (${Ui}): ${t}`,...e)}function Mp(t,...e){kp.logLevel<=we.ERROR&&kp.error(`Auth (${Ui}): ${t}`,...e)}function Cn(t,...e){throw RI(t,...e)}function zn(t,...e){return RI(t,...e)}function AI(t,e,n){let r=Object.assign(Object.assign({},EN()),{[e]:n});return new an("auth","Firebase",r).create(e,{appName:t.name})}function Xr(t){return AI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l4(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Cn(t,"argument-error"),AI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function RI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bN.create(t,...e)}function ae(t,e,...n){if(!t)throw RI(e,...n)}function Yr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Mp(e),new Error(e)}function Jr(t,e){t||Yr(e)}function dI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function u4(){return sN()==="http:"||sN()==="https:"}function sN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function d4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u4()||jM()||"connection"in navigator)?navigator.onLine:!0}function h4(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ys=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jr(n>e,"Short delay should be less than long delay!"),this.isMobile=VM()||UM()}get(){return d4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xI(t,e){Jr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Fp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var f4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var p4=new Ys(3e4,6e4);function Hi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function zi(s,o,a,c){return v(this,arguments,function*(t,e,n,r,i={}){return DN(t,i,()=>v(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Ra(Object.assign({key:t.config.apiKey},d)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),Fp.fetch()(CN(t,t.config.apiHost,n,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},u))}))})}function DN(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},f4),e);try{let i=new hI(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw xp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw xp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw xp(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw AI(t,d,u);Cn(t,d)}}catch(i){if(i instanceof qt)throw i;Cn(t,"network-request-failed",{message:String(i)})}})}function lu(s,o,a,c){return v(this,arguments,function*(t,e,n,r,i={}){let u=yield zi(t,e,n,r,i);return"mfaPendingCredential"in u&&Cn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function CN(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?xI(t.config,i):`${t.config.apiScheme}://${i}`}function g4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var hI=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),p4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=zn(t,e,r);return i.customData._tokenResponse=n,i}function oN(t){return t!==void 0&&t.enterprise!==void 0}var fI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return g4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function m4(t,e){return v(this,null,function*(){return zi(t,"GET","/v2/recaptchaConfig",Hi(t,e))})}function y4(t,e){return v(this,null,function*(){return zi(t,"POST","/v1/accounts:delete",e)})}function TN(t,e){return v(this,null,function*(){return zi(t,"POST","/v1/accounts:lookup",e)})}function nu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function MI(t,e=!1){return v(this,null,function*(){let n=$e(t),r=yield n.getIdToken(e),i=NI(r);ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:nu(lI(i.auth_time)),issuedAtTime:nu(lI(i.iat)),expirationTime:nu(lI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function lI(t){return Number(t)*1e3}function NI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Mp("JWT malformed, contained fewer than 3 sections"),null;try{let i=$w(n);return i?JSON.parse(i):(Mp("Failed to decode base64 JWT payload"),null)}catch(i){return Mp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aN(t){let e=NI(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function iu(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof qt&&v4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function v4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var pI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var su=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nu(this.lastLoginAt),this.creationTime=nu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Lp(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield iu(t,TN(n,{idToken:r}));ae(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?SN(s.providerUserInfo):[],a=_4(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new su(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function PI(t){return v(this,null,function*(){let e=$e(t);yield Lp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function _4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SN(t){return t.map(e=>{var{providerId:n}=e,r=Nh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function w4(t,e){return v(this,null,function*(){let n=yield DN(t,{},()=>v(this,null,function*(){let r=Ra({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=CN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Fp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function I4(t,e){return v(this,null,function*(){return zi(t,"POST","/v2/accounts:revokeToken",Hi(t,e))})}var ru=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");let n=aN(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield w4(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ae(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ae(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Yr("not implemented")}};function $i(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new su(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield iu(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return MI(this,e)}reload(){return PI(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Lp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(Dn(this.auth.app))return Promise.reject(Xr(this.auth));let e=yield this.getIdToken();return yield iu(this,y4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;let f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,A=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,k=(u=n.createdAt)!==null&&u!==void 0?u:void 0,B=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:$,emailVerified:G,isAnonymous:ie,providerData:W,stsTokenManager:b}=n;ae($&&b,e,"internal-error");let _=ru.fromJSON(this.name,b);ae(typeof $=="string",e,"internal-error"),$i(f,e.name),$i(g,e.name),ae(typeof G=="boolean",e,"internal-error"),ae(typeof ie=="boolean",e,"internal-error"),$i(y,e.name),$i(w,e.name),$i(A,e.name),$i(S,e.name),$i(k,e.name),$i(B,e.name);let I=new t({uid:$,auth:e,email:g,emailVerified:G,displayName:f,isAnonymous:ie,photoURL:w,phoneNumber:y,tenantId:A,stsTokenManager:_,createdAt:k,lastLoginAt:B});return W&&Array.isArray(W)&&(I.providerData=W.map(D=>Object.assign({},D))),S&&(I._redirectEventId=S),I}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new ru;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Lp(s),s})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];ae(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?SN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new ru;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new su(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var cN=new Map;function Zr(t){Jr(t instanceof Function,"Expected a class definition");let e=cN.get(t);return e?(Jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cN.set(t,e),e)}var E4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),gI=E4;function Np(t,e,n){return`firebase:${t}:${e}:${n}`}var Vp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Np(this.userKey,i.apiKey,s),this.fullPersistenceKey=Np("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Zr(gI),e,r);let i=(yield Promise.all(n.map(u=>v(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Zr(gI),o=Np(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let f=Fa._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>v(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function lN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NN(e))return"Blackberry";if(PN(e))return"Webos";if(OI(e))return"Safari";if((e.includes("chrome/")||RN(e))&&!e.includes("edge/"))return"Chrome";if(MN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function AN(t=Ye()){return/firefox\//i.test(t)}function OI(t=Ye()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RN(t=Ye()){return/crios\//i.test(t)}function xN(t=Ye()){return/iemobile/i.test(t)}function MN(t=Ye()){return/android/i.test(t)}function NN(t=Ye()){return/blackberry/i.test(t)}function PN(t=Ye()){return/webos/i.test(t)}function Kp(t=Ye()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function b4(t=Ye()){var e;return Kp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D4(){return BM()&&document.documentMode===10}function ON(t=Ye()){return Kp(t)||MN(t)||PN(t)||NN(t)||/windows phone/i.test(t)||xN(t)}function C4(){try{return!!(window&&window!==window.top)}catch{return!1}}function kN(t,e=[]){let n;switch(t){case"Browser":n=lN(Ye());break;case"Worker":n=`${lN(Ye())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ui}/${r}`}var mI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function T4(n){return v(this,arguments,function*(t,e={}){return zi(t,"GET","/v2/passwordPolicy",Hi(t,e))})}var S4=6,yI=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:S4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var vI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jp(this),this.idTokenSubscription=new jp(this),this.beforeStateQueue=new mI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Vp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield TN(this,{idToken:e}),r=yield Fa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(Dn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Lp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=h4()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(Dn(this.app))return Promise.reject(Xr(this));let n=e?$e(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return Dn(this.app)?Promise.reject(Xr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Dn(this.app)?Promise.reject(Xr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Zr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield T4(this),n=new yI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new an("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield I4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zr(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=yield Vp.create(this,[Zr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&c4(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function qi(t){return $e(t)}var jp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=zM(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Qp={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function A4(t){Qp=t}function FN(t){return Qp.loadJS(t)}function R4(){return Qp.recaptchaEnterpriseScript}function x4(){return Qp.gapiScript}function LN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var M4="recaptcha-enterprise",N4="NO_RECAPTCHA",_I=class{constructor(e){this.type=M4,this.auth=qi(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(s){return v(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>v(this,null,function*(){m4(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new fI(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;oN(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(N4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&oN(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=R4();c.length!==0&&(c+=a),FN(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function uN(t,e,n,r=!1){return v(this,null,function*(){let i=new _I(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function wI(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield uN(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>v(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield uN(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function kI(t,e){let n=yr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Li(s,e??{}))return i;Cn(i,"already-initialized")}return n.initialize({options:e})}function P4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function FI(t,e,n){let r=qi(t);ae(r._canInitEmulator,r,"emulator-config-failed"),ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=VN(e),{host:o,port:a}=O4(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||k4()}function VN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O4(t){let e=VN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:dN(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:dN(o)}}}function dN(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function k4(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var La=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}};function F4(t,e){return v(this,null,function*(){return zi(t,"POST","/v1/accounts:signUp",e)})}function L4(t,e){return v(this,null,function*(){return lu(t,"POST","/v1/accounts:signInWithPassword",Hi(t,e))})}function V4(t,e){return v(this,null,function*(){return lu(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))})}function j4(t,e){return v(this,null,function*(){return lu(t,"POST","/v1/accounts:signInWithEmailLink",Hi(t,e))})}var ou=class t extends La{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wI(e,n,"signInWithPassword",L4);case"emailLink":return V4(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wI(e,r,"signUpPassword",F4);case"emailLink":return j4(e,{idToken:n,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ka(t,e){return v(this,null,function*(){return lu(t,"POST","/v1/accounts:signInWithIdp",Hi(t,e))})}var U4="http://localhost",Up=class t extends La{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nh(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return ka(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,ka(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ka(e,n)}buildRequest(){let e={requestUri:U4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ra(n)}return e}};function B4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $4(t){let e=xa(Ma(t)).link,n=e?xa(Ma(e)).deep_link_id:null,r=xa(Ma(t)).deep_link_id;return(r?xa(Ma(r)).link:null)||r||n||e||t}var Bp=class t{constructor(e){var n,r,i,s,o,a;let c=xa(Ma(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=B4((i=c.mode)!==null&&i!==void 0?i:null);ae(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=$4(e);try{return new t(n)}catch{return null}}};var jN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ou._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Bp.parseLink(r);return ae(i,"argument-error"),ou._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),au=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var $p=class extends au{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var LI=(()=>{class t extends $p{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Up._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function H4(t,e){return v(this,null,function*(){return lu(t,"POST","/v1/accounts:signUp",Hi(t,e))})}var Va=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let s=yield Fa._fromIdTokenResponse(e,r,i),o=hN(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=hN(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function hN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var II=class t extends qt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function UN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?II._fromErrorAndOperation(t,s,e,r):s})}function z4(t,e,n=!1){return v(this,null,function*(){let r=yield iu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Va._forOperation(t,"link",r)})}function q4(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(Dn(r.app))return Promise.reject(Xr(r));let i="reauthenticate";try{let s=yield iu(t,UN(r,i,e,t),n);ae(s.idToken,r,"internal-error");let o=NI(s.idToken);ae(o,r,"internal-error");let{sub:a}=o;return ae(t.uid===a,r,"user-mismatch"),Va._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Cn(r,"user-mismatch"),s}})}function BN(t,e,n=!1){return v(this,null,function*(){if(Dn(t.app))return Promise.reject(Xr(t));let r="signIn",i=yield UN(t,r,e),s=yield Va._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function VI(t,e){return v(this,null,function*(){return BN(qi(t),e)})}function $N(t){return v(this,null,function*(){let e=qi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function jI(t,e,n){return v(this,null,function*(){if(Dn(t.app))return Promise.reject(Xr(t));let r=qi(t),o=yield wI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&$N(t),c}),a=yield Va._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function UI(t,e,n){return Dn(t.app)?Promise.reject(Xr(t)):VI($e(t),jN.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&$N(t),r}))}function BI(t,e,n,r){return $e(t).onIdTokenChanged(e,n,r)}function $I(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function HI(t,e,n,r){return $e(t).onAuthStateChanged(e,n,r)}function zI(t){return $e(t).signOut()}var Hp="__sak";var zp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hp,"1"),this.storage.removeItem(Hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function G4(){let t=Ye();return OI(t)||Kp(t)}var W4=1e3,K4=10,Q4=(()=>{class t extends zp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=G4()&&C4(),this.fallbackToPolling=ON(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);D4()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,K4):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},W4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Yn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Yn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Yn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),HN=Q4;var Y4=(()=>{class t extends zp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),qI=Y4;function Z4(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var X4=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>v(this,null,function*(){return d(r.origin,o)})),u=yield Z4(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function GI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var EI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=GI("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function vr(){return window}function J4(t){vr().location.href=t}function zN(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}function eW(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function tW(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nW(){return zN()?self:null}var qN="firebaseLocalStorageDb",rW=1,qp="firebaseLocalStorage",GN="fbase_key",Zs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Yp(t,e){return t.transaction([qp],e?"readwrite":"readonly").objectStore(qp)}function iW(){let t=indexedDB.deleteDatabase(qN);return new Zs(t).toPromise()}function bI(){let t=indexedDB.open(qN,rW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(qp,{keyPath:GN})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(qp)?e(r):(r.close(),yield iW(),e(yield bI()))}))})}function fN(t,e,n){return v(this,null,function*(){let r=Yp(t,!0).put({[GN]:e,value:n});return new Zs(r).toPromise()})}function sW(t,e){return v(this,null,function*(){let n=Yp(t,!1).get(e),r=yield new Zs(n).toPromise();return r===void 0?null:r.value})}function pN(t,e){let n=Yp(t,!0).delete(e);return new Zs(n).toPromise()}var oW=800,aW=3,cW=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield bI(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>aW)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return zN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=X4._getInstance(nW()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield eW(),!this.activeServiceWorker)return;this.sender=new EI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||tW()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield bI();return yield fN(n,Hp,"1"),yield pN(n,Hp),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>fN(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>sW(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>pN(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(s=>{let o=Yp(s,!1).getAll();return new Zs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),oW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),WN=cW;var oae=LN("rcb"),aae=new Ys(3e4,6e4);function KN(t,e){return e?Zr(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var cu=class extends La{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ka(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ka(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ka(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function lW(t){return BN(t.auth,new cu(t),t.bypassAuthState)}function uW(t){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),q4(n,new cu(t),t.bypassAuthState)}function dW(t){return v(this,null,function*(){let{auth:e,user:n}=t;return ae(n,e,"internal-error"),z4(n,new cu(t),t.bypassAuthState)})}var Gp=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lW;case"linkViaPopup":case"linkViaRedirect":return dW;case"reauthViaPopup":case"reauthViaRedirect":return uW;default:Cn(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var hW=new Ys(2e3,1e4);function WI(t,e,n){return v(this,null,function*(){if(Dn(t.app))return Promise.reject(zn(t,"operation-not-supported-in-this-environment"));let r=qi(t);l4(t,e,au);let i=KN(r,n);return new fW(r,"signInViaPopup",e,i).executeNotNull()})}var fW=(()=>{class t extends Gp{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let n=yield this.execute();return ae(n,this.auth,"internal-error"),n})}onExecution(){return v(this,null,function*(){Jr(this.filter.length===1,"Popup operations only handle one event");let n=GI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,hW.get())};n()}}t.currentPopupAction=null;return t})(),pW="pendingRedirect",Pp=new Map,DI=class t extends Gp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=Pp.get(this.auth._key());if(!e){try{let r=(yield gW(this.resolver,this.auth))?yield Yn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pp.set(this.auth._key(),e)}return this.bypassAuthState||Pp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Yn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Yn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function gW(t,e){return v(this,null,function*(){let n=vW(e),r=yW(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function mW(t,e){Pp.set(t._key(),e)}function yW(t){return Zr(t._redirectPersistence)}function vW(t){return Np(pW,t.config.apiKey,t.name)}function _W(t,e,n=!1){return v(this,null,function*(){if(Dn(t.app))return Promise.reject(Xr(t));let r=qi(t),i=KN(r,e),o=yield new DI(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var wW=10*60*1e3,CI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wW&&this.cachedEventUids.clear(),this.cachedEventUids.has(gN(e))}saveEventToCache(e){this.cachedEventUids.add(gN(e)),this.lastProcessedEventTime=Date.now()}};function gN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function IW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QN(t);default:return!1}}function EW(n){return v(this,arguments,function*(t,e={}){return zi(t,"GET","/v1/projects",e)})}var bW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DW=/^https?/;function CW(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield EW(t);for(let n of e)try{if(TW(n))return}catch{}Cn(t,"unauthorized-domain")})}function TW(t){let e=dI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DW.test(n))return!1;if(bW.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var SW=new Ys(3e4,6e4);function mN(){let t=vr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AW(t){return new Promise((e,n)=>{var r,i,s;function o(){mN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mN(),n(zn(t,"network-request-failed"))},timeout:SW.get()})}if(!((i=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=vr().gapi)===null||s===void 0)&&s.load)o();else{let a=LN("iframefcb");return vr()[a]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},FN(`${x4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Op=null,e})}var Op=null;function RW(t){return Op=Op||AW(t),Op}var xW=new Ys(5e3,15e3),MW="__/auth/iframe",NW="emulator/auth/iframe",PW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kW(t){let e=t.config;ae(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?xI(e,NW):`https://${t.config.authDomain}/${MW}`,r={apiKey:e.apiKey,appName:t.name,v:Ui},i=OW.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ra(r).slice(1)}`}function FW(t){return v(this,null,function*(){let e=yield RW(t),n=vr().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:kW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PW,dontclear:!0},r=>new Promise((i,s)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=zn(t,"network-request-failed"),a=vr().setTimeout(()=>{s(o)},xW.get());function c(){vr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var LW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VW=500,jW=600,UW="_blank",BW="http://localhost",Wp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $W(t,e,n,r=VW,i=jW){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},LW),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ye().toLowerCase();n&&(a=RN(u)?UW:n),AN(u)&&(e=e||BW,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(b4(u)&&a!=="_self")return HW(e||"",a),new Wp(null);let f=window.open(e||"",a,d);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new Wp(f)}function HW(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zW="__/auth/handler",qW="emulator/auth/handler",GW=encodeURIComponent("fac");function yN(t,e,n,r,i,s){return v(this,null,function*(){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ui,eventId:i};if(e instanceof au){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",HM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof $p){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${GW}=${encodeURIComponent(c)}`:"";return`${WW(t)}?${Ra(a).slice(1)}${u}`})}function WW({config:t}){return t.emulator?xI(t,qW):`https://${t.authDomain}/${zW}`}var uI="webStorageSupport",TI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qI,this._completeRedirectFn=_W,this._overrideRedirectResult=mW}_openPopup(e,n,r,i){return v(this,null,function*(){var s;Jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield yN(e,n,r,dI(),i);return $W(e,o,GI())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let s=yield yN(e,n,r,dI(),i);return J4(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield FW(e),r=new CI(e);return n.register("authEvent",i=>(ae(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uI,{type:uI},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[uI];o!==void 0&&n(!!o),Cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ON()||OI()||Kp()}},YN=TI;var vN="@firebase/auth",_N="1.7.4";var SI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function KW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QW(t){nn(new gt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kN(t)},u=new vI(r,i,s,c);return P4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),nn(new gt("auth-internal",e=>{let n=qi(e.getProvider("auth").getImmediate());return(r=>new SI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ue(vN,_N,KW(t)),Ue(vN,_N,"esm2017")}var YW=5*60,ZW=zw("authIdTokenMaxAge")||YW,wN=null,XW=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZW)return;let i=n?.token;wN!==i&&(wN=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function KI(t=Wr()){let e=yr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=kI(t,{popupRedirectResolver:YN,persistence:[WN,HN,qI]}),r=zw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=XW(s.toString());$I(n,o,()=>o(n.currentUser)),BI(n,a=>o(a))}}let i=LM("auth");return i&&FI(n,`http://${i}`),n}function JW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}A4({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",JW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QW("Browser");var ZN="auth",Xs=class{constructor(e){return e}},uu=class{constructor(){return Qs(ZN)}};var QI=new j("angularfire2.auth-instances");function B3(t,e){let n=Oa(ZN,t,e);return n&&new Xs(n)}function $3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Xs(r)}}var H3={provide:uu,deps:[[new ct,QI]]},z3={provide:Xs,useFactory:B3,deps:[[new ct,QI],Hn]};function $ae(t,...e){return Ue("angularfire",Kr.full,"auth"),on([z3,H3,{provide:QI,useFactory:$3(t),multi:!0,deps:[K,Ce,Bi,Qr,[new ct,Pa],...e]}])}var XN=xe(jI,!0);var YI=xe(KI,!0);var JN=xe(HI,!0);var eP=xe(UI,!0);var tP=xe(WI,!0);var nP=xe(zI,!0);var rP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iP={};var Gi,ZI;(function(){var t;function e(b,_){function I(){}I.prototype=_.prototype,b.D=_.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(D,C,x){for(var E=Array(arguments.length-2),Sr=2;Sr<arguments.length;Sr++)E[Sr-2]=arguments[Sr];return _.prototype[C].apply(D,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,I){I||(I=0);var D=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)D[C]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(C=0;16>C;++C)D[C]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=b.g[0],I=b.g[1],C=b.g[2];var x=b.g[3],E=_+(x^I&(C^x))+D[0]+3614090360&4294967295;_=I+(E<<7&4294967295|E>>>25),E=x+(C^_&(I^C))+D[1]+3905402710&4294967295,x=_+(E<<12&4294967295|E>>>20),E=C+(I^x&(_^I))+D[2]+606105819&4294967295,C=x+(E<<17&4294967295|E>>>15),E=I+(_^C&(x^_))+D[3]+3250441966&4294967295,I=C+(E<<22&4294967295|E>>>10),E=_+(x^I&(C^x))+D[4]+4118548399&4294967295,_=I+(E<<7&4294967295|E>>>25),E=x+(C^_&(I^C))+D[5]+1200080426&4294967295,x=_+(E<<12&4294967295|E>>>20),E=C+(I^x&(_^I))+D[6]+2821735955&4294967295,C=x+(E<<17&4294967295|E>>>15),E=I+(_^C&(x^_))+D[7]+4249261313&4294967295,I=C+(E<<22&4294967295|E>>>10),E=_+(x^I&(C^x))+D[8]+1770035416&4294967295,_=I+(E<<7&4294967295|E>>>25),E=x+(C^_&(I^C))+D[9]+2336552879&4294967295,x=_+(E<<12&4294967295|E>>>20),E=C+(I^x&(_^I))+D[10]+4294925233&4294967295,C=x+(E<<17&4294967295|E>>>15),E=I+(_^C&(x^_))+D[11]+2304563134&4294967295,I=C+(E<<22&4294967295|E>>>10),E=_+(x^I&(C^x))+D[12]+1804603682&4294967295,_=I+(E<<7&4294967295|E>>>25),E=x+(C^_&(I^C))+D[13]+4254626195&4294967295,x=_+(E<<12&4294967295|E>>>20),E=C+(I^x&(_^I))+D[14]+2792965006&4294967295,C=x+(E<<17&4294967295|E>>>15),E=I+(_^C&(x^_))+D[15]+1236535329&4294967295,I=C+(E<<22&4294967295|E>>>10),E=_+(C^x&(I^C))+D[1]+4129170786&4294967295,_=I+(E<<5&4294967295|E>>>27),E=x+(I^C&(_^I))+D[6]+3225465664&4294967295,x=_+(E<<9&4294967295|E>>>23),E=C+(_^I&(x^_))+D[11]+643717713&4294967295,C=x+(E<<14&4294967295|E>>>18),E=I+(x^_&(C^x))+D[0]+3921069994&4294967295,I=C+(E<<20&4294967295|E>>>12),E=_+(C^x&(I^C))+D[5]+3593408605&4294967295,_=I+(E<<5&4294967295|E>>>27),E=x+(I^C&(_^I))+D[10]+38016083&4294967295,x=_+(E<<9&4294967295|E>>>23),E=C+(_^I&(x^_))+D[15]+3634488961&4294967295,C=x+(E<<14&4294967295|E>>>18),E=I+(x^_&(C^x))+D[4]+3889429448&4294967295,I=C+(E<<20&4294967295|E>>>12),E=_+(C^x&(I^C))+D[9]+568446438&4294967295,_=I+(E<<5&4294967295|E>>>27),E=x+(I^C&(_^I))+D[14]+3275163606&4294967295,x=_+(E<<9&4294967295|E>>>23),E=C+(_^I&(x^_))+D[3]+4107603335&4294967295,C=x+(E<<14&4294967295|E>>>18),E=I+(x^_&(C^x))+D[8]+1163531501&4294967295,I=C+(E<<20&4294967295|E>>>12),E=_+(C^x&(I^C))+D[13]+2850285829&4294967295,_=I+(E<<5&4294967295|E>>>27),E=x+(I^C&(_^I))+D[2]+4243563512&4294967295,x=_+(E<<9&4294967295|E>>>23),E=C+(_^I&(x^_))+D[7]+1735328473&4294967295,C=x+(E<<14&4294967295|E>>>18),E=I+(x^_&(C^x))+D[12]+2368359562&4294967295,I=C+(E<<20&4294967295|E>>>12),E=_+(I^C^x)+D[5]+4294588738&4294967295,_=I+(E<<4&4294967295|E>>>28),E=x+(_^I^C)+D[8]+2272392833&4294967295,x=_+(E<<11&4294967295|E>>>21),E=C+(x^_^I)+D[11]+1839030562&4294967295,C=x+(E<<16&4294967295|E>>>16),E=I+(C^x^_)+D[14]+4259657740&4294967295,I=C+(E<<23&4294967295|E>>>9),E=_+(I^C^x)+D[1]+2763975236&4294967295,_=I+(E<<4&4294967295|E>>>28),E=x+(_^I^C)+D[4]+1272893353&4294967295,x=_+(E<<11&4294967295|E>>>21),E=C+(x^_^I)+D[7]+4139469664&4294967295,C=x+(E<<16&4294967295|E>>>16),E=I+(C^x^_)+D[10]+3200236656&4294967295,I=C+(E<<23&4294967295|E>>>9),E=_+(I^C^x)+D[13]+681279174&4294967295,_=I+(E<<4&4294967295|E>>>28),E=x+(_^I^C)+D[0]+3936430074&4294967295,x=_+(E<<11&4294967295|E>>>21),E=C+(x^_^I)+D[3]+3572445317&4294967295,C=x+(E<<16&4294967295|E>>>16),E=I+(C^x^_)+D[6]+76029189&4294967295,I=C+(E<<23&4294967295|E>>>9),E=_+(I^C^x)+D[9]+3654602809&4294967295,_=I+(E<<4&4294967295|E>>>28),E=x+(_^I^C)+D[12]+3873151461&4294967295,x=_+(E<<11&4294967295|E>>>21),E=C+(x^_^I)+D[15]+530742520&4294967295,C=x+(E<<16&4294967295|E>>>16),E=I+(C^x^_)+D[2]+3299628645&4294967295,I=C+(E<<23&4294967295|E>>>9),E=_+(C^(I|~x))+D[0]+4096336452&4294967295,_=I+(E<<6&4294967295|E>>>26),E=x+(I^(_|~C))+D[7]+1126891415&4294967295,x=_+(E<<10&4294967295|E>>>22),E=C+(_^(x|~I))+D[14]+2878612391&4294967295,C=x+(E<<15&4294967295|E>>>17),E=I+(x^(C|~_))+D[5]+4237533241&4294967295,I=C+(E<<21&4294967295|E>>>11),E=_+(C^(I|~x))+D[12]+1700485571&4294967295,_=I+(E<<6&4294967295|E>>>26),E=x+(I^(_|~C))+D[3]+2399980690&4294967295,x=_+(E<<10&4294967295|E>>>22),E=C+(_^(x|~I))+D[10]+4293915773&4294967295,C=x+(E<<15&4294967295|E>>>17),E=I+(x^(C|~_))+D[1]+2240044497&4294967295,I=C+(E<<21&4294967295|E>>>11),E=_+(C^(I|~x))+D[8]+1873313359&4294967295,_=I+(E<<6&4294967295|E>>>26),E=x+(I^(_|~C))+D[15]+4264355552&4294967295,x=_+(E<<10&4294967295|E>>>22),E=C+(_^(x|~I))+D[6]+2734768916&4294967295,C=x+(E<<15&4294967295|E>>>17),E=I+(x^(C|~_))+D[13]+1309151649&4294967295,I=C+(E<<21&4294967295|E>>>11),E=_+(C^(I|~x))+D[4]+4149444226&4294967295,_=I+(E<<6&4294967295|E>>>26),E=x+(I^(_|~C))+D[11]+3174756917&4294967295,x=_+(E<<10&4294967295|E>>>22),E=C+(_^(x|~I))+D[2]+718787259&4294967295,C=x+(E<<15&4294967295|E>>>17),E=I+(x^(C|~_))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(C+(E<<21&4294967295|E>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+x&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var I=_-this.blockSize,D=this.B,C=this.h,x=0;x<_;){if(C==0)for(;x<=I;)i(this,b,x),x+=this.blockSize;if(typeof b=="string"){for(;x<_;)if(D[C++]=b.charCodeAt(x++),C==this.blockSize){i(this,D),C=0;break}}else for(;x<_;)if(D[C++]=b[x++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var I=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=I&255,I/=256;for(this.u(b),b=Array(16),_=I=0;4>_;++_)for(var D=0;32>D;D+=8)b[I++]=this.g[_]>>>D&255;return b};function s(b,_){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=_(b)}function o(b,_){this.h=_;for(var I=[],D=!0,C=b.length-1;0<=C;C--){var x=b[C]|0;D&&x==_||(I[C]=x,D=!1)}this.g=I}var a={};function c(b){return-128<=b&&128>b?s(b,function(_){return new o([_|0],0>_?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return S(u(-b));for(var _=[],I=1,D=0;b>=I;D++)_[D]=b/I|0,I*=4294967296;return new o(_,0)}function d(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return S(d(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(_,8)),D=f,C=0;C<b.length;C+=8){var x=Math.min(8,b.length-C),E=parseInt(b.substring(C,C+x),_);8>x?(x=u(Math.pow(_,x)),D=D.j(x).add(u(E))):(D=D.j(I),D=D.add(u(E)))}return D}var f=c(0),g=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(A(this))return-S(this).m();for(var b=0,_=1,I=0;I<this.g.length;I++){var D=this.i(I);b+=(0<=D?D:4294967296+D)*_,_*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(w(this))return"0";if(A(this))return"-"+S(this).toString(b);for(var _=u(Math.pow(b,6)),I=this,D="";;){var C=G(I,_).g;I=k(I,C.j(_));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=C,w(I))return x+D;for(;6>x.length;)x="0"+x;D=x+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function w(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function A(b){return b.h==-1}t.l=function(b){return b=k(this,b),A(b)?-1:w(b)?0:1};function S(b){for(var _=b.g.length,I=[],D=0;D<_;D++)I[D]=~b.g[D];return new o(I,~b.h).add(g)}t.abs=function(){return A(this)?S(this):this},t.add=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],D=0,C=0;C<=_;C++){var x=D+(this.i(C)&65535)+(b.i(C)&65535),E=(x>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);D=E>>>16,x&=65535,E&=65535,I[C]=E<<16|x}return new o(I,I[I.length-1]&-2147483648?-1:0)};function k(b,_){return b.add(S(_))}t.j=function(b){if(w(this)||w(b))return f;if(A(this))return A(b)?S(this).j(S(b)):S(S(this).j(b));if(A(b))return S(this.j(S(b)));if(0>this.l(y)&&0>b.l(y))return u(this.m()*b.m());for(var _=this.g.length+b.g.length,I=[],D=0;D<2*_;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<b.g.length;C++){var x=this.i(D)>>>16,E=this.i(D)&65535,Sr=b.i(C)>>>16,$c=b.i(C)&65535;I[2*D+2*C]+=E*$c,B(I,2*D+2*C),I[2*D+2*C+1]+=x*$c,B(I,2*D+2*C+1),I[2*D+2*C+1]+=E*Sr,B(I,2*D+2*C+1),I[2*D+2*C+2]+=x*Sr,B(I,2*D+2*C+2)}for(D=0;D<_;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=_;D<2*_;D++)I[D]=0;return new o(I,0)};function B(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function $(b,_){this.g=b,this.h=_}function G(b,_){if(w(_))throw Error("division by zero");if(w(b))return new $(f,f);if(A(b))return _=G(S(b),_),new $(S(_.g),S(_.h));if(A(_))return _=G(b,S(_)),new $(S(_.g),_.h);if(30<b.g.length){if(A(b)||A(_))throw Error("slowDivide_ only works with positive integers.");for(var I=g,D=_;0>=D.l(b);)I=ie(I),D=ie(D);var C=W(I,1),x=W(D,1);for(D=W(D,2),I=W(I,2);!w(D);){var E=x.add(D);0>=E.l(b)&&(C=C.add(I),x=E),D=W(D,1),I=W(I,1)}return _=k(b,C.j(_)),new $(C,_)}for(C=f;0<=b.l(_);){for(I=Math.max(1,Math.floor(b.m()/_.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),x=u(I),E=x.j(_);A(E)||0<E.l(b);)I-=D,x=u(I),E=x.j(_);w(x)&&(x=g),C=C.add(x),b=k(b,E)}return new $(C,b)}t.A=function(b){return G(this,b).h},t.and=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)&b.i(D);return new o(I,this.h&b.h)},t.or=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)|b.i(D);return new o(I,this.h|b.h)},t.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],D=0;D<_;D++)I[D]=this.i(D)^b.i(D);return new o(I,this.h^b.h)};function ie(b){for(var _=b.g.length+1,I=[],D=0;D<_;D++)I[D]=b.i(D)<<1|b.i(D-1)>>>31;return new o(I,b.h)}function W(b,_){var I=_>>5;_%=32;for(var D=b.g.length-I,C=[],x=0;x<D;x++)C[x]=0<_?b.i(x+I)>>>_|b.i(x+I+1)<<32-_:b.i(x+I);return new o(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZI=iP.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Gi=iP.Integer=o}).apply(typeof rP<"u"?rP:typeof self<"u"?self:typeof window<"u"?window:{});var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ei={};var XI,JI,ja,eE,du,Xp,tE,nE,rE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zp=="object"&&Zp];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var m=0;m<l.length-1;m++){var T=l[m];if(!(T in p))break e;p=p[T]}l=l[l.length-1],m=p[l],h=h(m),h!=m&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,m=!1,T={next:function(){if(!m&&p<l.length){var N=p++;return{value:h(N,l[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),l.apply(h,T)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),l.apply(this,m)}}function w(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(m,T,N){for(var z=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)z[Le-2]=arguments[Le];return h.prototype[T].apply(m,z)}}function A(l){let h=l.length;if(0<h){let p=Array(h);for(let m=0;m<h;m++)p[m]=l[m];return p}return[]}function S(l,h){for(let p=1;p<arguments.length;p++){let m=arguments[p];if(c(m)){let T=l.length||0,N=m.length||0;l.length=T+N;for(let z=0;z<N;z++)l[T+z]=m[z]}else l.push(m)}}class k{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function B(l){return/^[\s\xa0]*$/.test(l)}function $(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function G(l){return G[" "](l),l}G[" "]=function(){};var ie=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function W(l,h,p){for(let m in l)h.call(p,l[m],m,l)}function b(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function _(l){let h={};for(let p in l)h[p]=l[p];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,h){let p,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(p in m)l[p]=m[p];for(let N=0;N<I.length;N++)p=I[N],Object.prototype.hasOwnProperty.call(m,p)&&(l[p]=m[p])}}function C(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function x(l){a.setTimeout(()=>{throw l},0)}function E(){var l=cy;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Sr{constructor(){this.h=this.g=null}add(h,p){let m=$c.get();m.set(h,p),this.h?this.h.next=m:this.g=m,this.h=m}}var $c=new k(()=>new iV,l=>l.reset());class iV{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Hc,zc=!1,cy=new Sr,vC=()=>{let l=a.Promise.resolve(void 0);Hc=()=>{l.then(sV)}};var sV=()=>{for(var l;l=E();){try{l.h.call(l.g)}catch(p){x(p)}var h=$c;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}zc=!1};function ci(){this.s=this.s,this.C=this.C}ci.prototype.s=!1,ci.prototype.ma=function(){this.s||(this.s=!0,this.N())},ci.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Dt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var oV=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function qc(l,h){if(Dt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,m=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(ie){e:{try{G(h.nodeName);var T=!0;break e}catch{}T=!1}T||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:aV[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&qc.aa.h.call(this)}}w(qc,Dt);var aV={2:"touch",3:"pen",4:"mouse"};qc.prototype.h=function(){qc.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Gc="closure_listenable_"+(1e6*Math.random()|0),cV=0;function lV(l,h,p,m,T){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!m,this.ha=T,this.key=++cV,this.da=this.fa=!1}function Wd(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Kd(l){this.src=l,this.g={},this.h=0}Kd.prototype.add=function(l,h,p,m,T){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var z=uy(l,h,m,T);return-1<z?(h=l[z],p||(h.fa=!1)):(h=new lV(h,this.src,N,!!m,T),h.fa=p,l.push(h)),h};function ly(l,h){var p=h.type;if(p in l.g){var m=l.g[p],T=Array.prototype.indexOf.call(m,h,void 0),N;(N=0<=T)&&Array.prototype.splice.call(m,T,1),N&&(Wd(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function uy(l,h,p,m){for(var T=0;T<l.length;++T){var N=l[T];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==m)return T}return-1}var dy="closure_lm_"+(1e6*Math.random()|0),hy={};function _C(l,h,p,m,T){if(m&&m.once)return IC(l,h,p,m,T);if(Array.isArray(h)){for(var N=0;N<h.length;N++)_C(l,h[N],p,m,T);return null}return p=my(p),l&&l[Gc]?l.K(h,p,u(m)?!!m.capture:!!m,T):wC(l,h,p,!1,m,T)}function wC(l,h,p,m,T,N){if(!h)throw Error("Invalid event type");var z=u(T)?!!T.capture:!!T,Le=py(l);if(Le||(l[dy]=Le=new Kd(l)),p=Le.add(h,p,m,z,N),p.proxy)return p;if(m=uV(),p.proxy=m,m.src=l,m.listener=p,l.addEventListener)oV||(T=z),T===void 0&&(T=!1),l.addEventListener(h.toString(),m,T);else if(l.attachEvent)l.attachEvent(bC(h.toString()),m);else if(l.addListener&&l.removeListener)l.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return p}function uV(){function l(p){return h.call(l.src,l.listener,p)}let h=dV;return l}function IC(l,h,p,m,T){if(Array.isArray(h)){for(var N=0;N<h.length;N++)IC(l,h[N],p,m,T);return null}return p=my(p),l&&l[Gc]?l.L(h,p,u(m)?!!m.capture:!!m,T):wC(l,h,p,!0,m,T)}function EC(l,h,p,m,T){if(Array.isArray(h))for(var N=0;N<h.length;N++)EC(l,h[N],p,m,T);else m=u(m)?!!m.capture:!!m,p=my(p),l&&l[Gc]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],p=uy(N,p,m,T),-1<p&&(Wd(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=py(l))&&(h=l.g[h.toString()],l=-1,h&&(l=uy(h,p,m,T)),(p=-1<l?h[l]:null)&&fy(p))}function fy(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Gc])ly(h.i,l);else{var p=l.type,m=l.proxy;h.removeEventListener?h.removeEventListener(p,m,l.capture):h.detachEvent?h.detachEvent(bC(p),m):h.addListener&&h.removeListener&&h.removeListener(m),(p=py(h))?(ly(p,l),p.h==0&&(p.src=null,h[dy]=null)):Wd(l)}}}function bC(l){return l in hy?hy[l]:hy[l]="on"+l}function dV(l,h){if(l.da)l=!0;else{h=new qc(h,this);var p=l.listener,m=l.ha||l.src;l.fa&&fy(l),l=p.call(m,h)}return l}function py(l){return l=l[dy],l instanceof Kd?l:null}var gy="__closure_events_fn_"+(1e9*Math.random()>>>0);function my(l){return typeof l=="function"?l:(l[gy]||(l[gy]=function(h){return l.handleEvent(h)}),l[gy])}function Ct(){ci.call(this),this.i=new Kd(this),this.M=this,this.F=null}w(Ct,ci),Ct.prototype[Gc]=!0,Ct.prototype.removeEventListener=function(l,h,p,m){EC(this,l,h,p,m)};function kt(l,h){var p,m=l.F;if(m)for(p=[];m;m=m.F)p.push(m);if(l=l.M,m=h.type||h,typeof h=="string")h=new Dt(h,l);else if(h instanceof Dt)h.target=h.target||l;else{var T=h;h=new Dt(m,l),D(h,T)}if(T=!0,p)for(var N=p.length-1;0<=N;N--){var z=h.g=p[N];T=Qd(z,m,!0,h)&&T}if(z=h.g=l,T=Qd(z,m,!0,h)&&T,T=Qd(z,m,!1,h)&&T,p)for(N=0;N<p.length;N++)z=h.g=p[N],T=Qd(z,m,!1,h)&&T}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],m=0;m<p.length;m++)Wd(p[m]);delete l.g[h],l.h--}}this.F=null},Ct.prototype.K=function(l,h,p,m){return this.i.add(String(l),h,!1,p,m)},Ct.prototype.L=function(l,h,p,m){return this.i.add(String(l),h,!0,p,m)};function Qd(l,h,p,m){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var T=!0,N=0;N<h.length;++N){var z=h[N];if(z&&!z.da&&z.capture==p){var Le=z.listener,_t=z.ha||z.src;z.fa&&ly(l.i,z),T=Le.call(_t,m)!==!1&&T}}return T&&!m.defaultPrevented}function DC(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function CC(l){l.g=DC(()=>{l.g=null,l.i&&(l.i=!1,CC(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class hV extends ci{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:CC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wc(l){ci.call(this),this.h=l,this.g={}}w(Wc,ci);var TC=[];function SC(l){W(l.g,function(h,p){this.g.hasOwnProperty(p)&&fy(h)},l),l.g={}}Wc.prototype.N=function(){Wc.aa.N.call(this),SC(this)},Wc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yy=a.JSON.stringify,fV=a.JSON.parse,pV=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function vy(){}vy.prototype.h=null;function AC(l){return l.h||(l.h=l.i())}function RC(){}var Kc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _y(){Dt.call(this,"d")}w(_y,Dt);function wy(){Dt.call(this,"c")}w(wy,Dt);var ms={},xC=null;function Yd(){return xC=xC||new Ct}ms.La="serverreachability";function MC(l){Dt.call(this,ms.La,l)}w(MC,Dt);function Qc(l){let h=Yd();kt(h,new MC(h))}ms.STAT_EVENT="statevent";function NC(l,h){Dt.call(this,ms.STAT_EVENT,l),this.stat=h}w(NC,Dt);function Ft(l){let h=Yd();kt(h,new NC(h,l))}ms.Ma="timingevent";function PC(l,h){Dt.call(this,ms.Ma,l),this.size=h}w(PC,Dt);function Yc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Zc(){this.g=!0}Zc.prototype.xa=function(){this.g=!1};function gV(l,h,p,m,T,N){l.info(function(){if(l.g)if(N)for(var z="",Le=N.split("&"),_t=0;_t<Le.length;_t++){var Re=Le[_t].split("=");if(1<Re.length){var Tt=Re[0];Re=Re[1];var St=Tt.split("_");z=2<=St.length&&St[1]=="type"?z+(Tt+"="+Re+"&"):z+(Tt+"=redacted&")}}else z=null;else z=N;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+h+`
`+p+`
`+z})}function mV(l,h,p,m,T,N,z){l.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+h+`
`+p+`
`+N+" "+z})}function Fo(l,h,p,m){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+vV(l,p)+(m?" "+m:"")})}function yV(l,h){l.info(function(){return"TIMEOUT: "+h})}Zc.prototype.info=function(){};function vV(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var m=p[l];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var N=T[0];if(N!="noop"&&N!="stop"&&N!="close")for(var z=1;z<T.length;z++)T[z]=""}}}}return yy(p)}catch{return h}}var Zd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},OC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Iy;function Xd(){}w(Xd,vy),Xd.prototype.g=function(){return new XMLHttpRequest},Xd.prototype.i=function(){return{}},Iy=new Xd;function li(l,h,p,m){this.j=l,this.i=h,this.l=p,this.R=m||1,this.U=new Wc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kC}function kC(){this.i=null,this.g="",this.h=!1}var FC={},Ey={};function by(l,h,p){l.L=1,l.v=nh(Ar(h)),l.m=p,l.P=!0,LC(l,null)}function LC(l,h){l.F=Date.now(),Jd(l),l.A=Ar(l.v);var p=l.A,m=l.R;Array.isArray(m)||(m=[String(m)]),ZC(p.i,"t",m),l.C=0,p=l.j.J,l.h=new kC,l.g=gT(l.j,p?h:null,!l.m),0<l.O&&(l.M=new hV(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,m=l.ca;var T="readystatechange";Array.isArray(T)||(T&&(TC[0]=T.toString()),T=TC);for(var N=0;N<T.length;N++){var z=_C(p,T[N],m||h.handleEvent,!1,h.h||h);if(!z)break;h.g[z.key]=z}h=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Qc(),gV(l.i,l.u,l.A,l.l,l.R,l.m)}li.prototype.ca=function(l){l=l.target;let h=this.M;h&&Rr(l)==3?h.j():this.Y(l)},li.prototype.Y=function(l){try{if(l==this.g)e:{let St=Rr(this.g);var h=this.g.Ba();let jo=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||iT(this.g)))){this.J||St!=4||h==7||(h==8||0>=jo?Qc(3):Qc(2)),Dy(this);var p=this.g.Z();this.X=p;t:if(VC(this)){var m=iT(this.g);l="";var T=m.length,N=Rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ys(this),Xc(this);var z="";break t}this.h.i=new a.TextDecoder}for(h=0;h<T;h++)this.h.h=!0,l+=this.h.i.decode(m[h],{stream:!(N&&h==T-1)});m.length=0,this.h.g+=l,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=p==200,mV(this.i,this.u,this.A,this.l,this.R,St,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,_t=this.g;if((Le=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Le)){var Re=Le;break t}}Re=null}if(p=Re)Fo(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cy(this,p);else{this.o=!1,this.s=3,Ft(12),ys(this),Xc(this);break e}}if(this.P){p=!0;let Mn;for(;!this.J&&this.C<z.length;)if(Mn=_V(this,z),Mn==Ey){St==4&&(this.s=4,Ft(14),p=!1),Fo(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==FC){this.s=4,Ft(15),Fo(this.i,this.l,z,"[Invalid Chunk]"),p=!1;break}else Fo(this.i,this.l,Mn,null),Cy(this,Mn);if(VC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||z.length!=0||this.h.h||(this.s=1,Ft(16),p=!1),this.o=this.o&&p,!p)Fo(this.i,this.l,z,"[Invalid Chunked Response]"),ys(this),Xc(this);else if(0<z.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),My(Tt),Tt.M=!0,Ft(11))}}else Fo(this.i,this.l,z,null),Cy(this,z);St==4&&ys(this),this.o&&!this.J&&(St==4?dT(this.j,this):(this.o=!1,Jd(this)))}else FV(this.g),p==400&&0<z.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),ys(this),Xc(this)}}}catch{}finally{}};function VC(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function _V(l,h){var p=l.C,m=h.indexOf(`
`,p);return m==-1?Ey:(p=Number(h.substring(p,m)),isNaN(p)?FC:(m+=1,m+p>h.length?Ey:(h=h.slice(m,m+p),l.C=m+p,h)))}li.prototype.cancel=function(){this.J=!0,ys(this)};function Jd(l){l.S=Date.now()+l.I,jC(l,l.I)}function jC(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Yc(g(l.ba,l),h)}function Dy(l){l.B&&(a.clearTimeout(l.B),l.B=null)}li.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(yV(this.i,this.A),this.L!=2&&(Qc(),Ft(17)),ys(this),this.s=2,Xc(this)):jC(this,this.S-l)};function Xc(l){l.j.G==0||l.J||dT(l.j,l)}function ys(l){Dy(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,SC(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Cy(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Ty(p.h,l))){if(!l.K&&Ty(p.h,l)&&p.G==3){try{var m=p.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)ah(p),sh(p);else break e;xy(p),Ft(18)}}else p.za=T[1],0<p.za-p.T&&37500>T[2]&&p.F&&p.v==0&&!p.C&&(p.C=Yc(g(p.Za,p),6e3));if(1>=$C(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _s(p,11)}else if((l.K||p.g==l)&&ah(p),!B(h))for(T=p.Da.g.parse(h),h=0;h<T.length;h++){let Re=T[h];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];let Tt=Re[3];Tt!=null&&(p.la=Tt,p.j.info("VER="+p.la));let St=Re[4];St!=null&&(p.Aa=St,p.j.info("SVER="+p.Aa));let jo=Re[5];jo!=null&&typeof jo=="number"&&0<jo&&(m=1.5*jo,p.L=m,p.j.info("backChannelRequestTimeoutMs_="+m)),m=p;let Mn=l.g;if(Mn){let lh=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lh){var N=m.h;N.g||lh.indexOf("spdy")==-1&&lh.indexOf("quic")==-1&&lh.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Sy(N,N.h),N.h=null))}if(m.D){let Ny=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ny&&(m.ya=Ny,He(m.I,m.D,Ny))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),m=p;var z=l;if(m.qa=pT(m,m.J?m.ia:null,m.W),z.K){HC(m.h,z);var Le=z,_t=m.L;_t&&(Le.I=_t),Le.B&&(Dy(Le),Jd(Le)),m.g=z}else lT(m);0<p.i.length&&oh(p)}else Re[0]!="stop"&&Re[0]!="close"||_s(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?_s(p,7):Ry(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}Qc(4)}catch{}}var wV=class{constructor(l,h){this.g=l,this.map=h}};function UC(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BC(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function $C(l){return l.h?1:l.g?l.g.size:0}function Ty(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Sy(l,h){l.g?l.g.add(h):l.h=h}function HC(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}UC.prototype.cancel=function(){if(this.i=zC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function zC(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return A(l.i)}function IV(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,m=0;m<p;m++)h.push(l[m]);return h}h=[],p=0;for(m in l)h[p++]=l[m];return h}function EV(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let m in l)h[p++]=m;return h}}}function qC(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=EV(l),m=IV(l),T=m.length,N=0;N<T;N++)h.call(void 0,m[N],p&&p[N],l)}var GC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bV(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var m=l[p].indexOf("="),T=null;if(0<=m){var N=l[p].substring(0,m);T=l[p].substring(m+1)}else N=l[p];h(N,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function vs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof vs){this.h=l.h,eh(this,l.j),this.o=l.o,this.g=l.g,th(this,l.s),this.l=l.l;var h=l.i,p=new tl;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),WC(this,p),this.m=l.m}else l&&(h=String(l).match(GC))?(this.h=!1,eh(this,h[1]||"",!0),this.o=Jc(h[2]||""),this.g=Jc(h[3]||"",!0),th(this,h[4]),this.l=Jc(h[5]||"",!0),WC(this,h[6]||"",!0),this.m=Jc(h[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}vs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(el(h,KC,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(el(h,KC,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(el(p,p.charAt(0)=="/"?TV:CV,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",el(p,AV)),l.join("")};function Ar(l){return new vs(l)}function eh(l,h,p){l.j=p?Jc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function th(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function WC(l,h,p){h instanceof tl?(l.i=h,RV(l.i,l.h)):(p||(h=el(h,SV)),l.i=new tl(h,l.h))}function He(l,h,p){l.i.set(h,p)}function nh(l){return He(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Jc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function el(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,DV),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function DV(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var KC=/[#\/\?@]/g,CV=/[#\?:]/g,TV=/[#\?]/g,SV=/[#\?@]/g,AV=/#/g;function tl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ui(l){l.g||(l.g=new Map,l.h=0,l.i&&bV(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=tl.prototype,t.add=function(l,h){ui(this),this.i=null,l=Lo(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function QC(l,h){ui(l),h=Lo(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function YC(l,h){return ui(l),h=Lo(l,h),l.g.has(h)}t.forEach=function(l,h){ui(this),this.g.forEach(function(p,m){p.forEach(function(T){l.call(h,T,m,this)},this)},this)},t.na=function(){ui(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let m=0;m<h.length;m++){let T=l[m];for(let N=0;N<T.length;N++)p.push(h[m])}return p},t.V=function(l){ui(this);let h=[];if(typeof l=="string")YC(this,l)&&(h=h.concat(this.g.get(Lo(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return ui(this),this.i=null,l=Lo(this,l),YC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function ZC(l,h,p){QC(l,h),0<p.length&&(l.i=null,l.g.set(Lo(l,h),A(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var m=h[p];let N=encodeURIComponent(String(m)),z=this.V(m);for(m=0;m<z.length;m++){var T=N;z[m]!==""&&(T+="="+encodeURIComponent(String(z[m]))),l.push(T)}}return this.i=l.join("&")};function Lo(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function RV(l,h){h&&!l.j&&(ui(l),l.i=null,l.g.forEach(function(p,m){var T=m.toLowerCase();m!=T&&(QC(this,m),ZC(this,T,p))},l)),l.j=h}function xV(l,h){let p=new Zc;if(a.Image){let m=new Image;m.onload=y(di,p,"TestLoadImage: loaded",!0,h,m),m.onerror=y(di,p,"TestLoadImage: error",!1,h,m),m.onabort=y(di,p,"TestLoadImage: abort",!1,h,m),m.ontimeout=y(di,p,"TestLoadImage: timeout",!1,h,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=l}else h(!1)}function MV(l,h){let p=new Zc,m=new AbortController,T=setTimeout(()=>{m.abort(),di(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:m.signal}).then(N=>{clearTimeout(T),N.ok?di(p,"TestPingServer: ok",!0,h):di(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(T),di(p,"TestPingServer: error",!1,h)})}function di(l,h,p,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(p)}catch{}}function NV(){this.g=new pV}function PV(l,h,p){let m=p||"";try{qC(l,function(T,N){let z=T;u(T)&&(z=yy(T)),h.push(m+N+"="+encodeURIComponent(z))})}catch(T){throw h.push(m+"type="+encodeURIComponent("_badmap")),T}}function nl(l){this.l=l.Ub||null,this.j=l.eb||!1}w(nl,vy),nl.prototype.g=function(){return new rh(this.l,this.j)},nl.prototype.i=function(l){return function(){return l}}({});function rh(l,h){Ct.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(rh,Ct),t=rh.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,il(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rl(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,il(this)),this.g&&(this.readyState=3,il(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XC(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function XC(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?rl(this):il(this),this.readyState==3&&XC(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,rl(this))},t.Qa=function(l){this.g&&(this.response=l,rl(this))},t.ga=function(){this.g&&rl(this)};function rl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,il(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function il(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function JC(l){let h="";return W(l,function(p,m){h+=m,h+=":",h+=p,h+=`\r
`}),h}function Ay(l,h,p){e:{for(m in p){var m=!1;break e}m=!0}m||(p=JC(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):He(l,h,p))}function Ke(l){Ct.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Ke,Ct);var OV=/^https?$/i,kV=["POST","PUT"];t=Ke.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Iy.g(),this.v=this.o?AC(this.o):AC(Iy),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){eT(this,N);return}if(l=p||"",p=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)p.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())p.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),T=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kV,h,void 0))||m||T||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,z]of p)this.g.setRequestHeader(N,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rT(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){eT(this,N)}};function eT(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,tT(l),ih(l)}function tT(l){l.A||(l.A=!0,kt(l,"complete"),kt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,kt(this,"complete"),kt(this,"abort"),ih(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ih(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nT(this):this.bb())},t.bb=function(){nT(this)};function nT(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Rr(l)!=4||l.Z()!=2)){if(l.u&&Rr(l)==4)DC(l.Ea,0,l);else if(kt(l,"readystatechange"),Rr(l)==4){l.h=!1;try{let z=l.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var m;if(m=z===0){var T=String(l.D).match(GC)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!OV.test(T?T.toLowerCase():"")}p=m}if(p)kt(l,"complete"),kt(l,"success");else{l.m=6;try{var N=2<Rr(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",tT(l)}}finally{ih(l)}}}}function ih(l,h){if(l.g){rT(l);let p=l.g,m=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||kt(l,"ready");try{p.onreadystatechange=m}catch{}}}function rT(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Rr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),fV(h)}};function iT(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function FV(l){let h={};l=(l.g&&2<=Rr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<l.length;m++){if(B(l[m]))continue;var p=C(l[m]);let T=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[T]||[];h[T]=N,N.push(p)}b(h,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sl(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function sT(l){this.Aa=0,this.i=[],this.j=new Zc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sl("baseRetryDelayMs",5e3,l),this.cb=sl("retryDelaySeedMs",1e4,l),this.Wa=sl("forwardChannelMaxRetries",2,l),this.wa=sl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new UC(l&&l.concurrentRequestLimit),this.Da=new NV,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sT.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,m){Ft(0),this.W=l,this.H=h||{},p&&m!==void 0&&(this.H.OSID=p,this.H.OAID=m),this.F=this.X,this.I=pT(this,null,this.W),oh(this)};function Ry(l){if(oT(l),l.G==3){var h=l.U++,p=Ar(l.I);if(He(p,"SID",l.K),He(p,"RID",h),He(p,"TYPE","terminate"),ol(l,p),h=new li(l,l.j,h),h.L=2,h.v=nh(Ar(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=gT(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Jd(h)}fT(l)}function sh(l){l.g&&(My(l),l.g.cancel(),l.g=null)}function oT(l){sh(l),l.u&&(a.clearTimeout(l.u),l.u=null),ah(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function oh(l){if(!BC(l.h)&&!l.s){l.s=!0;var h=l.Ga;Hc||vC(),zc||(Hc(),zc=!0),cy.add(h,l),l.B=0}}function LV(l,h){return $C(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Yc(g(l.Ga,l,h),hT(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let T=new li(this,this.j,l),N=this.o;if(this.S&&(N?(N=_(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(T.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var m=this.i[p];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=cT(this,T,h),p=Ar(this.I),He(p,"RID",l),He(p,"CVER",22),this.D&&He(p,"X-HTTP-Session-Id",this.D),ol(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(JC(N)))+"&"+h:this.m&&Ay(p,this.m,N)),Sy(this.h,T),this.Ua&&He(p,"TYPE","init"),this.P?(He(p,"$req",h),He(p,"SID","null"),T.T=!0,by(T,p,null)):by(T,p,h),this.G=2}}else this.G==3&&(l?aT(this,l):this.i.length==0||BC(this.h)||aT(this))};function aT(l,h){var p;h?p=h.l:p=l.U++;let m=Ar(l.I);He(m,"SID",l.K),He(m,"RID",p),He(m,"AID",l.T),ol(l,m),l.m&&l.o&&Ay(m,l.m,l.o),p=new li(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=cT(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Sy(l.h,p),by(p,m,h)}function ol(l,h){l.H&&W(l.H,function(p,m){He(h,m,p)}),l.l&&qC({},function(p,m){He(h,m,p)})}function cT(l,h,p){p=Math.min(l.i.length,p);var m=l.l?g(l.l.Na,l.l,l):null;e:{var T=l.i;let N=-1;for(;;){let z=["count="+p];N==-1?0<p?(N=T[0].g,z.push("ofs="+N)):N=0:z.push("ofs="+N);let Le=!0;for(let _t=0;_t<p;_t++){let Re=T[_t].g,Tt=T[_t].map;if(Re-=N,0>Re)N=Math.max(0,T[_t].g-100),Le=!1;else try{PV(Tt,z,"req"+Re+"_")}catch{m&&m(Tt)}}if(Le){m=z.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,m}function lT(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Hc||vC(),zc||(Hc(),zc=!0),cy.add(h,l),l.v=0}}function xy(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Yc(g(l.Fa,l),hT(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,uT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Yc(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),sh(this),uT(this))};function My(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function uT(l){l.g=new li(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Ar(l.qa);He(h,"RID","rpc"),He(h,"SID",l.K),He(h,"AID",l.T),He(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&He(h,"TO",l.ja),He(h,"TYPE","xmlhttp"),ol(l,h),l.m&&l.o&&Ay(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=nh(Ar(h)),p.m=null,p.P=!0,LC(p,l)}t.Za=function(){this.C!=null&&(this.C=null,sh(this),xy(this),Ft(19))};function ah(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function dT(l,h){var p=null;if(l.g==h){ah(l),My(l),l.g=null;var m=2}else if(Ty(l.h,h))p=h.D,HC(l.h,h),m=1;else return;if(l.G!=0){if(h.o)if(m==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var T=l.B;m=Yd(),kt(m,new PC(m,p)),oh(l)}else lT(l);else if(T=h.s,T==3||T==0&&0<h.X||!(m==1&&LV(l,h)||m==2&&xy(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),T){case 1:_s(l,5);break;case 4:_s(l,10);break;case 3:_s(l,6);break;default:_s(l,2)}}}function hT(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function _s(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),m=l.Xa;let T=!m;m=new vs(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||eh(m,"https"),nh(m),T?xV(m.toString(),p):MV(m.toString(),p)}else Ft(2);l.G=0,l.l&&l.l.sa(h),fT(l),oT(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function fT(l){if(l.G=0,l.ka=[],l.l){let h=zC(l.h);(h.length!=0||l.i.length!=0)&&(S(l.ka,h),S(l.ka,l.i),l.h.i.length=0,A(l.i),l.i.length=0),l.l.ra()}}function pT(l,h,p){var m=p instanceof vs?Ar(p):new vs(p);if(m.g!="")h&&(m.g=h+"."+m.g),th(m,m.s);else{var T=a.location;m=T.protocol,h=h?h+"."+T.hostname:T.hostname,T=+T.port;var N=new vs(null);m&&eh(N,m),h&&(N.g=h),T&&th(N,T),p&&(N.l=p),m=N}return p=l.D,h=l.ya,p&&h&&He(m,p,h),He(m,"VER",l.la),ol(l,m),m}function gT(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Ke(new nl({eb:p})):new Ke(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mT(){}t=mT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ch(){}ch.prototype.g=function(l,h){return new rn(l,h)};function rn(l,h){Ct.call(this),this.g=new sT(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!B(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!B(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Vo(this)}w(rn,Ct),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ry(this.g)},rn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=yy(l),l=p);h.i.push(new wV(h.Ya++,l)),h.G==3&&oh(h)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ry(this.g),delete this.g,rn.aa.N.call(this)};function yT(l){_y.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}w(yT,_y);function vT(){wy.call(this),this.status=1}w(vT,wy);function Vo(l){this.g=l}w(Vo,mT),Vo.prototype.ua=function(){kt(this.g,"a")},Vo.prototype.ta=function(l){kt(this.g,new yT(l))},Vo.prototype.sa=function(l){kt(this.g,new vT)},Vo.prototype.ra=function(){kt(this.g,"b")},ch.prototype.createWebChannel=ch.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,rE=ei.createWebChannelTransport=function(){return new ch},nE=ei.getStatEventTarget=function(){return Yd()},tE=ei.Event=ms,Xp=ei.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zd.NO_ERROR=0,Zd.TIMEOUT=8,Zd.HTTP_ERROR=6,du=ei.ErrorCode=Zd,OC.COMPLETE="complete",eE=ei.EventType=OC,RC.EventType=Kc,Kc.OPEN="a",Kc.CLOSE="b",Kc.ERROR="c",Kc.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,ja=ei.WebChannel=RC,JI=ei.FetchXmlHttpFactory=nl,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,XI=ei.XhrIo=Ke}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});var sP="@firebase/firestore";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var gc="10.12.1";var lo=new Vi("@firebase/firestore");function za(){return lo.logLevel}function V(t,...e){if(lo.logLevel<=we.DEBUG){let n=e.map(nD);lo.debug(`Firestore (${gc}): ${t}`,...n)}}function rt(t,...e){if(lo.logLevel<=we.ERROR){let n=e.map(nD);lo.error(`Firestore (${gc}): ${t}`,...n)}}function Du(t,...e){if(lo.logLevel<=we.WARN){let n=e.map(nD);lo.warn(`Firestore (${gc}): ${t}`,...n)}}function nD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Q(t="Unexpected state"){let e=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: `+t;throw rt(e),new Error(e)}function J(t,e){t||Q()}function Z(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var uE=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}};var hE=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new dn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(J(typeof r.accessToken=="string"),new uE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return J(e===null||typeof e=="string"),new mt(e)}},fE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},pE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},gE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},mE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(J(typeof n.token=="string"),this.R=n.token,new gE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function G3(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var cg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=G3(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function fe(t,e){return t<e?-1:t>e?1:0}function Ja(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function oO(t){return t+"\0"}var it=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new it(0,0))}static max(){return new t(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Fe=class t extends lg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},W3=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lt=class t extends lg{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return W3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new H(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};var ec=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function yE(t){return t.fields.find(e=>e.kind===2)}function eo(t){return t.fields.filter(e=>e.kind!==2)}ec.UNKNOWN_ID=-1;var Ya=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var Cu=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Sn.min())}};function aO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Sn(i,q.empty(),e)}function cO(t){return new Sn(t.readTime,t.key,-1)}var Sn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(re.min(),q.empty(),-1)}static max(){return new t(re.max(),q.empty(),-1)}};function rD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}var lO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ug=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function os(t){return v(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==lO)throw t;V("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var dg=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new dn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ao(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=iD(r.target.error);this.V.reject(new ao(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new ao(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new _E(n)}},tc=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Ye())===12.2&&rt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),to(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Aa())return!1;if(t.C())return!0;let e=Ye(),n=t.S(e),r=0<n&&n<10,i=uO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return v(this,null,function*(){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new ao(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new H(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new H(P.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new ao(e,o))},i.onupgradeneeded=s=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return v(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=dg.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),M.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(V("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function uO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var vE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return to(this.B.delete())}},ao=class extends H{constructor(e,n){super(P.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function as(t){return t.name==="IndexedDbTransactionError"}var _E=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),to(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),to(this.store.add(e))}get(e){return to(this.store.get(e)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),to(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),to(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new M((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,c)=>{o.push(c)}).next(()=>o)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new M((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){V("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new M((r,i)=>{n.onerror=s=>{let o=iD(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){let r=[];return new M((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new vE(a),u=n(a.primaryKey,a.value,c);if(u instanceof M){let d=u.catch(f=>(c.done(),M.reject(f)));r.push(d)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function to(t){return new M((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=iD(r.target.error);n(i)}})}var oP=!1;function iD(t){let e=tc.S(Ye());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new H("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oP||(oP=!0,setTimeout(()=>{throw r},0)),r}}return t}var wE=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){V("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>v(this,null,function*(){this.task=null;try{V("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){as(n)?V("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield os(n)}yield this.X(6e4)}))}},IE=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return v(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,s=!0;return M.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return V("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(V("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=cO(s);rD(o,r)>0&&(r=o)}),new Sn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var cn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function om(t){return t==null}function Tu(t){return t===0&&1/t==-1/0}function dO(t){return typeof t=="number"&&Number.isInteger(t)&&!Tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Wt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aP(e)),e=K3(t.get(n),e);return aP(e)}function K3(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function aP(t){return t+""}function _r(t){let e=t.length;if(J(e>=2),e===2)return J(t.charAt(0)===""&&t.charAt(1)===""),Fe.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&Q(),t.charAt(o+1)){case"":let a=t.substring(s,o),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Q()}s=o+2}return new Fe(r)}var cP=["userId","batchId"];function rg(t,e){return[t,Wt(e)]}function hO(t,e,n){return[t,Wt(e),n]}var Q3={},Y3=["prefixPath","collectionGroup","readTime","documentId"],Z3=["prefixPath","collectionGroup","documentId"],X3=["collectionGroup","readTime","prefixPath","documentId"],J3=["canonicalId","targetId"],e9=["targetId","path"],t9=["path","targetId"],n9=["collectionId","parent"],r9=["indexId","uid"],i9=["uid","sequenceNumber"],s9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],o9=["indexId","uid","orderedDocumentKey"],a9=["userId","collectionPath","documentId"],c9=["userId","collectionPath","largestBatchId"],l9=["userId","collectionGroup","largestBatchId"],fO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],u9=[...fO,"documentOverlays"],pO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],gO=pO,mO=[...gO,"indexConfiguration","indexState","indexEntries"],d9=mO;var Su=class extends ug{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function yt(t,e){let n=Z(t);return tc.F(n._e,e)}function lP(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qe=class t{constructor(e,n){this.comparator=e,this.root=n||Ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qa(this.root,e,this.comparator,!0)}},Qa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ir=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}};Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Be=class t{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hg(this.data.getIterator())}getIteratorFrom(e){return new hg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},hg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Ua(t){return t.hasNext()?t.getNext():void 0}var ln=class t{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Be(lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var fg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var bt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};bt.EMPTY_BYTE_STRING=new bt("");var h9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ni(t){if(J(!!t),typeof t=="string"){let e=0,n=h9.exec(t);if(J(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xi(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}function sD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function oD(t){let e=t.mapValue.fields.__previous_value__;return sD(e)?oD(e):e}function Au(t){let e=ni(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}var EE=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},nc=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Yi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ig={nullValue:"NULL_VALUE"};function uo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sD(t)?4:vO(t)?9007199254740991:10:Q()}function Er(t,e){if(t===e)return!0;let n=uo(t);if(n!==uo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Au(t).isEqual(Au(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ni(i.timestampValue),a=ni(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Xi(i.bytesValue).isEqual(Xi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ze(i.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ze(i.integerValue)===Ze(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ze(i.doubleValue),a=Ze(s.doubleValue);return o===a?Tu(o)===Tu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ja(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(lP(o)!==lP(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Er(o[c],a[c])))return!1;return!0}(t,e);default:return Q()}}function Ru(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function Ji(t,e){if(t===e)return 0;let n=uo(t),r=uo(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ze(s.integerValue||s.doubleValue),c=Ze(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return uP(t.timestampValue,e.timestampValue);case 4:return uP(Au(t),Au(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Xi(s),c=Xi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=fe(a[u],c[u]);if(d!==0)return d}return fe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=fe(Ze(s.latitude),Ze(o.latitude));return a!==0?a:fe(Ze(s.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let d=Ji(a[u],c[u]);if(d)return d}return fe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Yi.mapValue&&o===Yi.mapValue)return 0;if(s===Yi.mapValue)return 1;if(o===Yi.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=fe(c[f],d[f]);if(g!==0)return g;let y=Ji(a[c[f]],u[d[f]]);if(y!==0)return y}return fe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Q()}}function uP(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);let n=ni(t),r=ni(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function rc(t){return bE(t)}function bE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ni(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=bE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${bE(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function xu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function DE(t){return!!t&&"integerValue"in t}function Mu(t){return!!t&&"arrayValue"in t}function dP(t){return!!t&&"nullValue"in t}function hP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sg(t){return!!t&&"mapValue"in t}function vu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function vO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function f9(t){return"nullValue"in t?ig:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?xu(nc.empty(),q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Q()}function p9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?xu(nc.empty(),q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Yi:Q()}function fP(t,e){let n=Ji(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function pP(t,e){let n=Ji(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var Gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){wo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(vu(this.value))}};function _O(t){let e=[];return wo(t.fields,(n,r)=>{let i=new lt([n]);if(sg(r)){let s=_O(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new ln(e)}var Et=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,re.min(),re.min(),re.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,re.min(),re.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,re.min(),re.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var es=class{constructor(e,n){this.position=e,this.inclusive=n}};function gP(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Ji(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}var ho=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function g9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var pg=class{},be=class t extends pg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SE(e,n,r):n==="array-contains"?new xE(e,r):n==="in"?new gg(e,r):n==="not-in"?new ME(e,r):n==="array-contains-any"?new NE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AE(e,r):new RE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ji(n,this.value)):n!==null&&uo(this.value)===uo(n)&&this.matchesComparison(Ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Oe=class t extends pg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return ic(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ic(t){return t.op==="and"}function CE(t){return t.op==="or"}function aD(t){return wO(t)&&ic(t)}function wO(t){for(let e of t.filters)if(e instanceof Oe)return!1;return!0}function TE(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+rc(t.value);if(aD(t))return t.filters.map(e=>TE(e)).join(",");{let e=t.filters.map(n=>TE(n)).join(",");return`${t.op}(${e})`}}function IO(t,e){return t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(t,e):t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&IO(o,i.filters[a]),!0):!1}(t,e):void Q()}function EO(t,e){let n=t.filters.concat(e);return Oe.create(n,t.op)}function bO(t){return t instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${rc(n.value)}`}(t):t instanceof Oe?function(n){return n.op.toString()+" {"+n.getFilters().map(bO).join(" ,")+"}"}(t):"Filter"}var SE=class extends be{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},AE=class extends be{constructor(e,n){super(e,"in",n),this.keys=DO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},RE=class extends be{constructor(e,n){super(e,"not-in",n),this.keys=DO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function DO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var xE=class extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Mu(n)&&Ru(n.arrayValue,this.value)}},gg=class extends be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ru(this.value.arrayValue,n)}},ME=class extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ru(this.value.arrayValue,n)}},NE=class extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Mu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ru(this.value.arrayValue,r))}};var PE=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function OE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new PE(t,e,n,r,i,s,o)}function fo(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>TE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rc(r)).join(",")),e.ue=n}return e.ue}function Yu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mP(t.startAt,e.startAt)&&mP(t.endAt,e.endAt)}function mg(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yg(t,e){return t.filters.filter(n=>n instanceof be&&n.field.isEqual(e))}function yP(t,e,n){let r=ig,i=!0;for(let s of yg(t,e)){let o=ig,a=!0;switch(s.op){case"<":case"<=":o=f9(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=ig}fP({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];fP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function vP(t,e,n){let r=Yi,i=!0;for(let s of yg(t,e)){let o=Yi,a=!0;switch(s.op){case">=":case">":o=p9(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Yi}pP({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];pP({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var ts=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function CO(t,e,n,r,i,s,o,a){return new ts(t,e,n,r,i,s,o,a)}function Zu(t){return new ts(t)}function _P(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TO(t){return t.collectionGroup!==null}function _u(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Be(lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ho(s,r))}),n.has(lt.keyField().canonicalString())||e.ce.push(new ho(lt.keyField(),r))}return e.ce}function hn(t){let e=Z(t);return e.le||(e.le=m9(e,_u(t))),e.le}function m9(t,e){if(t.limitType==="F")return OE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ho(i.field,s)});let n=t.endAt?new es(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new es(t.startAt.position,t.startAt.inclusive):null;return OE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kE(t,e){let n=t.filters.concat([e]);return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vg(t,e,n){return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function am(t,e){return Yu(hn(t),hn(e))&&t.limitType===e.limitType}function SO(t){return`${fo(hn(t))}|lt:${t.limitType}`}function qa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bO(i)).join(", ")}]`),om(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rc(i)).join(",")),`Target(${r})`}(hn(t))}; limitType=${t.limitType})`}function Xu(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of _u(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=gP(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,_u(r),i)||r.endAt&&!function(o,a,c){let u=gP(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,_u(r),i))}(t,e)}function AO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RO(t){return(e,n)=>{let r=!1;for(let i of _u(t)){let s=y9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function y9(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Ji(c,u):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}var br=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return yO(this.inner)}size(){return this.innerSize}};var v9=new qe(q.comparator);function un(){return v9}var xO=new qe(q.comparator);function mu(...t){let e=xO;for(let n of t)e=e.insert(n.key,n);return e}function MO(t){let e=xO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wr(){return wu()}function NO(){return wu()}function wu(){return new br(t=>t.toString(),(t,e)=>t.isEqual(e))}var _9=new qe(q.comparator),w9=new Be(q.comparator);function _e(...t){let e=w9;for(let n of t)e=e.add(n);return e}var I9=new Be(fe);function cD(){return I9}function PO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(e)?"-0":e}}function OO(t){return{integerValue:""+t}}function E9(t,e){return dO(e)?OO(e):PO(t,e)}var sc=class{constructor(){this._=void 0}};function b9(t,e,n){return t instanceof po?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sD(s)&&(s=oD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ns?FO(t,e):t instanceof rs?LO(t,e):function(i,s){let o=kO(i,s),a=wP(o)+wP(i.Pe);return DE(o)&&DE(i.Pe)?OO(a):PO(i.serializer,a)}(t,e)}function D9(t,e,n){return t instanceof ns?FO(t,e):t instanceof rs?LO(t,e):n}function kO(t,e){return t instanceof go?function(r){return DE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var po=class extends sc{},ns=class extends sc{constructor(e){super(),this.elements=e}};function FO(t,e){let n=VO(e);for(let r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}var rs=class extends sc{constructor(e){super(),this.elements=e}};function LO(t,e){let n=VO(e);for(let r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}var go=class extends sc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function wP(t){return Ze(t.integerValue||t.doubleValue)}function VO(t){return Mu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var FE=class{constructor(e,n){this.field=e,this.transform=n}};function C9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ns&&i instanceof ns||r instanceof rs&&i instanceof rs?Ja(r.elements,i.elements,Er):r instanceof go&&i instanceof go?Er(r.Pe,i.Pe):r instanceof po&&i instanceof po}(t.transform,e.transform)}var LE=class{constructor(e,n){this.version=e,this.transformResults=n}},It=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function og(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var oc=class{};function jO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mo(t.key,It.none()):new is(t.key,t.data,It.none());{let n=t.data,r=Gt.empty(),i=new Be(lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qn(t.key,r,new ln(i.toArray()),It.none())}}function T9(t,e,n){t instanceof is?function(i,s,o){let a=i.value.clone(),c=EP(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qn?function(i,s,o){if(!og(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=EP(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(UO(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Iu(t,e,n,r){return t instanceof is?function(s,o,a,c){if(!og(s.precondition,o))return a;let u=s.value.clone(),d=bP(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qn?function(s,o,a,c){if(!og(s.precondition,o))return a;let u=bP(s.fieldTransforms,c,o),d=o.data;return d.setAll(UO(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return og(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function S9(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=kO(r.transform,i||null);s!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,s))}return n||null}function IP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ja(r,i,(s,o)=>C9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var is=class extends oc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},qn=class extends oc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function UO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function EP(t,e,n){let r=new Map;J(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,D9(o,a,n[i]))}return r}function bP(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,b9(s,o,e))}return r}var mo=class extends oc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},_g=class extends oc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Nu=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&T9(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=NO();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=jO(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,r)=>IP(n,r))&&Ja(this.baseMutations,e.baseMutations,(n,r)=>IP(n,r))}},VE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){J(e.mutations.length===r.length);let i=function(){return _9}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Pu=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ot,Se;function A9(t){switch(t){default:return Q();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function BO(t){if(t===void 0)return rt("GRPC error has no .code"),P.UNKNOWN;switch(t){case ot.OK:return P.OK;case ot.CANCELLED:return P.CANCELLED;case ot.UNKNOWN:return P.UNKNOWN;case ot.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case ot.INTERNAL:return P.INTERNAL;case ot.UNAVAILABLE:return P.UNAVAILABLE;case ot.UNAUTHENTICATED:return P.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case ot.NOT_FOUND:return P.NOT_FOUND;case ot.ALREADY_EXISTS:return P.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return P.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case ot.ABORTED:return P.ABORTED;case ot.OUT_OF_RANGE:return P.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return P.UNIMPLEMENTED;case ot.DATA_LOSS:return P.DATA_LOSS;default:return Q()}}(Se=ot||(ot={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var DP=null;function R9(){return new TextEncoder}var x9=new Gi([4294967295,4294967295],0);function CP(t){let e=R9().encode(t),n=new ZI;return n.update(e),new Uint8Array(n.digest())}function TP(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([i,s],0)]}var UE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new so(`Invalid padding: ${n}`);if(r<0)throw new so(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new so(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Gi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Gi.fromNumber(r)));return i.compare(x9)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=CP(e),[r,i]=TP(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=CP(e),[r,i]=TP(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},so=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ou=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(re.min(),i,new qe(fe),un(),_e())}},ku=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var Za=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},wg=class{constructor(e,n){this.targetId=e,this.me=n}},Ig=class{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Eg=class{constructor(){this.fe=0,this.ge=AP(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new ku(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=AP()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,J(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},BE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=un(),this.qe=SP(),this.Qe=new qe(fe)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(mg(s))if(r===0){let o=new q(s.path);this.Ue(n,o,Et.newNoDocument(o,re.min()))}else J(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}DP?.et(function(d,f,g,y,w){var A,S,k,B,$,G;let ie={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},W=f.unchangedNames;return W&&(ie.bloomFilter={applied:w===0,hashCount:(A=W?.hashCount)!==null&&A!==void 0?A:0,bitmapLength:(B=(k=(S=W?.bits)===null||S===void 0?void 0:S.bitmap)===null||k===void 0?void 0:k.length)!==null&&B!==void 0?B:0,padding:(G=($=W?.bits)===null||$===void 0?void 0:$.padding)!==null&&G!==void 0?G:0,mightContain:b=>{var _;return(_=y?.mightContain(b))!==null&&_!==void 0&&_}}),ie}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Xi(r).toUint8Array()}catch(c){if(c instanceof fg)return Du("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new UE(o,i,s)}catch(c){return Du(c instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&mg(a.target)){let c=new q(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Et.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Ou(e,n,this.Qe,this.ke,r);return this.ke=un(),this.qe=SP(),this.Qe=new qe(fe),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Eg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Be(fe),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Eg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function SP(){return new qe(q.comparator)}function AP(){return new qe(q.comparator)}var M9={asc:"ASCENDING",desc:"DESCENDING"},N9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P9={and:"AND",or:"OR"},$E=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function HE(t,e){return t.useProto3Json||om(e)?e:{value:e}}function ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $O(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O9(t,e){return ac(t,e.toTimestamp())}function Kt(t){return J(!!t),re.fromTimestamp(function(n){let r=ni(n);return new it(r.seconds,r.nanos)}(t))}function lD(t,e){return zE(t,e).canonicalString()}function zE(t,e){let n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HO(t){let e=Fe.fromString(t);return J(XO(e)),e}function bg(t,e){return lD(t.databaseId,e.path)}function co(t,e){let n=HO(e);if(n.get(1)!==t.databaseId.projectId)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(GO(n))}function zO(t,e){return lD(t.databaseId,e)}function qO(t){let e=HO(t);return e.length===4?Fe.emptyPath():GO(e)}function qE(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GO(t){return J(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function RP(t,e,n){return{name:bg(t,e),fields:n.value.mapValue.fields}}function k9(t,e,n){let r=co(t,e.name),i=Kt(e.updateTime),s=e.createTime?Kt(e.createTime):re.min(),o=new Gt({mapValue:{fields:e.fields}}),a=Et.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function F9(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(J(d===void 0||typeof d=="string"),bt.fromBase64String(d||"")):(J(d===void 0||d instanceof Buffer||d instanceof Uint8Array),bt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?P.UNKNOWN:BO(u.code);return new H(d,u.message||"")}(o);n=new Ig(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=co(t,r.document.name),s=Kt(r.document.updateTime),o=r.document.createTime?Kt(r.document.createTime):re.min(),a=new Gt({mapValue:{fields:r.document.fields}}),c=Et.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Za(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=co(t,r.document),s=r.readTime?Kt(r.readTime):re.min(),o=Et.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Za([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=co(t,r.document),s=r.removedTargetIds||[];n=new Za([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new jE(i,s),a=r.targetId;n=new wg(a,o)}}return n}function Dg(t,e){let n;if(e instanceof is)n={update:RP(t,e.key,e.value)};else if(e instanceof mo)n={delete:bg(t,e.key)};else if(e instanceof qn)n={update:RP(t,e.key,e.data),updateMask:$9(e.fieldMask)};else{if(!(e instanceof _g))return Q();n={verify:bg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof po)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ns)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof rs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof go)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:O9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function GE(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?It.updateTime(Kt(s.updateTime)):s.exists!==void 0?It.exists(s.exists):It.none()}(e.currentDocument):It.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;if("setToServerValue"in a)J(a.setToServerValue==="REQUEST_TIME"),c=new po;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new ns(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new rs(d)}else"increment"in a?c=new go(o,a.increment):Q();let u=lt.fromServerFormat(a.fieldPath);return new FE(u,c)}(t,i)):[];if(e.update){e.update.name;let i=co(t,e.update.name),s=new Gt({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(c){let u=c.fieldPaths||[];return new ln(u.map(d=>lt.fromServerFormat(d)))}(e.updateMask);return new qn(i,s,o,n,r)}return new is(i,s,n,r)}if(e.delete){let i=co(t,e.delete);return new mo(i,n)}if(e.verify){let i=co(t,e.verify);return new _g(i,n)}return Q()}function L9(t,e){return t&&t.length>0?(J(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Kt(i.updateTime):Kt(s);return o.isEqual(re.min())&&(o=Kt(s)),new LE(o,i.transformResults||[])}(n,e))):[]}function WO(t,e){return{documents:[zO(t,e.path)]}}function KO(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zO(t,i);let s=function(u){if(u.length!==0)return ZO(Oe.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Ga(g.field),direction:j9(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=HE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function QO(t){let e=qO(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){J(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let g=YO(f);return g instanceof Oe&&aD(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(w){return new ho(Wa(w.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,om(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){let g=!!f.before,y=f.values||[];return new es(y,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let g=!f.before,y=f.values||[];return new es(y,g)}(n.endAt)),CO(e,i,o,s,a,"F",c,u)}function V9(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Wa(n.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Wa(n.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Wa(n.unaryFilter.field);return be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Wa(n.unaryFilter.field);return be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return be.create(Wa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oe.create(n.compositeFilter.filters.map(r=>YO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function j9(t){return M9[t]}function U9(t){return N9[t]}function B9(t){return P9[t]}function Ga(t){return{fieldPath:t.canonicalString()}}function Wa(t){return lt.fromServerFormat(t.fieldPath)}function ZO(t){return t instanceof be?function(n){if(n.op==="=="){if(hP(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(dP(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hP(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(dP(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:U9(n.op),value:n.value}}}(t):t instanceof Oe?function(n){let r=n.getFilters().map(i=>ZO(i));return r.length===1?r[0]:{compositeFilter:{op:B9(n.op),filters:r}}}(t):Q()}function $9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function XO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var cc=class t{constructor(e,n,r,i,s=re.min(),o=re.min(),a=bt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Cg=class{constructor(e){this.ct=e}};function H9(t,e){let n;if(e.document)n=k9(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=q.fromSegments(e.noDocument.path),i=vo(e.noDocument.readTime);n=Et.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Q();{let r=q.fromSegments(e.unknownDocument.path),i=vo(e.unknownDocument.version);n=Et.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new it(i[0],i[1]);return re.fromTimestamp(s)}(e.readTime)),n}function xP(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:bg(s,o.key),fields:o.data.value.mapValue.fields,updateTime:ac(s,o.version.toTimestamp()),createTime:ac(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:yo(e.version)};else{if(!e.isUnknownDocument())return Q();r.unknownDocument={path:n.path.toArray(),version:yo(e.version)}}return r}function Tg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function yo(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vo(t){let e=new it(t.seconds,t.nanoseconds);return re.fromTimestamp(e)}function no(t,e){let n=(e.baseMutations||[]).map(s=>GE(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>GE(t.ct,s)),i=it.fromMillis(e.localWriteTimeMs);return new Nu(e.batchId,i,n,r)}function yu(t){let e=vo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?vo(t.lastLimboFreeSnapshotVersion):re.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return J(s.documents.length===1),hn(Zu(qO(s.documents[0])))}(t.query):function(s){return hn(QO(s))}(t.query),new cc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,bt.fromBase64String(t.resumeToken))}function JO(t,e){let n=yo(e.snapshotVersion),r=yo(e.lastLimboFreeSnapshotVersion),i;i=mg(e.target)?WO(t.ct,e.target):KO(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ek(t){let e=QO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vg(e,e.limit,"L"):e}function iE(t,e){return new Pu(e.largestBatchId,GE(t.ct,e.overlayMutation))}function MP(t,e){let n=e.path.lastSegment();return[t,Wt(e.path.popLast()),n]}function NP(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:yo(r.readTime),documentKey:Wt(r.documentKey.path),largestBatchId:r.largestBatchId}}var WE=class{getBundleMetadata(e,n){return PP(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:vo(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return PP(e).put(function(i){return{bundleId:i.id,createTime:yo(Kt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return OP(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:ek(s.bundledQuery),readTime:vo(s.readTime)}}(r)})}saveNamedQuery(e,n){return OP(e).put(function(i){return{name:i.name,readTime:yo(Kt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function PP(t){return yt(t,"bundles")}function OP(t){return yt(t,"namedQueries")}var Sg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return hu(e).get(MP(this.userId,n)).next(r=>r?iE(this.serializer,r):null)}getOverlays(e,n){let r=wr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new Pu(n,o);i.push(this.ht(e,a))}),M.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(Wt(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(hu(e).j("collectionPathOverlayIndex",a))}),M.waitFor(s)}getOverlaysForCollection(e,n,r){let i=wr(),s=Wt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return hu(e).U("collectionPathOverlayIndex",o).next(a=>{for(let c of a){let u=iE(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=wr(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return hu(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,d)=>{let f=iE(this.serializer,u);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return hu(e).put(function(i,s,o){let[a,c,u]=MP(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Dg(i.ct,o.mutation)}}(this.serializer,this.userId,n))}};function hu(t){return yt(t,"documentOverlays")}var ti=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ze(e.integerValue));else if("doubleValue"in e){let r=Ze(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Tu(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=ni(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Xi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?vO(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Q()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};ti.bt=new ti;function z9(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function kP(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=z9(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var KE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{let i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{let i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){let n=this.Bt(e),r=kP(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){let n=this.Bt(e),r=kP(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},QE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},YE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},ro=class{constructor(){this.Gt=new KE,this.zt=new QE(this.Gt),this.jt=new YE(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var io=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Wi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=FP(t.arrayValue,e.arrayValue),n!==0?n:(n=FP(t.directionalValue,e.directionalValue),n!==0?n:q.comparator(t.documentKey,e.documentKey)))}function FP(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var Ag=class{constructor(e){this.Yt=new Be((n,r)=>lt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(J(e.collectionGroup===this.collectionId),this.en)return!1;let n=yE(e);if(n!==void 0&&!this.nn(n))return!1;let r=eo(e),i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[s];if(!this.rn(a,c)||!this.sn(this.Zt[o++],c))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Be(lt.comparator),n=[];for(let r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ya(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ya(r.field,0))}for(let r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ya(r.field,r.dir==="asc"?0:1)));return new ec(ec.UNKNOWN_ID,this.collectionId,n,Cu.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function tk(t){var e,n;if(J(t instanceof be||t instanceof Oe),t instanceof be){if(t instanceof gg){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>be.create(t.field,"==",s)))||[];return Oe.create(i,"or")}return t}let r=t.filters.map(i=>tk(i));return Oe.create(r,t.op)}function q9(t){if(t.getFilters().length===0)return[];let e=JE(tk(t));return J(nk(e)),ZE(e)||XE(e)?[e]:e.getFilters()}function ZE(t){return t instanceof be}function XE(t){return t instanceof Oe&&aD(t)}function nk(t){return ZE(t)||XE(t)||function(n){if(n instanceof Oe&&CE(n)){for(let r of n.getFilters())if(!ZE(r)&&!XE(r))return!1;return!0}return!1}(t)}function JE(t){if(J(t instanceof be||t instanceof Oe),t instanceof be)return t;if(t.filters.length===1)return JE(t.filters[0]);let e=t.filters.map(r=>JE(r)),n=Oe.create(e,t.op);return n=Rg(n),nk(n)?n:(J(n instanceof Oe),J(ic(n)),J(n.filters.length>1),n.filters.reduce((r,i)=>uD(r,i)))}function uD(t,e){let n;return J(t instanceof be||t instanceof Oe),J(e instanceof be||e instanceof Oe),n=t instanceof be?e instanceof be?function(i,s){return Oe.create([i,s],"and")}(t,e):LP(t,e):e instanceof be?LP(e,t):function(i,s){if(J(i.filters.length>0&&s.filters.length>0),ic(i)&&ic(s))return EO(i,s.getFilters());let o=CE(i)?i:s,a=CE(i)?s:i,c=o.filters.map(u=>uD(u,a));return Oe.create(c,"or")}(t,e),Rg(n)}function LP(t,e){if(ic(e))return EO(e,t.getFilters());{let n=e.filters.map(r=>uD(t,r));return Oe.create(n,"or")}}function Rg(t){if(J(t instanceof be||t instanceof Oe),t instanceof be)return t;let e=t.getFilters();if(e.length===1)return Rg(e[0]);if(wO(t))return t;let n=e.map(i=>Rg(i)),r=[];return n.forEach(i=>{i instanceof be?r.push(i):i instanceof Oe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Oe.create(r,t.op)}var eb=class{constructor(){this._n=new Fu}addToCollectionParentIndex(e,n){return this._n.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Sn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Sn.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},Fu=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Be(Fe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Be(Fe.comparator)).toArray()}};var Jp=new Uint8Array(0),tb=class{constructor(e,n){this.databaseId=n,this.an=new Fu,this.un=new br(r=>fo(r),(r,i)=>Yu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let s={collectionId:r,parent:Wt(i)};return VP(e).put(s)}return M.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[oO(n),""],!1,!0);return VP(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(_r(o.parent))}return r})}addFieldIndex(e,n){let r=fu(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=$a(e);return s.next(a=>{o.put(NP(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=fu(e),i=$a(e),s=Ba(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=fu(e),r=Ba(e),i=$a(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return M.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new Ag(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=Ba(e),i=!0,s=new Map;return M.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=_e(),a=[];return M.forEach(s,(c,u)=>{V("IndexedDbIndexManager",`Using index ${function($){return`id=${$.indexId}|cg=${$.collectionGroup}|f=${$.fields.map(G=>`${G.fieldPath}:${G.kind}`).join(",")}`}(c)} to execute ${fo(n)}`);let d=function($,G){let ie=yE(G);if(ie===void 0)return null;for(let W of yg($,ie.fieldPath))switch(W.op){case"array-contains-any":return W.value.arrayValue.values||[];case"array-contains":return[W.value]}return null}(u,c),f=function($,G){let ie=new Map;for(let W of eo(G))for(let b of yg($,W.fieldPath))switch(b.op){case"==":case"in":ie.set(W.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return ie.set(W.fieldPath.canonicalString(),b.value),Array.from(ie.values())}return null}(u,c),g=function($,G){let ie=[],W=!0;for(let b of eo(G)){let _=b.kind===0?yP($,b.fieldPath,$.startAt):vP($,b.fieldPath,$.startAt);ie.push(_.value),W&&(W=_.inclusive)}return new es(ie,W)}(u,c),y=function($,G){let ie=[],W=!0;for(let b of eo(G)){let _=b.kind===0?vP($,b.fieldPath,$.endAt):yP($,b.fieldPath,$.endAt);ie.push(_.value),W&&(W=_.inclusive)}return new es(ie,W)}(u,c),w=this.hn(c,u,g),A=this.hn(c,u,y),S=this.Pn(c,u,f),k=this.In(c.indexId,d,w,g.inclusive,A,y.inclusive,S);return M.forEach(k,B=>r.G(B,n.limit).next($=>{$.forEach(G=>{let ie=q.fromSegments(G.documentKey);o.has(ie)||(o=o.add(ie),a.push(ie))})}))}).next(()=>a)}return M.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=q9(Oe.create(e.filters,"and")).map(r=>OE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){let c=(n!=null?n.length:1)*Math.max(r.length,s.length),u=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){let g=n?this.Tn(n[f/u]):Jp,y=this.En(e,g,r[f%u],i),w=this.dn(e,g,s[f%u],o),A=a.map(S=>this.En(e,g,S,!0));d.push(...this.createRange(y,w,A))}return d}En(e,n,r,i){let s=new io(e,q.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){let s=new io(e,q.empty(),n,r);return i?s.Jt():s}ln(e,n){let r=new Ag(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.cn(n);return M.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let u=new Be(lt.comparator),d=!1;for(let f of c.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:u=u.add(g.field));for(let f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){let r=new ro;for(let i of eo(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.Ht(i.kind);ti.bt.Pt(s,o)}return r.Wt()}Tn(e){let n=new ro;return ti.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let r=new ro;return ti.bt.Pt(xu(this.databaseId,n),r.Ht(function(s){let o=eo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new ro);let s=0;for(let o of eo(e)){let a=r[s++];for(let c of i)if(this.Vn(n,o.fieldPath)&&Mu(a))i=this.mn(i,o,a);else{let u=c.Ht(o.kind);ti.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let c=new ro;c.seed(a.Wt()),ti.bt.Pt(o,c.Ht(n.kind)),s.push(c)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof be&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=fu(e),i=$a(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{let o=[];return M.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(d,f){let g=f?new Cu(f.sequenceNumber,new Sn(vo(f.readTime),new q(_r(f.documentKey)),f.largestBatchId)):Cu.empty(),y=d.fields.map(([w,A])=>new Ya(lt.fromServerFormat(w),A));return new ec(d.indexId,d.collectionGroup,y,g)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:fe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=fu(e),s=$a(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>M.forEach(a,c=>s.put(NP(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){let r=new Map;return M.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?M.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),M.forEach(a,c=>this.pn(e,i,c).next(u=>{let d=this.yn(s,c);return u.isEqual(d)?M.resolve():this.wn(e,s,c,u,d)}))))})}Sn(e,n,r,i){return Ba(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Ba(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){let i=Ba(e),s=new Be(Wi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new io(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new Be(Wi),i=this.An(n,e);if(i==null)return r;let s=yE(n);if(s!=null){let o=e.data.field(s.fieldPath);if(Mu(o))for(let a of o.arrayValue.values||[])r=r.add(new io(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new io(n.indexId,e.key,Jp,i));return r}wn(e,n,r,i,s){V("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(c,u,d,f,g){let y=c.getIterator(),w=u.getIterator(),A=Ua(y),S=Ua(w);for(;A||S;){let k=!1,B=!1;if(A&&S){let $=d(A,S);$<0?B=!0:$>0&&(k=!0)}else A!=null?B=!0:k=!0;k?(f(S),S=Ua(w)):B?(g(A),A=Ua(y)):(A=Ua(y),S=Ua(w))}}(i,s,Wi,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),M.waitFor(o)}gn(e){let n=1;return $a(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Wi(o,a)).filter((o,a,c)=>!a||Wi(o,c[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Wi(o,e),c=Wi(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&c<0)i.push(o),i.push(o.Jt());else if(c>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Jp,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Jp,[]];s.push(IDBKeyRange.bound(a,c))}return s}Dn(e,n){return Wi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(jP)}getMinOffset(e,n){return M.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Q())).next(jP)}};function VP(t){return yt(t,"collectionParents")}function Ba(t){return yt(t,"indexEntries")}function fu(t){return yt(t,"indexConfiguration")}function $a(t){return yt(t,"indexState")}function jP(t){J(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;rD(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Sn(e.readTime,e.documentKey,n)}var UP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Tn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function rk(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.J({range:o},(d,f,g)=>(a++,g.delete()));s.push(c.next(()=>{J(a===1)}));let u=[];for(let d of n.mutations){let f=hO(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return M.waitFor(s).next(()=>u)}function xg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Q();e=t.noDocument}return JSON.stringify(e).length}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(41943040,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);var Mg=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){J(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ki(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=Ka(e),o=Ki(e);return o.add({}).next(a=>{J(typeof a=="number");let c=new Nu(a,n,r,i),u=function(y,w,A){let S=A.baseMutations.map(B=>Dg(y.ct,B)),k=A.mutations.map(B=>Dg(y.ct,B));return{userId:w,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:S,mutations:k}}(this.serializer,this.userId,c),d=[],f=new Be((g,y)=>fe(g.canonicalString(),y.canonicalString()));for(let g of i){let y=hO(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(o.put(u)),d.push(s.put(y,Q3))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),M.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return Ki(e).get(n).next(r=>r?(J(r.userId===this.userId),no(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?M.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Ki(e).J({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(J(a.batchId>=r),s=no(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ki(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ki(e).U("userMutationsIndex",n).next(r=>r.map(i=>no(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=rg(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ka(e).J({range:i},(o,a,c)=>{let[u,d,f]=o,g=_r(d);if(u===this.userId&&n.path.isEqual(g))return Ki(e).get(f).next(y=>{if(!y)throw Q();J(y.userId===this.userId),s.push(no(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(fe),i=[];return n.forEach(s=>{let o=rg(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=Ka(e).J({range:a},(u,d,f)=>{let[g,y,w]=u,A=_r(y);g===this.userId&&s.path.isEqual(A)?r=r.add(w):f.done()});i.push(c)}),M.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=rg(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Be(fe);return Ka(e).J({range:o},(c,u,d)=>{let[f,g,y]=c,w=_r(g);f===this.userId&&r.isPrefixOf(w)?w.length===i&&(a=a.add(y)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(Ki(e).get(s).next(o=>{if(o===null)throw Q();J(o.userId===this.userId),r.push(no(this.serializer,o))}))}),M.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return rk(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),M.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return M.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ka(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let c=_r(s[1]);i.push(c)}else a.done()}).next(()=>{J(i.length===0)})})}containsKey(e,n){return ik(e,this.userId,n)}xn(e){return sk(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function ik(t,e,n){let r=rg(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ka(t).J({range:s,H:!0},(a,c,u)=>{let[d,f,g]=a;d===e&&f===i&&(o=!0),u.done()}).next(()=>o)}function Ki(t){return yt(t,"mutations")}function Ka(t){return yt(t,"documentMutations")}function sk(t){return yt(t,"mutationQueues")}var lc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var nb=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new lc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>re.fromTimestamp(new it(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Ha(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(J(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0,s=[];return Ha(e).J((o,a)=>{let c=yu(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>M.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Ha(e).J((r,i)=>{let s=yu(i);n(s)})}Bn(e){return BP(e).get("targetGlobalKey").next(n=>(J(n!==null),n))}kn(e,n){return BP(e).put("targetGlobalKey",n)}qn(e,n){return Ha(e).put(JO(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=fo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Ha(e).J({range:i,index:"queryTargetsIndex"},(o,a,c)=>{let u=yu(a);Yu(n,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=Qi(e);return n.forEach(o=>{let a=Wt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),M.waitFor(i)}removeMatchingKeys(e,n,r){let i=Qi(e);return M.forEach(n,s=>{let o=Wt(s.path);return M.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=Qi(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Qi(e),s=_e();return i.J({range:r,H:!0},(o,a,c)=>{let u=_r(o[1]),d=new q(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){let r=Wt(n.path),i=IDBKeyRange.bound([r],[oO(r)],!1,!0),s=0;return Qi(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,n){return Ha(e).get(n).next(r=>r?yu(r):null)}};function Ha(t){return yt(t,"targets")}function BP(t){return yt(t,"targetGlobal")}function Qi(t){return yt(t,"targetDocuments")}function $P([t,e],[n,r]){let i=fe(t,n);return i===0?fe(e,r):i}var rb=class{constructor(e){this.Kn=e,this.buffer=new Be($P),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();$P(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ib=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){V("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){as(n)?V("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield os(n)}yield this.zn(3e5)}))}},sb=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(cn.oe);let r=new rb(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(UP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UP):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),za()<=we.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function G9(t,e){return new sb(t,e)}var ob=class{constructor(e,n){this.db=e,this.garbageCollector=G9(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return eg(e,r)}removeReference(e,n,r){return eg(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return eg(e,n)}er(e,n){return function(i,s){let o=!1;return sk(i).Y(a=>ik(i,a,s).next(c=>(c&&(o=!0),M.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.Xn(e,(o,a)=>{if(a<=n){let c=this.er(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,re.min()),Qi(e).delete(function(f){return[0,Wt(f.path)]}(o))))});i.push(c)}}).next(()=>M.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return eg(e,n)}Xn(e,n){let r=Qi(e),i,s=cn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:u})=>{o===0?(s!==cn.oe&&n(new q(_r(i)),s),s=u,i=c):s=cn.oe}).next(()=>{s!==cn.oe&&n(new q(_r(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function eg(t,e){return Qi(t).put(function(r,i){return{targetId:0,path:Wt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Ng=class{constructor(){this.changes=new br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ab=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Js(e).put(r)}removeEntry(e,n,r){return Js(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Tg(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Et.newInvalidDocument(n);return Js(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pu(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Et.newInvalidDocument(n)};return Js(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(pu(n))},(i,s)=>{r={document:this.nr(n,s),size:xg(s)}}).next(()=>r)}getEntries(e,n){let r=un();return this.ir(e,n,(i,s)=>{let o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=un(),i=new qe(q.comparator);return this.ir(e,n,(s,o)=>{let a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,xg(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return M.resolve();let i=new Be(qP);n.forEach(c=>i=i.add(c));let s=IDBKeyRange.bound(pu(i.first()),pu(i.last())),o=i.getIterator(),a=o.getNext();return Js(e).J({index:"documentKeyIndex",range:s},(c,u,d)=>{let f=q.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&qP(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(pu(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Tg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Js(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{s?.incrementDocumentReadCount(u.length);let d=un();for(let f of u){let g=this.nr(q.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(Xu(n,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=un(),o=zP(n,r),a=zP(n,Sn.max());return Js(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,u,d)=>{let f=this.nr(q.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new cb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return HP(e).get("remoteDocumentGlobalKey").next(n=>(J(!!n),n))}tr(e,n){return HP(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let r=H9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(re.min())))return r}return Et.newInvalidDocument(e)}};function ok(t){return new ab(t)}var cb=class extends Ng{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new br(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new Be((s,o)=>fe(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){let c=xP(this.ar.serializer,o);i=i.add(s.path.popLast());let u=xg(c);r+=u-a.size,n.push(this.ar.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){let c=xP(this.ar.serializer,o.convertToNoDocument(re.min()));n.push(this.ar.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),M.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function HP(t){return yt(t,"remoteDocumentGlobal")}function Js(t){return yt(t,"remoteDocumentsV14")}function pu(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function zP(t,e){let n=e.documentKey.path.toArray();return[t,Tg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function qP(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=fe(n[s],r[s]),i)return i;return i=fe(n.length,r.length),i||(i=fe(n[n.length-2],r[r.length-2]),i||fe(n[n.length-1],r[r.length-1]))}var lb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Pg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Iu(r.mutation,i,ln.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=mu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=un(),o=wu(),a=function(){return wu()}();return n.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof qn)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Iu(d.mutation,u,d.mutation.getFieldMask(),it.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new lb(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=wu(),i=new qe((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=r.get(c)||ln.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=NO();d.forEach(g=>{if(!s.has(g)){let y=jO(n.get(g),r.get(g));y!==null&&f.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):M.resolve(wr()),a=-1,c=s;return o.next(u=>M.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?M.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,_e())).next(d=>({batchId:a,changes:MO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=mu();return this.indexManager.getCollectionParents(e,s).next(a=>M.forEach(a,c=>{let u=function(f,g){return new ts(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,Et.newInvalidDocument(d)))});let a=mu();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&Iu(d.mutation,u,ln.empty(),it.now()),Xu(n,u)&&(a=a.insert(c,u))}),a})}};var ub=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return M.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kt(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:ek(i.bundledQuery),readTime:Kt(i.readTime)}}(n)),M.resolve()}};var db=class{constructor(){this.overlays=new qe(q.comparator),this.hr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wr();return M.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=wr(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=wr(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=wr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return M.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pu(n,r));let s=this.hr.get(n);s===void 0&&(s=_e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Lu=class{constructor(){this.Pr=new Be(at.Ir),this.Tr=new Be(at.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new at(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new at(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new q(new Fe([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new q(new Fe([])),r=new at(n,e),i=new at(n,e+1),s=_e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new at(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return q.comparator(e.key,n.key)||fe(e.pr,n.pr)}static Er(e,n){return fe(e.pr,n.pr)||q.comparator(e.key,n.key)}};var hb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Be(at.Ir)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Nu(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new at(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return M.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),M.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(fe);return n.forEach(i=>{let s=new at(i,0),o=new at(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),M.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new at(new q(s),0),a=new Be(fe);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),M.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){J(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return M.forEach(n.mutations,i=>{let s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new at(n,0),i=this.wr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var fb=class{constructor(e){this.vr=e,this.docs=function(){return new qe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=un();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Et.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=un(),o=n.path,a=new q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||rD(cO(d),r)<=0||(i.has(d.key)||Xu(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return M.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Fr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pb(this)}getSize(e){return M.resolve(this.size)}},pb=class extends Ng{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var gb=class{constructor(e){this.persistence=e,this.Mr=new br(n=>fo(n),Yu),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Lu,this.targetCount=0,this.Lr=lc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),M.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new lc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.qn(n),M.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(s).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Nr.containsKey(n))}};var Og=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new cn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new gb(this),this.indexManager=new eb,this.remoteDocumentCache=function(i){return new fb(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Cg(n),this.$r=new ub(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new db,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new hb(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new mb(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},mb=class extends ug{constructor(e){super(),this.currentSequenceNumber=e}},kg=class t{constructor(e){this.persistence=e,this.zr=new Lu,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw Q()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),M.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Jr,r=>{let i=q.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,re.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return M.or([()=>M.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var yb=class{constructor(e){this.serializer=e}O(e,n,r,i){let s=new dg("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cP,{unique:!0}),c.createObjectStore("documentMutations")}(e),GP(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=M.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),GP(e)),o=o.next(()=>function(c){let u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:re.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,u){return u.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",cP,{unique:!0});let f=u.store("mutations"),g=d.map(y=>f.put(y));return M.waitFor(g)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:a9});u.createIndex("collectionPathOverlayIndex",c9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",l9,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:Y3});u.createIndex("documentKeyIndex",Z3),u.createIndex("collectionGroupIndex",X3)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:r9}).createIndex("sequenceNumberIndex",i9,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:s9}).createIndex("documentKeyIndex",o9,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=xg(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>M.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>M.forEach(a,c=>{J(c.userId===s.userId);let u=no(this.serializer,c);return rk(e,s.userId,u).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let c=new Fe(o),u=function(f){return[0,Wt(f)]}(c);s.push(n.get(u).next(d=>d?M.resolve():(f=>n.put({targetId:0,path:Wt(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>M.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:n9});let r=n.store("collectionParents"),i=new Fu,s=o=>{if(i.add(o)){let a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:Wt(c)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let c=new Fe(o);return s(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,c],u)=>{let d=_r(a);return s(d.popLast())}))}ri(e){let n=e.store("targets");return n.J((r,i)=>{let s=yu(i),o=JO(this.serializer,s);return n.put(o)})}ii(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new q(Fe.fromString(f.document.name).popFirst(5)):f.noDocument?q.fromSegments(f.noDocument.path):f.unknownDocument?q.fromSegments(f.unknownDocument.path):Q()}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>M.waitFor(i))}si(e,n){let r=n.store("mutations"),i=ok(this.serializer),s=new Og(kg.Hr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(c=>{var u;let d=(u=a.get(c.userId))!==null&&u!==void 0?u:_e();no(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),M.forEach(a,(c,u)=>{let d=new mt(u),f=Sg.lt(this.serializer,d),g=s.getIndexManager(d),y=Mg.lt(d,this.serializer,g,s.referenceDelegate);return new Pg(i,y,f,g).recalculateAndSaveOverlaysForDocumentKeys(new Su(n,cn.oe),c).next()})})}};function GP(t){t.createObjectStore("targetDocuments",{keyPath:e9}).createIndex("documentTargetsIndex",t9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",J3,{unique:!0}),t.createObjectStore("targetGlobal")}var sE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vb=class t{constructor(e,n,r,i,s,o,a,c,u,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=u,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=g=>Promise.resolve(),!t.D())throw new H(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ob(this,i),this.Ti=n+"main",this.serializer=new Cg(c),this.Ei=new tc(this.Ti,this.ui,new yb(this.serializer)),this.Qr=new nb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ok(this.serializer),this.$r=new WE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&rt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new H(P.FAILED_PRECONDITION,sE);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new cn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>v(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>v(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>v(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(as(e))return V("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return V("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return gu(e).get("owner").next(n=>M.resolve(this.Si(n)))}bi(e){return tg(e).delete(this.clientId)}Di(){return v(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=yt(n,"clientMetadata");return r.U().next(i=>{let s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return M.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?M.resolve(!0):gu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new H(P.FAILED_PRECONDITION,sE);return!1}}return!(!this.networkEnabled||!this.inForeground)||tg(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&V("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return v(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Su(e,cn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>tg(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Mg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new tb(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Sg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){V("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===16?d9:c===15?mO:c===14?gO:c===13?pO:c===12?u9:c===11?fO:void Q()}(this.ui),o;return this.Ei.runTransaction(e,i,s,a=>(o=new Su(a,this.kr?this.kr.next():cn.oe),n==="readwrite-primary"?this.gi(o).next(c=>!!c||this.pi(o)).next(c=>{if(!c)throw rt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new H(P.FAILED_PRECONDITION,lO);return r(o)}).next(c=>this.wi(o).next(()=>c)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return gu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new H(P.FAILED_PRECONDITION,sE)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gu(e).put("owner",n)}static D(){return tc.D()}yi(e){let n=gu(e);return n.get("owner").next(r=>this.Si(r)?(V("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):M.resolve())}Ci(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(rt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;qw()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return V("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return rt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){rt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function gu(t){return yt(t,"owner")}function tg(t){return yt(t,"clientMetadata")}function ak(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _b=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var wb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Fg=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return qw()?8:uO(Ye())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new wb;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(za()<=we.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),M.resolve()):(za()<=we.DEBUG&&V("QueryEngine","Query:",qa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(za()<=we.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hn(n))):M.resolve())}ji(e,n){if(_P(n))return M.resolve(null);let r=hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=vg(n,null,"F"),r=hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=_e(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,vg(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return _P(n)||i.isEqual(re.min())?M.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?M.resolve(null):(za()<=we.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qa(n)),this.es(e,o,n,aO(i,-1)).next(a=>a))})}Zi(e,n){let r=new Be(RO(e));return n.forEach((i,s)=>{Xu(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return za()<=we.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",qa(n)),this.zi.getDocumentsMatchingQuery(e,n,Sn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Ib=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new qe(fe),this.rs=new br(s=>fo(s),Yu),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function ck(t,e,n,r){return new Ib(t,e,n,r)}function lk(t,e){return v(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=_e();for(let u of i){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function W9(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,g=f.keys(),y=M.resolve();return g.forEach(w=>{y=y.next(()=>d.getEntry(c,w)).next(A=>{let S=u.docVersions.get(w);J(S!==null),A.version.compareTo(S)<0&&(f.applyToRemoteDocument(A,u),A.isValidDocument()&&(A.setReadTime(u.commitVersion),d.addEntry(A)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uk(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function K9(t,e){let n=Z(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(bt.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(A,S,k){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,y,d)&&a.push(n.Qr.updateTargetData(s,y))});let c=un(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Q9(s,o,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!r.isEqual(re.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return M.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function Q9(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=un();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(re.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function Y9(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Lg(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,M.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new cc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function uc(t,e,n){return v(this,null,function*(){let r=Z(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!as(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function Vg(t,e,n){let r=Z(t),i=re.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let f=Z(c),g=f.rs.get(d);return g!==void 0?M.resolve(f.ns.get(g)):f.Qr.getTargetData(u,d)}(r,o,hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:re.min(),n?s:_e())).next(a=>(fk(r,AO(e),a),{documents:a,hs:s})))}function dk(t,e){let n=Z(t),r=Z(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function hk(t,e){let n=Z(t),r=n.ss.get(e)||re.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,aO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(fk(n,e,i),i))}function fk(t,e,n){let r=t.ss.get(e)||re.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}function WP(t,e){return`firestore_clients_${t}_${e}`}function KP(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function oE(t,e){return`firestore_targets_${t}_${e}`}var jg=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new H(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(rt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Eu=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new H(r.error.code,r.error.message))),s?new t(e,r.state,i):(rt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Ug=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=cD();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=dO(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(rt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},Eb=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(rt("SharedClientState",`Failed to parse online state: ${e}`),null)}},Vu=class{constructor(){this.activeTargetIds=cD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},bu=class{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new qe(fe),this.started=!1,this.ys=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=WP(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Vu),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return v(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Vs)continue;let i=this.getItem(WP(this.persistenceKey,r));if(i){let s=Ug.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let r=this.xs(n);r&&this.Os(r)}for(let r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(oE(this.persistenceKey,e));if(r){let i=Eu.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oE(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return V("SharedClientState","READ",e,n),n}setItem(e,n){V("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){V("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(V("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void rt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>v(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let r=this.$s(n.key);return this.Us(r,null)}{let r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){let r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){let r=function(s){let o=cn.oe;if(s!=null)try{let a=JSON.parse(s);J(typeof a=="number"),o=a}catch(a){rt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==cn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){let r=this.Js(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){let i=new jg(this.currentUser,e,n,r),s=KP(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){let n=KP(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){let i=oE(this.persistenceKey,e),s=new Eu(e,n,r);this.setItem(i,s.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let r=this.$s(e);return Ug.Es(r,n)}Gs(e,n){let r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return jg.Es(new mt(s),i,n)}js(e,n){let r=this.Cs.exec(e),i=Number(r[1]);return Eu.Es(i,n)}xs(e){return Eb.Es(e)}Js(e){return JSON.parse(e)}zs(e){return v(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);V("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=cD();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Bg=class{constructor(){this.no=new Vu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Vu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var bb=class{io(e){}shutdown(){}};var $g=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ng=null;function aE(){return ng===null?ng=function(){return 268435456+Math.round(2147483648*Math.random())}():ng++,"0x"+ng.toString(16)}var Z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Db=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Nt="WebChannelConnection",Cb=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let a=aE(),c=this.vo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,i).then(d=>(V("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Du("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=Z9[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=aE();return new Promise((o,a)=>{let c=new XI;c.setWithCredentials(!0),c.listenOnce(eE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case du.NO_ERROR:let d=c.getResponseJson();V(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case du.TIMEOUT:V(Nt,`RPC '${e}' ${s} timed out`),a(new H(P.DEADLINE_EXCEEDED,"Request time out"));break;case du.HTTP_ERROR:let f=c.getStatus();if(V(Nt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let w=function(S){let k=S.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(k)>=0?k:P.UNKNOWN}(y.status);a(new H(w,y.message))}else a(new H(P.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new H(P.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{V(Nt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);V(Nt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Oo(e,n,r){let i=aE(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rE(),a=nE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new JI({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=s.join("");V(Nt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=o.createWebChannel(d,c),g=!1,y=!1,w=new Db({lo:S=>{y?V(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(g||(V(Nt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),V(Nt,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},ho:()=>f.close()}),A=(S,k,B)=>{S.listen(k,$=>{try{B($)}catch(G){setTimeout(()=>{throw G},0)}})};return A(f,ja.EventType.OPEN,()=>{y||(V(Nt,`RPC '${e}' stream ${i} transport opened.`),w.mo())}),A(f,ja.EventType.CLOSE,()=>{y||(y=!0,V(Nt,`RPC '${e}' stream ${i} transport closed`),w.po())}),A(f,ja.EventType.ERROR,S=>{y||(y=!0,Du(Nt,`RPC '${e}' stream ${i} transport errored:`,S),w.po(new H(P.UNAVAILABLE,"The operation could not be completed")))}),A(f,ja.EventType.MESSAGE,S=>{var k;if(!y){let B=S.data[0];J(!!B);let $=B,G=$.error||((k=$[0])===null||k===void 0?void 0:k.error);if(G){V(Nt,`RPC '${e}' stream ${i} received error:`,G);let ie=G.status,W=function(I){let D=ot[I];if(D!==void 0)return BO(D)}(ie),b=G.message;W===void 0&&(W=P.INTERNAL,b="Unknown error status: "+ie+" with message "+G.message),y=!0,w.po(new H(W,b)),f.close()}else V(Nt,`RPC '${e}' stream ${i} received:`,B),w.yo(B)}}),A(a,tE.STAT_EVENT,S=>{S.stat===Xp.PROXY?V(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Xp.NOPROXY&&V(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}};function pk(){return typeof window<"u"?window:null}function ag(){return typeof document<"u"?document:null}function cm(t){return new $E(t,!0)}var Hg=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var zg=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Hg(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return v(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return v(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return v(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(rt(n.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new H(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>v(this,null,function*(){this.state=0,this.start()}))}c_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Tb=class extends zg{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=F9(this.serializer,e),r=function(s){if(!("targetChange"in s))return re.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?re.min():o.readTime?Kt(o.readTime):re.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=qE(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=mg(c)?{documents:WO(s,c)}:{query:KO(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$O(s,o.resumeToken);let u=HE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(re.min())>0){a.readTime=ac(s,o.snapshotVersion.toTimestamp());let u=HE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=V9(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=qE(this.serializer),n.removeTarget=e,this.i_(n)}},Sb=class extends zg{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(J(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=L9(e.writeResults,e.commitTime),r=Kt(e.commitTime);return this.listener.A_(r,n)}return J(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=qE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Dg(this.serializer,r))};this.i_(n)}};var Ab=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,zE(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(P.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,zE(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(P.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Rb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(rt(n),this.y_=!1):V("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var xb=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>v(this,null,function*(){Io(this)&&(V("RemoteStore","Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let u=Z(c);u.M_.add(4),yield Ju(u),u.N_.set("Unknown"),u.M_.delete(4),yield lm(u)})}(this))}))}),this.N_=new Rb(r,i)}};function lm(t){return v(this,null,function*(){if(Io(t))for(let e of t.x_)yield e(!0)})}function Ju(t){return v(this,null,function*(){for(let e of t.x_)yield e(!1)})}function um(t,e){let n=Z(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),fD(n)?hD(n):yc(n).Xo()&&dD(n,e))}function dc(t,e){let n=Z(t),r=yc(n);n.F_.delete(e),r.Xo()&&gk(n,e),n.F_.size===0&&(r.Xo()?r.n_():Io(n)&&n.N_.set("Unknown"))}function dD(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yc(t).P_(e)}function gk(t,e){t.L_.xe(e),yc(t).I_(e)}function hD(t){t.L_=new BE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yc(t).start(),t.N_.w_()}function fD(t){return Io(t)&&!yc(t).Zo()&&t.F_.size>0}function Io(t){return Z(t).M_.size===0}function mk(t){t.L_=void 0}function X9(t){return v(this,null,function*(){t.N_.set("Online")})}function J9(t){return v(this,null,function*(){t.F_.forEach((e,n)=>{dD(t,e)})})}function e6(t,e){return v(this,null,function*(){mk(t),fD(t)?(t.N_.D_(e),hD(t)):t.N_.set("Unknown")})}function t6(t,e,n){return v(this,null,function*(){if(t.N_.set("Online"),e instanceof Ig&&e.state===2&&e.cause)try{yield function(i,s){return v(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qg(t,r)}else if(e instanceof Za?t.L_.Ke(e):e instanceof wg?t.L_.He(e):t.L_.We(e),!n.isEqual(re.min()))try{let r=yield uk(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(u);d&&s.F_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(bt.EMPTY_BYTE_STRING,d.snapshotVersion)),gk(s,c);let f=new cc(d.target,c,u,d.sequenceNumber);dD(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){V("RemoteStore","Failed to raise snapshot:",r),yield qg(t,r)}})}function qg(t,e,n){return v(this,null,function*(){if(!as(e))throw e;t.M_.add(1),yield Ju(t),t.N_.set("Offline"),n||(n=()=>uk(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){V("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield lm(t)}))})}function yk(t,e){return e().catch(n=>qg(t,n,e))}function mc(t){return v(this,null,function*(){let e=Z(t),n=ss(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;n6(e);)try{let i=yield Y9(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,r6(e,i)}catch(i){yield qg(e,i)}vk(e)&&_k(e)})}function n6(t){return Io(t)&&t.v_.length<10}function r6(t,e){t.v_.push(e);let n=ss(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function vk(t){return Io(t)&&!ss(t).Zo()&&t.v_.length>0}function _k(t){ss(t).start()}function i6(t){return v(this,null,function*(){ss(t).V_()})}function s6(t){return v(this,null,function*(){let e=ss(t);for(let n of t.v_)e.d_(n.mutations)})}function o6(t,e,n){return v(this,null,function*(){let r=t.v_.shift(),i=VE.from(r,e,n);yield yk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield mc(t)})}function a6(t,e){return v(this,null,function*(){e&&ss(t).E_&&(yield function(r,i){return v(this,null,function*(){if(function(o){return A9(o)&&o!==P.ABORTED}(i.code)){let s=r.v_.shift();ss(r).t_(),yield yk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield mc(r)}})}(t,e)),vk(t)&&_k(t)})}function QP(t,e){return v(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");let r=Io(n);n.M_.add(3),yield Ju(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield lm(n)})}function Mb(t,e){return v(this,null,function*(){let n=Z(t);e?(n.M_.delete(2),yield lm(n)):e||(n.M_.add(2),yield Ju(n),n.N_.set("Unknown"))})}function yc(t){return t.B_||(t.B_=function(n,r,i){let s=Z(n);return s.f_(),new Tb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:X9.bind(null,t),To:J9.bind(null,t),Ao:e6.bind(null,t),h_:t6.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.B_.t_(),fD(t)?hD(t):t.N_.set("Unknown")):(yield t.B_.stop(),mk(t))}))),t.B_}function ss(t){return t.k_||(t.k_=function(n,r,i){let s=Z(n);return s.f_(),new Sb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:i6.bind(null,t),Ao:a6.bind(null,t),R_:s6.bind(null,t),A_:o6.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.k_.t_(),yield mc(t)):(yield t.k_.stop(),t.v_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var Nb=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function dm(t,e){if(rt("AsyncQueue",`${e}: ${t}`),as(t))return new H(P.UNAVAILABLE,`${e}: ${t}`);throw t}var Gg=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=mu(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Wg=class{constructor(){this.q_=new qe(q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Q():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},hc=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Gg.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&am(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Pb=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Ob=class{constructor(){this.queries=new br(e=>SO(e),am),this.onlineState="Unknown",this.z_=new Set}};function pD(t,e){return v(this,null,function*(){let n=Z(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Pb,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=dm(o,`Initialization of query '${qa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&mD(n)})}function gD(t,e){return v(this,null,function*(){let n=Z(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function c6(t,e){let n=Z(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&mD(n)}function l6(t,e,n){let r=Z(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function mD(t){t.z_.forEach(e=>{e.next()})}var kb,YP;(YP=kb||(kb={})).J_="default",YP.Cache="cache";var ju=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new hc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==kb.Cache}};var Kg=class{constructor(e){this.key=e}},Qg=class{constructor(e){this.key=e}},Yg=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=RO(e),this.Ta=new Gg(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new Wg,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),y=Xu(this.query,f)?f:null,w=!!g&&this.mutatedKeys.has(g.key),A=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;g&&y?g.data.isEqual(y.data)?w!==A&&(r.track({type:3,doc:y}),S=!0):this.Ra(g,y)||(r.track({type:2,doc:y}),S=!0,(c&&this.Ia(y,c)>0||u&&this.Ia(y,u)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),S=!0):g&&!y&&(r.track({type:1,doc:g}),S=!0,(c||u)&&(a=!0)),S&&(y?(o=o.add(y),s=A?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,f)=>function(y,w){let A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return A(y)-A(w)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new hc(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Wg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Qg(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Kg(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return hc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Fb=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Lb=class{constructor(e){this.key=e,this.wa=!1}},Vb=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new br(a=>SO(a),am),this.Da=new Map,this.Ca=new Set,this.va=new qe(q.comparator),this.Fa=new Map,this.Ma=new Lu,this.xa={},this.Oa=new Map,this.Na=lc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function u6(t,e,n=!0){return v(this,null,function*(){let r=hm(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield wk(r,e,n,!0),i})}function d6(t,e){return v(this,null,function*(){let n=hm(t);yield wk(n,e,!0,!1)})}function wk(t,e,n,r){return v(this,null,function*(){let i=yield Lg(t.localStore,hn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield yD(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&um(t.remoteStore,i),a})}function yD(t,e,n,r,i){return v(this,null,function*(){t.Ba=(f,g,y)=>function(A,S,k,B){return v(this,null,function*(){let $=S.view.da(k);$.Xi&&($=yield Vg(A.localStore,S.query,!1).then(({documents:b})=>S.view.da(b,$)));let G=B&&B.targetChanges.get(S.targetId),ie=B&&B.targetMismatches.get(S.targetId)!=null,W=S.view.applyChanges($,A.isPrimaryClient,G,ie);return jb(A,S.targetId,W.fa),W.snapshot})}(t,f,g,y);let s=yield Vg(t.localStore,e,!0),o=new Yg(e,s.hs),a=o.da(s.documents),c=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);jb(t,n,u.fa);let d=new Fb(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function h6(t,e,n){return v(this,null,function*(){let r=Z(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!am(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield uc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dc(r.remoteStore,i.targetId),fc(r,i.targetId)}).catch(os))):(fc(r,i.targetId),yield uc(r.localStore,i.targetId,!0))})}function f6(t,e){return v(this,null,function*(){let n=Z(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dc(n.remoteStore,r.targetId))})}function p6(t,e,n){return v(this,null,function*(){let r=ID(t);try{let i=yield function(o,a){let c=Z(o),u=it.now(),d=a.reduce((y,w)=>y.add(w.key),_e()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=un(),A=_e();return c.os.getEntries(y,d).next(S=>{w=S,w.forEach((k,B)=>{B.isValidDocument()||(A=A.add(k))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,w)).next(S=>{f=S;let k=[];for(let B of a){let $=S9(B,f.get(B.key).overlayedDocument);$!=null&&k.push(new qn(B.key,$,_O($.value.mapValue),It.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,k,a)}).next(S=>{g=S;let k=S.applyToLocalDocumentSet(f,A);return c.documentOverlayCache.saveOverlays(y,S.batchId,k)})}).then(()=>({batchId:g.batchId,changes:MO(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new qe(fe)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield cs(r,i.changes),yield mc(r.remoteStore)}catch(i){let s=dm(i,"Failed to persist write");n.reject(s)}})}function Ik(t,e){return v(this,null,function*(){let n=Z(t);try{let r=yield K9(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(J(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?J(o.wa):i.removedDocuments.size>0&&(J(o.wa),o.wa=!1))}),yield cs(n,r,e)}catch(r){yield os(r)}})}function ZP(t,e,n){let r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=Z(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let g of f.U_)g.j_(a)&&(u=!0)}),u&&mD(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function g6(t,e,n){return v(this,null,function*(){let r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new qe(q.comparator);o=o.insert(s,Et.newNoDocument(s,re.min()));let a=_e().add(s),c=new Ou(re.min(),new Map,new qe(fe),o,a);yield Ik(r,c),r.va=r.va.remove(s),r.Fa.delete(e),wD(r)}else yield uc(r.localStore,e,!1).then(()=>fc(r,e,n)).catch(os)})}function m6(t,e){return v(this,null,function*(){let n=Z(t),r=e.batch.batchId;try{let i=yield W9(n.localStore,e);_D(n,r,null),vD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield cs(n,i)}catch(i){yield os(i)}})}function y6(t,e,n){return v(this,null,function*(){let r=Z(t);try{let i=yield function(o,a){let c=Z(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(J(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);_D(r,e,n),vD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield cs(r,i)}catch(i){yield os(i)}})}function vD(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function _D(t,e,n){let r=Z(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function fc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||Ek(t,r)})}function Ek(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(dc(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),wD(t))}function jb(t,e,n){for(let r of n)r instanceof Kg?(t.Ma.addReference(r.key,e),v6(t,r)):r instanceof Qg?(V("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Ek(t,r.key)):Q()}function v6(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(V("SyncEngine","New document in limbo: "+n),t.Ca.add(r),wD(t))}function wD(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new q(Fe.fromString(e)),r=t.Na.next();t.Fa.set(r,new Lb(n)),t.va=t.va.insert(n,r),um(t.remoteStore,new cc(hn(Zu(n.path)),r,"TargetPurposeLimboResolution",cn.oe))}}function cs(t,e,n){return v(this,null,function*(){let r=Z(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){let d=u&&!u.fromCache;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);let d=_b.Ki(c.targetId,u);s.push(d)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(c,u){return v(this,null,function*(){let d=Z(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(u,g=>M.forEach(g.qi,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>M.forEach(g.Qi,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!as(f))throw f;V("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let y=d.ns.get(g),w=y.snapshotVersion,A=y.withLastLimboFreeSnapshotVersion(w);d.ns=d.ns.insert(g,A)}}})}(r.localStore,s))})}function _6(t,e){return v(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());let r=yield lk(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new H(P.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cs(n,r.us)}})}function w6(t,e){let n=Z(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e(),s=n.Da.get(e);if(!s)return i;for(let o of s){let a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function I6(t,e){return v(this,null,function*(){let n=Z(t),r=yield Vg(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&jb(n,e.targetId,i.fa),i})}function E6(t,e){return v(this,null,function*(){let n=Z(t);return hk(n.localStore,e).then(r=>cs(n,r))})}function b6(t,e,n,r){return v(this,null,function*(){let i=Z(t),s=yield function(a,c){let u=Z(a),d=Z(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,c).next(g=>g?u.localDocuments.getDocuments(f,g):M.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield mc(i.remoteStore):n==="acknowledged"||n==="rejected"?(_D(i,e,r||null),vD(i,e),function(a,c){Z(Z(a).mutationQueue).Mn(c)}(i.localStore,e)):Q(),yield cs(i,s)):V("SyncEngine","Cannot apply mutation batch with id: "+e)})}function D6(t,e){return v(this,null,function*(){let n=Z(t);if(hm(n),ID(n),e===!0&&n.La!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield XP(n,r.toArray());n.La=!0,yield Mb(n.remoteStore,!0);for(let s of i)um(n.remoteStore,s)}else if(e===!1&&n.La!==!1){let r=[],i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(fc(n,o),uc(n.localStore,o,!0))),dc(n.remoteStore,o)}),yield i,yield XP(n,r),function(o){let a=Z(o);a.Fa.forEach((c,u)=>{dc(a.remoteStore,u)}),a.Ma.mr(),a.Fa=new Map,a.va=new qe(q.comparator)}(n),n.La=!1,yield Mb(n.remoteStore,!1)}})}function XP(t,e,n){return v(this,null,function*(){let r=Z(t),i=[],s=[];for(let o of e){let a,c=r.Da.get(o);if(c&&c.length!==0){a=yield Lg(r.localStore,hn(c[0]));for(let u of c){let d=r.ba.get(u),f=yield I6(r,d);f.snapshot&&s.push(f.snapshot)}}else{let u=yield dk(r.localStore,o);a=yield Lg(r.localStore,u),yield yD(r,bk(u),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i})}function bk(t){return CO(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function C6(t){return function(n){return Z(Z(n).persistence).Bi()}(Z(t).localStore)}function T6(t,e,n,r){return v(this,null,function*(){let i=Z(t);if(i.La)return void V("SyncEngine","Ignoring unexpected query state notification.");let s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield hk(i.localStore,AO(s[0])),a=Ou.createSynthesizedRemoteEventForCurrentChange(e,n==="current",bt.EMPTY_BYTE_STRING);yield cs(i,o,a);break}case"rejected":yield uc(i.localStore,e,!0),fc(i,e,r);break;default:Q()}})}function S6(t,e,n){return v(this,null,function*(){let r=hm(t);if(r.La){for(let i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){V("SyncEngine","Adding an already active target "+i);continue}let s=yield dk(r.localStore,i),o=yield Lg(r.localStore,s);yield yD(r,bk(s),o.targetId,!1,o.resumeToken),um(r.remoteStore,o)}for(let i of n)r.Da.has(i)&&(yield uc(r.localStore,i,!1).then(()=>{dc(r.remoteStore,i),fc(r,i)}).catch(os))}})}function hm(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ik.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=w6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g6.bind(null,e),e.Sa.h_=c6.bind(null,e.eventManager),e.Sa.ka=l6.bind(null,e.eventManager),e}function ID(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y6.bind(null,e),e}var Uu=class{constructor(){this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=cm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ck(this.persistence,new Fg,e.initialUser,this.serializer)}createPersistence(e){return new Og(kg.Hr,this.serializer)}createSharedClientState(e){return new Bg}terminate(){return v(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Zg=class t extends Uu{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){yield Yn(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield ID(this.Qa.syncEngine),yield mc(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return ck(this.persistence,new Fg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new ib(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new IE(n,this.persistence);return new wE(e.asyncQueue,r)}createPersistence(e){let n=ak(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new vb(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,pk(),ag(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Bg}},Ub=class t extends Zg{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return v(this,null,function*(){yield Yn(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof bu&&(this.sharedClientState.syncEngine={Zs:b6.bind(null,n),Xs:T6.bind(null,n),eo:S6.bind(null,n),Bi:C6.bind(null,n),Ys:E6.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(r=>v(this,null,function*(){yield D6(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=pk();if(!bu.D(n))throw new H(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=ak(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bu(n,e.asyncQueue,r,e.clientId,e.initialUser)}},Bu=class{initialize(e,n){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_6.bind(null,this.syncEngine),yield Mb(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Ob}()}createDatastore(e){let n=cm(e.databaseInfo.databaseId),r=function(s){return new Cb(s)}(e.databaseInfo);return function(s,o,a,c){return new Ab(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new xb(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ZP(this.syncEngine,n,0),function(){return $g.D()?new $g:new bb}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,d){let f=new Vb(i,s,o,a,c,u);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return v(this,null,function*(){var e;yield function(r){return v(this,null,function*(){let i=Z(r);V("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Ju(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var $u=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):rt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Bb=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>v(this,null,function*(){V("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=dm(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function cE(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield lk(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function JP(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Dk(t);V("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>QP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>QP(e.remoteStore,i)),t._onlineComponents=e})}function A6(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Dk(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{yield cE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!A6(n))throw n;Du("Error using user provided cache. Falling back to memory cache: "+n),yield cE(t,new Uu)}}else V("FirestoreClient","Using default OfflineComponentProvider"),yield cE(t,new Uu);return t._offlineComponents})}function Ck(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),yield JP(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),yield JP(t,new Bu))),t._onlineComponents})}function R6(t){return Dk(t).then(e=>e.localStore)}function x6(t){return Ck(t).then(e=>e.syncEngine)}function Xg(t){return v(this,null,function*(){let e=yield Ck(t),n=e.eventManager;return n.onListen=u6.bind(null,e.syncEngine),n.onUnlisten=h6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=d6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f6.bind(null,e.syncEngine),n})}function M6(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,a,c,u){let d=new $u({next:g=>{o.enqueueAndForget(()=>gD(s,f));let y=g.docs.has(a);!y&&g.fromCache?u.reject(new H(P.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?u.reject(new H(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new ju(Zu(a.path),d,{includeMetadataChanges:!0,ra:!0});return pD(s,f)}(yield Xg(t),t.asyncQueue,e,n,r)})),r.promise}function N6(t,e){let n=new dn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(i,s,o){return v(this,null,function*(){try{let a=yield Vg(i,s,!0),c=new Yg(s,a.hs),u=c.da(a.documents),d=c.applyChanges(u,!1);o.resolve(d.snapshot)}catch(a){let c=dm(a,`Failed to execute query '${s} against cache`);o.reject(c)}})}(yield R6(t),e,n)})),n.promise}function P6(t,e,n={}){let r=new dn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,a,c,u){let d=new $u({next:g=>{o.enqueueAndForget(()=>gD(s,f)),g.fromCache&&c.source==="server"?u.reject(new H(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new ju(a,d,{includeMetadataChanges:!0,ra:!0});return pD(s,f)}(yield Xg(t),t.asyncQueue,e,n,r)})),r.promise}function Tk(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var eO=new Map;function Sk(t,e,n){if(!n)throw new H(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O6(t,e,n,r){if(e===!0&&r===!0)throw new H(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tO(t){if(!q.isDocumentKey(t))throw new H(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nO(t){if(q.isDocumentKey(t))throw new H(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Pt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=fm(t);throw new H(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function k6(t,e){if(e<=0)throw new H(P.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Jg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Hu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dE;switch(r.type){case"firstParty":return new pE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=eO.get(n);r&&(V("ComponentProvider","Removing Datastore"),eO.delete(n),r.terminate())}(this),Promise.resolve()}};var Dr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ot=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Zi=class t extends Dr{constructor(e,n,r){super(e,n,Zu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Ak(t,e,...n){if(t=$e(t),Sk("collection","path",e),t instanceof Hu){let r=Fe.fromString(e,...n);return nO(r),new Zi(t,null,r)}{if(!(t instanceof Ot||t instanceof Zi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return nO(r),new Zi(t.firestore,null,r)}}function ED(t,e,...n){if(t=$e(t),arguments.length===1&&(e=cg.newId()),Sk("doc","path",e),t instanceof Hu){let r=Fe.fromString(e,...n);return tO(r),new Ot(t,null,new q(r))}{if(!(t instanceof Ot||t instanceof Zi))throw new H(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return tO(r),new Ot(t.firestore,t instanceof Zi?t.converter:null,new q(r))}}var $b=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Hg(this,"async_queue_retry"),this.hu=()=>{let n=ag();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=ag();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=ag();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new dn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return v(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!as(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw rt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=Nb.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Q()}verifyOperationInProgress(){}du(){return v(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function rO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var fn=class extends Hu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new $b}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xk(this),this._firestoreClient.terminate()}};function Rk(t,e,n){n||(n="(default)");let r=yr(t,"firestore");if(r.isInitialized(n)){let i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Li(s,e))return i;throw new H(P.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new H(P.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function vc(t){return t._firestoreClient||xk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xk(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,d){return new EE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Tk(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Bb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var zu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(bt.fromBase64String(e))}catch(n){throw new H(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var _o=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var qu=class{constructor(e){this._methodName=e}};var Gu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}};var F6=/^__.*__$/,Hb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qn(e,this.data,this.fieldMask,n,this.fieldTransforms):new is(e,this.data,n,this.fieldTransforms)}},em=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Mk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var zb=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return nm(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(Mk(this.fu)&&F6.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},qb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cm(e)}Fu(e,n,r,i=!1){return new zb({fu:e,methodName:n,vu:r,path:lt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ed(t){let e=t._freezeSettings(),n=cm(t._databaseId);return new qb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bD(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);DD("Data must be an object, but it was:",o,r);let a=Ok(r,o),c,u;if(s.merge)c=new ln(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let g=Gb(e,f,n);if(!o.contains(g))throw new H(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Fk(d,g)||d.push(g)}c=new ln(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new Hb(new Gt(a),c,u)}var tm=class t extends qu{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Nk(t,e,n,r){let i=t.Fu(1,e,n);DD("Data must be an object, but it was:",i,r);let s=[],o=Gt.empty();wo(r,(c,u)=>{let d=CD(e,c,n);u=$e(u);let f=i.Su(d);if(u instanceof tm)s.push(d);else{let g=td(u,f);g!=null&&(s.push(d),o.set(d,g))}});let a=new ln(s);return new em(o,a,i.fieldTransforms)}function Pk(t,e,n,r,i,s){let o=t.Fu(1,e,n),a=[Gb(e,r,n)],c=[i];if(s.length%2!=0)throw new H(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Gb(e,s[g])),c.push(s[g+1]);let u=[],d=Gt.empty();for(let g=a.length-1;g>=0;--g)if(!Fk(u,a[g])){let y=a[g],w=c[g];w=$e(w);let A=o.Su(y);if(w instanceof tm)u.push(y);else{let S=td(w,A);S!=null&&(u.push(y),d.set(y,S))}}let f=new ln(u);return new em(d,f,o.fieldTransforms)}function L6(t,e,n,r=!1){return td(n,t.Fu(r?4:3,e))}function td(t,e){if(kk(t=$e(t)))return DD("Unsupported field value:",e,t),Ok(t,e);if(t instanceof qu)return function(r,i){if(!Mk(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=td(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return E9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=it.fromDate(r);return{timestampValue:ac(i.serializer,s)}}if(r instanceof it){let s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ac(i.serializer,s)}}if(r instanceof Gu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zu)return{bytesValue:$O(i.serializer,r._byteString)};if(r instanceof Ot){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${fm(r)}`)}(t,e)}function Ok(t,e){let n={};return yO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wo(t,(r,i)=>{let s=td(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function kk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Gu||t instanceof zu||t instanceof Ot||t instanceof qu)}function DD(t,e,n){if(!kk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=fm(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Gb(t,e,n){if((e=$e(e))instanceof _o)return e._internalPath;if(typeof e=="string")return CD(t,e);throw nm("Field path arguments must be of type string or ",t,!1,void 0,n)}var V6=new RegExp("[~\\*/\\[\\]]");function CD(t,e,n){if(e.search(V6)>=0)throw nm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _o(...e.split("."))._internalPath}catch{throw nm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nm(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new H(P.INVALID_ARGUMENT,a+t+c)}function Fk(t,e){return t.some(n=>n.isEqual(e))}var rm=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Wb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Wb=class extends rm{data(){return super.data()}};function pm(t,e){return typeof e=="string"?CD(t,e):e instanceof _o?e._internalPath:e._delegate._internalPath}function Lk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wu=class{},Ku=class extends Wu{};function Vk(t,e,...n){let r=[];e instanceof Wu&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Kb).length,a=s.filter(c=>c instanceof im).length;if(o>1||o>0&&a>0)throw new H(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var im=class t extends Ku{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return $k(e._query,n),new Dr(e.firestore,e.converter,kE(e._query,n))}_parse(e){let n=ed(e.firestore);return function(s,o,a,c,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){sO(f,d);let y=[];for(let w of f)y.push(iO(c,s,w));g={arrayValue:{values:y}}}else g=iO(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||sO(f,d),g=L6(a,o,f,d==="in"||d==="not-in");return be.create(u,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function jk(t,e,n){let r=e,i=pm("where",t);return im._create(i,r,n)}var Kb=class t extends Wu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oe.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)$k(o,c),o=kE(o,c)}(e._query,n),new Dr(e.firestore,e.converter,kE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Qb=class t extends Ku{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new H(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ho(s,o)}(e._query,this._field,this._direction);return new Dr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new ts(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function Uk(t,e="asc"){let n=e,r=pm("orderBy",t);return Qb._create(r,n)}var Yb=class t extends Ku{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Dr(e.firestore,e.converter,vg(e._query,this._limit,this._limitType))}};function Bk(t){return k6("limit",t),Yb._create("limit",t,"F")}function iO(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new H(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TO(e)&&n.indexOf("/")!==-1)throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Fe.fromString(n));if(!q.isDocumentKey(r))throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xu(t,new q(r))}if(n instanceof Ot)return xu(t,n._key);throw new H(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fm(n)}.`)}function sO(t,e){if(!Array.isArray(t)||t.length===0)throw new H(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $k(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Zb=class{convertValue(e,n="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return wo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Gu(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=oD(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){let n=ni(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Fe.fromString(e);J(XO(r));let i=new nc(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||rt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function TD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var oo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},sm=class extends rm{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Xa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Xa=class extends sm{data(e={}){return super.data(e)}},Qu=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xa(this._firestore,this._userDataWriter,r.key,r,new oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Xa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Xa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:j6(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function j6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function Hk(t){t=Pt(t,Ot);let e=Pt(t.firestore,fn);return M6(vc(e),t._key).then(n=>Yk(e,t,n))}var pc=class extends Zb{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}};function zk(t){t=Pt(t,Dr);let e=Pt(t.firestore,fn),n=vc(e),r=new pc(e);return Lk(t._query),P6(n,t._query).then(i=>new Qu(e,r,t,i))}function qk(t){t=Pt(t,Dr);let e=Pt(t.firestore,fn),n=vc(e),r=new pc(e);return N6(n,t._query).then(i=>new Qu(e,r,t,i))}function Gk(t,e,n){t=Pt(t,Ot);let r=Pt(t.firestore,fn),i=TD(t.converter,e,n);return nd(r,[bD(ed(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,It.none())])}function Wk(t,e,n,...r){t=Pt(t,Ot);let i=Pt(t.firestore,fn),s=ed(i),o;return o=typeof(e=$e(e))=="string"||e instanceof _o?Pk(s,"updateDoc",t._key,e,n,r):Nk(s,"updateDoc",t._key,e),nd(i,[o.toMutation(t._key,It.exists(!0))])}function Kk(t){return nd(Pt(t.firestore,fn),[new mo(t._key,It.none())])}function Qk(t,e){let n=Pt(t.firestore,fn),r=ED(t),i=TD(t.converter,e);return nd(n,[bD(ed(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,It.exists(!1))]).then(()=>r)}function SD(t,...e){var n,r,i;t=$e(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||rO(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(rO(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Ot)u=Pt(t.firestore,fn),d=Zu(t._key.path),c={next:f=>{e[o]&&e[o](Yk(u,t,f))},error:e[o+1],complete:e[o+2]};else{let f=Pt(t,Dr);u=Pt(f.firestore,fn),d=f._query;let g=new pc(u);c={next:y=>{e[o]&&e[o](new Qu(u,g,f,y))},error:e[o+1],complete:e[o+2]},Lk(t._query)}return function(g,y,w,A){let S=new $u(A),k=new ju(y,S,w);return g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return pD(yield Xg(g),k)})),()=>{S.$a(),g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return gD(yield Xg(g),k)}))}}(vc(u),d,a,c)}function nd(t,e){return function(r,i){let s=new dn;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return p6(yield x6(r),i,s)})),s.promise}(vc(t),e)}function Yk(t,e,n){let r=n.docs.get(e._key),i=new pc(t);return new sm(t,i,e._key,r,new oo(n.hasPendingWrites,n.fromCache),e.converter)}var Xb=class{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=Xk(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}};function Zk(t){return new Xb(t)}var Jb=class{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Bu,this._offlineComponentProvider=new Zg(this._onlineComponentProvider,e?.cacheSizeBytes,this.forceOwnership)}},eD=class{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Bu,this._offlineComponentProvider=new Ub(this._onlineComponentProvider,e?.cacheSizeBytes)}};function Xk(t){return new Jb(t?.forceOwnership)}function Jk(){return new eD}var tD=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ed(e)}set(e,n,r){this._verifyNotCommitted();let i=lE(e,this._firestore),s=TD(i.converter,n,r),o=bD(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,It.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=lE(e,this._firestore),o;return o=typeof(n=$e(n))=="string"||n instanceof _o?Pk(this._dataReader,"WriteBatch.update",s._key,n,r,i):Nk(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,It.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=lE(e,this._firestore);return this._mutations=this._mutations.concat(new mo(n._key,It.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new H(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function lE(t,e){if((t=$e(t)).firestore!==e)throw new H(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function e1(t){return vc(t=Pt(t,fn)),new tD(t,e=>nd(t,e))}(function(e,n=!0){(function(i){gc=i})(Ui),nn(new gt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new fn(new hE(r.getProvider("auth-internal")),new mE(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ue(sP,"4.6.3",e),Ue(sP,"4.6.3","esm2017")})();var gm=function(){return gm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},gm.apply(this,arguments)};var H6={includeMetadataChanges:!1};function t1(t,e){return e===void 0&&(e=H6),new ne(function(n){var r=SD(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function n1(t){return t1(t,{includeMetadataChanges:!0})}function r1(t,e){return e===void 0&&(e={}),n1(t).pipe(se(function(n){return i1(n,e)}))}function i1(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:gm(gm({},r),(n={},n[e.idField]=t.id,n))}var Eo=class{constructor(e){return e}},s1="firestore",AD=class{constructor(){return Qs(s1)}};var RD=new j("angularfire2.firestore-instances");function z6(t,e){let n=Oa(s1,t,e);return n&&new Eo(n)}function q6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Eo(r)}}var G6={provide:AD,deps:[[new ct,RD]]},W6={provide:Eo,useFactory:z6,deps:[[new ct,RD],Hn]};function Ele(t,...e){return Ue("angularfire",Kr.full,"fst"),on([W6,G6,{provide:RD,useFactory:q6(t),multi:!0,deps:[K,Ce,Bi,Qr,[new ct,uu],[new ct,Pa],...e]}])}var ble=xe(r1,!0);var Dle=xe(Qk,!0);var Cle=xe(Ak,!0);var Tle=xe(Kk,!0);var Sle=xe(ED,!0);var Ale=xe(Hk,!0);var Rle=xe(zk,!0),xle=xe(qk,!0);var Mle=xe(Rk,!0),Nle=xe(Bk,!0);var Ple=xe(Uk,!0),Ole=xe(Zk,!0),kle=xe(Jk,!0);var Fle=xe(Vk,!0);var Lle=xe(Gk,!0);var Vle=xe(Wk,!0);var jle=xe(jk,!0),Ule=xe(e1,!0);var c1="@firebase/installations",PD="0.6.7";var l1=1e4,u1=`w:${PD}`,d1="FIS_v2",Q6="https://firebaseinstallations.googleapis.com/v1",Y6=60*60*1e3,Z6="installations",X6="Installations";var J6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Do=new an(Z6,X6,J6);function h1(t){return t instanceof qt&&t.code.includes("request-failed")}function f1({projectId:t}){return`${Q6}/projects/${t}/installations`}function p1(t){return{token:t.token,requestStatus:2,expiresIn:t8(t.expiresIn),creationTime:Date.now()}}function g1(t,e){return v(this,null,function*(){let r=(yield e.json()).error;return Do.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function m1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function e8(t,{refreshToken:e}){let n=m1(t);return n.append("Authorization",n8(e)),n}function y1(t){return v(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function t8(t){return Number(t.replace("s","000"))}function n8(t){return`${d1} ${t}`}function r8(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=f1(t),o=m1(t),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let c={fid:n,authVersion:d1,appId:t.appId,sdkVersion:u1},u={method:"POST",headers:o,body:JSON.stringify(c)},d=yield y1(()=>fetch(s,u));if(d.ok){let f=yield d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:p1(f.authToken)}}else throw yield g1("Create Installation",d)})}function v1(t){return new Promise(e=>{setTimeout(e,t)})}function i8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var s8=/^[cdef][\w-]{21}$/,ND="";function o8(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=a8(t);return s8.test(n)?n:ND}catch{return ND}}function a8(t){return i8(t).substr(0,22)}function ym(t){return`${t.appName}!${t.appId}`}var _1=new Map;function w1(t,e){let n=ym(t);I1(n,e),c8(n,e)}function I1(t,e){let n=_1.get(t);if(n)for(let r of n)r(e)}function c8(t,e){let n=l8();n&&n.postMessage({key:t,fid:e}),u8()}var bo=null;function l8(){return!bo&&"BroadcastChannel"in self&&(bo=new BroadcastChannel("[Firebase] FID Change"),bo.onmessage=t=>{I1(t.data.key,t.data.fid)}),bo}function u8(){_1.size===0&&bo&&(bo.close(),bo=null)}var d8="firebase-installations-database",h8=1,Co="firebase-installations-store",xD=null;function OD(){return xD||(xD=Gs(d8,h8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Co)}}})),xD}function mm(t,e){return v(this,null,function*(){let n=ym(t),i=(yield OD()).transaction(Co,"readwrite"),s=i.objectStore(Co),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&w1(t,e.fid),e})}function E1(t){return v(this,null,function*(){let e=ym(t),r=(yield OD()).transaction(Co,"readwrite");yield r.objectStore(Co).delete(e),yield r.done})}function vm(t,e){return v(this,null,function*(){let n=ym(t),i=(yield OD()).transaction(Co,"readwrite"),s=i.objectStore(Co),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&w1(t,a.fid),a})}function kD(t){return v(this,null,function*(){let e,n=yield vm(t.appConfig,r=>{let i=f8(r),s=p8(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ND?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function f8(t){let e=t||{fid:o8(),registrationStatus:0};return b1(e)}function p8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Do.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=g8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:m8(t)}:{installationEntry:e}}function g8(t,e){return v(this,null,function*(){try{let n=yield r8(t,e);return mm(t.appConfig,n)}catch(n){throw h1(n)&&n.customData.serverCode===409?yield E1(t.appConfig):yield mm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function m8(t){return v(this,null,function*(){let e=yield o1(t.appConfig);for(;e.registrationStatus===1;)yield v1(100),e=yield o1(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield kD(t);return r||n}return e})}function o1(t){return vm(t,e=>{if(!e)throw Do.create("installation-not-found");return b1(e)})}function b1(t){return y8(t)?{fid:t.fid,registrationStatus:0}:t}function y8(t){return t.registrationStatus===1&&t.registrationTime+l1<Date.now()}function v8(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=_8(t,n),o=e8(t,n),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let c={installation:{sdkVersion:u1,appId:t.appId}},u={method:"POST",headers:o,body:JSON.stringify(c)},d=yield y1(()=>fetch(s,u));if(d.ok){let f=yield d.json();return p1(f)}else throw yield g1("Generate Auth Token",d)})}function _8(t,{fid:e}){return`${f1(t)}/${e}/authTokens:generate`}function FD(t,e=!1){return v(this,null,function*(){let n,r=yield vm(t.appConfig,s=>{if(!D1(s))throw Do.create("not-registered");let o=s.authToken;if(!e&&E8(o))return s;if(o.requestStatus===1)return n=w8(t,e),s;{if(!navigator.onLine)throw Do.create("app-offline");let a=D8(s);return n=I8(t,a),a}});return n?yield n:r.authToken})}function w8(t,e){return v(this,null,function*(){let n=yield a1(t.appConfig);for(;n.authToken.requestStatus===1;)yield v1(100),n=yield a1(t.appConfig);let r=n.authToken;return r.requestStatus===0?FD(t,e):r})}function a1(t){return vm(t,e=>{if(!D1(e))throw Do.create("not-registered");let n=e.authToken;return C8(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function I8(t,e){return v(this,null,function*(){try{let n=yield v8(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield mm(t.appConfig,r),n}catch(n){if(h1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield E1(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield mm(t.appConfig,r)}throw n}})}function D1(t){return t!==void 0&&t.registrationStatus===2}function E8(t){return t.requestStatus===2&&!b8(t)}function b8(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Y6}function D8(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function C8(t){return t.requestStatus===1&&t.requestTime+l1<Date.now()}function T8(t){return v(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield kD(e);return r?r.catch(console.error):FD(e).catch(console.error),n.fid})}function S8(t,e=!1){return v(this,null,function*(){let n=t;return yield A8(n),(yield FD(n,e)).token})}function A8(t){return v(this,null,function*(){let{registrationPromise:e}=yield kD(t);e&&(yield e)})}function R8(t){if(!t||!t.options)throw MD("App Configuration");if(!t.name)throw MD("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw MD(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function MD(t){return Do.create("missing-app-config-values",{valueName:t})}var C1="installations",x8="installations-internal",M8=t=>{let e=t.getProvider("app").getImmediate(),n=R8(e),r=yr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},N8=t=>{let e=t.getProvider("app").getImmediate(),n=yr(e,C1).getImmediate();return{getId:()=>T8(n),getToken:i=>S8(n,i)}};function P8(){nn(new gt(C1,M8,"PUBLIC")),nn(new gt(x8,N8,"PRIVATE"))}P8();Ue(c1,PD);Ue(c1,PD,"esm2017");var O8="/firebase-messaging-sw.js",k8="/firebase-cloud-messaging-push-scope",M1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",F8="https://fcmregistrations.googleapis.com/v1",N1="google.c.a.c_id",L8="google.c.a.c_l",V8="google.c.a.ts",j8="google.c.a.e";var _m=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(_m||{});function ri(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function U8(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var LD="fcm_token_details_db",B8=5,T1="fcm_token_object_Store";function $8(t){return v(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(LD))return null;let e=null;return(yield Gs(LD,B8,{upgrade:(r,i,s,o)=>v(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(T1))return;let c=o.objectStore(T1),u=yield c.index("fcmSenderId").get(t);if(yield c.clear(),!!u){if(i===2){let d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:ri(d.vapidKey)}}}else if(i===3){let d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ri(d.auth),p256dh:ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ri(d.vapidKey)}}}else if(i===4){let d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ri(d.auth),p256dh:ri(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ri(d.vapidKey)}}}}})})).close(),yield Tp(LD),yield Tp("fcm_vapid_details_db"),yield Tp("undefined"),H8(e)?e:null})}function H8(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var z8="firebase-messaging-database",q8=1,rd="firebase-messaging-store",VD=null;function P1(){return VD||(VD=Gs(z8,q8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rd)}}})),VD}function G8(t){return v(this,null,function*(){let e=O1(t),r=yield(yield P1()).transaction(rd).objectStore(rd).get(e);if(r)return r;{let i=yield $8(t.appConfig.senderId);if(i)return yield BD(t,i),i}})}function BD(t,e){return v(this,null,function*(){let n=O1(t),i=(yield P1()).transaction(rd,"readwrite");return yield i.objectStore(rd).put(e,n),yield i.done,e})}function O1({appConfig:t}){return t.appId}var W8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Qt=new an("messaging","Messaging",W8);function K8(t,e){return v(this,null,function*(){let n=yield HD(t),r=k1(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch($D(t.appConfig),i)).json()}catch(o){throw Qt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Qt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Qt.create("token-subscribe-no-token");return s.token})}function Q8(t,e){return v(this,null,function*(){let n=yield HD(t),r=k1(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(`${$D(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Qt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Qt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Qt.create("token-update-no-token");return s.token})}function Y8(t,e){return v(this,null,function*(){let r={method:"DELETE",headers:yield HD(t)};try{let s=yield(yield fetch(`${$D(t.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw Qt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Qt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function $D({projectId:t}){return`${F8}/projects/${t}/registrations`}function HD(n){return v(this,arguments,function*({appConfig:t,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function k1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==M1&&(i.web.applicationPubKey=r),i}var Z8=7*24*60*60*1e3;function X8(t){return v(this,null,function*(){let e=yield e5(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ri(e.getKey("auth")),p256dh:ri(e.getKey("p256dh"))},r=yield G8(t.firebaseDependencies);if(r){if(t5(r.subscriptionOptions,n))return Date.now()>=r.createTime+Z8?J8(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Y8(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return S1(t.firebaseDependencies,n)}else return S1(t.firebaseDependencies,n)})}function J8(t,e){return v(this,null,function*(){try{let n=yield Q8(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield BD(t.firebaseDependencies,r),n}catch(n){throw n}})}function S1(t,e){return v(this,null,function*(){let r={token:yield K8(t,e),createTime:Date.now(),subscriptionOptions:e};return yield BD(t,r),r.token})}function e5(t,e){return v(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:U8(e)})})}function t5(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function A1(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return n5(e,t),r5(e,t),i5(e,t),e}function n5(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function r5(t,e){e.data&&(t.data=e.data)}function i5(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);let c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}function s5(t){return typeof t=="object"&&!!t&&N1 in t}F1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");F1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function F1(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function o5(t){if(!t||!t.options)throw jD("App Configuration Object");if(!t.name)throw jD("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw jD(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function jD(t){return Qt.create("missing-app-config-values",{valueName:t})}var UD=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=o5(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};function a5(t){return v(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(O8,{scope:k8}),t.swRegistration.update().catch(()=>{})}catch(e){throw Qt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function c5(t,e){return v(this,null,function*(){if(!e&&!t.swRegistration&&(yield a5(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Qt.create("invalid-sw-registration");t.swRegistration=e}})}function l5(t,e){return v(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=M1)})}function L1(t,e){return v(this,null,function*(){if(!navigator)throw Qt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Qt.create("permission-blocked");return yield l5(t,e?.vapidKey),yield c5(t,e?.serviceWorkerRegistration),X8(t)})}function u5(t,e,n){return v(this,null,function*(){let r=d5(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[N1],message_name:n[L8],message_time:n[V8],message_device_time:Math.floor(Date.now()/1e3)})})}function d5(t){switch(t){case _m.NOTIFICATION_CLICKED:return"notification_open";case _m.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function h5(t,e){return v(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===_m.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(A1(n)):t.onMessageHandler.next(A1(n)));let r=n.data;s5(r)&&r[j8]==="1"&&(yield u5(t,n.messageType,r))})}var R1="@firebase/messaging",x1="0.12.9";var f5=t=>{let e=new UD(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>h5(e,n)),e},p5=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:r=>L1(e,r)}};function g5(){nn(new gt("messaging",f5,"PUBLIC")),nn(new gt("messaging-internal",p5,"PRIVATE")),Ue(R1,x1),Ue(R1,x1,"esm2017")}function zD(){return v(this,null,function*(){try{yield bp()}catch{return!1}return typeof window<"u"&&Aa()&&$M()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function V1(t=Wr()){return zD().then(e=>{if(!e)throw Qt.create("unsupported-browser")},e=>{throw Qt.create("indexed-db-unsupported")}),yr($e(t),"messaging").getImmediate()}function j1(t,e){return v(this,null,function*(){return t=$e(t),L1(t,e)})}g5();var To=class{constructor(e){return e}},U1="messaging",qD=class{constructor(){return Qs(U1)}};var B1="__angularfire_symbol__messagingIsSupported",GD="__angularfire_symbol__messagingIsSupportedValue";globalThis[B1]||=zD().then(t=>globalThis[GD]=t).catch(()=>globalThis[GD]=!1);var wm={async:()=>globalThis[B1],sync:()=>{let t=globalThis[GD];if(t===void 0)throw new Error(iN("Messaging"));return t}},WD=new j("angularfire2.messaging-instances");function m5(t,e){if(!wm.sync())return null;let n=Oa(U1,t,e);return n&&new To(n)}function y5(t){return(e,n)=>{if(!wm.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new To(r)}}var v5={provide:qD,deps:[[new ct,WD]]},_5={provide:To,useFactory:m5,deps:[[new ct,WD],Hn]};function due(t,...e){return Ue("angularfire",Kr.full,"fcm"),on([_5,v5,{provide:Ca,useValue:wm.async,multi:!0},{provide:WD,useFactory:y5(t),multi:!0,deps:[K,Ce,Bi,Qr,...e]}])}var hue=wm.async;var fue=xe(V1,!0),pue=xe(j1,!0);var me="primary",_d=Symbol("RouteTitle"),XD=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Dc(t){return new XD(t)}function I5(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function E5(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Cr(t[n],e[n]))return!1;return!0}function Cr(t,e){let n=t?JD(t):void 0,r=e?JD(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!X1(t[i],e[i]))return!1;return!0}function JD(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function X1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function J1(t){return t.length>0?t[t.length-1]:null}function hs(t){return $h(t)?t:Hs(t)?ke(Promise.resolve(t)):X(t)}var b5={exact:tF,subset:nF},eF={exact:D5,subset:C5,ignored:()=>!0};function $1(t,e,n){return b5[n.paths](t.root,e.root,n.matrixParams)&&eF[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function D5(t,e){return Cr(t,e)}function tF(t,e,n){if(!Ao(t.segments,e.segments)||!bm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tF(t.children[r],e.children[r],n))return!1;return!0}function C5(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>X1(t[n],e[n]))}function nF(t,e,n){return rF(t,e,e.segments,n)}function rF(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ao(i,n)||e.hasChildren()||!bm(i,n,r))}else if(t.segments.length===n.length){if(!Ao(t.segments,n)||!bm(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nF(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ao(t.segments,i)||!bm(t.segments,i,r)||!t.children[me]?!1:rF(t.children[me],e,s,r)}}function bm(t,e,n){return e.every((r,i)=>eF[n](t[i].parameters,r.parameters))}var ls=class{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Dc(this.queryParams),this._queryParamMap}toString(){return A5.serialize(this)}},Ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dm(this)}},So=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Dc(this.parameters),this._parameterMap}toString(){return sF(this)}};function T5(t,e){return Ao(t,e)&&t.every((n,r)=>Cr(n.parameters,e[r].parameters))}function Ao(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function S5(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var wd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new Cc,providedIn:"root"});let t=e;return t})(),Cc=class{parse(e){let n=new t0(e);return new ls(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${id(e.root,!0)}`,r=M5(e.queryParams),i=typeof e.fragment=="string"?`#${R5(e.fragment)}`:"";return`${n}${r}${i}`}},A5=new Cc;function Dm(t){return t.segments.map(e=>sF(e)).join("/")}function id(t,e){if(!t.hasChildren())return Dm(t);if(e){let n=t.children[me]?id(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==me&&r.push(`${i}:${id(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=S5(t,(r,i)=>i===me?[id(t.children[me],!1)]:[`${i}:${id(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${Dm(t)}/${n[0]}`:`${Dm(t)}/(${n.join("//")})`}}function iF(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Im(t){return iF(t).replace(/%3B/gi,";")}function R5(t){return encodeURI(t)}function e0(t){return iF(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cm(t){return decodeURIComponent(t)}function H1(t){return Cm(t.replace(/\+/g,"%20"))}function sF(t){return`${e0(t.path)}${x5(t.parameters)}`}function x5(t){return Object.entries(t).map(([e,n])=>`;${e0(e)}=${e0(n)}`).join("")}function M5(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Im(n)}=${Im(i)}`).join("&"):`${Im(n)}=${Im(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var N5=/^[^\/()?;#]+/;function KD(t){let e=t.match(N5);return e?e[0]:""}var P5=/^[^\/()?;=#]+/;function O5(t){let e=t.match(P5);return e?e[0]:""}var k5=/^[^=?&#]+/;function F5(t){let e=t.match(k5);return e?e[0]:""}var L5=/^[^&#]+/;function V5(t){let e=t.match(L5);return e?e[0]:""}var t0=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Ne(e,n)),r}parseSegment(){let e=KD(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(e),new So(Cm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=O5(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=KD(this.remaining);i&&(r=i,this.capture(r))}e[Cm(n)]=Cm(r)}parseQueryParam(e){let n=F5(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=V5(this.remaining);o&&(r=o,this.capture(r))}let i=H1(n),s=H1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=KD(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[me]:new Ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Y(4011,!1)}};function oF(t){return t.segments.length>0?new Ne([],{[me]:t}):t}function aF(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=aF(i);if(r===me&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ne(t.segments,e);return j5(n)}function j5(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Ne(t.segments.concat(e.segments),e.children)}return t}function ud(t){return t instanceof ls}function U5(t,e,n=null,r=null){let i=cF(t);return lF(i,e,n,r)}function cF(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Ne(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=oF(r);return e??i}function lF(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return QD(i,i,i,n,r);let s=B5(e);if(s.toRoot())return QD(i,i,new Ne([],{}),n,r);let o=$5(s,i,t),a=o.processChildren?ad(o.segmentGroup,o.index,s.commands):dF(o.segmentGroup,o.index,s.commands);return QD(i,o.segmentGroup,a,n,r)}function Tm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function dd(t){return typeof t=="object"&&t!=null&&t.outlets}function QD(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=uF(t,e,n);let a=oF(aF(o));return new ls(a,s,i)}function uF(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=uF(s,e,n)}),new Ne(t.segments,r)}var Sm=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Tm(r[0]))throw new Y(4003,!1);let i=r.find(dd);if(i&&i!==J1(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function B5(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Sm(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Sm(n,e,r)}var Ic=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function $5(t,e,n){if(t.isAbsolute)return new Ic(e,!0,0);if(!n)return new Ic(e,!1,NaN);if(n.parent===null)return new Ic(n,!0,0);let r=Tm(t.commands[0])?0:1,i=n.segments.length-1+r;return H5(n,i,t.numberOfDoubleDots)}function H5(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new Ic(r,!1,i-s)}function z5(t){return dd(t[0])?t[0].outlets:{[me]:t}}function dF(t,e,n){if(t??=new Ne([],{}),t.segments.length===0&&t.hasChildren())return ad(t,e,n);let r=q5(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ne(t.segments.slice(0,r.pathIndex),{});return s.children[me]=new Ne(t.segments.slice(r.pathIndex),t.children),ad(s,0,i)}else return r.match&&i.length===0?new Ne(t.segments,{}):r.match&&!t.hasChildren()?n0(t,e,n):r.match?ad(t,0,i):n0(t,e,n)}function ad(t,e,n){if(n.length===0)return new Ne(t.segments,{});{let r=z5(n),i={};if(Object.keys(r).some(s=>s!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let s=ad(t.children[me],e,n);return new Ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=dF(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ne(t.segments,i)}}function q5(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(dd(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!q1(c,u,o))return s;r+=2}else{if(!q1(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function n0(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(dd(s)){let c=G5(s.outlets);return new Ne(r,c)}if(i===0&&Tm(n[0])){let c=t.segments[e];r.push(new So(c.path,z1(n[0]))),i++;continue}let o=dd(s)?s.outlets[me]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Tm(a)?(r.push(new So(o,z1(a))),i+=2):(r.push(new So(o,{})),i++)}return new Ne(r,{})}function G5(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=n0(new Ne([],{}),0,r))}),e}function z1(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function q1(t,e,n){return t==n.path&&Cr(e,n.parameters)}var cd="imperative",vt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(vt||{}),An=class{constructor(e,n){this.id=e,this.url=n}},Tc=class extends An{constructor(e,n,r="imperative",i=null){super(e,n),this.type=vt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tr=class extends An{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=vt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(gn||{}),Am=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Am||{}),ii=class extends An{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=vt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},us=class extends An{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=vt.NavigationSkipped}},hd=class extends An{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=vt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Rm=class extends An{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},r0=class extends An{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},i0=class extends An{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=vt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},s0=class extends An{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},o0=class extends An{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=vt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},a0=class{constructor(e){this.route=e,this.type=vt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},c0=class{constructor(e){this.route=e,this.type=vt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},l0=class{constructor(e){this.snapshot=e,this.type=vt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u0=class{constructor(e){this.snapshot=e,this.type=vt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},d0=class{constructor(e){this.snapshot=e,this.type=vt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},h0=class{constructor(e){this.snapshot=e,this.type=vt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xm=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=vt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},fd=class{},Sc=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var f0=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Id(this.injector),this.attachRef=null}},Id=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new f0(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(R(ht))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=p0(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=p0(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=g0(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return g0(e,this._root).map(n=>n.value)}};function p0(t,e){if(t===e.value)return e;for(let n of e.children){let r=p0(t,n);if(r)return r}return null}function g0(t,e){if(t===e.value)return[e];for(let n of e.children){let r=g0(t,n);if(r.length)return r.unshift(e),r}return[]}var pn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function wc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Nm=class extends Mm{constructor(e,n){super(e),this.snapshot=n,D0(this,e)}toString(){return this.snapshot.toString()}};function hF(t){let e=W5(t),n=new Je([new So("",{})]),r=new Je({}),i=new Je({}),s=new Je({}),o=new Je(""),a=new ds(n,r,s,o,i,me,t,e.root);return a.snapshot=e.root,new Nm(new pn(a,[]),e)}function W5(t){let e={},n={},r={},i="",s=new Ec([],e,r,i,n,me,t,null,{});return new Om("",new pn(s,[]))}var ds=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(se(u=>u[_d]))??X(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Dc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Dc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&pF(i)&&(r.resolve[_d]=i.title),r}var Ec=class{get title(){return this.data?.[_d]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Dc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Dc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Om=class extends Mm{constructor(e,n){super(n),this.url=e,D0(this,n)}toString(){return fF(this._root)}};function D0(t,e){e.value._routerState=t,e.children.forEach(n=>D0(t,n))}function fF(t){let e=t.children.length>0?` { ${t.children.map(fF).join(", ")} } `:"";return`${t.value}${e}`}function YD(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Cr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Cr(e.params,n.params)||t.paramsSubject.next(n.params),E5(e.url,n.url)||t.urlSubject.next(n.url),Cr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function m0(t,e){let n=Cr(t.params,e.params)&&T5(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||m0(t.parent,e.parent))}function pF(t){return typeof t.title=="string"||t.title===null}var K5=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=O(Id),this.location=O(In),this.changeDetector=O(En),this.inputBinder=O(Vm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new y0(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=De({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ht]});let t=e;return t})(),y0=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ds?this.route:e===Id?this.childContexts:this.parent.get(e,n)}},Vm=new j(""),G1=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Ds([i.queryParams,i.params,i.data]).pipe(jt(([o,a,c],u)=>(c=F(F(F({},o),a),c),u===0?X(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Yx(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function Q5(t,e,n){let r=pd(t,e._root,n?n._root:void 0);return new Nm(r,e)}function pd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Y5(t,e,n);return new pn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pd(t,a)),o}}let r=Z5(e.value),i=e.children.map(s=>pd(t,s));return new pn(r,i)}}function Y5(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return pd(t,r,i);return pd(t,r)})}function Z5(t){return new ds(new Je(t.url),new Je(t.params),new Je(t.queryParams),new Je(t.fragment),new Je(t.data),t.outlet,t.component,t)}var gd=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},gF="ngNavigationCancelingError";function km(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ud(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mF(!1,gn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function mF(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gF]=!0,n.cancellationCode=e,n}function X5(t){return yF(t)&&ud(t.url)}function yF(t){return!!t&&t[gF]}var J5=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=cr({type:e,selectors:[["ng-component"]],standalone:!0,features:[fr],decls:1,vars:0,template:function(i,s){i&1&&Pi(0,"router-outlet")},dependencies:[K5],encapsulation:2});let t=e;return t})();function eK(t,e){return t.providers&&!t._injector&&(t._injector=sp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function C0(t){let e=t.children&&t.children.map(C0),n=e?pe(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=J5),n}function Gn(t){return t.outlet||me}function tK(t,e){let n=t.filter(r=>Gn(r)===e);return n.push(...t.filter(r=>Gn(r)!==e)),n}function Ed(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nK=(t,e,n,r)=>se(i=>(new v0(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),v0=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),YD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=wc(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=wc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=wc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=wc(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new h0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new u0(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(YD(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),YD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ed(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Fm=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},bc=class{constructor(e,n){this.component=e,this.route=n}};function rK(t,e,n){let r=t._root,i=e?e._root:null;return sd(r,i,n,[r.value])}function iK(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Rc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!oA(t)?t:e.get(t):r}function sd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=wc(e);return t.children.forEach(o=>{sK(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ld(a,n.getContext(o),i)),i}function sK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=oK(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Fm(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?sd(t,e,a?a.children:null,r,i):sd(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new bc(a.outlet.component,o))}else o&&ld(e,a,i),i.canActivateChecks.push(new Fm(r)),s.component?sd(t,null,a?a.children:null,r,i):sd(t,null,n,r,i);return i}function oK(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ao(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ao(t.url,e.url)||!Cr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!m0(t,e)||!Cr(t.queryParams,e.queryParams);case"paramsChange":default:return!m0(t,e)}}function ld(t,e,n){let r=wc(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ld(o,e.children.getContext(s),n):ld(o,null,n):ld(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new bc(e.outlet.component,i)):n.canDeactivateChecks.push(new bc(null,i)):n.canDeactivateChecks.push(new bc(null,i))}function bd(t){return typeof t=="function"}function aK(t){return typeof t=="boolean"}function cK(t){return t&&bd(t.canLoad)}function lK(t){return t&&bd(t.canActivate)}function uK(t){return t&&bd(t.canActivateChild)}function dK(t){return t&&bd(t.canDeactivate)}function hK(t){return t&&bd(t.canMatch)}function vF(t){return t instanceof Mr||t?.name==="EmptyError"}var Em=Symbol("INITIAL_VALUE");function Ac(){return jt(t=>Ds(t.map(e=>e.pipe(et(1),Pn(Em)))).pipe(se(e=>{for(let n of e)if(n!==!0){if(n===Em)return Em;if(n===!1||fK(n))return n}return!0}),Ve(e=>e!==Em),et(1)))}function fK(t){return ud(t)||t instanceof gd}function pK(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?X(pe(F({},n),{guardsResult:!0})):gK(o,r,i,t).pipe(Ge(a=>a&&aK(a)?mK(r,s,t,e):X(a)),se(a=>pe(F({},n),{guardsResult:a})))})}function gK(t,e,n,r){return ke(t).pipe(Ge(i=>IK(i.component,i.route,n,e,r)),Jn(i=>i!==!0,!0))}function mK(t,e,n,r){return ke(e).pipe(Nr(i=>Xn(vK(i.route.parent,r),yK(i.route,r),wK(t,i.path,n),_K(t,i.route,n))),Jn(i=>i!==!0,!0))}function yK(t,e){return t!==null&&e&&e(new d0(t)),X(!0)}function vK(t,e){return t!==null&&e&&e(new l0(t)),X(!0)}function _K(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let i=r.map(s=>vi(()=>{let o=Ed(e)??n,a=Rc(s,o),c=lK(a)?a.canActivate(e,t):Xt(o,()=>a(e,t));return hs(c).pipe(Jn())}));return X(i).pipe(Ac())}function wK(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>iK(o)).filter(o=>o!==null).map(o=>vi(()=>{let a=o.guards.map(c=>{let u=Ed(o.node)??n,d=Rc(c,u),f=uK(d)?d.canActivateChild(r,t):Xt(u,()=>d(r,t));return hs(f).pipe(Jn())});return X(a).pipe(Ac())}));return X(s).pipe(Ac())}function IK(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return X(!0);let o=s.map(a=>{let c=Ed(e)??i,u=Rc(a,c),d=dK(u)?u.canDeactivate(t,e,n,r):Xt(c,()=>u(t,e,n,r));return hs(d).pipe(Jn())});return X(o).pipe(Ac())}function EK(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return X(!0);let s=i.map(o=>{let a=Rc(o,t),c=cK(a)?a.canLoad(e,n):Xt(t,()=>a(e,n));return hs(c)});return X(s).pipe(Ac(),_F(r))}function _F(t){return bh(tt(e=>{if(typeof e!="boolean")throw km(t,e)}),se(e=>e===!0))}function bK(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return X(!0);let s=i.map(o=>{let a=Rc(o,t),c=hK(a)?a.canMatch(e,n):Xt(t,()=>a(e,n));return hs(c)});return X(s).pipe(Ac(),_F(r))}var md=class{constructor(e){this.segmentGroup=e||null}},yd=class extends Error{constructor(e){super(),this.urlTree=e}};function _c(t){return Yo(new md(t))}function DK(t){return Yo(new Y(4e3,!1))}function CK(t){return Yo(mF(!1,gn.GuardRejected))}var _0=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return X(r);if(i.numberOfChildren>1||!i.children[me])return DK(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:g,params:y,data:w,title:A}=i,S=Xt(s,()=>a({params:y,data:w,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:g,title:A}));if(S instanceof ls)throw new yd(S);n=S}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new yd(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ls(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},w0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TK(t,e,n,r,i){let s=T0(t,e,n);return s.matched?(r=eK(e,r),bK(r,e,n,i).pipe(se(o=>o===!0?s:F({},w0)))):X(s)}function T0(t,e,n){if(e.path==="**")return SK(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},w0):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||I5)(n,t,e);if(!i)return F({},w0);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?F(F({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function SK(t){return{matched:!0,parameters:t.length>0?J1(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function W1(t,e,n,r){return n.length>0&&xK(t,n,r)?{segmentGroup:new Ne(e,RK(r,new Ne(n,t.children))),slicedSegments:[]}:n.length===0&&MK(t,n,r)?{segmentGroup:new Ne(t.segments,AK(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function AK(t,e,n,r){let i={};for(let s of n)if(jm(t,e,s)&&!r[Gn(s)]){let o=new Ne([],{});i[Gn(s)]=o}return F(F({},r),i)}function RK(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&Gn(r)!==me){let i=new Ne([],{});n[Gn(r)]=i}return n}function xK(t,e,n){return n.some(r=>jm(t,e,r)&&Gn(r)!==me)}function MK(t,e,n){return n.some(r=>jm(t,e,r))}function jm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function NK(t,e,n,r){return Gn(t)!==r&&(r===me||!jm(e,n,t))?!1:T0(e,t,n).matched}function PK(t,e,n){return e.length===0&&!t.children[n]}var I0=class{};function OK(t,e,n,r,i,s,o="emptyOnly"){return new E0(t,e,n,r,i,o,s).recognize()}var kK=31,E0=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new _0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Y(4002,`'${e.segmentGroup}'`)}recognize(){let e=W1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:n,rootSnapshot:r})=>{let i=new pn(r,n),s=new Om("",i),o=U5(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ec([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(se(r=>({children:r,rootSnapshot:n})),_i(r=>{if(r instanceof yd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof md?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(se(o=>o instanceof pn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return ke(s).pipe(Nr(o=>{let a=r.children[o],c=tK(n,o);return this.processSegmentGroup(e,c,a,o,i)}),Qh((o,a)=>(o.push(...a),o)),wi(null),Jy(),Ge(o=>{if(o===null)return _c(r);let a=wF(o);return FK(a),X(a)}))}processSegment(e,n,r,i,s,o,a){return ke(n).pipe(Nr(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(_i(u=>{if(u instanceof md)return X(null);throw u}))),Jn(c=>!!c),_i(c=>{if(vF(c))return PK(r,i,s)?X(new I0):_c(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return NK(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):_c(i):_c(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=T0(n,i,s);if(!c)return _c(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kK&&(this.allowRedirects=!1));let y=new Ec(s,u,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,K1(i),Gn(i),i.component??i._loadedComponent??null,i,Q1(i)),w=Pm(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(w.params),y.data=Object.freeze(w.data);let A=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,y,e);return this.applyRedirects.lineralizeSegments(i,A).pipe(Ge(S=>this.processSegment(e,r,n,S.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=TK(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(jt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:y}=c,w=new Ec(g,f,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,K1(r),Gn(r),r.component??r._loadedComponent??null,r,Q1(r)),A=Pm(w,o,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let{segmentGroup:S,slicedSegments:k}=W1(n,g,y,u);if(k.length===0&&S.hasChildren())return this.processChildren(d,u,S,w).pipe(se($=>new pn(w,$)));if(u.length===0&&k.length===0)return X(new pn(w,[]));let B=Gn(r)===s;return this.processSegment(d,u,S,k,B?me:s,!0,w).pipe(se($=>new pn(w,$ instanceof pn?[$]:[])))}))):_c(n)))}getChildConfig(e,n,r){return n.children?X({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?X({routes:n._loadedRoutes,injector:n._loadedInjector}):EK(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(tt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):CK(n))):X({routes:[],injector:e})}};function FK(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function LK(t){let e=t.value.routeConfig;return e&&e.path===""}function wF(t){let e=[],n=new Set;for(let r of t){if(!LK(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=wF(r.children);e.push(new pn(r.value,i))}return e.filter(r=>!n.has(r))}function K1(t){return t.data||{}}function Q1(t){return t.resolve||{}}function VK(t,e,n,r,i,s){return Ge(o=>OK(t,e,n,r,o.extractedUrl,i,s).pipe(se(({state:a,tree:c})=>pe(F({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function jK(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of IF(c))o.add(u);let a=0;return ke(o).pipe(Nr(c=>s.has(c)?UK(c,r,t,e):(c.data=Pm(c,c.parent,t).resolve,X(void 0))),tt(()=>a++),Jo(1),Ge(c=>a===o.size?X(n):Vt))})}function IF(t){let e=t.children.map(n=>IF(n)).flat();return[t,...e]}function UK(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!pF(i)&&(s[_d]=i.title),BK(s,t,e,r).pipe(se(o=>(t._resolvedData=o,t.data=Pm(t,t.parent,n).resolve,null)))}function BK(t,e,n,r){let i=JD(t);if(i.length===0)return X({});let s={};return ke(i).pipe(Ge(o=>$K(t[o],e,n,r).pipe(Jn(),tt(a=>{if(a instanceof gd)throw km(new Cc,a);s[o]=a}))),Jo(1),gl(s),_i(o=>vF(o)?Vt:Yo(o)))}function $K(t,e,n,r){let i=Ed(e)??r,s=Rc(t,i),o=s.resolve?s.resolve(e,n):Xt(i,()=>s(e,n));return hs(o)}function ZD(t){return jt(e=>{let n=t(e);return n?ke(n).pipe(se(()=>e)):X(e)})}var EF=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[_d]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>O(HK),providedIn:"root"});let t=e;return t})(),HK=(()=>{let e=class e extends EF{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(NM))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dd=new j("",{providedIn:"root",factory:()=>({})}),vd=new j(""),S0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(up)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return X(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=hs(r.loadComponent()).pipe(se(bF),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ii(()=>{this.componentLoaders.delete(r)})),s=new hi(i,()=>new te).pipe(Go());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return X({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=zK(i,this.compiler,r,this.onLoadEndListener).pipe(Ii(()=>{this.childrenLoaders.delete(i)})),a=new hi(o,()=>new te).pipe(Go());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zK(t,e,n,r){return hs(t.loadChildren()).pipe(se(bF),Ge(i=>i instanceof Sl||Array.isArray(i)?X(i):ke(e.compileModuleAsync(i))),se(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(vd,[],{optional:!0,self:!0}).flat()),{routes:o.map(C0),injector:s}}))}function qK(t){return t&&typeof t=="object"&&"default"in t}function bF(t){return qK(t)?t.default:t}var A0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>O(GK),providedIn:"root"});let t=e;return t})(),GK=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DF=new j(""),CF=new j("");function WK(t,e,n){let r=t.get(CF),i=t.get(ce);return t.get(K).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),KK(t))),{onViewTransitionCreated:c}=r;return c&&Xt(t,()=>c({transition:a,from:e,to:n})),o})}function KK(t){return new Promise(e=>{Ni(e,{injector:t})})}var QK=new j(""),R0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new te,this.transitionAbortSubject=new te,this.configLoader=O(S0),this.environmentInjector=O(ht),this.urlSerializer=O(wd),this.rootContexts=O(Id),this.location=O(mr),this.inputBindingEnabled=O(Vm,{optional:!0})!==null,this.titleStrategy=O(EF),this.options=O(Dd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(A0),this.createViewTransition=O(DF,{optional:!0}),this.navigationErrorHandler=O(QK,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null;let r=s=>this.events.next(new a0(s)),i=s=>this.events.next(new c0(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(pe(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Je({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:cd,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ve(o=>o.id!==0),se(o=>pe(F({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),jt(o=>{let a=!1,c=!1;return X(o).pipe(jt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),Vt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?pe(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new us(u.id,this.urlSerializer.serialize(u.rawUrl),g,Am.IgnoredSameUrlNavigation)),u.resolve(!1),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return X(u).pipe(jt(g=>{let y=this.transitions?.getValue();return this.events.next(new Tc(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?Vt:Promise.resolve(g)}),VK(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=pe(F({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let y=new Rm(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:y,source:w,restoredState:A,extras:S}=u,k=new Tc(g,this.urlSerializer.serialize(y),w,A);this.events.next(k);let B=hF(this.rootComponentType).snapshot;return this.currentTransition=o=pe(F({},u),{targetSnapshot:B,urlAfterRedirects:y,extras:pe(F({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,X(o)}else{let g="";return this.events.next(new us(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Am.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Vt}}),tt(u=>{let d=new r0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),se(u=>(this.currentTransition=o=pe(F({},u),{guards:rK(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),pK(this.environmentInjector,u=>this.events.next(u)),tt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw km(this.urlSerializer,u.guardsResult);let d=new i0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Ve(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",gn.GuardRejected),!1)),ZD(u=>{if(u.guards.canActivateChecks.length)return X(u).pipe(tt(d=>{let f=new s0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),jt(d=>{let f=!1;return X(d).pipe(jK(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",gn.NoDataFromResolver)}}))}),tt(d=>{let f=new o0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),ZD(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(tt(y=>{f.component=y}),se(()=>{})));for(let y of f.children)g.push(...d(y));return g};return Ds(d(u.targetSnapshot.root)).pipe(wi(null),et(1))}),ZD(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?ke(f).pipe(se(()=>o)):X(o)}),se(u=>{let d=Q5(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=pe(F({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),tt(()=>{this.events.next(new fd)}),nK(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),et(1),tt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),er(this.transitionAbortSubject.pipe(tt(u=>{throw u}))),Ii(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),_i(u=>{if(c=!0,yF(u))this.events.next(new ii(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),X5(u)?this.events.next(new Sc(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new hd(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof gd){let{message:g,cancellationCode:y}=km(this.urlSerializer,f);this.events.next(new ii(o.id,this.urlSerializer.serialize(o.extractedUrl),g,y)),this.events.next(new Sc(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=r.errorHandler(u);o.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Vt}))}))}cancelNavigationTransition(r,i,s){let o=new ii(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YK(t){return t!==cd}var ZK=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>O(XK),providedIn:"root"});let t=e;return t})(),b0=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},XK=(()=>{let e=class e extends b0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>O(JK),providedIn:"root"});let t=e;return t})(),JK=(()=>{let e=class e extends TF{constructor(){super(...arguments),this.location=O(mr),this.urlSerializer=O(wd),this.options=O(Dd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(A0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ls,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hF(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Tc)this.stateMemento=this.createStateMemento();else if(r instanceof us)this.rawUrlTree=i.initialUrl;else if(r instanceof Rm){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof fd?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ii&&(r.code===gn.GuardRejected||r.code===gn.NoDataFromResolver)?this.restoreHistory(i):r instanceof hd?this.restoreHistory(i,!0):r instanceof Tr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=F(F({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),od=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(od||{});function SF(t,e){t.events.pipe(Ve(n=>n instanceof Tr||n instanceof ii||n instanceof hd||n instanceof us),se(n=>n instanceof Tr||n instanceof us?od.COMPLETE:(n instanceof ii?n.code===gn.Redirect||n.code===gn.SupersededByNewNavigation:!1)?od.REDIRECTING:od.FAILED),Ve(n=>n!==od.REDIRECTING),et(1)).subscribe(()=>{e()})}function e7(t){throw t}var t7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},n7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=O(Da),this.stateManager=O(TF),this.options=O(Dd,{optional:!0})||{},this.pendingTasks=O(Br),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(R0),this.urlSerializer=O(wd),this.location=O(mr),this.urlHandlingStrategy=O(A0),this._events=new te,this.errorHandler=this.options.errorHandler||e7,this.navigated=!1,this.routeReuseStrategy=O(ZK),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(vd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Vm,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ii&&i.code!==gn.Redirect&&i.code!==gn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Tr)this.navigated=!0;else if(i instanceof Sc){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u=F({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||YK(s.source)},a);this.scheduleNavigation(c,cd,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}i7(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cd,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=F({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(C0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=F(F({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let y=s?s.snapshot:this.routerState.snapshot.root;g=cF(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return lF(g,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ud(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,cd,null,i)}navigate(r,i={skipLocationChange:!1}){return r7(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=F({},t7):i===!1?s=F({},n7):s=i,ud(r))return $1(this.currentUrlTree,r,s);let o=this.parseUrl(r);return $1(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((g,y)=>{c=g,u=y});let f=this.pendingTasks.add();return SF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function r7(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Y(4008,!1)}function i7(t){return!(t instanceof fd)&&!(t instanceof Sc)}var Nue=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Tr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:PR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(U(Wn),U(ds),O_("tabindex"),U(dr),U(Te),U(qr))},e.\u0275dir=De({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&pt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&hr("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",bn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",bn],replaceUrl:[2,"replaceUrl","replaceUrl",bn],routerLink:"routerLink"},standalone:!0,features:[Ur,Ht]});let t=e;return t})();var Lm=class{};var s7=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ve(r=>r instanceof Tr),Nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=sp(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return ke(s).pipe(yi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=X(null);let o=s.pipe(Ge(a=>a===null?X(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ke([o,a]).pipe(yi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(R(Wn),R(up),R(ht),R(Lm),R(S0))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AF=new j(""),o7=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=O(ht),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Tc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Tr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof us&&r.code===Am.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof xm&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Ni(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new xm(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){WR()},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function Pue(t,...e){return on([{provide:vd,multi:!0,useValue:t},[],{provide:ds,useFactory:RF,deps:[Wn]},{provide:$l,multi:!0,useFactory:xF},e.map(n=>n.\u0275providers)])}function RF(t){return t.routerState.root}function Cd(t,e){return{\u0275kind:t,\u0275providers:e}}function xF(){let t=O(Ce);return e=>{let n=t.get(pr);if(e!==n.components[0])return;let r=t.get(Wn),i=t.get(MF);t.get(x0)===1&&r.initialNavigation(),t.get(NF,null,ve.Optional)?.setUpPreloading(),t.get(AF,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var MF=new j("",{factory:()=>new te}),x0=new j("",{providedIn:"root",factory:()=>1});function a7(){return Cd(2,[{provide:x0,useValue:0},{provide:Ca,multi:!0,deps:[Ce],useFactory:e=>{let n=e.get(iM,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Wn),s=e.get(MF);SF(i,()=>{r(!0)}),e.get(R0).afterPreactivation=()=>(r(!0),s.closed?X(void 0):s),i.initialNavigation()}))}}])}function c7(){return Cd(3,[{provide:Ca,multi:!0,useFactory:()=>{let e=O(Wn);return()=>{e.setUpLocationChangeListener()}}},{provide:x0,useValue:2}])}var NF=new j("");function l7(t){return Cd(0,[{provide:NF,useExisting:s7},{provide:Lm,useExisting:t}])}function u7(){return Cd(8,[G1,{provide:Vm,useExisting:G1}])}function d7(t){let e=[{provide:DF,useValue:WK},{provide:CF,useValue:F({skipNextTransition:!!t?.skipInitialTransition},t)}];return Cd(9,e)}var Y1=new j("ROUTER_FORROOT_GUARD"),h7=[mr,{provide:wd,useClass:Cc},Wn,Id,{provide:ds,useFactory:RF,deps:[Wn]},S0,[]],M0=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[h7,[],{provide:vd,multi:!0,useValue:r},{provide:Y1,useFactory:m7,deps:[[Wn,new ct,new fA]]},{provide:Dd,useValue:i||{}},i?.useHash?p7():g7(),f7(),i?.preloadingStrategy?l7(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?y7(i):[],i?.bindToComponentInputs?u7().\u0275providers:[],i?.enableViewTransitions?d7().\u0275providers:[],v7()]}}static forChild(r){return{ngModule:e,providers:[{provide:vd,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(R(Y1,8))},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let t=e;return t})();function f7(){return{provide:AF,useFactory:()=>{let t=O(uM),e=O(K),n=O(Dd),r=O(R0),i=O(wd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new o7(i,r,t,e,n)}}}function p7(){return{provide:qr,useClass:oM}}function g7(){return{provide:qr,useClass:Iw}}function m7(t){return"guarded"}function y7(t){return[t.initialNavigation==="disabled"?c7().\u0275providers:[],t.initialNavigation==="enabledBlocking"?a7().\u0275providers:[]]}var Z1=new j("");function v7(){return[{provide:Z1,useFactory:xF},{provide:$l,multi:!0,useExisting:Z1}]}var Lue=(()=>{let e=class e{constructor(){this.executingCounter=nw(0),this.loadingStatus$=new Je(!1)}get loading$(){return this.loadingStatus$.asObservable()}start(){this.executingCounter.update(r=>r+1),this.executingCounter()>0&&this.loadingStatus$.next(!0)}stop(){this.executingCounter()>0&&this.executingCounter.update(r=>r-1),this.executingCounter()<=0&&this.loadingStatus$.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Uue=(()=>{let e=class e{constructor(r,i,s,o,a){this.auth=r,this.messaging=i,this.firestore=s,this.ngZone=o,this.router=a,JN(this.auth,c=>{c&&(this.UserData=c)})}get userUid(){return YI().currentUser?.uid||""}getAuthFire(){return this.auth.currentUser}Register(r,i){return XN(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.sendEmailVerification(),this.router.navigate(["/signIn"])})}).catch(s=>{window.alert(s.message)})}sendEmailVerification(){throw new Error("Method not implemented.")}Login(r,i){return eP(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.router.navigate(["/"])})}).catch(s=>{window.alert(s.message)})}googleSignIn(){return this.loginWithPopup(new LI)}loginWithPopup(r){return tP(this.auth,r).then(i=>(console.log("logged in",i),i)).catch(i=>{console.log(i)})}logout(){nP(this.auth).then(()=>this.router.navigate(["/signIn"]))}isSignedIn(){return YI().currentUser!==null}};e.\u0275fac=function(i){return new(i||e)(R(Xs),R(To),R(Eo),R(K),R(Wn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w7(t){return t!=null&&`${t}`!="false"}function Td(t,e=0){return I7(t)?Number(t):e}function I7(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function xc(t){return Array.isArray(t)?t:[t]}function st(t){return t==null?"":typeof t=="string"?t:`${t}px`}function si(t){return t instanceof Te?t.nativeElement:t}function Hue(t,e=/\s+/){let n=[];if(t!=null){let r=Array.isArray(t)?t:`${t}`.split(e);for(let i of r){let s=`${i}`.trim();s&&n.push(s)}}return n}var P0;try{P0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{P0=!1}var Xe=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?bw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||P0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(R(en))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Mc,PF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Yue(){if(Mc)return Mc;if(typeof document!="object"||!document)return Mc=new Set(PF),Mc;let t=document.createElement("input");return Mc=new Set(PF.filter(e=>(t.setAttribute("type",e),t.type===e))),Mc}var Sd;function E7(){if(Sd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sd=!0}))}finally{Sd=Sd||!1}return Sd}function Nc(t){return E7()?t:!!t.capture}var Ro;function OF(){if(Ro==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ro=!1,Ro;if("scrollBehavior"in document.documentElement.style)Ro=!0;else{let t=Element.prototype.scrollTo;t?Ro=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Ro=!1}}return Ro}var N0;function b7(){if(N0==null){let t=typeof document<"u"?document.head:null;N0=!!(t&&(t.createShadowRoot||t.attachShadow))}return N0}function kF(t){if(b7()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Pc(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Rn(t){return t.composedPath?t.composedPath()[0]:t.target}function Ad(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var D7=new j("cdk-dir-doc",{providedIn:"root",factory:C7});function C7(){return O(ce)}var T7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function S7(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?T7.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var xd=(()=>{let e=class e{constructor(r){if(this.value="ltr",this.change=new Ae,r){let i=r.body?r.body.dir:null,s=r.documentElement?r.documentElement.dir:null;this.value=S7(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(R(D7,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var R7=20,LF=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this._platform=i,this._scrolled=new te,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=R7){return this._platform.isBrowser?new ne(i=>{this._globalSubscription||this._addGlobalListener();let s=r>0?this._scrolled.pipe(qh(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):X()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let s=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(Ve(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,r)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let s=si(i),o=r.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return fl(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(R(K),R(Xe),R(ce,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var x7=20,O0=(()=>{let e=class e{constructor(r,i,s){this._platform=r,this._change=new te,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(r.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+s,right:r.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),s=r.documentElement,o=s.getBoundingClientRect(),a=-o.top||r.body.scrollTop||i.scrollY||s.scrollTop||0,c=-o.left||r.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(r=x7){return r>0?this._change.pipe(qh(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(R(Xe),R(K),R(ce,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let t=e;return t})(),k0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({imports:[fs,FF,fs,FF]});let t=e;return t})();var Md=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Oc=class extends Md{constructor(e,n,r,i,s){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}},kc=class extends Md{constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},F0=class extends Md{constructor(e){super(),this.element=e instanceof Te?e.nativeElement:e}},Fc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Oc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof kc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof F0)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Um=class extends Fc{constructor(e,n,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ce.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Nd=(()=>{let e=class e extends Fc{constructor(r,i,s){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ae,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,o=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),a=i.createComponent(o,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=r,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};e.\u0275fac=function(i){return new(i||e)(U(or),U(In),U(ce))},e.\u0275dir=De({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[nt]});let t=e;return t})();var Lc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let t=e;return t})();function Bm(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var VF=OF(),L0=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=st(-this._previousScrollPosition.left),e.style.top=st(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,r=e.style,i=n.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),VF&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),VF&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var V0=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Ve(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},$m=class{enable(){}disable(){}attach(){}};function j0(t,e){return e.some(n=>{let r=t.bottom<n.top,i=t.top>n.bottom,s=t.right<n.left,o=t.left>n.right;return r||i||s||o})}function jF(t,e){return e.some(n=>{let r=t.top<n.top,i=t.bottom>n.bottom,s=t.left<n.left,o=t.right>n.right;return r||i||s||o})}var U0=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();j0(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},N7=(()=>{let e=class e{constructor(r,i,s,o){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new $m,this.close=a=>new V0(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new L0(this._viewportRuler,this._document),this.reposition=a=>new U0(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.\u0275fac=function(i){return new(i||e)(R(LF),R(O0),R(K),R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pd=class{constructor(e){if(this.scrollStrategy=new $m,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let r of n)e[r]!==void 0&&(this[r]=e[r])}}};var B0=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var zF=(()=>{let e=class e{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(i){return new(i||e)(R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),P7=(()=>{let e=class e extends zF{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(K,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),O7=(()=>{let e=class e extends zF{constructor(r,i,s){super(r),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Rn(o)},this._clickListener=o=>{let a=Rn(o),c=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let d=u.length-1;d>-1;d--){let f=u[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(c))break;let g=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(o)):g.next(o)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(Xe),R(K,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vc=(()=>{let e=class e{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||Ad()){let s=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let i=this._document.createElement("div");i.classList.add(r),Ad()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(Xe))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oi=class{constructor(e,n,r,i,s,o,a,c,u,d=!1,f){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=f,this._backdropElement=null,this._backdropClick=new te,this._attachments=new te,this._detachments=new te,this._locationChanges=Pe.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new te,this._outsidePointerEvents=new te,this._renders=new te,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=dw(()=>J_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Ni(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=F(F({},this._config),e),this._updateElementSize()}setDirection(e){this._config=pe(F({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=st(this._config.width),e.height=st(this._config.height),e.minWidth=st(this._config.minWidth),e.minHeight=st(this._config.minHeight),e.maxWidth=st(this._config.maxWidth),e.maxHeight=st(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){let i=xc(n||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(er(pl(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},UF="cdk-overlay-connected-position-bounding-box",k7=/([A-Za-z%]+)$/,$0=class{get positions(){return this._preferredPositions}constructor(e,n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new te,this._resizeSubscription=Pe.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(UF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,n,a),d=this._getOverlayFit(u,n,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,r)){s.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:n})}if(s.length){let a=null,c=-1;for(let u of s){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&xo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(UF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?o:a}n.left<0&&(i-=n.left);let s;return r.originY=="center"?s=e.top+e.height/2:s=r.originY=="top"?e.top:e.bottom,n.top<0&&(s-=n.top),{x:i,y:s}}_getOverlayPoint(e,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let s;return r.overlayY=="center"?s=-n.height/2:s=r.overlayY=="top"?0:-n.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,n,r,i){let s=$F(n),{x:o,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(o+=c),u&&(a+=u);let d=0-o,f=o+s.width-r.width,g=0-a,y=a+s.height-r.height,w=this._subtractOverflows(s.width,d,f),A=this._subtractOverflows(s.height,g,y),S=w*A;return{visibleArea:S,isCompletelyWithinViewport:s.width*s.height===S,fitsInViewportVertically:A===s.height,fitsInViewportHorizontally:w==s.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,s=r.right-n.x,o=BF(this._overlayRef.getConfig().minHeight),a=BF(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||o!=null&&o<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=s;return c&&u}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=$F(n),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),u=Math.max(s.left-r.left-e.x,0),d=0,f=0;return i.width<=s.width?d=u||-o:d=e.x<this._viewportMargin?s.left-r.left-e.x:0,i.height<=s.height?f=c||-a:f=e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:d,y:f},{x:e.x+d,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!F7(this._lastScrollVisibility,r)){let i=new B0(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){let r=this._viewportRect,i=this._isRtl(),s,o,a;if(n.overlayY==="top")o=e.y,s=r.height-o+this._viewportMargin;else if(n.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,s=r.height-a+this._viewportMargin;else{let y=Math.min(r.bottom-e.y+r.top,e.y),w=this._lastBoundingBoxSize.height;s=y*2,o=e.y-y,s>w&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-w/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,u=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,d,f,g;if(u)g=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)f=e.x,d=r.right-e.x;else{let y=Math.min(r.right-e.x+r.left,e.x),w=this._lastBoundingBoxSize.width;d=y*2,f=e.x-y,d>w&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-w/2)}return{top:o,left:f,bottom:a,right:g,width:d,height:s}}_setBoundingBoxStyles(e,n){let r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=st(r.height),i.top=st(r.top),i.bottom=st(r.bottom),i.width=st(r.width),i.left=st(r.left),i.right=st(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=st(s)),o&&(i.maxWidth=st(o))}this._lastBoundingBoxSize=r,xo(this._boundingBox.style,i)}_resetBoundingBoxStyles(){xo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){xo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();xo(r,this._getExactOverlayY(n,e,d)),xo(r,this._getExactOverlayX(n,e,d))}else r.position="static";let a="",c=this._getOffset(n,"x"),u=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=st(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=st(o.maxWidth):s&&(r.maxWidth="")),xo(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;i.bottom=`${o-(s.y+this._overlayRect.height)}px`}else i.top=st(s.y);return i}_getExactOverlayX(e,n,r){let i={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(s.x+this._overlayRect.width)}px`}else i.left=st(s.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jF(e,r),isOriginOutsideView:j0(e,r),isOverlayClipped:jF(n,r),isOverlayOutsideView:j0(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&xc(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Te)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}};function xo(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function BF(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(k7);return!n||n==="px"?parseFloat(e):null}return t||null}function $F(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function F7(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var HF="cdk-global-overlay-wrapper",H0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(HF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!o||o==="100%"||o==="100vw"),u=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,f=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",y="",w="",A="";c?A="flex-start":d==="center"?(A="center",g?w=f:y=f):g?d==="left"||d==="end"?(A="flex-end",y=f):(d==="right"||d==="start")&&(A="flex-start",w=f):d==="left"||d==="start"?(A="flex-start",y=f):(d==="right"||d==="end")&&(A="flex-end",w=f),e.position=this._cssPosition,e.marginLeft=c?"0":y,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":w,n.justifyContent=A,n.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(HF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},L7=(()=>{let e=class e{constructor(r,i,s,o){this._viewportRuler=r,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new H0}flexibleConnectedTo(r){return new $0(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(i){return new(i||e)(R(O0),R(ce),R(Xe),R(Vc))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),V7=0,Kn=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,d,f,g,y,w){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=u,this._document=d,this._directionality=f,this._location=g,this._outsideClickDispatcher=y,this._animationsModuleType=w}create(r){let i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new Pd(r);return a.direction=a.direction||this._directionality.value,new oi(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(ht))}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${V7++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(pr)),new Um(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(i){return new(i||e)(R(N7),R(Vc),R(or),R(L7),R(P7),R(Ce),R(K),R(ce),R(xd),R(mr),R(O7),R(Mi,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var j7=new j("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=O(Kn);return()=>t.scrollStrategies.reposition()}});function U7(t){return()=>t.scrollStrategies.reposition()}var B7={provide:j7,deps:[Kn],useFactory:U7},z0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({providers:[Kn,B7],imports:[fs,Lc,k0,k0]});let t=e;return t})();var $7=(()=>{let e=class e{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var GF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({providers:[$7]});let t=e;return t})();var WF=new Set,Mo,H7=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):q7}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&z7(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(R(Xe),R(Ol,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z7(t,e){if(!WF.has(t))try{Mo||(Mo=document.createElement("style"),e&&Mo.setAttribute("nonce",e),Mo.setAttribute("type","text/css"),document.head.appendChild(Mo)),Mo.sheet&&(Mo.sheet.insertRule(`@media ${t} {body{ }}`,0),WF.add(t))}catch(n){console.error(n)}}function q7(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var QF=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return KF(xc(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let s=KF(xc(r)).map(a=>this._registerQuery(a).observable),o=Ds(s);return o=Xn(o.pipe(et(1)),o.pipe(yl(1),Wh(0))),o.pipe(se(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:d})=>{c.matches=c.matches||u,c.breakpoints[d]=u}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),o={observable:new ne(a=>{let c=u=>this._zone.run(()=>a.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Pn(i),se(({matches:a})=>({query:r,matches:a})),er(this._destroySubject)),mql:i};return this._queries.set(r,o),o}};e.\u0275fac=function(i){return new(i||e)(R(H7),R(K))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KF(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Qde={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Od=(()=>{let e=class e{constructor(r){this._platform=r}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return W7(r)&&getComputedStyle(r).visibility==="visible"}isTabbable(r){if(!this._platform.isBrowser)return!1;let i=G7(tQ(r));if(i&&(YF(i)===-1||!this.isVisible(i)))return!1;let s=r.nodeName.toLowerCase(),o=YF(r);return r.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!J7(r)?!1:s==="audio"?r.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||r.hasAttribute("controls"):r.tabIndex>=0}isFocusable(r,i){return eQ(r)&&!this.isDisabled(r)&&(i?.ignoreVisibility||this.isVisible(r))}};e.\u0275fac=function(i){return new(i||e)(R(Xe))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function G7(t){try{return t.frameElement}catch{return null}}function W7(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function K7(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function Q7(t){return Z7(t)&&t.type=="hidden"}function Y7(t){return X7(t)&&t.hasAttribute("href")}function Z7(t){return t.nodeName.toLowerCase()=="input"}function X7(t){return t.nodeName.toLowerCase()=="a"}function JF(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function YF(t){if(!JF(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function J7(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function eQ(t){return Q7(t)?!1:K7(t)||Y7(t)||t.hasAttribute("contenteditable")||JF(t)}function tQ(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var G0=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,r,i,s=!1,o){this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(e),!!r}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?this._injector?Ni(e,{injector:this._injector}):e():this._ngZone.onStable.pipe(et(1)).subscribe(e)}},kd=(()=>{let e=class e{constructor(r,i,s){this._checker=r,this._ngZone=i,this._injector=O(Ce),this._document=s}create(r,i=!1){return new G0(r,this._checker,this._ngZone,this._document,i,this._injector)}};e.\u0275fac=function(i){return new(i||e)(R(Od),R(K),R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yhe=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(r){this.focusTrap&&(this.focusTrap.enabled=r)}constructor(r,i,s){this._elementRef=r,this._focusTrapFactory=i,this._previouslyFocusedElement=null,O(Xe).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(r){let i=r.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Pc(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(i){return new(i||e)(U(Te),U(kd),U(ce))},e.\u0275dir=De({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",bn],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",bn]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Ur,Ht]});let t=e;return t})();function W0(t){return t.buttons===0||t.detail===0}function K0(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var nQ=new j("cdk-input-modality-detector-options"),rQ={ignoreKeys:[18,17,224,91,16]},eL=650,jc=Nc({passive:!0,capture:!0}),iQ=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(r,i,s,o){this._platform=r,this._mostRecentTarget=null,this._modality=new Je(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Rn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<eL||(this._modality.next(W0(a)?"keyboard":"mouse"),this._mostRecentTarget=Rn(a))},this._onTouchstart=a=>{if(K0(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rn(a)},this._options=F(F({},rQ),o),this.modalityDetected=this._modality.pipe(yl(1)),this.modalityChanged=this.modalityDetected.pipe(ml()),r.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,jc),s.addEventListener("mousedown",this._onMousedown,jc),s.addEventListener("touchstart",this._onTouchstart,jc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jc),document.removeEventListener("mousedown",this._onMousedown,jc),document.removeEventListener("touchstart",this._onTouchstart,jc))}};e.\u0275fac=function(i){return new(i||e)(R(Xe),R(K),R(ce),R(nQ,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sQ=new j("liveAnnouncerElement",{providedIn:"root",factory:oQ});function oQ(){return null}var aQ=new j("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),cQ=0,vhe=(()=>{let e=class e{constructor(r,i,s,o){this._ngZone=i,this._defaultOptions=o,this._document=s,this._liveElement=r||this._createLiveElement()}announce(r,...i){let s=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),a==null&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=r,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let r="cdk-live-announcer-element",i=this._document.getElementsByClassName(r),s=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return s.classList.add(r),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${cQ++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(r){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){let o=i[s],a=o.getAttribute("aria-owns");a?a.indexOf(r)===-1&&o.setAttribute("aria-owns",a+" "+r):o.setAttribute("aria-owns",r)}}};e.\u0275fac=function(i){return new(i||e)(R(sQ,8),R(K),R(ce),R(aQ,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zm=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(zm||{}),lQ=new j("cdk-focus-monitor-default-options"),Hm=Nc({passive:!0,capture:!0}),Fd=(()=>{let e=class e{constructor(r,i,s,o,a){this._ngZone=r,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new te,this._rootNodeFocusAndBlurListener=c=>{let u=Rn(c);for(let d=u;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=o,this._detectionMode=a?.detectionMode||zm.IMMEDIATE}monitor(r,i=!1){let s=si(r);if(!this._platform.isBrowser||s.nodeType!==1)return X();let o=kF(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new te,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(r){let i=si(r),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(r,i,s){let o=si(r),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((r,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===zm.EVENTUAL||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,i){r.classList.toggle("cdk-focused",!!i),r.classList.toggle("cdk-touch-focused",i==="touch"),r.classList.toggle("cdk-keyboard-focused",i==="keyboard"),r.classList.toggle("cdk-mouse-focused",i==="mouse"),r.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(r,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&i,this._detectionMode===zm.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?eL:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(r,i){let s=this._elementInfo.get(i),o=Rn(r);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(r,i){let s=this._elementInfo.get(i);!s||s.checkChildren&&r.relatedTarget instanceof Node&&i.contains(r.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(r,i){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(i))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let i=r.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Hm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Hm)}),this._rootNodeFocusListenerCount.set(i,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(er(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(r){let i=r.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Hm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Hm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,i,s){this._setClasses(r,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(r){let i=[];return this._elementInfo.forEach((s,o)=>{(o===r||s.checkChildren&&o.contains(r))&&i.push([o,s])}),i}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!i||i===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let o=r.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}};e.\u0275fac=function(i){return new(i||e)(R(K),R(Xe),R(iQ),R(ce,8),R(lQ,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_he=(()=>{let e=class e{constructor(r,i){this._elementRef=r,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Ae}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let r=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(r,r.nodeType===1&&r.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(U(Te),U(Fd))},e.\u0275dir=De({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),No=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(No||{}),ZF="cdk-high-contrast-black-on-white",XF="cdk-high-contrast-white-on-black",q0="cdk-high-contrast-active",Q0=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=O(QF).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return No.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return No.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return No.BLACK_ON_WHITE}return No.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(q0,ZF,XF),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===No.BLACK_ON_WHITE?r.add(q0,ZF):i===No.WHITE_ON_BLACK&&r.add(q0,XF)}}};e.\u0275fac=function(i){return new(i||e)(R(Xe),R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tL=(()=>{let e=class e{constructor(r){r._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(i){return new(i||e)(R(Q0))},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({imports:[GF]});let t=e;return t})();function uQ(t,e){}var Po=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var J0=(()=>{let e=class e extends Fc{constructor(r,i,s,o,a,c,u,d){super(),this._elementRef=r,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=u,this._focusMonitor=d,this._platform=O(Xe),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=O(En),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),g},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let i=this._ariaLabelledByQueue.indexOf(r);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),i}attachTemplatePortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,i){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{r.removeEventListener("blur",s),r.removeEventListener("mousedown",s),r.removeAttribute("tabindex")};r.addEventListener("blur",s),r.addEventListener("mousedown",s)})),r.focus(i)}_focusByCssSelector(r,i){let s=this._elementRef.nativeElement.querySelector(r);s&&this._forceFocus(s,i)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,i=null;if(typeof r=="string"?i=this._document.querySelector(r):typeof r=="boolean"?i=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(i=r),this._config.restoreFocus&&i&&typeof i.focus=="function"){let s=Pc(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,i=Pc();return r===i||r.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Pc()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(i){return new(i||e)(U(Te),U(kd),U(ce,8),U(Po),U(Od),U(K),U(oi),U(Fd))},e.\u0275cmp=cr({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(i&1&&ap(Nd,7),i&2){let o;jl(o=Ul())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){i&2&&hr("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[nt,fr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){i&1&&Bn(0,uQ,0,0,"ng-template",0)},dependencies:[Nd],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),Ld=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new te,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Bm(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},dQ=new j("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=O(Kn);return()=>t.scrollStrategies.block()}}),hQ=new j("DialogData"),fQ=new j("DefaultDialogConfig");var pQ=0,eC=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,i,s,o,a,c){this._overlay=r,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new te,this._afterOpenedAtThisLevel=new te,this._ariaHiddenElements=new Map,this.afterAllClosed=vi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pn(void 0))),this._scrollStrategy=c}open(r,i){let s=this._defaultOptions||new Po;i=F(F({},s),i),i.id=i.id||`cdk-dialog-${pQ++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=this._overlay.create(o),c=new Ld(a,i),u=this._attachContainer(a,c,i);return c.containerInstance=u,this._attachDialogContent(r,c,u,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){Z0(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){Z0(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),Z0(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let i=new Pd({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(i.backdropClass=r.backdropClass),i}_attachContainer(r,i,s){let o=s.injector||s.viewContainerRef?.injector,a=[{provide:Po,useValue:s},{provide:Ld,useValue:i},{provide:oi,useValue:r}],c;s.container?typeof s.container=="function"?c=s.container:(c=s.container.type,a.push(...s.container.providers(s))):c=J0;let u=new Oc(c,s.viewContainerRef,Ce.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return r.attach(u).instance}_attachDialogContent(r,i,s,o){if(r instanceof Ln){let a=this._createInjector(o,i,s,void 0),c={$implicit:o.data,dialogRef:i};o.templateContext&&(c=F(F({},c),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new kc(r,null,c,a))}else{let a=this._createInjector(o,i,s,this._injector),c=s.attachComponentPortal(new Oc(r,o.viewContainerRef,a,o.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(r,i,s,o){let a=r.injector||r.viewContainerRef?.injector,c=[{provide:hQ,useValue:r.data},{provide:Ld,useValue:i}];return r.providers&&(typeof r.providers=="function"?c.push(...r.providers(i,r,s)):c.push(...r.providers)),r.direction&&(!a||!a.get(xd,null,{optional:!0}))&&c.push({provide:xd,useValue:{value:r.direction,change:X()}}),Ce.create({parent:a||o,providers:c})}_removeOpenDialog(r,i){let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let i=r.parentElement.children;for(let s=i.length-1;s>-1;s--){let o=i[s];o!==r&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(i){return new(i||e)(R(Kn),R(Ce),R(fQ,8),R(e,12),R(Vc),R(dQ))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z0(t,e){let n=t.length;for(;n--;)e(t[n])}var gQ=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({providers:[eC],imports:[z0,Lc,tL,Lc]});let t=e;return t})();var ofe=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),afe=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function mQ(){return!0}var yQ=new j("mat-sanity-checks",{providedIn:"root",factory:mQ}),nL=(()=>{let e=class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return Ad()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(R(Q0),R(yQ,8),R(ce))},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({imports:[fs,fs]});let t=e;return t})();var rL=class{constructor(e,n,r,i,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,n)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var iL=new j("MAT_DATE_LOCALE",{providedIn:"root",factory:vQ});function vQ(){return O(Ta)}var Gm=class{constructor(){this._localeChanges=new te,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let r=this.isValid(e),i=this.isValid(n);return r&&i?!this.compareDate(e,n):r==i}return e==n}clampDate(e,n,r){return n&&this.compareDate(e,n)<0?n:r&&this.compareDate(e,r)>0?r:e}},_Q=new j("mat-date-formats"),wQ=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function tC(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}var IQ=(()=>{let e=class e extends Gm{constructor(r){super(),this.useUtcForDisplay=!1,this._matDateLocale=O(iL,{optional:!0}),r!==void 0&&(this._matDateLocale=r),super.setLocale(this._matDateLocale)}getYear(r){return r.getFullYear()}getMonth(r){return r.getMonth()}getDate(r){return r.getDate()}getDayOfWeek(r){return r.getDay()}getMonthNames(r){let i=new Intl.DateTimeFormat(this.locale,{month:r,timeZone:"utc"});return tC(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){let r=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return tC(31,i=>this._format(r,new Date(2017,0,i+1)))}getDayOfWeekNames(r){let i=new Intl.DateTimeFormat(this.locale,{weekday:r,timeZone:"utc"});return tC(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(r){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,r)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(r){return this.getDate(this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+1,0))}clone(r){return new Date(r.getTime())}createDate(r,i,s){let o=this._createDateWithOverflow(r,i,s);return o.getMonth()!=i,o}today(){return new Date}parse(r,i){return typeof r=="number"?new Date(r):r?new Date(Date.parse(r)):null}format(r,i){if(!this.isValid(r))throw Error("NativeDateAdapter: Cannot format invalid date.");let s=new Intl.DateTimeFormat(this.locale,pe(F({},i),{timeZone:"utc"}));return this._format(s,r)}addCalendarYears(r,i){return this.addCalendarMonths(r,i*12)}addCalendarMonths(r,i){let s=this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+i,this.getDate(r));return this.getMonth(s)!=((this.getMonth(r)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(r,i){return this._createDateWithOverflow(this.getYear(r),this.getMonth(r),this.getDate(r)+i)}toIso8601(r){return[r.getUTCFullYear(),this._2digit(r.getUTCMonth()+1),this._2digit(r.getUTCDate())].join("-")}deserialize(r){if(typeof r=="string"){if(!r)return null;if(wQ.test(r)){let i=new Date(r);if(this.isValid(i))return i}}return super.deserialize(r)}isDateInstance(r){return r instanceof Date}isValid(r){return!isNaN(r.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(r,i,s){let o=new Date;return o.setFullYear(r,i,s),o.setHours(0,0,0,0),o}_2digit(r){return("00"+r).slice(-2)}_format(r,i){let s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),r.format(s)}};e.\u0275fac=function(i){return new(i||e)(R(iL,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),EQ={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function cfe(t=EQ){return[{provide:Gm,useClass:IQ},{provide:_Q,useValue:t}]}var lfe=(()=>{let e=class e{isErrorState(r,i){return!!(r&&r.invalid&&(r.touched||i&&i.submitted))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(xn||{}),iC=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=xn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},sL=Nc({passive:!0,capture:!0}),sC=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Rn(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){let s=this._events.get(n);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,sL)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let s=i.get(n);s&&(s.delete(r),s.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,sL)))}},oL={enterDuration:225,exitDuration:150},bQ=800,aL=Nc({passive:!0,capture:!0}),cL=["mousedown","touchstart"],lL=["mouseup","mouseleave","touchend","touchcancel"],Vd=class Vd{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=si(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=F(F({},oL),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let o=r.radius||DQ(e,n,i),a=e-i.left,c=n-i.top,u=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),g=f.transitionProperty,y=f.transitionDuration,w=g==="none"||y==="0s"||y==="0s, 0s"||i.width===0&&i.height===0,A=new iC(this,d,r,w);d.style.transform="scale3d(1, 1, 1)",A.state=xn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=A);let S=null;return!w&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let k=()=>this._finishRippleTransition(A),B=()=>this._destroyRipple(A);d.addEventListener("transitionend",k),d.addEventListener("transitioncancel",B),S={onTransitionEnd:k,onTransitionCancel:B}}),this._activeRipples.set(A,S),(w||!u)&&this._finishRippleTransition(A),A}fadeOutRipple(e){if(e.state===xn.FADING_OUT||e.state===xn.HIDDEN)return;let n=e.element,r=F(F({},oL),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=xn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=si(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,cL.forEach(r=>{Vd._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{lL.forEach(n=>{this._triggerElement.addEventListener(n,this,aL)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===xn.FADING_IN?this._startFadeOutTransition(e):e.state===xn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=xn.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=xn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=W0(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+bQ;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!K0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===xn.VISIBLE||e.config.terminateOnPointerUp&&e.state===xn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(cL.forEach(n=>Vd._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(lL.forEach(n=>e.removeEventListener(n,this,aL)),this._pointerUpEventsRegistered=!1))}};Vd._eventManager=new sC;var oC=Vd;function DQ(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var fL=new j("mat-ripple-global-options"),CQ=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,i,s,o,a){this._elementRef=r,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new oC(this,i,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:F(F(F({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,i=0,s){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,i,F(F({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,F(F({},this.rippleConfig),r))}};e.\u0275fac=function(i){return new(i||e)(U(Te),U(K),U(Xe),U(fL,8),U(Mi,8))},e.\u0275dir=De({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){i&2&&$r("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),ufe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({imports:[nL,nL]});let t=e;return t})();var uL={capture:!0},dL=["focus","mousedown","mouseenter","touchstart"],nC="mat-ripple-loader-uninitialized",rC="mat-ripple-loader-class-name",hL="mat-ripple-loader-centered",qm="mat-ripple-loader-disabled",dfe=(()=>{let e=class e{constructor(){this._document=O(ce,{optional:!0}),this._animationMode=O(Mi,{optional:!0}),this._globalRippleOptions=O(fL,{optional:!0}),this._platform=O(Xe),this._ngZone=O(K),this._hosts=new Map,this._onInteraction=r=>{let i=Rn(r);if(i instanceof HTMLElement){let s=i.closest(`[${nC}="${this._globalRippleOptions?.namespace??""}"]`);s&&this._createRipple(s)}},this._ngZone.runOutsideAngular(()=>{for(let r of dL)this._document?.addEventListener(r,this._onInteraction,uL)})}ngOnDestroy(){let r=this._hosts.keys();for(let i of r)this.destroyRipple(i);for(let i of dL)this._document?.removeEventListener(i,this._onInteraction,uL)}configureRipple(r,i){r.setAttribute(nC,this._globalRippleOptions?.namespace??""),(i.className||!r.hasAttribute(rC))&&r.setAttribute(rC,i.className||""),i.centered&&r.setAttribute(hL,""),i.disabled&&r.setAttribute(qm,"")}getRipple(r){return this._hosts.get(r)||this._createRipple(r)}setDisabled(r,i){let s=this._hosts.get(r);if(s){s.disabled=i;return}i?r.setAttribute(qm,""):r.removeAttribute(qm)}_createRipple(r){if(!this._document)return;let i=this._hosts.get(r);if(i)return i;r.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",r.getAttribute(rC)),r.append(s);let o=new CQ(new Te(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=r,o.centered=r.hasAttribute(hL),o.disabled=r.hasAttribute(qm),this.attachRipple(r,o),o}attachRipple(r,i){r.removeAttribute(nC),this._hosts.set(r,i)}destroyRipple(r){let i=this._hosts.get(r);i&&(i.ngOnDestroy(),this._hosts.delete(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qn=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Qn||{}),pfe="*";function gfe(t,e){return{type:Qn.Trigger,name:t,definitions:e,options:{}}}function mfe(t,e=null){return{type:Qn.Animate,styles:e,timings:t}}function yfe(t,e=null){return{type:Qn.Group,steps:t,options:e}}function vfe(t,e=null){return{type:Qn.Sequence,steps:t,options:e}}function _fe(t){return{type:Qn.Style,styles:t,offset:null}}function wfe(t,e,n){return{type:Qn.State,name:t,styles:e,options:n}}function Ife(t){return{type:Qn.Keyframes,steps:t}}function Efe(t,e,n=null){return{type:Qn.Transition,expr:t,animation:e,options:n}}function bfe(t=null){return{type:Qn.AnimateChild,options:t}}function Dfe(t,e,n=null){return{type:Qn.Query,selector:t,animation:e,options:n}}var pL=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},gL=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Cfe="!";function TQ(t,e){}var jd=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},aC="mdc-dialog--open",mL="mdc-dialog--opening",yL="mdc-dialog--closing",SQ=150,AQ=75,RQ=(()=>{let e=class e extends J0{constructor(r,i,s,o,a,c,u,d,f){super(r,i,s,o,a,c,u,f),this._animationMode=d,this._animationStateChanged=new Ae,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?_L(this._config.enterAnimationDuration)??SQ:0,this._exitAnimationDuration=this._animationsEnabled?_L(this._config.exitAnimationDuration)??AQ:0,this._animationTimer=null,this._isDestroyed=!1,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(vL,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(mL,aC)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(aC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(aC),this._animationsEnabled?(this._hostElement.style.setProperty(vL,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(yL)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(r){this._actionSectionCount+=r,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(mL,yL)}_waitForAnimationToComplete(r,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._isDestroyed||(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r}))}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer),this._isDestroyed=!0}attachComponentPortal(r){let i=super.attachComponentPortal(r);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}};e.\u0275fac=function(i){return new(i||e)(U(Te),U(kd),U(ce,8),U(jd),U(Od),U(K),U(oi),U(Mi,8),U(Fd))},e.\u0275cmp=cr({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,s){i&2&&(op("id",s._config.id),hr("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),$r("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[nt,fr],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,s){i&1&&(zt(0,"div",0)(1,"div",1),Bn(2,TQ,0,0,"ng-template",2),Mt()())},dependencies:[Nd],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let t=e;return t})(),vL="--mat-dialog-transition-duration";function _L(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Td(t.substring(0,t.length-2)):t.endsWith("s")?Td(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Wm=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Wm||{}),cC=class{constructor(e,n,r){this._ref=e,this._containerInstance=r,this._afterOpened=new te,this._beforeClosed=new te,this._state=Wm.OPEN,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(Ve(i=>i.state==="opened"),et(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Ve(i=>i.state==="closed"),et(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),pl(this.backdropClick(),this.keydownEvents().pipe(Ve(i=>i.keyCode===27&&!this.disableClose&&!Bm(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),xQ(this,i.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ve(n=>n.state==="closing"),et(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Wm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Wm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function xQ(t,e,n){return t._closeInteractionType=e,t.close(n)}var lC=new j("MatMdcDialogData"),MQ=new j("mat-mdc-dialog-default-options"),NQ=new j("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=O(Kn);return()=>t.scrollStrategies.block()}});var PQ=0,wL=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,i,s,o,a,c,u,d){this._overlay=r,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new te,this._afterOpenedAtThisLevel=new te,this.dialogConfigClass=jd,this.afterAllClosed=vi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Pn(void 0))),this._dialog=i.get(eC),this._dialogRefConstructor=cC,this._dialogContainerType=RQ,this._dialogDataToken=lC}open(r,i){let s;i=F(F({},this._defaultOptions||new jd),i),i.id=i.id||`mat-mdc-dialog-${PQ++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(r,pe(F({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Po,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(a,c,u)=>(s=new this._dialogRefConstructor(a,i,u),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=o.componentRef,s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let i=r.length;for(;i--;)r[i].close()}};e.\u0275fac=function(i){return new(i||e)(R(Kn),R(Ce),R(mr,8),R(MQ,8),R(NQ),R(e,12),R(Vc),R(Mi,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kQ=t=>({"pb-10":t});function FQ(t,e){if(t&1){let n=ow();zt(0,"button",12),pt("click",function(){C_(n);let i=Ea();return T_(i.cancel())}),tR(),zt(1,"svg",13),Pi(2,"path",14),Mt(),nR(),zt(3,"span",15),ba(4,"Close modal"),Mt()()}}function LQ(t,e){t&1&&sw(0)}function VQ(t,e){if(t&1&&Bn(0,LQ,1,0,"ng-container",16),t&2){let n=Ea();Bs("ngTemplateOutlet",n.contentTemplateRef)}}function jQ(t,e){if(t&1){let n=ow();zt(0,"button",17),pt("click",function(){C_(n);let i=Ea();return T_(i.cancel())}),ba(1),Mt()}if(t&2){let n=Ea();jn(),$s(" ",n.cancelText," ")}}var IL=(()=>{let e=class e{constructor(r){if(this.data=r,this.doConfirm=k_(),this.doCancel=k_(),this.title="\u901A\u77E5",this.content="",this.okText="\u78BA\u8A8D",this.cancelText="\u53D6\u6D88",this.outsideClose=!1,this.showCrossBtn=!0,this.showCancelBtn=!0,this.btnCenter=!0,this.fullScreen=!1,this.data){let{title:i,content:s,okText:o,cancelText:a,showCrossBtn:c,outsideClose:u,showCancelBtn:d,contentTemplateRef:f,btnCenter:g,fullScreen:y,afterViewInit:w}=r;this.title=i??this.title,this.content=s??this.content,this.okText=o??this.okText,this.cancelText=a??this.cancelText,this.showCrossBtn=c??this.showCrossBtn,this.outsideClose=u??this.outsideClose,this.showCancelBtn=d??this.showCancelBtn,this.btnCenter=g??this.btnCenter,this.contentTemplateRef=f,this.fullScreen=y??this.fullScreen,this.afterViewInitEvent=w||(()=>{})}}ngOnInit(){}ngAfterViewInit(){this.afterViewInitEvent()}clickOutsideClose(){this.outsideClose&&this.cancel()}cancel(){this.doCancel.emit()}ok(){this.doConfirm.emit()}};e.\u0275fac=function(i){return new(i||e)(U(lC))},e.\u0275cmp=cr({type:e,selectors:[["app-modal"]],outputs:{doConfirm:"doConfirm",doCancel:"doCancel"},standalone:!0,features:[fr],decls:15,vars:10,consts:[[1,"bg-white","dark:bg-gray-700","min-w-72","min-h-48","flex","overflow-y-auto","overflow-x-hidden","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","w-full","max-w-2xl","max-h-screen","overflow-scroll"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide","default-modal",3,"click",4,"ngIf"],[1,"p-4","md:p-5","space-y-4","text-gray-900","dark:text-white","min-h-20"],[3,"innerHTML"],[1,"flex","justify-center","items-center","p-4","md:p-5","border-t","border-gray-200","rounded-b","dark:border-gray-600"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["type","button","class","ms-3 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",3,"click",4,"ngIf"],[1,"fixed","h-full","w-full","top-0","left-0","-z-10",3,"click"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[4,"ngTemplateOutlet"],["type","button",1,"ms-3","text-gray-500","bg-white","hover:bg-gray-100","focus:ring-4","focus:outline-none","focus:ring-blue-300","rounded-lg","border","border-gray-200","text-sm","font-medium","px-5","py-2.5","hover:text-gray-900","focus:z-10","dark:bg-gray-700","dark:text-gray-300","dark:border-gray-500","dark:hover:text-white","dark:hover:bg-gray-600","dark:focus:ring-gray-600",3,"click"]],template:function(i,s){i&1&&(zt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),ba(5),Mt(),Bn(6,FQ,5,0,"button",5),Mt(),zt(7,"div",6),Pi(8,"p",7),Bn(9,VQ,1,1,"ng-container"),Mt(),zt(10,"div",8)(11,"button",9),pt("click",function(){return s.ok()}),ba(12),Mt(),Bn(13,jQ,2,1,"button",10),Mt()()()(),zt(14,"div",11),pt("click",function(){return s.clickOutsideClose()}),Mt()),i&2&&(jn(5),$s(" ",s.title," "),jn(),Bs("ngIf",s.showCrossBtn&&s.showCancelBtn),jn(2),Bs("innerHTML",s.content,NR),jn(),iw(s.contentTemplateRef?9:-1),jn(),xx(Bx(8,kQ,s.fullScreen)),jn(2),$s(" ",s.okText," "),jn(),Bs("ngIf",s.showCancelBtn))},dependencies:[zs,cM,lM]});let t=e;return t})();var npe=(()=>{let e=class e{constructor(r){this.dialog=r,this.modalQueue=[],this.currentModal$=new dl,this.executeStatus$=new te,this.executeModal()}executeModal(){this.executeStatus$.subscribe(()=>{this.modalQueue.length>0&&this.currentModal$.next(this.modalQueue[0])})}openConfirm(r){let i=Date.now();this.pushModalConfig(i);let s=o=>{let a={data:F({},o)};return o.fullScreen?F({maxWidth:"100vw",width:"100%"},a):a};return this.modalQueue.length===1&&this.executeStatus$.next(!0),new Promise(o=>{this.currentModal$.subscribe(a=>{if(a===i){let c=this.dialog.open(IL,s(r));o(c),c.componentInstance.doConfirm.subscribe(()=>{r.onOk&&r.onOk(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)}),c.componentInstance.doCancel.subscribe(()=>{r.onCancel&&r.onCancel(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)})}})})}pushModalConfig(r){this.modalQueue.push(r)}cleanQueue(){let r=this.modalQueue[0];this.modalQueue=[r]}};e.\u0275fac=function(i){return new(i||e)(R(wL))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ML=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(U(dr),U(Te))},e.\u0275dir=De({type:e});let t=e;return t})(),qd=(()=>{let e=class e extends ML{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,features:[nt]});let t=e;return t})(),ko=new j(""),UQ={provide:ko,useExisting:_n(()=>BQ),multi:!0},BQ=(()=>{let e=class e extends qd{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&pt("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[tn([UQ]),nt]});let t=e;return t})(),$Q={provide:ko,useExisting:_n(()=>NL),multi:!0};function HQ(){let t=gr()?gr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var zQ=new j(""),NL=(()=>{let e=class e extends ML{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!HQ())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(U(dr),U(Te),U(zQ,8))},e.\u0275dir=De({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&pt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[tn([$Q]),nt]});let t=e;return t})();function ps(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function PL(t){return t!=null&&typeof t.length=="number"}var iy=new j(""),sy=new j(""),qQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,EL=class{static min(e){return GQ(e)}static max(e){return WQ(e)}static required(e){return KQ(e)}static requiredTrue(e){return QQ(e)}static email(e){return YQ(e)}static minLength(e){return ZQ(e)}static maxLength(e){return XQ(e)}static pattern(e){return JQ(e)}static nullValidator(e){return OL(e)}static compose(e){return UL(e)}static composeAsync(e){return BL(e)}};function GQ(t){return e=>{if(ps(e.value)||ps(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function WQ(t){return e=>{if(ps(e.value)||ps(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function KQ(t){return ps(t.value)?{required:!0}:null}function QQ(t){return t.value===!0?null:{required:!0}}function YQ(t){return ps(t.value)||qQ.test(t.value)?null:{email:!0}}function ZQ(t){return e=>ps(e.value)||!PL(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function XQ(t){return e=>PL(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function JQ(t){if(!t)return OL;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ps(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function OL(t){return null}function kL(t){return t!=null}function FL(t){return Hs(t)?ke(t):t}function LL(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function VL(t,e){return e.map(n=>n(t))}function eY(t){return!t.validate}function jL(t){return t.map(e=>eY(e)?e:n=>e.validate(n))}function UL(t){if(!t)return null;let e=t.filter(kL);return e.length==0?null:function(n){return LL(VL(n,e))}}function fC(t){return t!=null?UL(jL(t)):null}function BL(t){if(!t)return null;let e=t.filter(kL);return e.length==0?null:function(n){let r=VL(n,e).map(FL);return Zy(r).pipe(se(LL))}}function pC(t){return t!=null?BL(jL(t)):null}function bL(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $L(t){return t._rawValidators}function HL(t){return t._rawAsyncValidators}function uC(t){return t?Array.isArray(t)?t:[t]:[]}function Qm(t,e){return Array.isArray(t)?t.includes(e):t===e}function DL(t,e){let n=uC(e);return uC(t).forEach(i=>{Qm(n,i)||n.push(i)}),n}function CL(t,e){return uC(e).filter(n=>!Qm(t,n))}var Ym=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ai=class extends Ym{get formDirective(){return null}get path(){return null}},Oo=class extends Ym{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zm=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},tY={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wpe=pe(F({},tY),{"[class.ng-submitted]":"isSubmitted"}),Ipe=(()=>{let e=class e extends Zm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(U(Oo,2))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&$r("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[nt]});let t=e;return t})(),Epe=(()=>{let e=class e extends Zm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(U(ai,10))},e.\u0275dir=De({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&$r("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[nt]});let t=e;return t})();var Ud="VALID",Km="INVALID",Uc="PENDING",Bd="DISABLED",gs=class{},Xm=class extends gs{constructor(e,n){super(),this.value=e,this.source=n}},Hd=class extends gs{constructor(e,n){super(),this.pristine=e,this.source=n}},zd=class extends gs{constructor(e,n){super(),this.touched=e,this.source=n}},Bc=class extends gs{constructor(e,n){super(),this.status=e,this.source=n}},dC=class extends gs{constructor(e){super(),this.source=e}},hC=class extends gs{constructor(e){super(),this.source=e}};function zL(t){return(oy(t)?t.validators:t)||null}function nY(t){return Array.isArray(t)?fC(t):t||null}function qL(t,e){return(oy(e)?e.asyncValidators:t)||null}function rY(t){return Array.isArray(t)?pC(t):t||null}function oy(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function iY(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Y(1e3,"");if(!r[n])throw new Y(1001,"")}function sY(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Y(1002,"")})}var Jm=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new te,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ud}get invalid(){return this.status===Km}get pending(){return this.status==Uc}get disabled(){return this.status===Bd}get enabled(){return this.status!==Bd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(CL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(CL(e,this._rawAsyncValidators))}hasValidator(e){return Qm(this._rawValidators,e)}hasAsyncValidator(e){return Qm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new zd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new zd(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Hd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Hd(!0,r))}markAsPending(e={}){this.status=Uc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Bc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Bd,this.errors=null,this._forEachChild(i=>{i.disable(pe(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xm(this.value,r)),this._events.next(new Bc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ud,this._forEachChild(r=>{r.enable(pe(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ud||this.status===Uc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xm(this.value,n)),this._events.next(new Bc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bd:Ud}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Uc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=FL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Bc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?Bd:this.errors?Km:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uc)?Uc:this._anyControlsHaveStatus(Km)?Km:Ud}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Hd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new zd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){oy(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=nY(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=rY(this._rawAsyncValidators)}},ey=class extends Jm{constructor(e,n,r){super(zL(n),qL(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){sY(this,!0,e),Object.keys(e).forEach(r=>{iY(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Gd=new j("CallSetDisabledState",{providedIn:"root",factory:()=>ay}),ay="always";function GL(t,e){return[...e.path,t]}function ty(t,e,n=ay){gC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),aY(t,e),lY(t,e),cY(t,e),oY(t,e)}function TL(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ry(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ny(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function oY(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function gC(t,e){let n=$L(t);e.validator!==null?t.setValidators(bL(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=HL(t);e.asyncValidator!==null?t.setAsyncValidators(bL(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ny(e._rawValidators,i),ny(e._rawAsyncValidators,i)}function ry(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=$L(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=HL(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return ny(e._rawValidators,r),ny(e._rawAsyncValidators,r),n}function aY(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&WL(t,e)})}function cY(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&WL(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function WL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function lY(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function KL(t,e){t==null,gC(t,e)}function uY(t,e){return ry(t,e)}function QL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function dY(t){return Object.getPrototypeOf(t.constructor)===qd}function YL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ZL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===NL?n=s:dY(s)?r=s:i=s}),i||r||n||null}function hY(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var fY={provide:ai,useExisting:_n(()=>pY)},$d=Promise.resolve(),pY=(()=>{let e=class e extends ai{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ae,this.form=new ey({},fC(r),pC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){$d.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),ty(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){$d.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){$d.then(()=>{let i=this._findContainer(r.path),s=new ey({});KL(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){$d.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){$d.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,YL(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(U(iy,10),U(sy,10),U(Gd,8))},e.\u0275dir=De({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&pt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tn([fY]),nt]});let t=e;return t})();function SL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AL(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var XL=class extends Jm{constructor(e=null,n,r){super(zL(n),qL(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),oy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AL(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SL(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SL(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AL(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gY=t=>t instanceof XL;var mY={provide:Oo,useExisting:_n(()=>yY)},RL=Promise.resolve(),yY=(()=>{let e=class e extends Oo{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new XL,this._registered=!1,this.name="",this.update=new Ae,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=ZL(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),QL(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ty(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){RL.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&bn(i);RL.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?GL(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(U(ai,9),U(iy,10),U(sy,10),U(ko,10),U(En,8),U(Gd,8))},e.\u0275dir=De({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[tn([mY]),nt,Ht]});let t=e;return t})();var vY={provide:ko,useExisting:_n(()=>_Y),multi:!0},_Y=(()=>{let e=class e extends qd{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&pt("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[tn([vY]),nt]});let t=e;return t})();var JL=new j("");var wY={provide:ai,useExisting:_n(()=>IY)},IY=(()=>{let e=class e extends ai{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ry(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return ty(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){TL(r.control||null,r,!1),hY(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,YL(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new dC(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new hC(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(TL(i||null,r),gY(s)&&(ty(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);KL(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&uY(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gC(this.form,this),this._oldForm&&ry(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(U(iy,10),U(sy,10),U(Gd,8))},e.\u0275dir=De({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&pt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tn([wY]),nt,Ht]});let t=e;return t})();var EY={provide:Oo,useExisting:_n(()=>bY)},bY=(()=>{let e=class e extends Oo{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=ZL(this,o)}ngOnChanges(r){this._added||this._setUpControl(),QL(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return GL(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(U(ai,13),U(iy,10),U(sy,10),U(ko,10),U(JL,8))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[tn([EY]),nt,Ht]});let t=e;return t})(),DY={provide:ko,useExisting:_n(()=>tV),multi:!0};function eV(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function CY(t){return t.split(":")[0]}var tV=(()=>{let e=class e extends qd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=eV(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=CY(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&pt("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[tn([DY]),nt]});let t=e;return t})(),Dpe=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(eV(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(U(Te),U(dr),U(tV,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),TY={provide:ko,useExisting:_n(()=>nV),multi:!0};function xL(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function SY(t){return t.split(":")[0]}var nV=(()=>{let e=class e extends qd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],d=this._getOptionValue(u.value);s.push(d)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let d=this._getOptionValue(u.value);s.push(d)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=SY(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&pt("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[tn([TY]),nt]});let t=e;return t})(),Cpe=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(xL(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(xL(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(U(Te),U(dr),U(nV,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var rV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({});let t=e;return t})();var mC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Gd,useValue:r.callSetDisabledState??ay}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({imports:[rV]});let t=e;return t})(),yC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:JL,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Gd,useValue:r.callSetDisabledState??ay}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({imports:[rV]});let t=e;return t})();var AY=[zs,mC,yC,M0],Mpe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ee({type:e}),e.\u0275inj=Ie({imports:[AY,zs,mC,yC,M0]});let t=e;return t})();export{F as a,pe as b,zV as c,RY as d,xY as e,v as f,Pe as g,ne as h,te as i,Je as j,HT as k,Vt as l,xX as m,X as n,Yo as o,se as p,Xn as q,vi as r,fl as s,Cj as t,pl as u,Tj as v,Ve as w,et as x,Aj as y,Mj as z,Pn as A,jt as B,er as C,tt as D,Y as E,_n as F,L as G,Ie as H,j as I,Uj as J,R as K,O as L,ct as M,fA as N,cr as O,Ee as P,De as Q,on as R,wU as S,ht as T,Ht as U,C_ as V,T_ as W,tR as X,nR as Y,Vn as Z,O_ as _,Ce as $,k_ as aa,Uie as ba,Te as ca,Ae as da,en as ea,Mi as fa,jn as ga,U as ha,WR as ia,Ln as ja,ga as ka,K as la,Ni as ma,In as na,nw as oa,zie as pa,nt as qa,Ur as ra,Bn as sa,hr as ta,Bs as ua,rw as va,$r as wa,xx as xa,iw as ya,qie as za,Gie as Aa,Wie as Ba,Kie as Ca,zt as Da,Mt as Ea,Pi as Fa,ow as Ga,op as Ha,kH as Ia,pt as Ja,$H as Ka,Ea as La,Vx as Ma,jx as Na,GH as Oa,ap as Pa,jl as Qa,Ul as Ra,Qie as Sa,Yie as Ta,Zie as Ua,ba as Va,QH as Wa,$s as Xa,YH as Ya,Xie as Za,ZH as _a,tn as $a,fr as ab,Bx as bb,Jie as cb,ese as db,tse as eb,Ca as fb,pr as gb,nse as hb,En as ib,bn as jb,Qx as kb,rse as lb,ce as mb,sM as nb,Dse as ob,cM as pb,Cse as qb,zs as rb,bw as sb,Xz as tb,jse as ub,Use as vb,DM as wb,aoe as xb,coe as yb,loe as zb,Yoe as Ab,Zoe as Bb,Xoe as Cb,Xs as Db,$ae as Eb,YI as Fb,JN as Gb,it as Hb,Eo as Ib,Ele as Jb,ble as Kb,Dle as Lb,Cle as Mb,Tle as Nb,Sle as Ob,Ale as Pb,Rle as Qb,xle as Rb,Mle as Sb,Nle as Tb,Ple as Ub,Ole as Vb,kle as Wb,Fle as Xb,Lle as Yb,Vle as Zb,jle as _b,Ule as $b,To as ac,due as bc,fue as cc,pue as dc,Qn as ec,pfe as fc,gfe as gc,mfe as hc,yfe as ic,vfe as jc,_fe as kc,wfe as lc,Ife as mc,Efe as nc,bfe as oc,Dfe as pc,pL as qc,gL as rc,Cfe as sc,ds as tc,K5 as uc,Wn as vc,Nue as wc,Pue as xc,M0 as yc,Lue as zc,Uue as Ac,w7 as Bc,Td as Cc,xc as Dc,si as Ec,Hue as Fc,Xe as Gc,Yue as Hc,Nc as Ic,kF as Jc,Pc as Kc,Rn as Lc,xd as Mc,LF as Nc,O0 as Oc,FF as Pc,Oc as Qc,kc as Rc,Fc as Sc,Nd as Tc,Lc as Uc,Bm as Vc,Pd as Wc,oi as Xc,$0 as Yc,Kn as Zc,z0 as _c,GF as $c,QF as ad,Qde as bd,Od as cd,kd as dd,yhe as ed,W0 as fd,K0 as gd,vhe as hd,Fd as id,_he as jd,tL as kd,Po as ld,J0 as md,eC as nd,gQ as od,ofe as pd,afe as qd,nL as rd,rL as sd,Gm as td,_Q as ud,IQ as vd,cfe as wd,lfe as xd,ufe as yd,dfe as zd,npe as Ad,ko as Bd,BQ as Cd,NL as Dd,iy as Ed,EL as Fd,ai as Gd,Oo as Hd,Ipe as Id,Epe as Jd,ey as Kd,pY as Ld,XL as Md,yY as Nd,_Y as Od,IY as Pd,bY as Qd,tV as Rd,Dpe as Sd,Cpe as Td,mC as Ud,Mpe as Vd};
