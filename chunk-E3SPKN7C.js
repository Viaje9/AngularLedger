var zF=Object.create;var ny=Object.defineProperty,qF=Object.defineProperties,GF=Object.getOwnPropertyDescriptor,WF=Object.getOwnPropertyDescriptors,KF=Object.getOwnPropertyNames,jd=Object.getOwnPropertySymbols,w0=Object.getPrototypeOf,ry=Object.prototype.hasOwnProperty,I0=Object.prototype.propertyIsEnumerable,QF=Reflect.get;var _0=(t,e,n)=>e in t?ny(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||={})ry.call(e,n)&&_0(t,n,e[n]);if(jd)for(var n of jd(e))I0.call(e,n)&&_0(t,n,e[n]);return t},pe=(t,e)=>qF(t,WF(e));var F5=(t,e)=>{var n={};for(var r in t)ry.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&jd)for(var r of jd(t))e.indexOf(r)<0&&I0.call(t,r)&&(n[r]=t[r]);return n};var L5=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var YF=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of KF(e))!ry.call(t,i)&&i!==n&&ny(t,i,{get:()=>e[i],enumerable:!(r=GF(e,i))||r.enumerable});return t};var V5=(t,e,n)=>(n=t!=null?zF(w0(t)):{},YF(e||!t||!t.__esModule?ny(n,"default",{value:t,enumerable:!0}):n,t));var zn=(t,e,n)=>QF(w0(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function E0(t,e){return Object.is(t,e)}var lt=null,Uc=!1,Ud=1,an=Symbol("SIGNAL");function ye(t){let e=lt;return lt=t,e}function ZF(){return Uc}var $c={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $d(t){if(Uc)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(t);let e=lt.nextProducerIndex++;if(Eo(lt),e<lt.producerNode.length&&lt.producerNode[e]!==t&&Bc(lt)){let n=lt.producerNode[e];Gd(n,lt.producerIndexOfThis[e])}lt.producerNode[e]!==t&&(lt.producerNode[e]=t,lt.producerIndexOfThis[e]=Bc(lt)?S0(t,lt,e):0),lt.producerLastReadVersion[e]=t.version}function XF(){Ud++}function b0(t){if(!(Bc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ud)){if(!t.producerMustRecompute(t)&&!qd(t)){t.dirty=!1,t.lastCleanEpoch=Ud;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ud}}function D0(t){if(t.liveConsumerNode===void 0)return;let e=Uc;Uc=!0;try{for(let n of t.liveConsumerNode)n.dirty||T0(n)}finally{Uc=e}}function C0(){return lt?.consumerAllowSignalWrites!==!1}function T0(t){t.dirty=!0,D0(t),t.consumerMarkedDirty?.(t)}function Hd(t){return t&&(t.nextProducerIndex=0),ye(t)}function zd(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Bc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Gd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function qd(t){Eo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(b0(n),r!==n.version))return!0}return!1}function ay(t){if(Eo(t),Bc(t))for(let e=0;e<t.producerNode.length;e++)Gd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function S0(t,e,n){if(A0(t),Eo(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=S0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Gd(t,e){if(A0(t),Eo(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Gd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Eo(i),i.producerIndexOfThis[r]=e}}function Bc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Eo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function A0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function R0(t){let e=Object.create(JF);e.computation=t;let n=()=>{if(b0(e),$d(e),e.value===Bd)throw e.error;return e.value};return n[an]=e,n}var iy=Symbol("UNSET"),sy=Symbol("COMPUTING"),Bd=Symbol("ERRORED"),JF=pe(P({},$c),{value:iy,dirty:!0,error:null,equal:E0,producerMustRecompute(t){return t.value===iy||t.value===sy},producerRecomputeValue(t){if(t.value===sy)throw new Error("Detected cycle in computations.");let e=t.value;t.value=sy;let n=Hd(t),r;try{r=t.computation()}catch(i){r=Bd,t.error=i}finally{zd(t,n)}if(e!==iy&&e!==Bd&&r!==Bd&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function eL(){throw new Error}var x0=eL;function M0(){x0()}function N0(t){x0=t}var tL=null;function O0(t){let e=Object.create(cy);e.value=t;let n=()=>($d(e),e.value);return n[an]=e,n}function Wd(t,e){C0()||M0(),t.equal(t.value,e)||(t.value=e,nL(t))}function P0(t,e){C0()||M0(),Wd(t,e(t.value))}var cy=pe(P({},$c),{equal:E0,value:void 0});function nL(t){t.version++,XF(),D0(t),tL?.()}function k0(t,e,n){let r=Object.create(rL);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function o(c){s(c)||(ay(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=oy)}let a=()=>{if(r.fn===null)return;if(ZF())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!qd(r))return;r.hasRun=!0;let c=Hd(r);try{r.cleanupFn(),r.cleanupFn=oy,r.fn(i)}finally{zd(r,c)}};return r.ref={notify:()=>T0(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[an]:r},r.ref}var oy=()=>{},rL=pe(P({},$c),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:oy});function X(t){return typeof t=="function"}function bo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Kd=bo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function os(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof Kd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{F0(s)}catch(o){e=e??[],o instanceof Kd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Kd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)F0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&os(n,e)}remove(e){let{_finalizers:n}=this;n&&os(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var ly=Ne.EMPTY;function Qd(t){return t instanceof Ne||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function F0(t){X(t)?t():t.unsubscribe()}var An={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Do={setTimeout(t,e,...n){let{delegate:r}=Do;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Do;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Yd(t){Do.setTimeout(()=>{let{onUnhandledError:e}=An;if(e)e(t);else throw t})}function Er(){}var L0=uy("C",void 0,void 0);function V0(t){return uy("E",void 0,t)}function j0(t){return uy("N",t,void 0)}function uy(t,e,n){return{kind:t,value:e,error:n}}var as=null;function Co(t){if(An.useDeprecatedSynchronousErrorHandling){let e=!as;if(e&&(as={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=as;if(as=null,n)throw r}}else t()}function U0(t){An.useDeprecatedSynchronousErrorHandling&&as&&(as.errorThrown=!0,as.error=t)}var cs=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Qd(e)&&e.add(this)):this.destination=oL}static create(e,n,r){return new To(e,n,r)}next(e){this.isStopped?hy(j0(e),this):this._next(e)}error(e){this.isStopped?hy(V0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hy(L0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},iL=Function.prototype.bind;function dy(t,e){return iL.call(t,e)}var fy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Zd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Zd(r)}else Zd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Zd(n)}}},To=class extends cs{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&An.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&dy(e.next,s),error:e.error&&dy(e.error,s),complete:e.complete&&dy(e.complete,s)}):i=e}this.destination=new fy(i)}};function Zd(t){An.useDeprecatedSynchronousErrorHandling?U0(t):Yd(t)}function sL(t){throw t}function hy(t,e){let{onStoppedNotification:n}=An;n&&Do.setTimeout(()=>n(t,e))}var oL={closed:!0,next:Er,error:sL,complete:Er};var So=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(t){return t}function Xd(...t){return py(t)}function py(t){return t.length===0?kt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=cL(n)?n:new To(n,r,i);return Co(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=B0(r),new r((i,s)=>{let o=new To({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[So](){return this}pipe(...n){return py(n)(this)}toPromise(n){return n=B0(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function B0(t){var e;return(e=t??An.Promise)!==null&&e!==void 0?e:Promise}function aL(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function cL(t){return t&&t instanceof cs||aL(t)&&Qd(t)}function gy(t){return X(t?.lift)}function ce(t){return e=>{if(gy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new my(t,e,n,r,i)}var my=class extends cs{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ao(){return ce((t,e)=>{let n=null;t._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ti=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,gy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Ao()(this)}};var Ro={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=Ro;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(s=>{n=void 0,t(s)});return new Ne(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=Ro;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Ro;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var $0=bo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Jd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new $0}next(n){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Co(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ly:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,os(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new Jd(e,n),t})(),Jd=class extends J{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ly}};var Ze=class extends J{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Hc={now(){return(Hc.delegate||Date).now()},delegate:void 0};var zc=class extends J{constructor(e=1/0,n=1/0,r=Hc){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var eh=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var qc={setInterval(t,e,...n){let{delegate:r}=qc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ni=class extends eh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return qc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,os(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var xo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};xo.now=Hc.now;var ri=class extends xo{constructor(e,n=xo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var cn=new ri(ni),yy=cn;var th=class extends ni{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var nh=class extends ri{};var vy=new nh(th);var rh=class extends ni{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ro.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(Ro.cancelAnimationFrame(n),e._scheduled=void 0)}};var ih=class extends ri{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var H0=new ih(rh);var Ft=new re(t=>t.complete());function sh(t){return t&&X(t.schedule)}function _y(t){return t[t.length-1]}function oh(t){return X(_y(t))?t.pop():void 0}function qn(t){return sh(_y(t))?t.pop():void 0}function z0(t,e){return typeof _y(t)=="number"?t.pop():e}function ah(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function V7(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function G0(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function q0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ls(t){return this instanceof ls?(this.v=t,this):new ls(t)}function W0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(y){return new Promise(function(E,S){s.push([g,y,E,S])>1||a(g,y)})})}function a(g,y){try{c(r[g](y))}catch(E){f(s[0][3],E)}}function c(g){g.value instanceof ls?Promise.resolve(g.value.v).then(u,d):f(s[0][2],g)}function u(g){a("next",g)}function d(g){a("throw",g)}function f(g,y){g(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function K0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof q0=="function"?q0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Mo=t=>t&&typeof t.length=="number"&&typeof t!="function";function ch(t){return X(t?.then)}function lh(t){return X(t[So])}function uh(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function dh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function lL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hh=lL();function fh(t){return X(t?.[hh])}function ph(t){return W0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ls(n.read());if(i)return yield ls(void 0);yield yield ls(r)}}finally{n.releaseLock()}})}function gh(t){return X(t?.getReader)}function xe(t){if(t instanceof re)return t;if(t!=null){if(lh(t))return uL(t);if(Mo(t))return dL(t);if(ch(t))return hL(t);if(uh(t))return Q0(t);if(fh(t))return fL(t);if(gh(t))return pL(t)}throw dh(t)}function uL(t){return new re(e=>{let n=t[So]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function dL(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function hL(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Yd)})}function fL(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Q0(t){return new re(e=>{gL(t,e).catch(n=>e.error(n))})}function pL(t){return Q0(ph(t))}function gL(t,e){var n,r,i,s;return G0(this,void 0,void 0,function*(){try{for(n=K0(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function qt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ii(t,e=0){return ce((n,r)=>{n.subscribe(oe(r,i=>qt(r,t,()=>r.next(i),e),()=>qt(r,t,()=>r.complete(),e),i=>qt(r,t,()=>r.error(i),e)))})}function si(t,e=0){return ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Y0(t,e){return xe(t).pipe(si(e),ii(e))}function Z0(t,e){return xe(t).pipe(si(e),ii(e))}function X0(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function J0(t,e){return new re(n=>{let r;return qt(n,e,()=>{r=t[hh](),qt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function mh(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{qt(n,e,()=>{let r=t[Symbol.asyncIterator]();qt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function eT(t,e){return mh(ph(t),e)}function tT(t,e){if(t!=null){if(lh(t))return Y0(t,e);if(Mo(t))return X0(t,e);if(ch(t))return Z0(t,e);if(uh(t))return mh(t,e);if(fh(t))return J0(t,e);if(gh(t))return eT(t,e)}throw dh(t)}function je(t,e){return e?tT(t,e):xe(t)}function te(...t){let e=qn(t);return je(t,e)}function No(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function yh(t){return!!t&&(t instanceof re||X(t.lift)&&X(t.subscribe))}var br=bo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function nT(t){return t instanceof Date&&!isNaN(t)}function de(t,e){return ce((n,r)=>{let i=0;n.subscribe(oe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:mL}=Array;function yL(t,e){return mL(e)?t(...e):t(e)}function Oo(t){return de(e=>yL(t,e))}var{isArray:vL}=Array,{getPrototypeOf:_L,prototype:wL,keys:IL}=Object;function vh(t){if(t.length===1){let e=t[0];if(vL(e))return{args:e,keys:null};if(EL(e)){let n=IL(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function EL(t){return t&&typeof t=="object"&&_L(t)===wL}function _h(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function us(...t){let e=qn(t),n=oh(t),{args:r,keys:i}=vh(t);if(r.length===0)return je([],e);let s=new re(bL(r,e,i?o=>_h(i,o):kt));return n?s.pipe(Oo(n)):s}function bL(t,e,n=kt){return r=>{rT(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)rT(e,()=>{let u=je(t[c],e),d=!1;u.subscribe(oe(r,f=>{s[c]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function rT(t,e,n){t?qt(n,t,e):e()}function iT(t,e,n,r,i,s,o,a){let c=[],u=0,d=0,f=!1,g=()=>{f&&!c.length&&!u&&e.complete()},y=S=>u<r?E(S):c.push(S),E=S=>{s&&e.next(S),u++;let M=!1;xe(n(S,d++)).subscribe(oe(e,V=>{i?.(V),s?y(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<r;){let V=c.shift();o?qt(e,o,()=>E(V)):E(V)}g()}catch(V){e.error(V)}}))};return t.subscribe(oe(e,y,()=>{f=!0,g()})),()=>{a?.()}}function ze(t,e,n=1/0){return X(e)?ze((r,i)=>de((s,o)=>e(r,s,i,o))(xe(t(r,i))),n):(typeof e=="number"&&(n=e),ce((r,i)=>iT(r,i,t,n)))}function oi(t=1/0){return ze(kt,t)}function sT(){return oi(1)}function Gn(...t){return sT()(je(t,qn(t)))}function ai(t){return new re(e=>{xe(t()).subscribe(e)})}function wy(...t){let e=oh(t),{args:n,keys:r}=vh(t),i=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let f=!1;xe(n[d]).subscribe(oe(s,g=>{f||(f=!0,u--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(r?_h(r,a):a),s.complete())}))}});return e?i.pipe(Oo(e)):i}var DL=["addListener","removeListener"],CL=["addEventListener","removeEventListener"],TL=["on","off"];function Gc(t,e,n,r){if(X(n)&&(r=n,n=void 0),r)return Gc(t,e,n).pipe(Oo(r));let[i,s]=RL(t)?CL.map(o=>a=>t[o](e,a,n)):SL(t)?DL.map(oT(t,e)):AL(t)?TL.map(oT(t,e)):[];if(!i&&Mo(t))return ze(o=>Gc(o,e,n))(xe(t));if(!i)throw new TypeError("Invalid event target");return new re(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function oT(t,e){return n=>r=>t[n](e,r)}function SL(t){return X(t.addListener)&&X(t.removeListener)}function AL(t){return X(t.on)&&X(t.off)}function RL(t){return X(t.addEventListener)&&X(t.removeEventListener)}function Po(t=0,e,n=yy){let r=-1;return e!=null&&(sh(e)?n=e:r=e),new re(i=>{let s=nT(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function xL(t=0,e=cn){return t<0&&(t=0),Po(t,t,e)}function Wc(...t){let e=qn(t),n=z0(t,1/0),r=t;return r.length?r.length===1?xe(r[0]):oi(n)(je(r,e)):Ft}var ML=new re(Er);function Be(t,e){return ce((n,r)=>{let i=0;n.subscribe(oe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function aT(t){return ce((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let u=i;i=null,n.next(u)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(oe(n,u=>{r=!0,i=u,s||xe(t(u)).subscribe(s=oe(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function wh(t,e=cn){return aT(()=>Po(t,e))}function ci(t){return ce((e,n)=>{let r=null,i=!1,s;r=e.subscribe(oe(n,void 0,void 0,o=>{s=xe(t(o,ci(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function cT(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(oe(o,d=>{let f=u++;c=a?t(c,d,f):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function ds(t,e){return X(e)?ze(t,e,1):ze(t,1)}function lT(t){return new re(e=>t.subscribe(e))}var NL={connector:()=>new J};function Ih(t,e=NL){let{connector:n}=e;return ce((r,i)=>{let s=n();xe(t(lT(s))).subscribe(i),i.add(r.subscribe(s))})}function Eh(t,e=cn){return ce((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+t,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}n.subscribe(oe(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function li(t){return ce((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xe(t){return t<=0?()=>Ft:ce((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function uT(){return ce((t,e)=>{t.subscribe(oe(e,Er))})}function Kc(t){return de(()=>t)}function Iy(t,e){return e?n=>Gn(e.pipe(Xe(1),uT()),n.pipe(Iy(t))):ze((n,r)=>xe(t(n,r)).pipe(Xe(1),Kc(n)))}function OL(t,e=cn){let n=Po(t,e);return Iy(()=>n)}function Qc(t,e=kt){return t=t??PL,ce((n,r)=>{let i,s=!0;n.subscribe(oe(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function PL(t,e){return t===e}function bh(t=kL){return ce((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kL(){return new br}function Yc(t){return ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Be((i,s)=>t(i,s,r)):kt,Xe(1),n?li(e):bh(()=>new br))}function ko(t){return t<=0?()=>Ft:ce((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ey(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Be((i,s)=>t(i,s,r)):kt,ko(1),n?li(e):bh(()=>new br))}function dT(t,e){let n=X(t)?t:()=>t;return X(e)?Ih(e,{connector:n}):r=>new ti(r,n)}function FL(t){return t?e=>Ih(t)(e):e=>dT(new J)(e)}function Dh(t,e){return ce(cT(t,e,arguments.length>=2,!0))}function Zc(t){return Be((e,n)=>t<=n)}function Rn(...t){let e=qn(t);return ce((n,r)=>{(e?Gn(t,n,e):Gn(t,n)).subscribe(r)})}function Zt(t,e){return ce((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(oe(r,c=>{i?.unsubscribe();let u=0,d=s++;xe(t(c,d)).subscribe(i=oe(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Kn(t){return ce((e,n)=>{xe(t).subscribe(oe(n,()=>n.complete(),Er)),!n.closed&&e.subscribe(n)})}function it(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(oe(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):kt}var tS="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Vv(e,n)),this.code=e}};function Vv(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var nS=Symbol("InputSignalNode#UNSET"),LL=pe(P({},cy),{transformFn:void 0,applyValueToInputSignal(t,e){Wd(t,e)}});function rS(t,e){let n=Object.create(LL);n.value=t,n.transformFn=e?.transform;function r(){if($d(n),n.value===nS)throw new Q(-950,!1);return n.value}return r[an]=n,r}function ll(t){return{toString:t}.toString()}var Ch="__parameters__";function VL(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function iS(t,e,n){return ll(()=>{let r=VL(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,d){let f=c.hasOwnProperty(Ch)?c[Ch]:Object.defineProperty(c,Ch,{value:[]})[Ch];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ut=globalThis;function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function jL(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function jy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var UL=Le({__forward_ref__:Le});function un(t){return t.__forward_ref__=un,t.toString=function(){return jt(this())},t}function Lt(t){return sS(t)?t():t}function sS(t){return typeof t=="function"&&t.hasOwnProperty(UL)&&t.__forward_ref__===un}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ee(t){return{providers:t.providers||[],imports:t.imports||[]}}function df(t){return hT(t,aS)||hT(t,cS)}function oS(t){return df(t)!==null}function hT(t,e){return t.hasOwnProperty(e)?t[e]:null}function BL(t){let e=t&&(t[aS]||t[cS]);return e||null}function fT(t){return t&&(t.hasOwnProperty(pT)||t.hasOwnProperty($L))?t[pT]:null}var aS=Le({\u0275prov:Le}),pT=Le({\u0275inj:Le}),cS=Le({ngInjectableDef:Le}),$L=Le({ngInjectorDef:Le}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lS(t){return t&&!!t.\u0275providers}var HL=Le({\u0275cmp:Le}),zL=Le({\u0275dir:Le}),qL=Le({\u0275pipe:Le}),GL=Le({\u0275mod:Le}),Vh=Le({\u0275fac:Le}),Xc=Le({__NG_ELEMENT_ID__:Le}),gT=Le({__NG_ENV_ID__:Le});function ul(t){return typeof t=="string"?t:t==null?"":String(t)}function WL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ul(t)}function KL(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function jv(t,e){throw new Q(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),Uy;function uS(){return Uy}function Gt(t){let e=Uy;return Uy=t,e}function dS(t,e,n){let r=df(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;jv(t,"Injector")}var QL={},Jc=QL,By="__NG_DI_FLAG__",jh="ngTempTokenPath",YL="ngTokenPath",ZL=/\n/gm,XL="\u0275",mT="__source",jo;function JL(){return jo}function ui(t){let e=jo;return jo=t,e}function eV(t,e=ve.Default){if(jo===void 0)throw new Q(-203,!1);return jo===null?dS(t,void 0,e):jo.get(t,e&ve.Optional?null:void 0,e)}function R(t,e=ve.Default){return(uS()||eV)(Lt(t),e)}function k(t,e=ve.Default){return R(t,hf(e))}function hf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function $y(t){let e=[];for(let n=0;n<t.length;n++){let r=Lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,s=ve.Default;for(let o=0;o<r.length;o++){let a=r[o],c=tV(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function hS(t,e){return t[By]=e,t.prototype[By]=e,t}function tV(t){return t[By]}function nV(t,e,n,r){let i=t[jh];throw e[mT]&&i.unshift(e[mT]),t.message=rV(`
`+t.message,i,n,r),t[YL]=i,t[jh]=null,t}function rV(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==XL?t.slice(2):t;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ZL,`
  `)}`}var Rt=hS(iS("Optional"),8);var fS=hS(iS("SkipSelf"),4);function ms(t,e){let n=t.hasOwnProperty(Vh);return n?t[Vh]:null}function iV(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function sV(t){return t.flat(Number.POSITIVE_INFINITY)}function Uv(t,e){t.forEach(n=>Array.isArray(n)?Uv(n,e):e(n))}function pS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function oV(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function aV(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Bv(t,e,n){let r=dl(t,e);return r>=0?t[r|1]=n:(r=~r,aV(t,r,e,n)),r}function by(t,e){let n=dl(t,e);if(n>=0)return t[n|1]}function dl(t,e){return cV(t,e,1)}function cV(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Bo={},Vt=[],$o=new B(""),gS=new B("",-1),mS=new B(""),Bh=class{get(e,n=Jc){if(n===Jc){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return n}},yS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yS||{}),Zn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zn||{}),Ho=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ho||{});function lV(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Hy(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];uV(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function vS(t){return t===3||t===4||t===6}function uV(t){return t.charCodeAt(0)===64}function el(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?yT(t,n,i,null,e[++r]):yT(t,n,i,null,null))}}return t}function yT(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var _S="ng-template";function dV(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lV(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if($v(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function $v(t){return t.type===4&&t.value!==_S}function hV(t,e,n){let r=t.type===4&&!n?_S:t.value;return e===r}function fV(t,e,n){let r=4,i=t.attrs,s=i!==null?mV(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!xn(r)&&!xn(c))return!1;if(o&&xn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!hV(t,c,n)||c===""&&e.length===1){if(xn(r))return!1;o=!0}}else if(r&8){if(i===null||!dV(t,i,c,n)){if(xn(r))return!1;o=!0}}else{let u=e[++a],d=pV(c,i,$v(t),n);if(d===-1){if(xn(r))return!1;o=!0;continue}if(u!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(xn(r))return!1;o=!0}}}}return xn(r)||o}function xn(t){return(t&1)===0}function pV(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return yV(e,t)}function wS(t,e,n=!1){for(let r=0;r<e.length;r++)if(fV(t,e[r],n))return!0;return!1}function gV(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function mV(t){for(let e=0;e<t.length;e++){let n=t[e];if(vS(n))return e}return t.length}function yV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function vV(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function vT(t,e){return t?":not("+e.trim()+")":e}function _V(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!xn(o)&&(e+=vT(s,i),i=""),r=o,s=s||!xn(r);n++}return i!==""&&(e+=vT(s,i)),e}function wV(t){return t.map(_V).join(",")}function IV(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!xn(i))break;i=s}r++}return{attrs:e,classes:n}}function nr(t){return ll(()=>{let e=TS(t),n=pe(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zn.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});SS(n);let r=t.dependencies;return n.directiveDefs=wT(r,!1),n.pipeDefs=wT(r,!0),n.id=DV(n),n})}function EV(t){return Dr(t)||ES(t)}function bV(t){return t!==null}function be(t){return ll(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function _T(t,e){if(t==null)return Bo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ho.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ho.None?[r,a]:r,e[s]=o):n[s]=r}return n}function De(t){return ll(()=>{let e=TS(t);return SS(e),e})}function IS(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Dr(t){return t[HL]||null}function ES(t){return t[zL]||null}function bS(t){return t[qL]||null}function DS(t){let e=Dr(t)||ES(t)||bS(t);return e!==null?e.standalone:!1}function CS(t,e){let n=t[GL]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function TS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_T(t.inputs,e),outputs:_T(t.outputs),debugInfo:null}}function SS(t){t.features?.forEach(e=>e(t))}function wT(t,e){if(!t)return null;let n=e?bS:EV;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bV)}function DV(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ar(t){return{\u0275providers:t}}function CV(...t){return{\u0275providers:AS(!0,t),\u0275fromNgModule:!0}}function AS(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Uv(e,o=>{let a=o;zy(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&RS(i,s),n}function RS(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Hv(i,s=>{e(s,r)})}}function zy(t,e,n,r){if(t=Lt(t),!t)return!1;let i=null,s=fT(t),o=!s&&Dr(t);if(!s&&!o){let c=t.ngModule;if(s=fT(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)zy(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Uv(s.imports,d=>{zy(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&RS(u,e)}if(!a){let u=ms(i)||(()=>new i);e({provide:i,useFactory:u,deps:Vt},i),e({provide:mS,useValue:i,multi:!0},i),e({provide:$o,useValue:()=>R(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;Hv(c,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Hv(t,e){for(let n of t)lS(n)&&(n=n.\u0275providers),Array.isArray(n)?Hv(n,e):e(n)}var TV=Le({provide:String,useValue:Le});function xS(t){return t!==null&&typeof t=="object"&&TV in t}function SV(t){return!!(t&&t.useExisting)}function AV(t){return!!(t&&t.useFactory)}function zo(t){return typeof t=="function"}function RV(t){return!!t.useClass}var ff=new B(""),Mh={},xV={},Dy;function pf(){return Dy===void 0&&(Dy=new Bh),Dy}var St=class{},tl=class extends St{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gy(e,o=>this.processProvider(o)),this.records.set(gS,Fo(void 0,this)),i.has("environment")&&this.records.set(St,Fo(void 0,this));let s=this.records.get(ff);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mS,Vt,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ui(this),r=Gt(void 0),i;try{return e()}finally{ui(n),Gt(r)}}get(e,n=Jc,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(gT))return e[gT](this);r=hf(r);let i,s=ui(this),o=Gt(void 0);try{if(!(r&ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=kV(e)&&df(e);u&&this.injectableDefInScope(u)?c=Fo(qy(e),Mh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ve.Self?pf():this.parent;return n=r&ve.Optional&&n===Jc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[jh]=a[jh]||[]).unshift(jt(e)),s)throw a;return nV(a,e,"R3InjectorError",this.source)}else throw a}finally{Gt(o),ui(s)}}resolveInjectorInitializers(){let e=ye(null),n=ui(this),r=Gt(void 0),i;try{let s=this.get($o,Vt,ve.Self);for(let o of s)o()}finally{ui(n),Gt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Lt(e);let n=zo(e)?e:Lt(e&&e.provide),r=NV(e);if(!zo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Fo(void 0,Mh,!0),i.factory=()=>$y(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===Mh&&(n.value=xV,n.value=n.factory()),typeof n.value=="object"&&n.value&&PV(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qy(t){let e=df(t),n=e!==null?e.factory:ms(t);if(n!==null)return n;if(t instanceof B)throw new Q(204,!1);if(t instanceof Function)return MV(t);throw new Q(204,!1)}function MV(t){if(t.length>0)throw new Q(204,!1);let n=BL(t);return n!==null?()=>n.factory(t):()=>new t}function NV(t){if(xS(t))return Fo(void 0,t.useValue);{let e=MS(t);return Fo(e,Mh)}}function MS(t,e,n){let r;if(zo(t)){let i=Lt(t);return ms(i)||qy(i)}else if(xS(t))r=()=>Lt(t.useValue);else if(AV(t))r=()=>t.useFactory(...$y(t.deps||[]));else if(SV(t))r=()=>R(Lt(t.useExisting));else{let i=Lt(t&&(t.useClass||t.provide));if(OV(t))r=()=>new i(...$y(t.deps));else return ms(i)||qy(i)}return r}function Fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function OV(t){return!!t.deps}function PV(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kV(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function Gy(t,e){for(let n of t)Array.isArray(n)?Gy(n,e):n&&lS(n)?Gy(n.\u0275providers,e):e(n)}function dn(t,e){t instanceof tl&&t.assertNotDestroyed();let n,r=ui(t),i=Gt(void 0);try{return e()}finally{ui(r),Gt(i)}}function NS(){return uS()!==void 0||JL()!=null}function zv(t){if(!NS())throw new Q(-203,!1)}function FV(t){return typeof t=="function"}var rr=0,le=1,ie=2,At=3,Nn=4,Wt=5,qo=6,nl=7,Ct=8,Go=9,Xn=10,qe=11,rl=12,IT=13,Jo=14,Xt=15,ys=16,Lo=17,Cr=18,gf=19,OS=20,di=21,Nh=22,vs=23,yt=25,qv=1;var _s=7,$h=8,Wo=9,Tt=10,Hh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Hh||{});function hi(t){return Array.isArray(t)&&typeof t[qv]=="object"}function Rr(t){return Array.isArray(t)&&t[qv]===!0}function Gv(t){return(t.flags&4)!==0}function mf(t){return t.componentOffset>-1}function yf(t){return(t.flags&1)===1}function Tr(t){return!!t.template}function Wy(t){return(t[ie]&512)!==0}var Ky=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function PS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ut(){return kS}function kS(t){return t.type.prototype.ngOnChanges&&(t.setInput=VV),LV}Ut.ngInherit=!0;function LV(){let t=LS(this),e=t?.current;if(e){let n=t.previous;if(n===Bo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function VV(t,e,n,r,i){let s=this.declaredInputs[r],o=LS(t)||jV(t,{previous:Bo,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Ky(u&&u.currentValue,n,c===Bo),PS(t,e,i,n)}var FS="__ngSimpleChanges__";function LS(t){return t[FS]||null}function jV(t,e){return t[FS]=e}var ET=null;var Qn=function(t,e,n){ET?.(t,e,n)},VS="svg",UV="math";function Jn(t){for(;Array.isArray(t);)t=t[rr];return t}function BV(t){for(;Array.isArray(t);){if(typeof t[qv]=="object")return t;t=t[rr]}return null}function jS(t,e){return Jn(e[t])}function hn(t,e){return Jn(e[t.index])}function Wv(t,e){return t.data[e]}function US(t,e){return t[e]}function mi(t,e){let n=e[t];return hi(n)?n:n[rr]}function $V(t){return(t[ie]&4)===4}function Kv(t){return(t[ie]&128)===128}function HV(t){return Rr(t[At])}function fi(t,e){return e==null?null:t[e]}function BS(t){t[Lo]=0}function zV(t){t[ie]&1024||(t[ie]|=1024,Kv(t)&&vf(t))}function qV(t,e){for(;t>0;)e=e[Jo],t--;return e}function il(t){return!!(t[ie]&9216||t[vs]?.dirty)}function Qy(t){t[Xn].changeDetectionScheduler?.notify(7),t[ie]&64&&(t[ie]|=1024),il(t)&&vf(t)}function vf(t){t[Xn].changeDetectionScheduler?.notify(0);let e=sl(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Kv(e)));)e=sl(e)}function $S(t,e){if((t[ie]&256)===256)throw new Q(911,!1);t[di]===null&&(t[di]=[]),t[di].push(e)}function GV(t,e){if(t[di]===null)return;let n=t[di].indexOf(e);n!==-1&&t[di].splice(n,1)}function sl(t){let e=t[At];return Rr(e)?e[At]:e}var ge={lFrame:XS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var HS=!1;function WV(){return ge.lFrame.elementDepthCount}function KV(){ge.lFrame.elementDepthCount++}function QV(){ge.lFrame.elementDepthCount--}function zS(){return ge.bindingsEnabled}function qS(){return ge.skipHydrationRootTNode!==null}function YV(t){return ge.skipHydrationRootTNode===t}function ZV(){ge.skipHydrationRootTNode=null}function ue(){return ge.lFrame.lView}function $e(){return ge.lFrame.tView}function Qv(t){return ge.lFrame.contextLView=t,t[Ct]}function Yv(t){return ge.lFrame.contextLView=null,t}function dt(){let t=GS();for(;t!==null&&t.type===64;)t=t.parent;return t}function GS(){return ge.lFrame.currentTNode}function XV(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ts(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function Zv(){return ge.lFrame.isParent}function Xv(){ge.lFrame.isParent=!1}function JV(){return ge.lFrame.contextLView}function WS(){return HS}function bT(t){HS=t}function KS(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ej(t){return ge.lFrame.bindingIndex=t}function yi(){return ge.lFrame.bindingIndex++}function QS(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tj(){return ge.lFrame.inI18n}function nj(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yy(e)}function rj(){return ge.lFrame.currentDirectiveIndex}function Yy(t){ge.lFrame.currentDirectiveIndex=t}function Jv(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function e_(){return ge.lFrame.currentQueryIndex}function _f(t){ge.lFrame.currentQueryIndex=t}function ij(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[Wt]:null}function YS(t,e,n){if(n&ve.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=ij(s),i===null||(s=s[Jo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ge.lFrame=ZS();return r.currentTNode=e,r.lView=t,!0}function t_(t){let e=ZS(),n=t[le];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ZS(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?XS(t):e}function XS(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function JS(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eA=JS;function n_(){let t=JS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sj(t){return(ge.lFrame.contextLView=qV(t,ge.lFrame.contextLView))[Ct]}function vi(){return ge.lFrame.selectedIndex}function ws(t){ge.lFrame.selectedIndex=t}function hl(){let t=ge.lFrame;return Wv(t.tView,t.selectedIndex)}function tA(){ge.lFrame.currentNamespace=VS}function nA(){oj()}function oj(){ge.lFrame.currentNamespace=null}function aj(){return ge.lFrame.currentNamespace}var rA=!0;function wf(){return rA}function If(t){rA=t}function cj(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=kS(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ef(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Oh(t,e,n){iA(t,e,3,n)}function Ph(t,e,n,r){(t[ie]&3)===n&&iA(t,e,n,r)}function Cy(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function iA(t,e,n,r){let i=r!==void 0?t[Lo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Lo]+=65536),(a<s||s==-1)&&(lj(t,n,e,c),t[Lo]=(t[Lo]&4294901760)+c+2),c++}function DT(t,e){Qn(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),Qn(5,t,e)}}function lj(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ie]>>14<t[Lo]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,DT(a,s)):DT(a,s)}var Uo=-1,Is=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function uj(t){return t instanceof Is}function dj(t){return(t.flags&8)!==0}function hj(t){return(t.flags&16)!==0}function sA(t){return t!==Uo}function zh(t){return t&32767}function fj(t){return t>>16}function qh(t,e){let n=fj(t),r=e;for(;n>0;)r=r[Jo],n--;return r}var Zy=!0;function Gh(t){let e=Zy;return Zy=t,e}var pj=256,oA=pj-1,aA=5,gj=0,Yn={};function mj(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xc)&&(r=n[Xc]),r==null&&(r=n[Xc]=gj++);let i=r&oA,s=1<<i;e.data[t+(i>>aA)]|=s}function Wh(t,e){let n=cA(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,Ty(r.data,t),Ty(e,null),Ty(r.blueprint,null));let i=r_(t,e),s=t.injectorIndex;if(sA(i)){let o=zh(i),a=qh(i,e),c=a[le].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Ty(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function r_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fA(i),r===null)return Uo;if(n++,i=i[Jo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Uo}function Xy(t,e,n){mj(t,e,n)}function yj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(vS(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function lA(t,e,n){if(n&ve.Optional||t!==void 0)return t;jv(e,"NodeInjector")}function uA(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[Go],s=Gt(void 0);try{return i?i.get(e,r,n&ve.Optional):dS(e,r,n&ve.Optional)}finally{Gt(s)}}return lA(r,e,n)}function dA(t,e,n,r=ve.Default,i){if(t!==null){if(e[ie]&2048&&!(r&ve.Self)){let o=Ij(t,e,n,r,Yn);if(o!==Yn)return o}let s=hA(t,e,n,r,Yn);if(s!==Yn)return s}return uA(e,n,r,i)}function hA(t,e,n,r,i){let s=_j(n);if(typeof s=="function"){if(!YS(e,t,r))return r&ve.Host?lA(i,n,r):uA(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ve.Optional))jv(n);else return o}finally{eA()}}else if(typeof s=="number"){let o=null,a=cA(t,e),c=Uo,u=r&ve.Host?e[Xt][Wt]:null;for((a===-1||r&ve.SkipSelf)&&(c=a===-1?r_(t,e):e[a+8],c===Uo||!TT(r,!1)?a=-1:(o=e[le],a=zh(c),e=qh(c,e)));a!==-1;){let d=e[le];if(CT(s,a,d.data)){let f=vj(a,e,n,o,r,u);if(f!==Yn)return f}c=e[a+8],c!==Uo&&TT(r,e[le].data[a+8]===u)&&CT(s,a,e)?(o=d,a=zh(c),e=qh(c,e)):a=-1}}return i}function vj(t,e,n,r,i,s){let o=e[le],a=o.data[t+8],c=r==null?mf(a)&&Zy:r!=o&&(a.type&3)!==0,u=i&ve.Host&&s===a,d=kh(a,o,n,c,u);return d!==null?Es(e,o,d,a):Yn}function kh(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,d=s>>20,f=r?a:a+d,g=i?a+d:u;for(let y=f;y<g;y++){let E=o[y];if(y<c&&n===E||y>=c&&E.type===n)return y}if(i){let y=o[c];if(y&&Tr(y)&&y.type===n)return c}return null}function Es(t,e,n,r){let i=t[n],s=e.data;if(uj(i)){let o=i;o.resolving&&KL(WL(s[n]));let a=Gh(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Gt(o.injectImpl):null,d=YS(t,r,ve.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&cj(n,s[n],e)}finally{u!==null&&Gt(u),Gh(a),o.resolving=!1,eA()}}return i}function _j(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xc)?t[Xc]:void 0;return typeof e=="number"?e>=0?e&oA:wj:e}function CT(t,e,n){let r=1<<t;return!!(n[e+(t>>aA)]&r)}function TT(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var gs=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dA(this._tNode,this._lView,e,hf(r),n)}};function wj(){return new gs(dt(),ue())}function Pn(t){return ll(()=>{let e=t.prototype.constructor,n=e[Vh]||Jy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Vh]||Jy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Jy(t){return sS(t)?()=>{let e=Jy(Lt(t));return e&&e()}:ms(t)}function Ij(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ie]&2048&&!(o[ie]&512);){let a=hA(s,o,n,r|ve.Self,Yn);if(a!==Yn)return a;let c=s.parent;if(!c){let u=o[OS];if(u){let d=u.get(n,Yn,r);if(d!==Yn)return d}c=fA(o),o=o[Jo]}s=c}return i}function fA(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[Wt]:null}function i_(t){return yj(dt(),t)}function ST(t,e=null,n=null,r){let i=pA(t,e,n,r);return i.resolveInjectorInitializers(),i}function pA(t,e=null,n=null,r,i=new Set){let s=[n||Vt,CV(t)];return r=r||(typeof t=="object"?void 0:jt(t)),new tl(s,e||pf(),r||null,i)}var fs=class fs{static create(e,n){if(Array.isArray(e))return ST({name:""},n,e,"");{let r=e.name??"";return ST({name:r},e.parent,e.providers,r)}}};fs.THROW_IF_NOT_FOUND=Jc,fs.NULL=new Bh,fs.\u0275prov=L({token:fs,providedIn:"any",factory:()=>R(gS)}),fs.__NG_ELEMENT_ID__=-1;var Re=fs;var Ej=new B("");Ej.__NG_ELEMENT_ID__=t=>{let e=dt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new Q(204,!1)};var bj="ngOriginalError";function Sy(t){return t[bj]}var ln=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sy(e);for(;n&&Sy(n);)n=Sy(n);return n||null}},gA=new B("",{providedIn:"root",factory:()=>k(ln).handleError.bind(void 0)}),ea=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Dj,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),ev=class extends ea{constructor(e){super(),this._lView=e}onDestroy(e){return $S(this._lView,e),()=>GV(this._lView,e)}};function Dj(){return new ev(ue())}var tv=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=k(ln,{optional:!0}),this.destroyRef=k(ea),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Q(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new Q(953,!1);if(this.listeners===null)return;let n=ye(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ye(n)}}};function s_(t){return new tv}function AT(t,e){return rS(t,e)}function Cj(t){return rS(nS,t)}var Kee=(AT.required=Cj,AT);function Tj(){return ta(dt(),ue())}function ta(t,e){return new Ce(hn(t,e))}var Ce=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Tj;let t=e;return t})();function mA(t){return t instanceof Ce?t.nativeElement:t}var nv=class extends J{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,NS()&&(this.destroyRef=k(ea,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Ay(s),i&&(i=Ay(i)),o&&(o=Ay(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(a),a}};function Ay(t){return e=>{setTimeout(t,void 0,e)}}var Se=nv;function Sj(){return this._results[Symbol.iterator]()}var Kh=class t{get changes(){return this._changes??=new Se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Sj)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=sV(e);(this._changesDetected=!iV(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function yA(t){return(t.flags&128)===128}var vA=new Map,Aj=0;function Rj(){return Aj++}function xj(t){vA.set(t[gf],t)}function Mj(t){vA.delete(t[gf])}var RT="__ngContext__";function pi(t,e){hi(e)?(t[RT]=e[gf],xj(e)):t[RT]=e}function _A(t){return IA(t[rl])}function wA(t){return IA(t[Nn])}function IA(t){for(;t!==null&&!Rr(t);)t=t[Nn];return t}var rv;function EA(t){rv=t}function bA(){if(rv!==void 0)return rv;if(typeof document<"u")return document;throw new Q(210,!1)}var fl=new B("",{providedIn:"root",factory:()=>Nj}),Nj="ng",o_=new B(""),fn=new B("",{providedIn:"platform",factory:()=>"unknown"});var _i=new B(""),pl=new B("",{providedIn:"root",factory:()=>bA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Oj="h",Pj="b";var kj=()=>null;function a_(t,e,n=!1){return kj(t,e,n)}var DA=!1,Fj=new B("",{providedIn:"root",factory:()=>DA});var Th;function Lj(){if(Th===void 0&&(Th=null,ut.trustedTypes))try{Th=ut.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Th}function bf(t){return Lj()?.createHTML(t)||t}var Sh;function CA(){if(Sh===void 0&&(Sh=null,ut.trustedTypes))try{Sh=ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Sh}function xT(t){return CA()?.createHTML(t)||t}function MT(t){return CA()?.createScriptURL(t)||t}var Qh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tS})`}};function Ss(t){return t instanceof Qh?t.changingThisBreaksApplicationSecurity:t}function Df(t,e){let n=Vj(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${tS})`)}return n===e}function Vj(t){return t instanceof Qh&&t.getTypeName()||null}function jj(t){let e=new sv(t);return Uj()?new iv(e):e}var iv=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(bf(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},sv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=bf(e),n}};function Uj(){try{return!!new window.DOMParser().parseFromString(bf(""),"text/html")}catch{return!1}}var Bj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function c_(t){return t=String(t),t.match(Bj)?t:"unsafe:"+t}function xr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function gl(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var TA=xr("area,br,col,hr,img,wbr"),SA=xr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AA=xr("rp,rt"),$j=gl(AA,SA),Hj=gl(SA,xr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zj=gl(AA,xr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),NT=gl(TA,Hj,zj,$j),RA=xr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qj=xr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gj=xr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Wj=gl(RA,qj,Gj),Kj=xr("script,style,template"),ov=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=Zj(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=Yj(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=OT(e).toLowerCase();if(!NT.hasOwnProperty(n))return this.sanitizedSomething=!0,!Kj.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!Wj.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;RA[a]&&(c=c_(c)),this.buf.push(" ",o,'="',PT(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=OT(e).toLowerCase();NT.hasOwnProperty(n)&&!TA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(PT(e))}};function Qj(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Yj(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw xA(e);return e}function Zj(t){let e=t.firstChild;if(e&&Qj(t,e))throw xA(e);return e}function OT(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function xA(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var Xj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jj=/([^\#-~ |!])/g;function PT(t){return t.replace(/&/g,"&amp;").replace(Xj,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(Jj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ah;function MA(t,e){let n=null;try{Ah=Ah||jj(t);let r=e?String(e):"";n=Ah.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Ah.getInertBodyElement(r)}while(r!==s);let a=new ov().sanitizeChildren(kT(n)||n);return bf(a)}finally{if(n){let r=kT(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function kT(t){return"content"in t&&eU(t)?t.content:null}function eU(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ml=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ml||{});function NA(t){let e=l_();return e?xT(e.sanitize(ml.HTML,t)||""):Df(t,"HTML")?xT(Ss(t)):MA(bA(),ul(t))}function tU(t){let e=l_();return e?e.sanitize(ml.URL,t)||"":Df(t,"URL")?Ss(t):c_(ul(t))}function nU(t){let e=l_();if(e)return MT(e.sanitize(ml.RESOURCE_URL,t)||"");if(Df(t,"ResourceURL"))return MT(Ss(t));throw new Q(904,!1)}function rU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?nU:tU}function OA(t,e,n){return rU(e,n)(t)}function l_(){let t=ue();return t&&t[Xn].sanitizer}var iU=/^>|^->|<!--|-->|--!>|<!-$/g,sU=/(<|>)/g,oU="\u200B$1\u200B";function aU(t){return t.replace(iU,e=>e.replace(sU,oU))}function PA(t){return t instanceof Function?t():t}function kA(t){return(t??k(Re)).get(fn)==="browser"}var Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sr||{}),cU;function u_(t,e){return cU(t,e)}function Vo(t,e,n,r,i){if(r!=null){let s,o=!1;Rr(r)?s=r:hi(r)&&(o=!0,r=r[rr]);let a=Jn(r);t===0&&n!==null?i==null?UA(e,n,a):Yh(e,n,a,i||null,!0):t===1&&n!==null?Yh(e,n,a,i||null,!0):t===2?bU(e,a,o):t===3&&e.destroyNode(a),s!=null&&CU(e,t,s,n,i)}}function lU(t,e){return t.createText(e)}function uU(t,e,n){t.setValue(e,n)}function dU(t,e){return t.createComment(aU(e))}function FA(t,e,n){return t.createElement(e,n)}function hU(t,e){LA(t,e),e[rr]=null,e[Wt]=null}function fU(t,e,n,r,i,s){r[rr]=i,r[Wt]=e,Sf(t,r,n,1,i,s)}function LA(t,e){e[Xn].changeDetectionScheduler?.notify(8),Sf(t,e,e[qe],2,null,null)}function pU(t){let e=t[rl];if(!e)return Ry(t[le],t);for(;e;){let n=null;if(hi(e))n=e[rl];else{let r=e[Tt];r&&(n=r)}if(!n){for(;e&&!e[Nn]&&e!==t;)hi(e)&&Ry(e[le],e),e=e[At];e===null&&(e=t),hi(e)&&Ry(e[le],e),n=e&&e[Nn]}e=n}}function gU(t,e,n,r){let i=Tt+r,s=n.length;r>0&&(n[i-1][Nn]=e),r<s-Tt?(e[Nn]=n[i],pS(n,Tt+r,e)):(n.push(e),e[Nn]=null),e[At]=n;let o=e[ys];o!==null&&n!==o&&VA(o,e);let a=e[Cr];a!==null&&a.insertView(t),Qy(e),e[ie]|=128}function VA(t,e){let n=t[Wo],r=e[At];if(hi(r))t[ie]|=Hh.HasTransplantedViews;else{let i=r[At][Xt];e[Xt]!==i&&(t[ie]|=Hh.HasTransplantedViews)}n===null?t[Wo]=[e]:n.push(e)}function d_(t,e){let n=t[Wo],r=n.indexOf(e);n.splice(r,1)}function ol(t,e){if(t.length<=Tt)return;let n=Tt+e,r=t[n];if(r){let i=r[ys];i!==null&&i!==t&&d_(i,r),e>0&&(t[n-1][Nn]=r[Nn]);let s=Uh(t,Tt+e);hU(r[le],r);let o=s[Cr];o!==null&&o.detachView(s[le]),r[At]=null,r[Nn]=null,r[ie]&=-129}return r}function Cf(t,e){if(!(e[ie]&256)){let n=e[qe];n.destroyNode&&Sf(t,e,n,3,null,null),pU(e)}}function Ry(t,e){if(e[ie]&256)return;let n=ye(null);try{e[ie]&=-129,e[ie]|=256,e[vs]&&ay(e[vs]),yU(t,e),mU(t,e),e[le].type===1&&e[qe].destroy();let r=e[ys];if(r!==null&&Rr(e[At])){r!==e[At]&&d_(r,e);let i=e[Cr];i!==null&&i.detachView(t)}Mj(e)}finally{ye(n)}}function mU(t,e){let n=t.cleanup,r=e[nl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[nl]=null);let i=e[di];if(i!==null){e[di]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function yU(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Is)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qn(4,a,c);try{c.call(a)}finally{Qn(5,a,c)}}else{Qn(4,i,s);try{s.call(i)}finally{Qn(5,i,s)}}}}}function jA(t,e,n){return vU(t,e.parent,n)}function vU(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[rr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zn.None||s===Zn.Emulated)return null}return hn(r,n)}}function Yh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function UA(t,e,n){t.appendChild(e,n)}function FT(t,e,n,r,i){r!==null?Yh(t,e,n,r,i):UA(t,e,n)}function _U(t,e,n,r){t.removeChild(e,n,r)}function h_(t,e){return t.parentNode(e)}function wU(t,e){return t.nextSibling(e)}function BA(t,e,n){return EU(t,e,n)}function IU(t,e,n){return t.type&40?hn(t,n):null}var EU=IU,LT;function Tf(t,e,n,r){let i=jA(t,r,e),s=e[qe],o=r.parent||e[Wt],a=BA(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)FT(s,i,n[c],a,!1);else FT(s,i,n,a,!1);LT!==void 0&&LT(s,r,e,n,i)}function Fh(t,e){if(e!==null){let n=e.type;if(n&3)return hn(e,t);if(n&4)return av(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Fh(t,r);{let i=t[e.index];return Rr(i)?av(-1,i):Jn(i)}}else{if(n&32)return u_(e,t)()||Jn(t[e.index]);{let r=$A(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=sl(t[Xt]);return Fh(i,r)}else return Fh(t,e.next)}}}return null}function $A(t,e){if(e!==null){let r=t[Xt][Wt],i=e.projection;return r.projection[i]}return null}function av(t,e){let n=Tt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return Fh(r,i)}return e[_s]}function bU(t,e,n){let r=h_(t,e);r&&_U(t,r,e,n)}function f_(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&pi(Jn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)f_(t,e,n.child,r,i,s,!1),Vo(e,t,i,a,s);else if(c&32){let u=u_(n,r),d;for(;d=u();)Vo(e,t,i,d,s);Vo(e,t,i,a,s)}else c&16?HA(t,e,r,n,i,s):Vo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Sf(t,e,n,r,i,s){f_(n,r,t.firstChild,e,i,s,!1)}function DU(t,e,n){let r=e[qe],i=jA(t,n,e),s=n.parent||e[Wt],o=BA(s,n,e);HA(r,0,e,n,i,o)}function HA(t,e,n,r,i,s){let o=n[Xt],c=o[Wt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];Vo(e,t,i,d,s)}else{let u=c,d=o[At];yA(r)&&(u.flags|=128),f_(t,e,u,d,i,s,!0)}}function CU(t,e,n,r,i){let s=n[_s],o=Jn(n);s!==o&&Vo(e,t,r,s,i);for(let a=Tt;a<n.length;a++){let c=n[a];Sf(c[le],c,t,e,r,s)}}function TU(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Sr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Sr.Important),t.setStyle(n,r,i,s))}}function SU(t,e,n){t.setAttribute(e,"style",n)}function zA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function qA(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Hy(t,e,r),i!==null&&zA(t,e,i),s!==null&&SU(t,e,s)}var ir={};function kn(t=1){GA($e(),ue(),vi()+t,!1)}function GA(t,e,n,r){if(!r)if((e[ie]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Oh(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Ph(e,s,0,n)}ws(n)}function j(t,e=ve.Default){let n=ue();if(n===null)return R(t,e);let r=dt();return dA(r,n,Lt(t),e)}function WA(){let t="invalid";throw new Error(t)}function KA(t,e,n,r,i,s){let o=ye(null);try{let a=null;i&Ho.SignalBased&&(a=e[r][an]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ho.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):PS(e,a,r,s)}finally{ye(o)}}function AU(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ws(~i);else{let s=i,o=n[++r],a=n[++r];nj(o,s);let c=e[s];a(2,c)}}}finally{ws(-1)}}function Af(t,e,n,r,i,s,o,a,c,u,d){let f=e.blueprint.slice();return f[rr]=i,f[ie]=r|4|128|8|64,(u!==null||t&&t[ie]&2048)&&(f[ie]|=2048),BS(f),f[At]=f[Jo]=t,f[Ct]=n,f[Xn]=o||t&&t[Xn],f[qe]=a||t&&t[qe],f[Go]=c||t&&t[Go]||null,f[Wt]=s,f[gf]=Rj(),f[qo]=d,f[OS]=u,f[Xt]=e.type==2?t[Xt]:f,f}function na(t,e,n,r,i){let s=t.data[e];if(s===null)s=RU(t,e,n,r,i),tj()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=XV();s.injectorIndex=o===null?-1:o.injectorIndex}return Ts(s,!0),s}function RU(t,e,n,r,i){let s=GS(),o=Zv(),a=o?s:s&&s.parent,c=t.data[e]=kU(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function QA(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function YA(t,e,n,r,i){let s=vi(),o=r&2;try{ws(-1),o&&e.length>yt&&GA(t,e,yt,!1),Qn(o?2:0,i),n(r,i)}finally{ws(s),Qn(o?3:1,i)}}function p_(t,e,n){if(Gv(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ye(r)}}}function g_(t,e,n){zS()&&(BU(t,e,n,hn(n,e)),(n.flags&64)===64&&JA(t,e,n))}function m_(t,e,n=hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function ZA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=y_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function y_(t,e,n,r,i,s,o,a,c,u,d){let f=yt+r,g=f+i,y=xU(f,g),E=typeof u=="function"?u():u;return y[le]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function xU(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ir);return n}function MU(t,e,n,r){let s=r.get(Fj,DA)||n===Zn.ShadowDom,o=t.selectRootElement(e,s);return NU(o),o}function NU(t){OU(t)}var OU=()=>null;function PU(t,e,n,r){let i=nR(e);i.push(n),t.firstCreatePass&&rR(t).push(r,i.length-1)}function kU(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return qS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function VT(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=Ho.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?jT(r,n,u,a,c):jT(r,n,u,a)}return r}function jT(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function FU(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let f=s[d],g=n?n.get(f):null,y=g?g.inputs:null,E=g?g.outputs:null;c=VT(0,f.inputs,d,c,y),u=VT(1,f.outputs,d,u,E);let S=c!==null&&o!==null&&!$v(e)?XU(c,d,o):null;a.push(S)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function LU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Rf(t,e,n,r,i,s,o,a){let c=hn(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(__(t,n,d,r,i),mf(e)&&VU(n,e.index)):e.type&3?(r=LU(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function VU(t,e){let n=mi(e,t);n[ie]&16||(n[ie]|=64)}function v_(t,e,n,r){if(zS()){let i=r===null?null:{"":-1},s=HU(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&XA(t,e,n,o,i,a),i&&zU(n,r,i)}n.mergedAttrs=el(n.mergedAttrs,n.attrs)}function XA(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Xy(Wh(n,e),t,r[u].type);GU(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=QA(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=el(n.mergedAttrs,d.hostAttrs),WU(t,n,e,c,d),qU(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}FU(t,n,s)}function jU(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;UU(o)!=a&&o.push(a),o.push(n,r,s)}}function UU(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function BU(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;mf(n)&&KU(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Wh(n,e),pi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Es(e,t,a,n);if(pi(u,e),o!==null&&ZU(e,a-i,u,c,n,o),Tr(c)){let d=mi(n.index,e);d[Ct]=Es(e,t,a,n)}}}function JA(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=rj();try{ws(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Yy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&$U(c,u)}}finally{ws(-1),Yy(o)}}function $U(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function HU(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(wS(e,o.selectors,!1))if(r||(r=[]),Tr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;cv(t,e,c)}else r.unshift(o),cv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function cv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function zU(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Q(-301,!1);r.push(e[i],s)}}}function qU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tr(e)&&(n[""]=t)}}function GU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function WU(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=ms(i.type,!0)),o=new Is(s,Tr(i),j);t.blueprint[r]=o,n[r]=o,jU(t,e,r,QA(t,n,i.hostVars,ir),i)}function KU(t,e,n){let r=hn(e,t),i=ZA(n),s=t[Xn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=xf(t,Af(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function QU(t,e,n,r,i,s){let o=hn(t,e);YU(e[qe],o,s,t.value,n,r,i)}function YU(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ul(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function ZU(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],d=o[a++],f=o[a++];KA(r,n,c,u,d,f)}}function XU(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function eR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function tR(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];_f(s),a.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function xf(t,e){return t[rl]?t[IT][Nn]=e:t[rl]=e,t[IT]=e,e}function lv(t,e,n){_f(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function nR(t){return t[nl]||(t[nl]=[])}function rR(t){return t.cleanup||(t.cleanup=[])}function iR(t,e,n){return(t===null||Tr(t))&&(n=BV(n[e.index])),n[qe]}function sR(t,e){let n=t[Go],r=n?n.get(ln,null):null;r&&r.handleError(e)}function __(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],d=t.data[o];KA(d,u,r,a,c,i)}}function JU(t,e,n){let r=jS(e,t);uU(t[qe],r,n)}function eB(t,e){let n=mi(e,t),r=n[le];tB(r,n);let i=n[rr];i!==null&&n[qo]===null&&(n[qo]=a_(i,n[Go])),w_(r,n,n[Ct])}function tB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function w_(t,e,n){t_(e);try{let r=t.viewQuery;r!==null&&lv(1,r,n);let i=t.template;i!==null&&YA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Cr]?.finishViewCreation(t),t.staticContentQueries&&tR(t,e),t.staticViewQueries&&lv(2,t.viewQuery,n);let s=t.components;s!==null&&nB(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,n_()}}function nB(t,e){for(let n=0;n<e.length;n++)eB(t,e[n])}function yl(t,e,n,r){let i=ye(null);try{let s=e.tView,a=t[ie]&4096?4096:16,c=Af(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[ys]=u;let d=t[Cr];return d!==null&&(c[Cr]=d.createEmbeddedView(s)),w_(s,c,n),c}finally{ye(i)}}function oR(t,e){let n=Tt+e;if(n<t.length)return t[n]}function Ko(t,e){return!e||e.firstChild===null||yA(t)}function vl(t,e,n,r=!0){let i=e[le];if(gU(i,e,t,n),r){let o=av(n,t),a=e[qe],c=h_(a,t[_s]);c!==null&&fU(i,t[Wt],a,e,c,o)}let s=e[qo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function aR(t,e){let n=ol(t,e);return n!==void 0&&Cf(n[le],n),n}function Zh(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Jn(s)),Rr(s)&&rB(s,r);let o=n.type;if(o&8)Zh(t,e,n.child,r);else if(o&32){let a=u_(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=$A(e,n);if(Array.isArray(a))r.push(...a);else{let c=sl(e[Xt]);Zh(c[le],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function rB(t,e){for(let n=Tt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&Zh(r[le],r,i,e)}t[_s]!==t[rr]&&e.push(t[_s])}var cR=[];function iB(t){return t[vs]??sB(t)}function sB(t){let e=cR.pop()??Object.create(aB);return e.lView=t,e}function oB(t){t.lView[vs]!==t&&(t.lView=null,cR.push(t))}var aB=pe(P({},$c),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{vf(t.lView)},consumerOnSignalRead(){this.lView[vs]=this}}),cB=100;function lR(t,e=!0,n=0){let r=t[Xn],i=r.rendererFactory,s=!1;s||i.begin?.();try{lB(t,n)}catch(o){throw e&&sR(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function lB(t,e){let n=WS();try{bT(!0),uv(t,e);let r=0;for(;il(t);){if(r===cB)throw new Q(103,!1);r++,uv(t,1)}}finally{bT(n)}}function uB(t,e,n,r){let i=e[ie];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Xn].inlineEffectRunner?.flush(),t_(e);let a=null,c=null;!s&&dB(t)&&(c=iB(e),a=Hd(c));try{BS(e),ej(t.bindingStartIndex),n!==null&&YA(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let g=t.preOrderCheckHooks;g!==null&&Oh(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Ph(e,g,0,null),Cy(e,0)}if(o||hB(e),uR(e,0),t.contentQueries!==null&&tR(t,e),!s)if(u){let g=t.contentCheckHooks;g!==null&&Oh(e,g)}else{let g=t.contentHooks;g!==null&&Ph(e,g,1),Cy(e,1)}AU(t,e);let d=t.components;d!==null&&hR(e,d,0);let f=t.viewQuery;if(f!==null&&lv(2,f,r),!s)if(u){let g=t.viewCheckHooks;g!==null&&Oh(e,g)}else{let g=t.viewHooks;g!==null&&Ph(e,g,2),Cy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Nh]){for(let g of e[Nh])g();e[Nh]=null}s||(e[ie]&=-73)}catch(u){throw s||vf(e),u}finally{c!==null&&(zd(c,a),oB(c)),n_()}}function dB(t){return t.type!==2}function uR(t,e){for(let n=_A(t);n!==null;n=wA(n))for(let r=Tt;r<n.length;r++){let i=n[r];dR(i,e)}}function hB(t){for(let e=_A(t);e!==null;e=wA(e)){if(!(e[ie]&Hh.HasTransplantedViews))continue;let n=e[Wo];for(let r=0;r<n.length;r++){let i=n[r];zV(i)}}}function fB(t,e,n){let r=mi(e,t);dR(r,n)}function dR(t,e){Kv(t)&&uv(t,e)}function uv(t,e){let r=t[le],i=t[ie],s=t[vs],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&qd(s)),o||=!1,s&&(s.dirty=!1),t[ie]&=-9217,o)uB(r,t,r.template,t[Ct]);else if(i&8192){uR(t,1);let a=r.components;a!==null&&hR(t,a,1)}}function hR(t,e,n){for(let r=0;r<e.length;r++)fB(t,e[r],n)}function I_(t,e){let n=WS()?64:1088;for(t[Xn].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=sl(t);if(Wy(t)&&!r)return t;t=r}return null}var bs=class{get rootNodes(){let e=this._lView,n=e[le];return Zh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(Rr(e)){let n=e[$h],r=n?n.indexOf(this):-1;r>-1&&(ol(e,r),Uh(n,r))}this._attachedToViewContainer=!1}Cf(this._lView[le],this._lView)}onDestroy(e){$S(this._lView,e)}markForCheck(){I_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Qy(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,lR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Wy(this._lView),n=this._lView[ys];n!==null&&!e&&d_(n,this._lView),LA(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=Wy(this._lView),r=this._lView[ys];r!==null&&!n&&VA(r,this._lView),Qy(this._lView)}},On=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mB;let t=e;return t})(),pB=On,gB=class extends pB{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=yl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new bs(i)}};function mB(){return Mf(dt(),ue())}function Mf(t,e){return t.type&4?new gB(e,t,ta(t,e)):null}var Yee=new RegExp(`^(\\d+)*(${Pj}|${Oj})*(.*)`);var yB=()=>null;function Qo(t,e){return yB(t,e)}var Yo=class{},fR=new B("",{providedIn:"root",factory:()=>!1});var pR=new B(""),dv=class{},Xh=class{};function vB(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[_B]=t,e}var _B="ngComponent";var hv=class{resolveComponentFactory(e){throw vB(e)}},F_=class F_{};F_.NULL=new hv;var er=F_,Zo=class{},sr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>wB();let t=e;return t})();function wB(){let t=ue(),e=dt(),n=mi(e.index,t);return(hi(n)?n:t)[qe]}var IB=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),xy={};var UT=new Set;function wi(t){UT.has(t)||(UT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function gR(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof ut.requestAnimationFrame=="function"&&ut.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function BT(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function $T(...t){}var K=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,DB(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,EB,$T,$T);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},EB={};function E_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bB(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{gR(()=>{t.callbackScheduled=!1,fv(t),t.isCheckStableRunning=!0,E_(t),t.isCheckStableRunning=!1})}),fv(t))}function DB(t){let e=()=>{bB(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(CB(a))return n.invokeTask(i,s,o,a);try{return HT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zT(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return HT(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!TB(a)&&e(),zT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,fv(t),E_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function fv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function HT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zT(t){t._nesting--,E_(t)}var pv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function CB(t){return mR(t,"__ignore_ng_zone__")}function TB(t){return mR(t,"__scheduler_tick__")}function mR(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var ps=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ps||{}),yR={destroy(){}};function b_(t,e){!e&&zv(b_);let n=e?.injector??k(Re);if(!kA(n))return yR;wi("NgAfterRender");let r=n.get(Nf),i=r.handler??=new ef,s=e?.phase??ps.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ea).onDestroy(o),c=dn(n,()=>new Jh(s,t));return i.register(c),{destroy:o}}function Ii(t,e){!e&&zv(Ii);let n=e?.injector??k(Re);if(!kA(n))return yR;wi("NgAfterNextRender");let r=n.get(Nf),i=r.handler??=new ef,s=e?.phase??ps.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ea).onDestroy(o),c=dn(n,()=>new Jh(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var Jh=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(K),this.errorHandler=k(ln,{optional:!0}),k(Yo,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ef=class{constructor(){this.executingCallbacks=!1,this.buckets={[ps.EarlyRead]:new Set,[ps.Write]:new Set,[ps.MixedReadWrite]:new Set,[ps.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Nf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function tf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=jy(i,a);else if(s==2){let c=a,u=e[++o];r=jy(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var nf=class extends er{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Dr(e);return new Ds(n,this.ngModule)}};function qT(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function SB(t){let e=t.toLowerCase();return e==="svg"?VS:e==="math"?UV:null}var gv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=hf(r);let i=this.injector.get(e,xy,r);return i!==xy||n===xy?i:this.parentInjector.get(e,n,r)}},Ds=class extends Xh{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=qT(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return qT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=wV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof St?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new gv(e,o):e,c=a.get(Zo,null);if(c===null)throw new Q(407,!1);let u=a.get(IB,null),d=a.get(Nf,null),f=a.get(Yo,null),g={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},y=c.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",S=r?MU(y,r,this.componentDef.encapsulation,a):FA(y,E,SB(E)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let V=null;S!==null&&(V=a_(S,a,!0));let z=y_(0,null,null,1,0,null,null,null,null,null,null),H=Af(null,z,null,M,null,null,g,y,a,null,V);t_(H);let ee,fe;try{let Y=this.componentDef,b,v=null;Y.findHostDirectiveDefs?(b=[],v=new Map,Y.findHostDirectiveDefs(Y,b,v),b.push(Y)):b=[Y];let w=AB(H,S),D=RB(w,S,Y,b,H,g,y);fe=Wv(z,yt),S&&NB(y,Y,S,r),n!==void 0&&OB(fe,this.ngContentSelectors,n),ee=MB(D,Y,b,v,H,[PB]),w_(z,H,null)}finally{n_()}return new mv(this.componentType,ee,ta(fe,H),H,fe)}finally{ye(s)}}},mv=class extends dv{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new bs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;__(s[le],s,i,e,n),this.previousInputValues.set(e,n);let o=mi(this._tNode.index,s);I_(o,1)}}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function AB(t,e){let n=t[le],r=yt;return t[r]=e,na(n,r,2,"#host",null)}function RB(t,e,n,r,i,s,o){let a=i[le];xB(r,t,e,o);let c=null;e!==null&&(c=a_(e,i[Go]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=Af(i,ZA(n),null,d,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&cv(a,t,r.length-1),xf(i,f),i[t.index]=f}function xB(t,e,n,r){for(let i of t)e.mergedAttrs=el(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(tf(e,e.mergedAttrs,!0),n!==null&&qA(r,n,e))}function MB(t,e,n,r,i,s){let o=dt(),a=i[le],c=hn(o,i);XA(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,g=Es(i,a,f,o);pi(g,i)}JA(a,i,o),c&&pi(c,i);let u=Es(i,a,o.directiveStart+o.componentOffset,o);if(t[Ct]=i[Ct]=u,s!==null)for(let d of s)d(u,e);return p_(a,o,i),u}function NB(t,e,n,r){if(r)Hy(t,n,["ng-version","18.0.1"]);else{let{attrs:i,classes:s}=IV(e.selectors[0]);i&&Hy(t,n,i),s&&s.length>0&&zA(t,n,s.join(" "))}}function OB(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function PB(){let t=dt();Ef(ue()[le],t)}var pn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kB;let t=e;return t})();function kB(){let t=dt();return _R(t,ue())}var FB=pn,vR=class extends FB{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ta(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){let e=r_(this._hostTNode,this._hostLView);if(sA(e)){let n=qh(e,this._hostLView),r=zh(e),i=n[le].data[r+8];return new gs(i,n)}else return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=GT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Qo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ko(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!FV(e),a;if(o)a=n;else{let E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let c=o?e:new Ds(Dr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let S=(o?u:this.parentInjector).get(St,null);S&&(s=S)}let d=Dr(c.componentType??{}),f=Qo(this._lContainer,d?.id??null),g=f?.firstChild??null,y=c.create(u,i,g,s);return this.insertImpl(y.hostView,a,Ko(this._hostTNode,f)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(HV(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[At],u=new vR(c,c[Wt],c[At]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return vl(o,i,s,r),e.attachToViewContainerRef(),pS(My(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=GT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ol(this._lContainer,n);r&&(Uh(My(this._lContainer),n),Cf(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=ol(this._lContainer,n);return r&&Uh(My(this._lContainer),n)!=null?new bs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function GT(t){return t[$h]}function My(t){return t[$h]||(t[$h]=[])}function _R(t,e){let n,r=e[t.index];return Rr(r)?n=r:(n=eR(r,e,null,t),e[t.index]=n,xf(e,n)),VB(n,e,t,r),new vR(n,t,e)}function LB(t,e){let n=t[qe],r=n.createComment(""),i=hn(e,t),s=h_(n,i);return Yh(n,s,r,wU(n,i),!1),r}var VB=BB,jB=()=>!1;function UB(t,e,n){return jB(t,e,n)}function BB(t,e,n,r){if(t[_s])return;let i;n.type&8?i=Jn(r):i=LB(e,n),t[_s]=i}var yv=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},vv=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)C_(e,n).matches!==null&&this.queries[n].setDirty()}},rf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=WB(e):this.predicate=e}},_v=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},wv=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,$B(n,s)),this.matchTNodeWithReadOption(e,n,kh(n,e,s,!1,!1))}else r===On?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,kh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ce||i===pn||i===On&&n.type&4)this.addMatch(n.index,-2);else{let s=kh(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function $B(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function HB(t,e){return t.type&11?ta(t,e):t.type&4?Mf(t,e):null}function zB(t,e,n,r){return n===-1?HB(e,t):n===-2?qB(t,e,r):Es(t,t[le],n,e)}function qB(t,e,n){if(n===Ce)return ta(e,t);if(n===On)return Mf(e,t);if(n===pn)return _R(e,t)}function wR(t,e,n,r){let i=e[Cr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let d=s[u];a.push(zB(e,d,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Iv(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=wR(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],d=e[-c];for(let f=Tt;f<d.length;f++){let g=d[f];g[ys]===g[At]&&Iv(g[le],g,u,r)}if(d[Wo]!==null){let f=d[Wo];for(let g=0;g<f.length;g++){let y=f[g];Iv(y[le],y,u,r)}}}}}return r}function D_(t,e){return t[Cr].queries[e].queryList}function IR(t,e,n){let r=new Kh((n&4)===4);return PU(t,e,r,r.destroy),(e[Cr]??=new vv).queries.push(new yv(r))-1}function ER(t,e,n){let r=$e();return r.firstCreatePass&&(bR(r,new rf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),IR(r,ue(),e)}function GB(t,e,n,r){let i=$e();if(i.firstCreatePass){let s=dt();bR(i,new rf(e,n,r),s.index),KB(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return IR(i,ue(),n)}function WB(t){return t.split(",").map(e=>e.trim())}function bR(t,e,n){t.queries===null&&(t.queries=new _v),t.queries.track(new wv(e,n))}function KB(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function C_(t,e){return t.queries.getByIndex(e)}function DR(t,e){let n=t[le],r=C_(n,e);return r.crossesNgTemplate?Iv(n,t,e,[]):wR(n,t,r,e)}function CR(t){return typeof t=="function"&&t[an]!==void 0}function T_(t,e){wi("NgSignals");let n=O0(t),r=n[an];return e?.equal&&(r.equal=e.equal),n.set=i=>Wd(r,i),n.update=i=>P0(r,i),n.asReadonly=QB.bind(n),n}function QB(){let t=this[an];if(t.readonlyFn===void 0){let e=()=>this();e[an]=t,t.readonlyFn=e}return t.readonlyFn}function TR(t){return CR(t)&&typeof t.set=="function"}function SR(t,e){let n,r=R0(()=>{n._dirtyCounter();let i=JB(n,t);if(e&&i===void 0)throw new Q(-951,!1);return i});return n=r[an],n._dirtyCounter=T_(0),n._flatValue=void 0,r}function YB(){return SR(!0,!1)}function ZB(){return SR(!0,!0)}function XB(t,e){let n=t[an];n._lView=ue(),n._queryIndex=e,n._queryList=D_(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function JB(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[ie]&4)return e?void 0:Vt;let i=D_(n,r),s=DR(n,r);return i.reset(s,mA),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}function WT(t,e){return YB()}function e2(t,e){return ZB()}var Xee=(WT.required=e2,WT);function t2(t){return Object.getPrototypeOf(t.prototype).constructor}function Je(t){let e=t2(t.type),n=!0,r=[t];for(;e;){let i;if(Tr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Rh(t.inputs),o.inputTransforms=Rh(t.inputTransforms),o.declaredInputs=Rh(t.declaredInputs),o.outputs=Rh(t.outputs);let a=i.hostBindings;a&&o2(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&i2(t,c),u&&s2(t,u),n2(t,i),jL(t.outputs,i.outputs),Tr(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Je&&(n=!1)}}e=Object.getPrototypeOf(e)}r2(r)}function n2(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function r2(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=el(i.hostAttrs,n=el(n,i.hostAttrs))}}function Rh(t){return t===Bo?{}:t===Vt?[]:t}function i2(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function s2(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function o2(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Mr(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var gi=class{},al=class{};var Ev=class extends gi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nf(this);let i=CS(e);this._bootstrapComponents=PA(i.bootstrap),this._r3Injector=pA(e,n,[{provide:gi,useValue:this},{provide:er,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bv=class extends al{constructor(e){super(),this.moduleType=e}create(e){return new Ev(this.moduleType,e,[])}};var sf=class extends gi{constructor(e){super(),this.componentFactoryResolver=new nf(this),this.instance=null;let n=new tl([...e.providers,{provide:gi,useValue:this},{provide:er,useValue:this.componentFactoryResolver}],e.parent||pf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Of(t,e,n=null){return new sf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ra=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function a2(t,e,n){return t[e]=n}function Fn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function c2(t){return(t.flags&32)===32}function l2(t,e,n,r,i,s,o,a,c){let u=e.consts,d=na(e,t,4,o||null,a||null);v_(e,n,d,fi(u,c)),Ef(e,d);let f=d.tView=y_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function of(t,e,n,r,i,s,o,a,c,u){let d=n+yt,f=e.firstCreatePass?l2(d,e,t,r,i,s,o,a,c):e.data[d];Ts(f,!1);let g=u2(e,t,f,n);wf()&&Tf(e,t,g,f),pi(g,t);let y=eR(g,t,g,f);return t[d]=y,xf(t,y),UB(y,f,t),yf(f)&&g_(e,t,f),c!=null&&m_(t,f,u),f}function Ln(t,e,n,r,i,s,o,a){let c=ue(),u=$e(),d=fi(u.consts,s);return of(c,u,t,e,n,r,i,d,o,a),Ln}var u2=d2;function d2(t,e,n,r){return If(!0),e[qe].createComment("")}function or(t,e,n,r){let i=ue(),s=yi();if(Fn(i,s,e)){let o=$e(),a=hl();QU(a,i,t,e,n,r)}return or}function h2(t,e,n,r){return Fn(t,yi(),n)?e+ul(n)+r:ir}function xh(t,e){return t<<17|e<<2}function Cs(t){return t>>17&32767}function f2(t){return(t&2)==2}function p2(t,e){return t&131071|e<<17}function Dv(t){return t|2}function Xo(t){return(t&131068)>>2}function Ny(t,e){return t&-131069|e<<2}function g2(t){return(t&1)===1}function Cv(t){return t|1}function m2(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Cs(o),c=Xo(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||dl(f,d)>0)&&(u=!0)}else d=n;if(i)if(c!==0){let g=Cs(t[a+1]);t[r+1]=xh(g,a),g!==0&&(t[g+1]=Ny(t[g+1],r)),t[a+1]=p2(t[a+1],r)}else t[r+1]=xh(a,0),a!==0&&(t[a+1]=Ny(t[a+1],r)),a=r;else t[r+1]=xh(c,0),a===0?a=r:t[c+1]=Ny(t[c+1],r),c=r;u&&(t[r+1]=Dv(t[r+1])),KT(t,d,r,!0),KT(t,d,r,!1),y2(e,d,t,r,s),o=xh(a,c),s?e.classBindings=o:e.styleBindings=o}function y2(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&dl(s,e)>=0&&(n[r+1]=Cv(n[r+1]))}function KT(t,e,n,r){let i=t[n+1],s=e===null,o=r?Cs(i):Xo(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];v2(c,e)&&(a=!0,t[o+1]=r?Cv(u):Dv(u)),o=r?Cs(u):Xo(u)}a&&(t[n+1]=r?Dv(i):Cv(i))}function v2(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?dl(t,e)>=0:!1}var Mn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _2(t){return t.substring(Mn.key,Mn.keyEnd)}function w2(t){return I2(t),AR(t,RR(t,0,Mn.textEnd))}function AR(t,e){let n=Mn.textEnd;return n===e?-1:(e=Mn.keyEnd=E2(t,Mn.key=e,n),RR(t,e,n))}function I2(t){Mn.key=0,Mn.keyEnd=0,Mn.value=0,Mn.valueEnd=0,Mn.textEnd=t.length}function RR(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function E2(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function As(t,e,n){let r=ue(),i=yi();if(Fn(r,i,e)){let s=$e(),o=hl();Rf(s,o,r,t,e,r[qe],n,!1)}return As}function Tv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";__(t,n,s[o],o,r)}function S_(t,e,n){return MR(t,e,n,!1),S_}function Nr(t,e){return MR(t,e,null,!0),Nr}function xR(t){D2(x2,b2,t,!0)}function b2(t,e){for(let n=w2(e);n>=0;n=AR(e,n))Bv(t,_2(e),!0)}function MR(t,e,n,r){let i=ue(),s=$e(),o=QS(2);if(s.firstUpdatePass&&OR(s,t,o,r),e!==ir&&Fn(i,o,e)){let a=s.data[vi()];PR(s,a,i,i[qe],t,i[o+1]=N2(e,n),r,o)}}function D2(t,e,n,r){let i=$e(),s=QS(2);i.firstUpdatePass&&OR(i,null,s,r);let o=ue();if(n!==ir&&Fn(o,s,n)){let a=i.data[vi()];if(kR(a,r)&&!NR(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=jy(c,n||"")),Tv(i,a,o,n,r)}else M2(i,a,o,o[qe],o[s+1],o[s+1]=R2(t,e,n),r,s)}}function NR(t,e){return e>=t.expandoStartIndex}function OR(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[vi()],o=NR(t,n);kR(s,r)&&e===null&&!o&&(e=!1),e=C2(i,s,e,r),m2(i,s,e,n,o,r)}}function C2(t,e,n,r){let i=Jv(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Oy(null,t,e,n,r),n=cl(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Oy(i,t,e,n,r),s===null){let c=T2(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Oy(null,t,e,c[1],r),c=cl(c,e.attrs,r),S2(t,e,r,c))}else s=A2(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function T2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Xo(r)!==0)return t[Cs(r)]}function S2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Cs(i)]=r}function A2(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=cl(r,o,n)}return cl(r,e.attrs,n)}function Oy(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=cl(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function cl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Bv(t,o,n?!0:e[++s]))}return t===void 0?null:t}function R2(t,e,n){if(n==null||n==="")return Vt;let r=[],i=Ss(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function x2(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Bv(t,r,n)}function M2(t,e,n,r,i,s,o,a){i===ir&&(i=Vt);let c=0,u=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,y=u<s.length?s[u+1]:void 0,E=null,S;d===f?(c+=2,u+=2,g!==y&&(E=f,S=y)):f===null||d!==null&&d<f?(c+=2,E=d):(u+=2,E=f,S=y),E!==null&&PR(t,e,n,r,E,S,o,a),d=c<i.length?i[c]:null,f=u<s.length?s[u]:null}}function PR(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=g2(u)?QT(c,e,n,i,Xo(u),o):void 0;if(!af(d)){af(s)||f2(u)&&(s=QT(c,null,n,i,a,o));let f=jS(vi(),n);TU(r,o,f,i,s)}}function QT(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,g=n[i+1];g===ir&&(g=f?Vt:void 0);let y=f?by(g,r):d===r?g:void 0;if(u&&!af(y)&&(y=by(c,r)),af(y)&&(a=y,o))return a;let E=t[i+1];i=o?Cs(E):Xo(E)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=by(c,r))}return a}function af(t){return t!==void 0}function N2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(Ss(t)))),t}function kR(t,e){return(t.flags&(e?8:16))!==0}var Sv=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Py(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function O2(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=t.at(s),d=e[s],f=Py(s,u,s,d,n);if(f!==0){f<0&&t.updateValue(s,d),s++;continue}let g=t.at(o),y=e[c],E=Py(o,g,c,y,n);if(E!==0){E<0&&t.updateValue(o,y),o--,c--;continue}let S=n(s,u),M=n(o,g),V=n(s,d);if(Object.is(V,M)){let z=n(c,y);Object.is(z,S)?(t.swap(s,o),t.updateValue(o,y),c--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(r??=new cf,i??=ZT(t,s,o,n),Av(t,r,s,V))t.updateValue(s,d),s++,o++;else if(i.has(V))r.set(S,t.detach(s)),o--;else{let z=t.create(s,e[s]);t.attach(s,z),s++,o++}}for(;s<=c;)YT(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let d=t.at(s),f=u.value,g=Py(s,d,s,f,n);if(g!==0)g<0&&t.updateValue(s,f),s++,u=c.next();else{r??=new cf,i??=ZT(t,s,o,n);let y=n(s,f);if(Av(t,r,s,y))t.updateValue(s,f),s++,o++,u=c.next();else if(!i.has(y))t.attach(s,t.create(s,f)),s++,o++,u=c.next();else{let E=n(s,d);r.set(E,t.detach(s)),o--}}}for(;!u.done;)YT(t,r,n,t.length,u.value),u=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function Av(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function YT(t,e,n,r,i){if(Av(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function ZT(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var cf=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function A_(t,e){wi("NgControlFlow");let n=ue(),r=yi(),i=n[r]!==ir?n[r]:-1,s=i!==-1?lf(n,yt+i):void 0,o=0;if(Fn(n,r,t)){let a=ye(null);try{if(s!==void 0&&aR(s,o),t!==-1){let c=yt+t,u=lf(n,c),d=Nv(n[le],c),f=Qo(u,d.tView.ssrId),g=yl(n,d,e,{dehydratedView:f});vl(u,g,o,Ko(d,f))}}finally{ye(a)}}else if(s!==void 0){let a=oR(s,o);a!==void 0&&(a[Ct]=e)}}var Rv=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Tt}};function Jee(t){return t}function ete(t,e){return e}var xv=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function tte(t,e,n,r,i,s,o,a,c,u,d,f,g){wi("NgControlFlow");let y=ue(),E=$e(),S=c!==void 0,M=ue(),V=a?o.bind(M[Xt][Ct]):o,z=new xv(S,V);M[yt+t]=z,of(y,E,t+1,e,n,r,i,fi(E.consts,s)),S&&of(y,E,t+2,c,u,d,f,fi(E.consts,g))}var Mv=class extends Sv{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Tt}at(e){return this.getLView(e)[Ct].$implicit}attach(e,n){let r=n[qo];this.needsIndexUpdate||=e!==this.length,vl(this.lContainer,n,e,Ko(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,P2(this.lContainer,e)}create(e,n){let r=Qo(this.lContainer,this.templateTNode.tView.ssrId),i=yl(this.hostLView,this.templateTNode,new Rv(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Cf(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ct].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ct].$index=e}getLView(e){return k2(this.lContainer,e)}};function nte(t){let e=ye(null),n=vi();try{let r=ue(),i=r[le],s=r[n],o=n+1,a=lf(r,o);if(s.liveCollection===void 0){let u=Nv(i,o);s.liveCollection=new Mv(a,r,u)}else s.liveCollection.reset();let c=s.liveCollection;if(O2(c,t,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let u=yi(),d=c.length===0;if(Fn(r,u,d)){let f=n+2,g=lf(r,f);if(d){let y=Nv(i,f),E=Qo(g,y.tView.ssrId),S=yl(r,y,void 0,{dehydratedView:E});vl(g,S,0,Ko(y,E))}else aR(g,0)}}}finally{ye(e)}}function lf(t,e){return t[e]}function P2(t,e){return ol(t,e)}function k2(t,e){return oR(t,e)}function Nv(t,e){return Wv(t,e)}function F2(t,e,n,r,i,s){let o=e.consts,a=fi(o,i),c=na(e,t,2,r,a);return v_(e,n,c,fi(o,s)),c.attrs!==null&&tf(c,c.attrs,!1),c.mergedAttrs!==null&&tf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Bt(t,e,n,r){let i=ue(),s=$e(),o=yt+t,a=i[qe],c=s.firstCreatePass?F2(o,s,i,e,n,r):s.data[o],u=L2(s,i,c,a,e,t);i[o]=u;let d=yf(c);return Ts(c,!0),qA(a,u,c),!c2(c)&&wf()&&Tf(s,i,u,c),WV()===0&&pi(u,i),KV(),d&&(g_(s,i,c),p_(s,c,i)),r!==null&&m_(i,c),Bt}function xt(){let t=dt();Zv()?Xv():(t=t.parent,Ts(t,!1));let e=t;YV(e)&&ZV(),QV();let n=$e();return n.firstCreatePass&&(Ef(n,t),Gv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&dj(e)&&Tv(n,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&hj(e)&&Tv(n,e,ue(),e.stylesWithoutHost,!1),xt}function Ei(t,e,n,r){return Bt(t,e,n,r),xt(),Ei}var L2=(t,e,n,r,i,s)=>(If(!0),FA(r,i,aj()));function V2(t,e,n,r,i){let s=e.consts,o=fi(s,r),a=na(e,t,8,"ng-container",o);o!==null&&tf(a,o,!0);let c=fi(s,i);return v_(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function FR(t,e,n){let r=ue(),i=$e(),s=t+yt,o=i.firstCreatePass?V2(s,i,r,e,n):i.data[s];Ts(o,!0);let a=j2(i,r,o,t);return r[s]=a,wf()&&Tf(i,r,a,o),pi(a,r),yf(o)&&(g_(i,r,o),p_(i,o,r)),n!=null&&m_(r,o),FR}function LR(){let t=dt(),e=$e();return Zv()?Xv():(t=t.parent,Ts(t,!1)),e.firstCreatePass&&(Ef(e,t),Gv(t)&&e.queries.elementEnd(t)),LR}function R_(t,e,n){return FR(t,e,n),LR(),R_}var j2=(t,e,n,r)=>(If(!0),dU(e[qe],""));function x_(){return ue()}function Pf(t,e,n){let r=ue(),i=yi();if(Fn(r,i,e)){let s=$e(),o=hl();Rf(s,o,r,t,e,r[qe],n,!0)}return Pf}function U2(t,e,n){let r=ue(),i=yi();if(Fn(r,i,e)){let s=$e(),o=hl(),a=Jv(s.data),c=iR(a,o,r);Rf(s,o,r,t,e,c,n,!0)}return U2}var hs=void 0;function B2(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var $2=["en",[["a","p"],["AM","PM"],hs],[["AM","PM"],hs,hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hs,"{1} 'at' {0}",hs],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",B2],ky={};function M_(t){let e=H2(t),n=XT(e);if(n)return n;let r=e.split("-")[0];if(n=XT(r),n)return n;if(r==="en")return $2;throw new Q(701,!1)}function XT(t){return t in ky||(ky[t]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[t]),ky[t]}var ia=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ia||{});function H2(t){return t.toLowerCase().replace(/_/g,"-")}var uf="en-US";var z2=uf;function q2(t){typeof t=="string"&&(z2=t.toLowerCase().replace(/_/g,"-"))}var G2=(t,e,n)=>{};function ht(t,e,n,r){let i=ue(),s=$e(),o=dt();return N_(s,i,i[qe],o,t,e,r),ht}function W2(t,e){let n=dt(),r=ue(),i=$e(),s=Jv(i.data),o=iR(s,n,r);return N_(i,r,o,n,t,e),W2}function K2(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[nl],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function N_(t,e,n,r,i,s,o){let a=yf(r),u=t.firstCreatePass&&rR(t),d=e[Ct],f=nR(e),g=!0;if(r.type&3||o){let S=hn(r,e),M=o?o(S):S,V=f.length,z=o?ee=>o(Jn(ee[r.index])):r.index;G2(S,i,s);let H=null;if(!o&&a&&(H=K2(t,e,i,r.index)),H!==null){let ee=H.__ngLastListenerFn__||H;ee.__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,g=!1}else{s=eS(r,e,d,s);let ee=n.listen(M,i,s);f.push(s,ee),u&&u.push(i,z,V,V+1)}}else s=eS(r,e,d,s);let y=r.outputs,E;if(g&&y!==null&&(E=y[i])){let S=E.length;if(S)for(let M=0;M<S;M+=2){let V=E[M],z=E[M+1],fe=e[V][z].subscribe(s),Y=f.length;f.push(s,fe),u&&u.push(i,r.index,Y,-(Y+1))}}}function JT(t,e,n,r){let i=ye(null);try{return Qn(6,e,n),n(r)!==!1}catch(s){return sR(t,s),!1}finally{Qn(7,e,n),ye(i)}}function eS(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?mi(t.index,e):e;I_(o,5);let a=JT(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=JT(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function sa(t=1){return sj(t)}function Q2(t,e){let n=null,r=gV(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?wS(t,s,!0):vV(r,s))return i}return n}function VR(t){let e=ue()[Xt][Wt];if(!e.projection){let n=t?t.length:1,r=e.projection=oV(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?Q2(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function jR(t,e=0,n,r,i,s){let o=ue(),a=$e(),c=r?t+1:null;c!==null&&of(o,a,c,r,i,s,null,n);let u=na(a,yt+t,16,null,n||null);u.projection===null&&(u.projection=e),Xv();let f=!o[qo]||qS();o[Xt][Wt].projection[u.projection]===null&&c!==null?Y2(o,a,c):f&&(u.flags&32)!==32&&DU(a,o,u)}function Y2(t,e,n){let r=yt+n,i=e.data[r],s=t[r],o=Qo(s,i.tView.ssrId),a=yl(t,i,void 0,{dehydratedView:o});vl(s,a,0,Ko(i,o))}function Z2(t,e,n,r){GB(t,e,n,r)}function kf(t,e,n){ER(t,e,n)}function _l(t){let e=ue(),n=$e(),r=e_();_f(r+1);let i=C_(n,r);if(t.dirty&&$V(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=DR(e,r);t.reset(s,mA),t.notifyOnChanges()}return!0}return!1}function wl(){return D_(ue(),e_())}function rte(t,e,n,r){XB(t,ER(e,n,r))}function ite(t=1){_f(e_()+t)}function X2(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function ste(t){let e=JV();return US(e,yt+t)}function oa(t,e=""){let n=ue(),r=$e(),i=t+yt,s=r.firstCreatePass?na(r,i,1,e,null):r.data[i],o=J2(r,n,s,e,t);n[i]=o,wf()&&Tf(r,n,o,s),Ts(s,!1)}var J2=(t,e,n,r,i)=>(If(!0),lU(e[qe],r));function e$(t){return Rs("",t,""),e$}function Rs(t,e,n){let r=ue(),i=h2(r,t,e,n);return i!==ir&&JU(r,vi(),i),Rs}function t$(t,e,n){TR(e)&&(e=e());let r=ue(),i=yi();if(Fn(r,i,e)){let s=$e(),o=hl();Rf(s,o,r,t,e,r[qe],n,!1)}return t$}function ote(t,e){let n=TR(t);return n&&t.set(e),n}function n$(t,e){let n=ue(),r=$e(),i=dt();return N_(r,n,n[qe],i,t,e),n$}function r$(t,e,n){let r=$e();if(r.firstCreatePass){let i=Tr(t);Ov(n,r.data,r.blueprint,i,!0),Ov(e,r.data,r.blueprint,i,!1)}}function Ov(t,e,n,r,i){if(t=Lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ov(t[s],e,n,r,i);else{let s=$e(),o=ue(),a=dt(),c=zo(t)?t:Lt(t.provide),u=MS(t),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(zo(t)||!t.multi){let y=new Is(u,i,j),E=Ly(c,e,i?d:d+g,f);E===-1?(Xy(Wh(a,o),s,c),Fy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[E]=y,o[E]=y)}else{let y=Ly(c,e,d+g,f),E=Ly(c,e,d,d+g),S=y>=0&&n[y],M=E>=0&&n[E];if(i&&!M||!i&&!S){Xy(Wh(a,o),s,c);let V=o$(i?s$:i$,n.length,i,r,u);!i&&M&&(n[E].providerFactory=V),Fy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=UR(n[i?E:y],u,!i&&r);Fy(s,t,y>-1?y:E,V)}!i&&r&&M&&n[E].componentProviders++}}}function Fy(t,e,n,r){let i=zo(e),s=RV(e);if(i||s){let c=(s?Lt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,c]):u[d+1].push(r,c)}else u.push(n,c)}}}function UR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ly(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function i$(t,e,n,r){return Pv(this.multi,[])}function s$(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Es(n,n[le],this.providerFactory.index,r);s=a.slice(0,o),Pv(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Pv(i,s);return s}function Pv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function o$(t,e,n,r,i){let s=new Is(t,n,j);return s.multi=[],s.index=e,s.componentProviders=0,UR(s,i,r&&!n),s}function Kt(t,e=[]){return n=>{n.providersResolver=(r,i)=>r$(r,i?i(t):t,e)}}var a$=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=AS(!1,r.type),s=i.length>0?Of([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(R(St))});let t=e;return t})();function ar(t){wi("NgStandalone"),t.getStandaloneInjector=e=>e.get(a$).getOrCreateStandaloneInjector(t)}function BR(t,e,n,r){return $R(ue(),KS(),t,e,n,r)}function c$(t,e){let n=t[e];return n===ir?void 0:n}function $R(t,e,n,r,i,s){let o=e+n;return Fn(t,o,i)?a2(t,o+1,s?r.call(s,i):r(i)):c$(t,o+1)}function ate(t,e){let n=$e(),r,i=t+yt;n.firstCreatePass?(r=l$(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=ms(r.type,!0)),o,a=Gt(j);try{let c=Gh(!1),u=s();return Gh(c),X2(n,ue(),i,u),u}finally{Gt(a)}}function l$(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function cte(t,e,n){let r=t+yt,i=ue(),s=US(i,r);return u$(i,r)?$R(i,KS(),e,s.transform,n,s):s.transform(n)}function u$(t,e){return t[le].data[e].pure}function lte(t,e){return Mf(t,e)}var tr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},HR=new tr("18.0.1"),aa=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var O_=new B(""),Il=new B(""),Ff=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,P_||(d$(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(R(K),R(Lf),R(Il))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Lf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return P_?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function d$(t){P_=t}var P_;function xs(t){return!!t&&typeof t.then=="function"}function zR(t){return!!t&&typeof t.subscribe=="function"}var Vf=new B(""),qR=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(Vf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(xs(o))r.push(o);else if(zR(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jf=new B("");function h$(){N0(()=>{throw new Q(600,!1)})}function f$(t){return t.isBoundToModule}var p$=10;function g$(t,e,n){try{let r=n();return xs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Or=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(gA),this.afterRenderEffectManager=k(Nf),this.zonelessEnabled=k(fR),this.externalTestViews=new Set,this.beforeRender=new J,this.afterTick=new J,this.componentTypes=[],this.components=[],this.isStable=k(ra).hasPendingTasks.pipe(de(r=>!r)),this._injector=k(St)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Xh;if(!this._injector.get(qR).done){let y=!s&&DS(r),E=!1;throw new Q(405,E)}let a;s?a=r:a=this._injector.get(er).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=f$(a)?void 0:this._injector.get(gi),u=i||a.selector,d=a.create(Re.NULL,[],u,c),f=d.location.nativeElement,g=d.injector.get(O_,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Vy(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Q(101,!1);let i=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ye(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Zo,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<p$;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:u}of this._views)m$(c,u,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>il(c))&&(o.execute(),!this.allViews.some(({_lView:c})=>il(c))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Vy(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(jf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Vy(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vy(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function m$(t,e,n,r){if(!n&&!il(t))return;lR(t,e,n&&!r?0:1)}var kv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Uf=(()=>{let e=class e{compileModuleSync(r){return new bv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=CS(r),o=PA(s.declarations).reduce((a,c)=>{let u=Dr(c);return u&&a.push(new Ds(u)),a},[]);return new kv(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var y$=(()=>{let e=class e{constructor(){this.zone=k(K),this.changeDetectionScheduler=k(Yo),this.applicationRef=k(Or)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function v$({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new K(w$()),[{provide:K,useFactory:t},{provide:$o,multi:!0,useFactory:()=>{let n=k(y$,{optional:!0});return()=>n.initialize()}},{provide:$o,multi:!0,useFactory:()=>{let n=k(I$);return()=>{n.initialize()}}},{provide:gA,useFactory:_$},e===!0?{provide:pR,useValue:!0}:[]]}function _$(){let t=k(K),e=k(ln);return n=>t.runOutsideAngular(()=>e.handleError(n))}function w$(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var I$=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=k(K),this.pendingTasks=k(ra)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var E$=(()=>{let e=class e{constructor(){this.appRef=k(Or),this.taskService=k(ra),this.ngZone=k(K),this.zonelessEnabled=k(fR),this.disableScheduling=k(pR,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pv||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?BT:gR;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&K.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function b$(){return typeof $localize<"u"&&$localize.locale||uf}var ca=new B("",{providedIn:"root",factory:()=>k(ca,ve.Optional|ve.SkipSelf)||b$()});var GR=new B("");var Lh=null;function D$(t=[],e){return Re.create({name:e,providers:[{provide:ff,useValue:"platform"},{provide:GR,useValue:new Set([()=>Lh=null])},...t]})}function C$(t=[]){if(Lh)return Lh;let e=D$(t);return Lh=e,h$(),T$(e),e}function T$(t){t.get(o_,null)?.forEach(n=>n())}function ute(){return!1}var gn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=S$;let t=e;return t})();function S$(t){return A$(dt(),ue(),(t&16)===16)}function A$(t,e,n){if(mf(t)&&!n){let r=mi(t.index,e);return new bs(r,r)}else if(t.type&47){let r=e[Xt];return new bs(r,e)}return null}var WR=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(R(Or))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function KR(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=C$(r),s=[v$({}),{provide:Yo,useExisting:E$},...n||[]],a=new sf({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(K);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(ln,null),d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:y=>{u.handleError(y)}})});let f=()=>a.destroy(),g=i.get(GR);return g.add(f),a.onDestroy(()=>{d.unsubscribe(),g.delete(f)}),g$(u,c,()=>{let y=a.get(qR);return y.runInitializers(),y.donePromise.then(()=>{let E=a.get(ca,uf);q2(E||uf);let S=a.get(Or);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function mn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function k_(t){let e=ye(null);try{return t()}finally{ye(e)}}var R$=new B("",{providedIn:"root",factory:()=>k(x$)}),x$=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new Fv});let t=e;return t})(),Fv=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=k(ra),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Lv=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=k0(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(ln,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function QR(t,e){wi("NgSignals"),!e?.injector&&zv(QR);let n=e?.injector??k(Re),r=e?.manualCleanup!==!0?n.get(ea):null,i=new Lv(n.get(R$),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(gn,null,{optional:!0});return!s||!(s._lView[ie]&8)?i.watcher.notify():(s._lView[Nh]??=[]).push(i.watcher.notify),i}function dte(t,e){let n=Dr(t),r=e.elementInjector||pf();return new Ds(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function YR(t){let e=Dr(t);if(!e)return null;let n=new Ds(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var nx=null;function cr(){return nx}function rx(t){nx??=t}var Bf=class{};var ae=new B(""),H_=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(N$),providedIn:"platform"});let t=e;return t})(),ix=new B(""),N$=(()=>{let e=class e extends H_{constructor(){super(),this._doc=k(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(r){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function z_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ZR(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pr(t){return t&&t[0]!=="?"?"?"+t:t}var Fr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(q_),providedIn:"root"});let t=e;return t})(),sx=new B(""),q_=(()=>{let e=class e extends Fr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return z_(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(H_),R(sx,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ox=(()=>{let e=class e extends Fr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=z_(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(H_),R(sx,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),lr=(()=>{let e=class e{constructor(r){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=k$(ZR(XR(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pr(i))}normalize(r){return e.stripTrailingSlash(P$(this._basePath,XR(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pr,e.joinWithSlash=z_,e.stripTrailingSlash=ZR,e.\u0275fac=function(i){return new(i||e)(R(Fr))},e.\u0275prov=L({token:e,factory:()=>O$(),providedIn:"root"});let t=e;return t})();function O$(){return new lr(R(Fr))}function P$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function XR(t){return t.replace(/\/index.html$/,"")}function k$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var ax=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(ax||{});var kr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function El(t,e){let n=M_(t),r=n[ia.NumberSymbols][e];if(typeof r>"u"){if(e===kr.CurrencyDecimal)return n[ia.NumberSymbols][kr.Decimal];if(e===kr.CurrencyGroup)return n[ia.NumberSymbols][kr.Group]}return r}function F$(t,e){return M_(t)[ia.NumberFormats][e]}var L$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,JR=22,$f=".",bl="0",V$=";",j$=",",L_="#";function U$(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=El(n,kr.Infinity);else{let u=z$(t);o&&(u=H$(u));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(s){let z=s.match(L$);if(z===null)throw new Error(`${s} is not a valid digit info`);let H=z[1],ee=z[3],fe=z[5];H!=null&&(d=V_(H)),ee!=null&&(f=V_(ee)),fe!=null?g=V_(fe):ee!=null&&f>g&&(g=f)}q$(u,f,g);let y=u.digits,E=u.integerLen,S=u.exponent,M=[];for(c=y.every(z=>!z);E<d;E++)y.unshift(0);for(;E<0;E++)y.unshift(0);E>0?M=y.splice(E,y.length):(M=y,y=[0]);let V=[];for(y.length>=e.lgSize&&V.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)V.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&V.unshift(y.join("")),a=V.join(El(n,r)),M.length&&(a+=El(n,i)+M.join("")),S&&(a+=El(n,kr.Exponential)+"+"+S)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function B$(t,e,n){let r=F$(e,ax.Decimal),i=$$(r,El(e,kr.MinusSign));return U$(t,i,e,kr.Group,kr.Decimal,n)}function $$(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(V$),i=r[0],s=r[1],o=i.indexOf($f)!==-1?i.split($f):[i.substring(0,i.lastIndexOf(bl)+1),i.substring(i.lastIndexOf(bl)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(L_));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===bl?n.minFrac=n.maxFrac=d+1:f===L_?n.maxFrac=d+1:n.posSuf+=f}let u=a.split(j$);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let d=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf(L_);n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function H$(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function z$(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf($f))>-1&&(e=e.replace($f,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===bl;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===bl;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>JR&&(r=r.splice(0,JR-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function q$(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,u=e+t.integerLen,d=r.reduceRight(function(f,g,y,E){return g=g+f,E[y]=g<10?g:g-10,c&&(E[y]===0&&y>=u?E.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}function V_(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function cx(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var j_=/\s+/,ex=[],Nte=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=ex,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(j_):ex}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(j_):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(j_).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(sr))},e.\u0275dir=De({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var lx=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new U_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){tx("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){tx("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(j(pn),j(On))},e.\u0275dir=De({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),U_=class{constructor(){this.$implicit=null,this.ngIf=null}};function tx(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${jt(e)}'.`)}var ux=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(j(pn))},e.\u0275dir=De({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ut]});let t=e;return t})();function G$(t,e){return new Q(2100,!1)}var Ote=(()=>{let e=class e{constructor(r){this._locale=r}transform(r,i,s){if(!W$(r))return null;s||=this._locale;try{let o=K$(r);return B$(o,s,i)}catch(o){throw G$(e,o.message)}}};e.\u0275fac=function(i){return new(i||e)(j(ca,16))},e.\u0275pipe=IS({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function W$(t){return!(t==null||t===""||t!==t)}function K$(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Ms=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),G_="browser",Q$="server";function W_(t){return t===G_}function K_(t){return t===Q$}var dx=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>W_(k(fn))?new B_(k(ae),window):new $_});let t=e;return t})(),B_=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Y$(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function Y$(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var $_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Hf=class{};var Z_=class extends Bf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},X_=class t extends Z_{static makeCurrent(){rx(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Z$();return n==null?null:X$(n)}resetBaseElement(){Dl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cx(document.cookie,e)}},Dl=null;function Z$(){return Dl=Dl||document.querySelector("base"),Dl?Dl.getAttribute("href"):null}function X$(t){return new URL(t,document.baseURI).pathname}var J_=class{addToWindow(e){ut.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new Q(5103,!1);return s},ut.getAllAngularTestabilities=()=>e.getAllTestabilities(),ut.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=ut.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};ut.frameworkStabilizers||(ut.frameworkStabilizers=[]),ut.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?cr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},J$=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),qf=new B(""),gx=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(qf),R(K))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Cl=class{constructor(e){this._doc=e}},Q_="ng-app-id",mx=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=K_(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Q_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Q_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Q_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(fl),R(pl,8),R(fn))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Y_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},nw=/%COMP%/g,yx="%COMP%",eH=`_nghost-${yx}`,tH=`_ngcontent-${yx}`,nH=!0,rH=new B("",{providedIn:"root",factory:()=>nH});function iH(t){return tH.replace(nw,t)}function sH(t){return eH.replace(nw,t)}function vx(t,e){return e.map(n=>n.replace(nw,t))}var hx=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=K_(c),this.defaultRenderer=new Tl(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zn.ShadowDom&&(i=pe(P({},i),{encapsulation:Zn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Gf?s.applyToHost(r):s instanceof Sl&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case Zn.Emulated:o=new Gf(u,d,i,this.appId,f,a,c,g);break;case Zn.ShadowDom:return new ew(u,d,r,i,a,c,this.nonce,g);default:o=new Sl(u,d,i,f,a,c,g);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(gx),R(mx),R(fl),R(rH),R(ae),R(fn),R(K),R(pl))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Tl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Y_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Y_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Y_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Sr.DashCase|Sr.Important)?e.style.setProperty(n,r,i&Sr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=cr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fx(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ew=class extends Tl{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=vx(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sl=class extends Tl{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?vx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Gf=class extends Sl{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=iH(u),this.hostAttr=sH(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},oH=(()=>{let e=class e extends Cl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),px=["alt","control","meta","shift"],aH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},cH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},lH=(()=>{let e=class e extends Cl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),px.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=aH[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),px.forEach(a=>{if(a!==s){let c=cH[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function Jte(t,e){return KR(P({rootComponent:t},uH(e)))}function uH(t){return{appProviders:[..._x,...t?.providers??[]],platformProviders:pH}}function dH(){X_.makeCurrent()}function hH(){return new ln}function fH(){return EA(document),document}var pH=[{provide:fn,useValue:G_},{provide:o_,useValue:dH,multi:!0},{provide:ae,useFactory:fH,deps:[]}];var gH=new B(""),mH=[{provide:Il,useClass:J_,deps:[]},{provide:O_,useClass:Ff,deps:[K,Lf,Il]},{provide:Ff,useClass:Ff,deps:[K,Lf,Il]}],_x=[{provide:ff,useValue:"root"},{provide:ln,useFactory:hH,deps:[]},{provide:qf,useClass:oH,multi:!0,deps:[ae,K,fn]},{provide:qf,useClass:lH,multi:!0,deps:[ae]},hx,mx,gx,{provide:Zo,useExisting:hx},{provide:Hf,useClass:J$,deps:[]},[]],ene=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:fl,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(R(gH,12))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[..._x,...mH],imports:[Ms,WR]});let t=e;return t})();var wx=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yH={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},tw=new B("HammerGestureConfig"),Ix=new B("HammerLoader"),vH=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(r){let i=new Hammer(r,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(let s in this.overrides)i.get(s).set(this.overrides[s]);return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),_H=(()=>{let e=class e extends Cl{constructor(r,i,s,o){super(r),this._config=i,this.console=s,this.loader=o,this._loaderPromise=null}supports(r){return!(!yH.hasOwnProperty(r.toLowerCase())&&!this.isCustomEvent(r)||!window.Hammer&&!this.loader)}addEventListener(r,i,s){let o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,c=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){c=()=>{};return}a||(c=this.addEventListener(r,i,s))}).catch(()=>{c=()=>{}})),()=>{c()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(r),c=function(u){o.runGuarded(function(){s(u)})};return a.on(i,c),()=>{a.off(i,c),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(r){return this._config.events.indexOf(r)>-1}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(tw),R(aa),R(Ix,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),tne=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[{provide:qf,useClass:_H,multi:!0,deps:[ae,tw,aa,[new Rt,Ix]]},{provide:tw,useClass:vH,deps:[]}]});let t=e;return t})();var me="primary",Hl=Symbol("RouteTitle"),aw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function pa(t){return new aw(t)}function IH(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function EH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ur(t[n],e[n]))return!1;return!0}function ur(t,e){let n=t?cw(t):void 0,r=e?cw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Nx(t[i],e[i]))return!1;return!0}function cw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Nx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Ox(t){return t.length>0?t[t.length-1]:null}function Ti(t){return yh(t)?t:xs(t)?je(Promise.resolve(t)):te(t)}var bH={exact:kx,subset:Fx},Px={exact:DH,subset:CH,ignored:()=>!0};function Ex(t,e,n){return bH[n.paths](t.root,e.root,n.matrixParams)&&Px[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function DH(t,e){return ur(t,e)}function kx(t,e,n){if(!Os(t.segments,e.segments)||!Qf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!kx(t.children[r],e.children[r],n))return!1;return!0}function CH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Nx(t[n],e[n]))}function Fx(t,e,n){return Lx(t,e,e.segments,n)}function Lx(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Os(i,n)||e.hasChildren()||!Qf(i,n,r))}else if(t.segments.length===n.length){if(!Os(t.segments,n)||!Qf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Fx(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Os(t.segments,i)||!Qf(t.segments,i,r)||!t.children[me]?!1:Lx(t.children[me],e,s,r)}}function Qf(t,e,n){return e.every((r,i)=>Px[n](t[i].parameters,r.parameters))}var bi=class{constructor(e=new Me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=pa(this.queryParams),this._queryParamMap}toString(){return AH.serialize(this)}},Me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yf(this)}},Ns=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=pa(this.parameters),this._parameterMap}toString(){return jx(this)}};function TH(t,e){return Os(t,e)&&t.every((n,r)=>ur(n.parameters,e[r].parameters))}function Os(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function SH(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var zl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new ga,providedIn:"root"});let t=e;return t})(),ga=class{parse(e){let n=new uw(e);return new bi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Al(e.root,!0)}`,r=MH(e.queryParams),i=typeof e.fragment=="string"?`#${RH(e.fragment)}`:"";return`${n}${r}${i}`}},AH=new ga;function Yf(t){return t.segments.map(e=>jx(e)).join("/")}function Al(t,e){if(!t.hasChildren())return Yf(t);if(e){let n=t.children[me]?Al(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==me&&r.push(`${i}:${Al(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=SH(t,(r,i)=>i===me?[Al(t.children[me],!1)]:[`${i}:${Al(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${Yf(t)}/${n[0]}`:`${Yf(t)}/(${n.join("//")})`}}function Vx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wf(t){return Vx(t).replace(/%3B/gi,";")}function RH(t){return encodeURI(t)}function lw(t){return Vx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zf(t){return decodeURIComponent(t)}function bx(t){return Zf(t.replace(/\+/g,"%20"))}function jx(t){return`${lw(t.path)}${xH(t.parameters)}`}function xH(t){return Object.entries(t).map(([e,n])=>`;${lw(e)}=${lw(n)}`).join("")}function MH(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Wf(n)}=${Wf(i)}`).join("&"):`${Wf(n)}=${Wf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var NH=/^[^\/()?;#]+/;function rw(t){let e=t.match(NH);return e?e[0]:""}var OH=/^[^\/()?;=#]+/;function PH(t){let e=t.match(OH);return e?e[0]:""}var kH=/^[^=?&#]+/;function FH(t){let e=t.match(kH);return e?e[0]:""}var LH=/^[^&#]+/;function VH(t){let e=t.match(LH);return e?e[0]:""}var uw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Me(e,n)),r}parseSegment(){let e=rw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Ns(Zf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=PH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=rw(this.remaining);i&&(r=i,this.capture(r))}e[Zf(n)]=Zf(r)}parseQueryParam(e){let n=FH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=VH(this.remaining);o&&(r=o,this.capture(r))}let i=bx(n),s=bx(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=rw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[me]:new Me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function Ux(t){return t.segments.length>0?new Me([],{[me]:t}):t}function Bx(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Bx(i);if(r===me&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Me(t.segments,e);return jH(n)}function jH(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Me(t.segments.concat(e.segments),e.children)}return t}function Pl(t){return t instanceof bi}function UH(t,e,n=null,r=null){let i=$x(t);return Hx(i,e,n,r)}function $x(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Me(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Ux(r);return e??i}function Hx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return iw(i,i,i,n,r);let s=BH(e);if(s.toRoot())return iw(i,i,new Me([],{}),n,r);let o=$H(s,i,t),a=o.processChildren?Ml(o.segmentGroup,o.index,s.commands):qx(o.segmentGroup,o.index,s.commands);return iw(i,o.segmentGroup,a,n,r)}function Xf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kl(t){return typeof t=="object"&&t!=null&&t.outlets}function iw(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=zx(t,e,n);let a=Ux(Bx(o));return new bi(a,s,i)}function zx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=zx(s,e,n)}),new Me(t.segments,r)}var Jf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xf(r[0]))throw new Q(4003,!1);let i=r.find(kl);if(i&&i!==Ox(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function BH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Jf(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Jf(n,e,r)}var da=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function $H(t,e,n){if(t.isAbsolute)return new da(e,!0,0);if(!n)return new da(e,!1,NaN);if(n.parent===null)return new da(n,!0,0);let r=Xf(t.commands[0])?0:1,i=n.segments.length-1+r;return HH(n,i,t.numberOfDoubleDots)}function HH(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new da(r,!1,i-s)}function zH(t){return kl(t[0])?t[0].outlets:{[me]:t}}function qx(t,e,n){if(t??=new Me([],{}),t.segments.length===0&&t.hasChildren())return Ml(t,e,n);let r=qH(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Me(t.segments.slice(0,r.pathIndex),{});return s.children[me]=new Me(t.segments.slice(r.pathIndex),t.children),Ml(s,0,i)}else return r.match&&i.length===0?new Me(t.segments,{}):r.match&&!t.hasChildren()?dw(t,e,n):r.match?Ml(t,0,i):dw(t,e,n)}function Ml(t,e,n){if(n.length===0)return new Me(t.segments,{});{let r=zH(n),i={};if(Object.keys(r).some(s=>s!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let s=Ml(t.children[me],e,n);return new Me(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=qx(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Me(t.segments,i)}}function qH(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(kl(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Cx(c,u,o))return s;r+=2}else{if(!Cx(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function dw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(kl(s)){let c=GH(s.outlets);return new Me(r,c)}if(i===0&&Xf(n[0])){let c=t.segments[e];r.push(new Ns(c.path,Dx(n[0]))),i++;continue}let o=kl(s)?s.outlets[me]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Xf(a)?(r.push(new Ns(o,Dx(a))),i+=2):(r.push(new Ns(o,{})),i++)}return new Me(r,{})}function GH(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=dw(new Me([],{}),0,r))}),e}function Dx(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Cx(t,e,n){return t==n.path&&ur(e,n.parameters)}var Nl="imperative",ft=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ft||{}),yn=class{constructor(e,n){this.id=e,this.url=n}},ma=class extends yn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dr=class extends yn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(en||{}),ep=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ep||{}),Lr=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Di=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ft.NavigationSkipped}},Fl=class extends yn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tp=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hw=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fw=class extends yn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},pw=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gw=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mw=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yw=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vw=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_w=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ww=class{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Iw=class{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},np=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ll=class{},ya=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Ew=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new ql(this.injector),this.attachRef=null}},ql=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ew(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(R(St))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=bw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=bw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Dw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dw(e,this._root).map(n=>n.value)}};function bw(t,e){if(t===e.value)return e;for(let n of e.children){let r=bw(t,n);if(r)return r}return null}function Dw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Dw(t,n);if(r.length)return r.unshift(e),r}return[]}var Jt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ua(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ip=class extends rp{constructor(e,n){super(e),this.snapshot=n,Ow(this,e)}toString(){return this.snapshot.toString()}};function Gx(t){let e=WH(t),n=new Ze([new Ns("",{})]),r=new Ze({}),i=new Ze({}),s=new Ze({}),o=new Ze(""),a=new Ci(n,r,s,o,i,me,t,e.root);return a.snapshot=e.root,new ip(new Jt(a,[]),e)}function WH(t){let e={},n={},r={},i="",s=new ha([],e,r,i,n,me,t,null,{});return new op("",new Jt(s,[]))}var Ci=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(u=>u[Hl]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>pa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>pa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sp(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),i?.data),t._resolvedData)}:r={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},i&&Kx(i)&&(r.resolve[Hl]=i.title),r}var ha=class{get title(){return this.data?.[Hl]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},op=class extends rp{constructor(e,n){super(n),this.url=e,Ow(this,n)}toString(){return Wx(this._root)}};function Ow(t,e){e.value._routerState=t,e.children.forEach(n=>Ow(t,n))}function Wx(t){let e=t.children.length>0?` { ${t.children.map(Wx).join(", ")} } `:"";return`${t.value}${e}`}function sw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ur(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ur(e.params,n.params)||t.paramsSubject.next(n.params),EH(e.url,n.url)||t.urlSubject.next(n.url),ur(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Cw(t,e){let n=ur(t.params,e.params)&&TH(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Cw(t.parent,e.parent))}function Kx(t){return typeof t.title=="string"||t.title===null}var KH=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=k(ql),this.location=k(pn),this.changeDetector=k(gn),this.inputBinder=k(up,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Tw(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=De({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ut]});let t=e;return t})(),Tw=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ci?this.route:e===ql?this.childContexts:this.parent.get(e,n)}},up=new B(""),Tx=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=us([i.queryParams,i.params,i.data]).pipe(Zt(([o,a,c],u)=>(c=P(P(P({},o),a),c),u===0?te(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=YR(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function QH(t,e,n){let r=Vl(t,e._root,n?n._root:void 0);return new ip(r,e)}function Vl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=YH(t,e,n);return new Jt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Vl(t,a)),o}}let r=ZH(e.value),i=e.children.map(s=>Vl(t,s));return new Jt(r,i)}}function YH(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Vl(t,r,i);return Vl(t,r)})}function ZH(t){return new Ci(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var jl=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Qx="ngNavigationCancelingError";function ap(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Pl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Yx(!1,en.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Yx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Qx]=!0,n.cancellationCode=e,n}function XH(t){return Zx(t)&&Pl(t.url)}function Zx(t){return!!t&&t[Qx]}var JH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nr({type:e,selectors:[["ng-component"]],standalone:!0,features:[ar],decls:1,vars:0,template:function(i,s){i&1&&Ei(0,"router-outlet")},dependencies:[KH],encapsulation:2});let t=e;return t})();function ez(t,e){return t.providers&&!t._injector&&(t._injector=Of(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Pw(t){let e=t.children&&t.children.map(Pw),n=e?pe(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=JH),n}function Vn(t){return t.outlet||me}function tz(t,e){let n=t.filter(r=>Vn(r)===e);return n.push(...t.filter(r=>Vn(r)!==e)),n}function Gl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var nz=(t,e,n,r)=>de(i=>(new Sw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Sw=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),sw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ua(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ua(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=ua(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ua(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Iw(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _w(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(sw(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Gl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},cp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fa=class{constructor(e,n){this.component=e,this.route=n}};function rz(t,e,n){let r=t._root,i=e?e._root:null;return Rl(r,i,n,[r.value])}function iz(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function _a(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!oS(t)?t:e.get(t):r}function Rl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=ua(e);return t.children.forEach(o=>{sz(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ol(a,n.getContext(o),i)),i}function sz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=oz(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new cp(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Rl(t,e,a?a.children:null,r,i):Rl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fa(a.outlet.component,o))}else o&&Ol(e,a,i),i.canActivateChecks.push(new cp(r)),s.component?Rl(t,null,a?a.children:null,r,i):Rl(t,null,n,r,i);return i}function oz(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Os(t.url,e.url)||!ur(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cw(t,e)||!ur(t.queryParams,e.queryParams);case"paramsChange":default:return!Cw(t,e)}}function Ol(t,e,n){let r=ua(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ol(o,e.children.getContext(s),n):Ol(o,null,n):Ol(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new fa(e.outlet.component,i)):n.canDeactivateChecks.push(new fa(null,i)):n.canDeactivateChecks.push(new fa(null,i))}function Wl(t){return typeof t=="function"}function az(t){return typeof t=="boolean"}function cz(t){return t&&Wl(t.canLoad)}function lz(t){return t&&Wl(t.canActivate)}function uz(t){return t&&Wl(t.canActivateChild)}function dz(t){return t&&Wl(t.canDeactivate)}function hz(t){return t&&Wl(t.canMatch)}function Xx(t){return t instanceof br||t?.name==="EmptyError"}var Kf=Symbol("INITIAL_VALUE");function va(){return Zt(t=>us(t.map(e=>e.pipe(Xe(1),Rn(Kf)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===Kf)return Kf;if(n===!1||fz(n))return n}return!0}),Be(e=>e!==Kf),Xe(1)))}function fz(t){return Pl(t)||t instanceof jl}function pz(t,e){return ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?te(pe(P({},n),{guardsResult:!0})):gz(o,r,i,t).pipe(ze(a=>a&&az(a)?mz(r,s,t,e):te(a)),de(a=>pe(P({},n),{guardsResult:a})))})}function gz(t,e,n,r){return je(t).pipe(ze(i=>Iz(i.component,i.route,n,e,r)),Wn(i=>i!==!0,!0))}function mz(t,e,n,r){return je(e).pipe(ds(i=>Gn(vz(i.route.parent,r),yz(i.route,r),wz(t,i.path,n),_z(t,i.route,n))),Wn(i=>i!==!0,!0))}function yz(t,e){return t!==null&&e&&e(new ww(t)),te(!0)}function vz(t,e){return t!==null&&e&&e(new vw(t)),te(!0)}function _z(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(s=>ai(()=>{let o=Gl(e)??n,a=_a(s,o),c=lz(a)?a.canActivate(e,t):dn(o,()=>a(e,t));return Ti(c).pipe(Wn())}));return te(i).pipe(va())}function wz(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>iz(o)).filter(o=>o!==null).map(o=>ai(()=>{let a=o.guards.map(c=>{let u=Gl(o.node)??n,d=_a(c,u),f=uz(d)?d.canActivateChild(r,t):dn(u,()=>d(r,t));return Ti(f).pipe(Wn())});return te(a).pipe(va())}));return te(s).pipe(va())}function Iz(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return te(!0);let o=s.map(a=>{let c=Gl(e)??i,u=_a(a,c),d=dz(u)?u.canDeactivate(t,e,n,r):dn(c,()=>u(t,e,n,r));return Ti(d).pipe(Wn())});return te(o).pipe(va())}function Ez(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let s=i.map(o=>{let a=_a(o,t),c=cz(a)?a.canLoad(e,n):dn(t,()=>a(e,n));return Ti(c)});return te(s).pipe(va(),Jx(r))}function Jx(t){return Xd(it(e=>{if(typeof e!="boolean")throw ap(t,e)}),de(e=>e===!0))}function bz(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let s=i.map(o=>{let a=_a(o,t),c=hz(a)?a.canMatch(e,n):dn(t,()=>a(e,n));return Ti(c)});return te(s).pipe(va(),Jx(r))}var Ul=class{constructor(e){this.segmentGroup=e||null}},Bl=class extends Error{constructor(e){super(),this.urlTree=e}};function la(t){return No(new Ul(t))}function Dz(t){return No(new Q(4e3,!1))}function Cz(t){return No(Yx(!1,en.GuardRejected))}var Aw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[me])return Dz(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:g,params:y,data:E,title:S}=i,M=dn(s,()=>a({params:y,data:E,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:g,title:S}));if(M instanceof bi)throw new Bl(M);n=M}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Bl(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new bi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Rw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tz(t,e,n,r,i){let s=kw(t,e,n);return s.matched?(r=ez(e,r),bz(r,e,n,i).pipe(de(o=>o===!0?s:P({},Rw)))):te(s)}function kw(t,e,n){if(e.path==="**")return Sz(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},Rw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||IH)(n,t,e);if(!i)return P({},Rw);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?P(P({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Sz(t){return{matched:!0,parameters:t.length>0?Ox(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Sx(t,e,n,r){return n.length>0&&xz(t,n,r)?{segmentGroup:new Me(e,Rz(r,new Me(n,t.children))),slicedSegments:[]}:n.length===0&&Mz(t,n,r)?{segmentGroup:new Me(t.segments,Az(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Me(t.segments,t.children),slicedSegments:n}}function Az(t,e,n,r){let i={};for(let s of n)if(dp(t,e,s)&&!r[Vn(s)]){let o=new Me([],{});i[Vn(s)]=o}return P(P({},r),i)}function Rz(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&Vn(r)!==me){let i=new Me([],{});n[Vn(r)]=i}return n}function xz(t,e,n){return n.some(r=>dp(t,e,r)&&Vn(r)!==me)}function Mz(t,e,n){return n.some(r=>dp(t,e,r))}function dp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Nz(t,e,n,r){return Vn(t)!==r&&(r===me||!dp(e,n,t))?!1:kw(e,t,n).matched}function Oz(t,e,n){return e.length===0&&!t.children[n]}var xw=class{};function Pz(t,e,n,r,i,s,o="emptyOnly"){return new Mw(t,e,n,r,i,o,s).recognize()}var kz=31,Mw=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Aw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=Sx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:n,rootSnapshot:r})=>{let i=new Jt(r,n),s=new op("",i),o=UH(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ha([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(de(r=>({children:r,rootSnapshot:n})),ci(r=>{if(r instanceof Bl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ul?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(de(o=>o instanceof Jt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return je(s).pipe(ds(o=>{let a=r.children[o],c=tz(n,o);return this.processSegmentGroup(e,c,a,o,i)}),Dh((o,a)=>(o.push(...a),o)),li(null),Ey(),ze(o=>{if(o===null)return la(r);let a=eM(o);return Fz(a),te(a)}))}processSegment(e,n,r,i,s,o,a){return je(n).pipe(ds(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(ci(u=>{if(u instanceof Ul)return te(null);throw u}))),Wn(c=>!!c),ci(c=>{if(Xx(c))return Oz(r,i,s)?te(new xw):la(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return Nz(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):la(i):la(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=kw(n,i,s);if(!c)return la(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>kz&&(this.allowRedirects=!1));let y=new ha(s,u,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Ax(i),Vn(i),i.component??i._loadedComponent??null,i,Rx(i)),E=sp(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let S=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,y,e);return this.applyRedirects.lineralizeSegments(i,S).pipe(ze(M=>this.processSegment(e,r,n,M.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=Tz(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Zt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Zt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:y}=c,E=new ha(g,f,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Ax(r),Vn(r),r.component??r._loadedComponent??null,r,Rx(r)),S=sp(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data);let{segmentGroup:M,slicedSegments:V}=Sx(n,g,y,u);if(V.length===0&&M.hasChildren())return this.processChildren(d,u,M,E).pipe(de(H=>new Jt(E,H)));if(u.length===0&&V.length===0)return te(new Jt(E,[]));let z=Vn(r)===s;return this.processSegment(d,u,M,V,z?me:s,!0,E).pipe(de(H=>new Jt(E,H instanceof Jt?[H]:[])))}))):la(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):Ez(e,n,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,n).pipe(it(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Cz(n))):te({routes:[],injector:e})}};function Fz(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function Lz(t){let e=t.value.routeConfig;return e&&e.path===""}function eM(t){let e=[],n=new Set;for(let r of t){if(!Lz(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=eM(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!n.has(r))}function Ax(t){return t.data||{}}function Rx(t){return t.resolve||{}}function Vz(t,e,n,r,i,s){return ze(o=>Pz(t,e,n,r,o.extractedUrl,i,s).pipe(de(({state:a,tree:c})=>pe(P({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function jz(t,e){return ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of tM(c))o.add(u);let a=0;return je(o).pipe(ds(c=>s.has(c)?Uz(c,r,t,e):(c.data=sp(c,c.parent,t).resolve,te(void 0))),it(()=>a++),ko(1),ze(c=>a===o.size?te(n):Ft))})}function tM(t){let e=t.children.map(n=>tM(n)).flat();return[t,...e]}function Uz(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Kx(i)&&(s[Hl]=i.title),Bz(s,t,e,r).pipe(de(o=>(t._resolvedData=o,t.data=sp(t,t.parent,n).resolve,null)))}function Bz(t,e,n,r){let i=cw(t);if(i.length===0)return te({});let s={};return je(i).pipe(ze(o=>$z(t[o],e,n,r).pipe(Wn(),it(a=>{if(a instanceof jl)throw ap(new ga,a);s[o]=a}))),ko(1),Kc(s),ci(o=>Xx(o)?Ft:No(o)))}function $z(t,e,n,r){let i=Gl(e)??r,s=_a(t,i),o=s.resolve?s.resolve(e,n):dn(i,()=>s(e,n));return Ti(o)}function ow(t){return Zt(e=>{let n=t(e);return n?je(n).pipe(de(()=>e)):te(e)})}var nM=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[Hl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(Hz),providedIn:"root"});let t=e;return t})(),Hz=(()=>{let e=class e extends nM{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(wx))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kl=new B("",{providedIn:"root",factory:()=>({})}),$l=new B(""),Fw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Uf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ti(r.loadComponent()).pipe(de(rM),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Yc(()=>{this.componentLoaders.delete(r)})),s=new ti(i,()=>new J).pipe(Ao());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=zz(i,this.compiler,r,this.onLoadEndListener).pipe(Yc(()=>{this.childrenLoaders.delete(i)})),a=new ti(o,()=>new J).pipe(Ao());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zz(t,e,n,r){return Ti(t.loadChildren()).pipe(de(rM),ze(i=>i instanceof al||Array.isArray(i)?te(i):je(e.compileModuleAsync(i))),de(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get($l,[],{optional:!0,self:!0}).flat()),{routes:o.map(Pw),injector:s}}))}function qz(t){return t&&typeof t=="object"&&"default"in t}function rM(t){return qz(t)?t.default:t}var Lw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(Gz),providedIn:"root"});let t=e;return t})(),Gz=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iM=new B(""),sM=new B("");function Wz(t,e,n){let r=t.get(sM),i=t.get(ae);return t.get(K).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),Kz(t))),{onViewTransitionCreated:c}=r;return c&&dn(t,()=>c({transition:a,from:e,to:n})),o})}function Kz(t){return new Promise(e=>{Ii(e,{injector:t})})}var Qz=new B(""),Vw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new J,this.transitionAbortSubject=new J,this.configLoader=k(Fw),this.environmentInjector=k(St),this.urlSerializer=k(zl),this.rootContexts=k(ql),this.location=k(lr),this.inputBindingEnabled=k(up,{optional:!0})!==null,this.titleStrategy=k(nM),this.options=k(Kl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Lw),this.createViewTransition=k(iM,{optional:!0}),this.navigationErrorHandler=k(Qz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let r=s=>this.events.next(new mw(s)),i=s=>this.events.next(new yw(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(pe(P(P({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ze({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Nl,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Be(o=>o.id!==0),de(o=>pe(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Zt(o=>{let a=!1,c=!1;return te(o).pipe(Zt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),Ft;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?pe(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new Di(u.id,this.urlSerializer.serialize(u.rawUrl),g,ep.IgnoredSameUrlNavigation)),u.resolve(!1),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return te(u).pipe(Zt(g=>{let y=this.transitions?.getValue();return this.events.next(new ma(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?Ft:Promise.resolve(g)}),Vz(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),it(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=pe(P({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let y=new tp(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:y,source:E,restoredState:S,extras:M}=u,V=new ma(g,this.urlSerializer.serialize(y),E,S);this.events.next(V);let z=Gx(this.rootComponentType).snapshot;return this.currentTransition=o=pe(P({},u),{targetSnapshot:z,urlAfterRedirects:y,extras:pe(P({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,te(o)}else{let g="";return this.events.next(new Di(u.id,this.urlSerializer.serialize(u.extractedUrl),g,ep.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ft}}),it(u=>{let d=new hw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),de(u=>(this.currentTransition=o=pe(P({},u),{guards:rz(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),pz(this.environmentInjector,u=>this.events.next(u)),it(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ap(this.urlSerializer,u.guardsResult);let d=new fw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Be(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",en.GuardRejected),!1)),ow(u=>{if(u.guards.canActivateChecks.length)return te(u).pipe(it(d=>{let f=new pw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Zt(d=>{let f=!1;return te(d).pipe(jz(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",en.NoDataFromResolver)}}))}),it(d=>{let f=new gw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),ow(u=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(it(y=>{f.component=y}),de(()=>{})));for(let y of f.children)g.push(...d(y));return g};return us(d(u.targetSnapshot.root)).pipe(li(null),Xe(1))}),ow(()=>this.afterPreactivation()),Zt(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?je(f).pipe(de(()=>o)):te(o)}),de(u=>{let d=QH(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=pe(P({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),it(()=>{this.events.next(new Ll)}),nz(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Xe(1),it({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Kn(this.transitionAbortSubject.pipe(it(u=>{throw u}))),Yc(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ci(u=>{if(c=!0,Zx(u))this.events.next(new Lr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),XH(u)?this.events.next(new ya(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Fl(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof jl){let{message:g,cancellationCode:y}=ap(this.urlSerializer,f);this.events.next(new Lr(o.id,this.urlSerializer.serialize(o.extractedUrl),g,y)),this.events.next(new ya(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=r.errorHandler(u);o.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Ft}))}))}cancelNavigationTransition(r,i,s){let o=new Lr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Yz(t){return t!==Nl}var Zz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(Xz),providedIn:"root"});let t=e;return t})(),Nw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Xz=(()=>{let e=class e extends Nw{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(Jz),providedIn:"root"});let t=e;return t})(),Jz=(()=>{let e=class e extends oM{constructor(){super(...arguments),this.location=k(lr),this.urlSerializer=k(zl),this.options=k(Kl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Lw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new bi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Gx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ma)this.stateMemento=this.createStateMemento();else if(r instanceof Di)this.rawUrlTree=i.initialUrl;else if(r instanceof tp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ll?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Lr&&(r.code===en.GuardRejected||r.code===en.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fl?this.restoreHistory(i,!0):r instanceof dr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=P(P({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=P(P({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xl||{});function aM(t,e){t.events.pipe(Be(n=>n instanceof dr||n instanceof Lr||n instanceof Fl||n instanceof Di),de(n=>n instanceof dr||n instanceof Di?xl.COMPLETE:(n instanceof Lr?n.code===en.Redirect||n.code===en.SupersededByNewNavigation:!1)?xl.REDIRECTING:xl.FAILED),Be(n=>n!==xl.REDIRECTING),Xe(1)).subscribe(()=>{e()})}function eq(t){throw t}var tq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(aa),this.stateManager=k(oM),this.options=k(Kl,{optional:!0})||{},this.pendingTasks=k(ra),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Vw),this.urlSerializer=k(zl),this.location=k(lr),this.urlHandlingStrategy=k(Lw),this._events=new J,this.errorHandler=this.options.errorHandler||eq,this.navigated=!1,this.routeReuseStrategy=k(Zz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k($l,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(up,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Lr&&i.code!==en.Redirect&&i.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof dr)this.navigated=!0;else if(i instanceof ya){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u=P({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Yz(s.source)},a);this.scheduleNavigation(c,Nl,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}iq(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=P({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Pw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let y=s?s.snapshot:this.routerState.snapshot.root;g=$x(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return Hx(g,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Pl(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Nl,null,i)}navigate(r,i={skipLocationChange:!1}){return rq(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=P({},tq):i===!1?s=P({},nq):s=i,Pl(r))return Ex(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Ex(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((g,y)=>{c=g,u=y});let f=this.pendingTasks.add();return aM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function iq(t){return!(t instanceof Ll)&&!(t instanceof ya)}var _ne=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new J,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof dr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:OA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(j(jn),j(Ci),i_("tabindex"),j(sr),j(Ce),j(Fr))},e.\u0275dir=De({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ht("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&or("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",mn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",mn],replaceUrl:[2,"replaceUrl","replaceUrl",mn],routerLink:"routerLink"},standalone:!0,features:[Mr,Ut]});let t=e;return t})();var lp=class{};var sq=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Be(r=>r instanceof dr),ds(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Of(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return je(s).pipe(oi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=te(null);let o=s.pipe(ze(a=>a===null?te(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return je([o,a]).pipe(oi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(R(jn),R(Uf),R(St),R(lp),R(Fw))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cM=new B(""),oq=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(St),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ma?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof dr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Di&&r.code===ep.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof np&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Ii(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new np(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){WA()},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function wne(t,...e){return Ar([{provide:$l,multi:!0,useValue:t},[],{provide:Ci,useFactory:lM,deps:[jn]},{provide:jf,multi:!0,useFactory:uM},e.map(n=>n.\u0275providers)])}function lM(t){return t.routerState.root}function Ql(t,e){return{\u0275kind:t,\u0275providers:e}}function uM(){let t=k(Re);return e=>{let n=t.get(Or);if(e!==n.components[0])return;let r=t.get(jn),i=t.get(dM);t.get(jw)===1&&r.initialNavigation(),t.get(hM,null,ve.Optional)?.setUpPreloading(),t.get(cM,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dM=new B("",{factory:()=>new J}),jw=new B("",{providedIn:"root",factory:()=>1});function aq(){return Ql(2,[{provide:jw,useValue:0},{provide:Vf,multi:!0,deps:[Re],useFactory:e=>{let n=e.get(ix,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(jn),s=e.get(dM);aM(i,()=>{r(!0)}),e.get(Vw).afterPreactivation=()=>(r(!0),s.closed?te(void 0):s),i.initialNavigation()}))}}])}function cq(){return Ql(3,[{provide:Vf,multi:!0,useFactory:()=>{let e=k(jn);return()=>{e.setUpLocationChangeListener()}}},{provide:jw,useValue:2}])}var hM=new B("");function lq(t){return Ql(0,[{provide:hM,useExisting:sq},{provide:lp,useExisting:t}])}function uq(){return Ql(8,[Tx,{provide:up,useExisting:Tx}])}function dq(t){let e=[{provide:iM,useValue:Wz},{provide:sM,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ql(9,e)}var xx=new B("ROUTER_FORROOT_GUARD"),hq=[lr,{provide:zl,useClass:ga},jn,ql,{provide:Ci,useFactory:lM,deps:[jn]},Fw,[]],Uw=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[hq,[],{provide:$l,multi:!0,useValue:r},{provide:xx,useFactory:mq,deps:[[jn,new Rt,new fS]]},{provide:Kl,useValue:i||{}},i?.useHash?pq():gq(),fq(),i?.preloadingStrategy?lq(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?yq(i):[],i?.bindToComponentInputs?uq().\u0275providers:[],i?.enableViewTransitions?dq().\u0275providers:[],vq()]}}static forChild(r){return{ngModule:e,providers:[{provide:$l,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(R(xx,8))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function fq(){return{provide:cM,useFactory:()=>{let t=k(dx),e=k(K),n=k(Kl),r=k(Vw),i=k(zl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new oq(i,r,t,e,n)}}}function pq(){return{provide:Fr,useClass:ox}}function gq(){return{provide:Fr,useClass:q_}}function mq(t){return"guarded"}function yq(t){return[t.initialNavigation==="disabled"?cq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?aq().\u0275providers:[]]}var Mx=new B("");function vq(){return[{provide:Mx,useFactory:uM},{provide:jf,multi:!0,useExisting:Mx}]}var Dne=(()=>{let e=class e{constructor(){this.executingCounter=T_(0),this.loadingStatus$=new Ze(!1)}get loading$(){return this.loadingStatus$.asObservable()}start(){this.executingCounter.update(r=>r+1),this.executingCounter()>0&&this.loadingStatus$.next(!0)}stop(){this.executingCounter()>0&&this.executingCounter.update(r=>r-1),this.executingCounter()<=0&&this.loadingStatus$.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var pM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wq=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,g=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(g=64)),r.push(n[d],n[f],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new $w;let g=s<<2|a>>4;if(r.push(g),u!==64){let y=a<<4&240|u>>2;if(r.push(y),f!==64){let E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$w=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Iq=function(t){let e=pM(t);return gM.encodeByteArray(e,!0)},zw=function(t){return Iq(t).replace(/\./g,"")},qw=function(t){try{return gM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Eq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var bq=()=>Eq().__FIREBASE_DEFAULTS__,Dq=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Cq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&qw(t[1]);return e&&JSON.parse(e)},fp=()=>{try{return bq()||Dq()||Cq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mM=t=>{var e,n;return(n=(e=fp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var Gw=()=>{var t;return(t=fp())===null||t===void 0?void 0:t.config},Ww=t=>{var e;return(e=fp())===null||e===void 0?void 0:e[`_${t}`]};var hp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function Tq(){var t;let e=(t=fp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _M(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wM(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kw(){return!Tq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pp(){try{return typeof indexedDB=="object"}catch{return!1}}function IM(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Sq="FirebaseError",tn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Sq,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vr.prototype.create)}},Vr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Aq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tn(i,a,r)}};function Aq(t,e){return t.replace(Rq,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Rq=/\{\$([^}]+)}/g;function EM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Si(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(fM(s)&&fM(o)){if(!Si(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function fM(t){return t!==null&&typeof t=="object"}function wa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ia(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ea(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function bM(t,e){let n=new Hw(t,e);return n.subscribe.bind(n)}var Hw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Bw),i.error===void 0&&(i.error=Bw),i.complete===void 0&&(i.complete=Bw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function xq(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bw(){}var Tne=4*60*60*1e3;function Ge(t){return t&&t._delegate?t._delegate:t}var vn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ps="[DEFAULT]";var Qw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new hp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nq(e))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ps){return this.instances.has(e)}getOptions(e=Ps){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ps){return this.component?this.component.multipleInstances?e:Ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Mq(t){return t===Ps?void 0:t}function Nq(t){return t.instantiationMode==="EAGER"}var gp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Qw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Oq=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),Pq={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},kq=we.INFO,Fq={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Lq=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Fq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ai=class{constructor(e){this.name=e,this._logLevel=kq,this._logHandler=Lq,this._userLogHandler=null,Oq.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Pq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var Vq=(t,e)=>e.some(n=>t instanceof n),DM,CM;function jq(){return DM||(DM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uq(){return CM||(CM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var TM=new WeakMap,Zw=new WeakMap,SM=new WeakMap,Yw=new WeakMap,Jw=new WeakMap;function Bq(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TM.set(n,t)}).catch(()=>{}),Jw.set(e,t),e}function $q(t){if(Zw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zw.set(t,e)}var Xw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AM(t){Xw=t(Xw)}function Hq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(mp(this),e,...n);return SM.set(r,e.sort?e.sort():[e]),hr(r)}:Uq().includes(t)?function(...e){return t.apply(mp(this),e),hr(TM.get(this))}:function(...e){return hr(t.apply(mp(this),e))}}function zq(t){return typeof t=="function"?Hq(t):(t instanceof IDBTransaction&&$q(t),Vq(t,jq())?new Proxy(t,Xw):t)}function hr(t){if(t instanceof IDBRequest)return Bq(t);if(Yw.has(t))return Yw.get(t);let e=zq(t);return e!==t&&(Yw.set(t,e),Jw.set(e,t)),e}var mp=t=>Jw.get(t);function xM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=hr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(hr(o.result),c.oldVersion,c.newVersion,hr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var qq=["get","getKey","getAll","getAllKeys","count"],Gq=["put","add","delete","clear"],eI=new Map;function RM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eI.get(e))return eI.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Gq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qq.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return eI.set(e,s),s}AM(t=>pe(P({},t),{get:(e,n,r)=>RM(e,n)||t.get(e,n,r),has:(e,n)=>!!RM(e,n)||t.has(e,n)}));var nI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wq(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Wq(t){let e=t.getComponent();return e?.type==="VERSION"}var rI="@firebase/app",MM="0.10.5";var ks=new Ai("@firebase/app"),Kq="@firebase/app-compat",Qq="@firebase/analytics-compat",Yq="@firebase/analytics",Zq="@firebase/app-check-compat",Xq="@firebase/app-check",Jq="@firebase/auth",eG="@firebase/auth-compat",tG="@firebase/database",nG="@firebase/database-compat",rG="@firebase/functions",iG="@firebase/functions-compat",sG="@firebase/installations",oG="@firebase/installations-compat",aG="@firebase/messaging",cG="@firebase/messaging-compat",lG="@firebase/performance",uG="@firebase/performance-compat",dG="@firebase/remote-config",hG="@firebase/remote-config-compat",fG="@firebase/storage",pG="@firebase/storage-compat",gG="@firebase/firestore",mG="@firebase/vertexai-preview",yG="@firebase/firestore-compat",vG="firebase",_G="10.12.2";var iI="[DEFAULT]",wG={[rI]:"fire-core",[Kq]:"fire-core-compat",[Yq]:"fire-analytics",[Qq]:"fire-analytics-compat",[Xq]:"fire-app-check",[Zq]:"fire-app-check-compat",[Jq]:"fire-auth",[eG]:"fire-auth-compat",[tG]:"fire-rtdb",[nG]:"fire-rtdb-compat",[rG]:"fire-fn",[iG]:"fire-fn-compat",[sG]:"fire-iid",[oG]:"fire-iid-compat",[aG]:"fire-fcm",[cG]:"fire-fcm-compat",[lG]:"fire-perf",[uG]:"fire-perf-compat",[dG]:"fire-rc",[hG]:"fire-rc-compat",[fG]:"fire-gcs",[pG]:"fire-gcs-compat",[gG]:"fire-fst",[yG]:"fire-fst-compat",[mG]:"fire-vertex","fire-js":"fire-js",[vG]:"fire-js-all"};var Yl=new Map,IG=new Map,sI=new Map;function NM(t,e){try{t.container.addComponent(e)}catch(n){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xi(t){let e=t.name;if(sI.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;sI.set(e,t);for(let n of Yl.values())NM(n,t);for(let n of IG.values())NM(n,t);return!0}function Xl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t.settings!==void 0}var EG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Vr("app","Firebase",EG);var oI=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}};var Mi=_G;function lI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:iI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ri.create("bad-app-name",{appName:String(i)});if(n||(n=Gw()),!n)throw Ri.create("no-options");let s=Yl.get(i);if(s){if(Si(n,s.options)&&Si(r,s.config))return s;throw Ri.create("duplicate-app",{appName:i})}let o=new gp(i);for(let c of sI.values())o.addComponent(c);let a=new oI(n,r,o);return Yl.set(i,a),a}function ba(t=iI){let e=Yl.get(t);if(!e&&t===iI&&Gw())return lI();if(!e)throw Ri.create("no-app",{appName:t});return e}function yp(){return Array.from(Yl.values())}function at(t,e,n){var r;let i=(r=wG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(a.join(" "));return}xi(new vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var bG="firebase-heartbeat-database",DG=1,Zl="firebase-heartbeat-store",tI=null;function FM(){return tI||(tI=xM(bG,DG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),tI}function CG(t){return _(this,null,function*(){try{let n=(yield FM()).transaction(Zl),r=yield n.objectStore(Zl).get(LM(t));return yield n.done,r}catch(e){if(e instanceof tn)ks.warn(e.message);else{let n=Ri.create("idb-get",{originalErrorMessage:e?.message});ks.warn(n.message)}}})}function OM(t,e){return _(this,null,function*(){try{let r=(yield FM()).transaction(Zl,"readwrite");yield r.objectStore(Zl).put(e,LM(t)),yield r.done}catch(n){if(n instanceof tn)ks.warn(n.message);else{let r=Ri.create("idb-set",{originalErrorMessage:n?.message});ks.warn(r.message)}}})}function LM(t){return`${t.name}!${t.options.appId}`}var TG=1024,SG=30*24*60*60*1e3,aI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new cI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=PM();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=SG}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return _(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=PM(),{heartbeatsToSend:r,unsentEntries:i}=AG(this._heartbeatsCache.heartbeats),s=zw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function PM(){return new Date().toISOString().substring(0,10)}function AG(t,e=TG){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var cI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return pp()?IM().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield CG(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return OM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function kM(t){return zw(JSON.stringify({version:2,heartbeats:t})).length}function RG(t){xi(new vn("platform-logger",e=>new nI(e),"PRIVATE")),xi(new vn("heartbeat",e=>new aI(e),"PRIVATE")),at(rI,MM,t),at(rI,MM,"esm2017"),at("fire-js","")}RG("");var xG="firebase",MG="10.12.2";at(xG,MG,"app");var Ls=new tr("ANGULARFIRE2_VERSION");function _p(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Jl=(t,e)=>{let n=e?[e]:yp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ca=class{constructor(){return Jl(NG)}},NG="app-check";function Da(){}var vp=class{zone;delegate;constructor(e,n=vy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},uI=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da)),n.pipe(it({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ta=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new vp(Zone.current)),this.insideAngular=n.run(()=>new vp(Zone.current,cn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(K))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function OG(t){return wp().ngZone.runOutsideAngular(()=>t())}function Fs(t){return wp().ngZone.run(()=>t())}function PG(t){return kG(wp())(t)}function kG(t){return function(n){return n=n.lift(new uI(t.ngZone)),n.pipe(si(t.outsideAngular),ii(t.insideAngular))}}var FG=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Fs(()=>t.apply(void 0,r))},Pe=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Fs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Da,{},Da,Da))),r[s]=FG(r[s],n));let i=OG(()=>t.apply(this,r));if(!e)if(i instanceof re){let s=wp();return i.pipe(si(s.outsideAngular),ii(s.insideAngular))}else return Fs(()=>i);return i instanceof re?i.pipe(PG):i instanceof Promise?Fs(()=>new Promise((s,o)=>i.then(a=>Fs(()=>s(a)),a=>Fs(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Fs(()=>i)};var jr=class{constructor(e){return e}},Vs=class{constructor(){return yp()}};function LG(t){return t&&t.length===1?t[0]:new jr(ba())}var dI=new B("angularfire2._apps"),VG={provide:jr,useFactory:LG,deps:[[new Rt,dI]]},jG={provide:Vs,deps:[[new Rt,dI]]};function UG(t){return(e,n)=>{let r=n.get(fn);at("angularfire",Ls.full,"core"),at("angularfire",Ls.full,"app"),at("angular",HR.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new jr(i)}}function dre(t,...e){return Ar([VG,jG,{provide:dI,useFactory:UG(t),multi:!0,deps:[K,Re,Ta,...e]}])}var hre=Pe(ba,!0);var fre=Pe(lI,!0);function eN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tN=eN,nN=new Vr("auth","Firebase",eN());var Tp=new Ai("@firebase/auth");function BG(t,...e){Tp.logLevel<=we.WARN&&Tp.warn(`Auth (${Mi}): ${t}`,...e)}function Ep(t,...e){Tp.logLevel<=we.ERROR&&Tp.error(`Auth (${Mi}): ${t}`,...e)}function wn(t,...e){throw NI(t,...e)}function Un(t,...e){return NI(t,...e)}function MI(t,e,n){let r=Object.assign(Object.assign({},tN()),{[e]:n});return new Vr("auth","Firebase",r).create(e,{appName:t.name})}function $r(t){return MI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $G(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wn(t,"argument-error"),MI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function NI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nN.create(t,...e)}function se(t,e,...n){if(!t)throw NI(e,...n)}function Ur(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ep(e),new Error(e)}function Hr(t,e){t||Ur(e)}function pI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function HG(){return VM()==="http:"||VM()==="https:"}function VM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function zG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HG()||vM()||"connection"in navigator)?navigator.onLine:!0}function qG(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var js=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=yM()||_M()}get(){return zG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function OI(t,e){Hr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Sp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var GG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var WG=new js(3e4,6e4);function Oi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Pi(s,o,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return rN(t,i,()=>_(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=wa(Object.assign({key:t.config.apiKey},d)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),Sp.fetch()(iN(t,t.config.apiHost,n,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},u))}))})}function rN(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},GG),e);try{let i=new gI(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Ip(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ip(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ip(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ip(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw MI(t,d,u);wn(t,d)}}catch(i){if(i instanceof tn)throw i;wn(t,"network-request-failed",{message:String(i)})}})}function au(s,o,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let u=yield Pi(t,e,n,r,i);return"mfaPendingCredential"in u&&wn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function iN(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?OI(t.config,i):`${t.config.apiScheme}://${i}`}function KG(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var gI=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),WG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ip(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Un(t,e,r);return i.customData._tokenResponse=n,i}function jM(t){return t!==void 0&&t.enterprise!==void 0}var mI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KG(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function QG(t,e){return _(this,null,function*(){return Pi(t,"GET","/v2/recaptchaConfig",Oi(t,e))})}function YG(t,e){return _(this,null,function*(){return Pi(t,"POST","/v1/accounts:delete",e)})}function sN(t,e){return _(this,null,function*(){return Pi(t,"POST","/v1/accounts:lookup",e)})}function eu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function PI(t,e=!1){return _(this,null,function*(){let n=Ge(t),r=yield n.getIdToken(e),i=kI(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:eu(hI(i.auth_time)),issuedAtTime:eu(hI(i.iat)),expirationTime:eu(hI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function hI(t){return Number(t)*1e3}function kI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ep("JWT malformed, contained fewer than 3 sections"),null;try{let i=qw(n);return i?JSON.parse(i):(Ep("Failed to decode base64 JWT payload"),null)}catch(i){return Ep("Caught error parsing JWT payload as JSON",i?.toString()),null}}function UM(t){let e=kI(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nu(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof tn&&ZG(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function ZG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var yI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ru=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ap(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield nu(t,sN(n,{idToken:r}));se(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?oN(s.providerUserInfo):[],a=XG(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ru(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function FI(t){return _(this,null,function*(){let e=Ge(t);yield Ap(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function XG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function oN(t){return t.map(e=>{var{providerId:n}=e,r=ah(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function JG(t,e){return _(this,null,function*(){let n=yield rN(t,{},()=>_(this,null,function*(){let r=wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function e4(t,e){return _(this,null,function*(){return Pi(t,"POST","/v2/accounts:revokeToken",Oi(t,e))})}var tu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):UM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");let n=UM(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield JG(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Ur("not implemented")}};function Ni(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Aa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ah(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ru(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield nu(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return PI(this,e)}reload(){return FI(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ap(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(_n(this.auth.app))return Promise.reject($r(this.auth));let e=yield this.getIdToken();return yield nu(this,YG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;let f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,V=(u=n.createdAt)!==null&&u!==void 0?u:void 0,z=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:H,emailVerified:ee,isAnonymous:fe,providerData:Y,stsTokenManager:b}=n;se(H&&b,e,"internal-error");let v=tu.fromJSON(this.name,b);se(typeof H=="string",e,"internal-error"),Ni(f,e.name),Ni(g,e.name),se(typeof ee=="boolean",e,"internal-error"),se(typeof fe=="boolean",e,"internal-error"),Ni(y,e.name),Ni(E,e.name),Ni(S,e.name),Ni(M,e.name),Ni(V,e.name),Ni(z,e.name);let w=new t({uid:H,auth:e,email:g,emailVerified:ee,displayName:f,isAnonymous:fe,photoURL:E,phoneNumber:y,tenantId:S,stsTokenManager:v,createdAt:V,lastLoginAt:z});return Y&&Array.isArray(Y)&&(w.providerData=Y.map(D=>Object.assign({},D))),M&&(w._redirectEventId=M),w}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new tu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ap(s),s})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];se(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?oN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new tu;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ru(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var BM=new Map;function Br(t){Hr(t instanceof Function,"Expected a class definition");let e=BM.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BM.set(t,e),e)}var t4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),vI=t4;function bp(t,e,n){return`firebase:${t}:${e}:${n}`}var Rp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,s),this.fullPersistenceKey=bp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Aa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Br(vI),e,r);let i=(yield Promise.all(n.map(u=>_(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Br(vI),o=bp(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let f=Aa._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>_(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function $M(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dN(e))return"Blackberry";if(hN(e))return"Webos";if(LI(e))return"Safari";if((e.includes("chrome/")||cN(e))&&!e.includes("edge/"))return"Chrome";if(uN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aN(t=Ke()){return/firefox\//i.test(t)}function LI(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cN(t=Ke()){return/crios\//i.test(t)}function lN(t=Ke()){return/iemobile/i.test(t)}function uN(t=Ke()){return/android/i.test(t)}function dN(t=Ke()){return/blackberry/i.test(t)}function hN(t=Ke()){return/webos/i.test(t)}function jp(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n4(t=Ke()){var e;return jp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function r4(){return wM()&&document.documentMode===10}function fN(t=Ke()){return jp(t)||uN(t)||hN(t)||dN(t)||/windows phone/i.test(t)||lN(t)}function i4(){try{return!!(window&&window!==window.top)}catch{return!1}}function pN(t,e=[]){let n;switch(t){case"Browser":n=$M(Ke());break;case"Worker":n=`${$M(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mi}/${r}`}var _I=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function s4(n){return _(this,arguments,function*(t,e={}){return Pi(t,"GET","/v2/passwordPolicy",Oi(t,e))})}var o4=6,wI=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:o4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var II=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xp(this),this.idTokenSubscription=new xp(this),this.beforeStateQueue=new _I(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Rp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield sN(this,{idToken:e}),r=yield Aa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(_n(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Ap(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=qG()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(_n(this.app))return Promise.reject($r(this));let n=e?Ge(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return _n(this.app)?Promise.reject($r(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _n(this.app)?Promise.reject($r(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Br(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield s4(this),n=new wI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield e4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Br(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=yield Rp.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&BG(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ki(t){return Ge(t)}var xp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bM(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Up={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a4(t){Up=t}function gN(t){return Up.loadJS(t)}function c4(){return Up.recaptchaEnterpriseScript}function l4(){return Up.gapiScript}function mN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var u4="recaptcha-enterprise",d4="NO_RECAPTCHA",EI=class{constructor(e){this.type=u4,this.auth=ki(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>_(this,null,function*(){QG(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new mI(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;jM(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(d4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&jM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=c4();c.length!==0&&(c+=a),gN(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function HM(t,e,n,r=!1){return _(this,null,function*(){let i=new EI(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function bI(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield HM(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield HM(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function VI(t,e){let n=Xl(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Si(s,e??{}))return i;wn(i,"already-initialized")}return n.initialize({options:e})}function h4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Br);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function jI(t,e,n){let r=ki(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=yN(e),{host:o,port:a}=f4(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||p4()}function yN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function f4(t){let e=yN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:zM(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:zM(o)}}}function zM(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function p4(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ra=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}};function g4(t,e){return _(this,null,function*(){return Pi(t,"POST","/v1/accounts:signUp",e)})}function m4(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithPassword",Oi(t,e))})}function y4(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))})}function v4(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithEmailLink",Oi(t,e))})}var iu=class t extends Ra{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bI(e,n,"signInWithPassword",m4);case"emailLink":return y4(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bI(e,r,"signUpPassword",g4);case"emailLink":return v4(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Sa(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithIdp",Oi(t,e))})}var _4="http://localhost",Mp=class t extends Ra{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ah(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Sa(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Sa(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Sa(e,n)}buildRequest(){let e={requestUri:_4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wa(n)}return e}};function w4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I4(t){let e=Ia(Ea(t)).link,n=e?Ia(Ea(e)).deep_link_id:null,r=Ia(Ea(t)).deep_link_id;return(r?Ia(Ea(r)).link:null)||r||n||e||t}var Np=class t{constructor(e){var n,r,i,s,o,a;let c=Ia(Ea(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=w4((i=c.mode)!==null&&i!==void 0?i:null);se(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=I4(e);try{return new t(n)}catch{return null}}};var vN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return iu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Np.parseLink(r);return se(i,"argument-error"),iu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),su=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Op=class extends su{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var UI=(()=>{class t extends Op{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Mp._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function E4(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signUp",Oi(t,e))})}var xa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield Aa._fromIdTokenResponse(e,r,i),o=qM(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=qM(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function qM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var DI=class t extends tn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function _N(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?DI._fromErrorAndOperation(t,s,e,r):s})}function b4(t,e,n=!1){return _(this,null,function*(){let r=yield nu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return xa._forOperation(t,"link",r)})}function D4(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(_n(r.app))return Promise.reject($r(r));let i="reauthenticate";try{let s=yield nu(t,_N(r,i,e,t),n);se(s.idToken,r,"internal-error");let o=kI(s.idToken);se(o,r,"internal-error");let{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),xa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&wn(r,"user-mismatch"),s}})}function wN(t,e,n=!1){return _(this,null,function*(){if(_n(t.app))return Promise.reject($r(t));let r="signIn",i=yield _N(t,r,e),s=yield xa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function BI(t,e){return _(this,null,function*(){return wN(ki(t),e)})}function IN(t){return _(this,null,function*(){let e=ki(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $I(t,e,n){return _(this,null,function*(){if(_n(t.app))return Promise.reject($r(t));let r=ki(t),o=yield bI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",E4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&IN(t),c}),a=yield xa._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function HI(t,e,n){return _n(t.app)?Promise.reject($r(t)):BI(Ge(t),vN.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&IN(t),r}))}function zI(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function qI(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function GI(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function WI(t){return Ge(t).signOut()}var Pp="__sak";var kp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Pp,"1"),this.storage.removeItem(Pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function C4(){let t=Ke();return LI(t)||jp(t)}var T4=1e3,S4=10,A4=(()=>{class t extends kp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=C4()&&i4(),this.fallbackToPolling=fN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);r4()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,S4):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},T4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield zn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield zn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield zn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),EN=A4;var R4=(()=>{class t extends kp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),KI=R4;function x4(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var M4=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>_(this,null,function*(){return d(r.origin,o)})),u=yield x4(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function QI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var CI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=QI("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function fr(){return window}function N4(t){fr().location.href=t}function bN(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}function O4(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function P4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function k4(){return bN()?self:null}var DN="firebaseLocalStorageDb",F4=1,Fp="firebaseLocalStorage",CN="fbase_key",Us=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Bp(t,e){return t.transaction([Fp],e?"readwrite":"readonly").objectStore(Fp)}function L4(){let t=indexedDB.deleteDatabase(DN);return new Us(t).toPromise()}function TI(){let t=indexedDB.open(DN,F4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fp,{keyPath:CN})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Fp)?e(r):(r.close(),yield L4(),e(yield TI()))}))})}function GM(t,e,n){return _(this,null,function*(){let r=Bp(t,!0).put({[CN]:e,value:n});return new Us(r).toPromise()})}function V4(t,e){return _(this,null,function*(){let n=Bp(t,!1).get(e),r=yield new Us(n).toPromise();return r===void 0?null:r.value})}function WM(t,e){let n=Bp(t,!0).delete(e);return new Us(n).toPromise()}var j4=800,U4=3,B4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield TI(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>U4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return bN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=M4._getInstance(k4()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield O4(),!this.activeServiceWorker)return;this.sender=new CI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||P4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield TI();return yield GM(n,Pp,"1"),yield WM(n,Pp),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>GM(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>V4(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>WM(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=Bp(s,!1).getAll();return new Us(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),j4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),TN=B4;var Ire=mN("rcb"),Ere=new js(3e4,6e4);function SN(t,e){return e?Br(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ou=class extends Ra{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function $4(t){return wN(t.auth,new ou(t),t.bypassAuthState)}function H4(t){let{auth:e,user:n}=t;return se(n,e,"internal-error"),D4(n,new ou(t),t.bypassAuthState)}function z4(t){return _(this,null,function*(){let{auth:e,user:n}=t;return se(n,e,"internal-error"),b4(n,new ou(t),t.bypassAuthState)})}var Lp=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $4;case"linkViaPopup":case"linkViaRedirect":return z4;case"reauthViaPopup":case"reauthViaRedirect":return H4;default:wn(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var q4=new js(2e3,1e4);function YI(t,e,n){return _(this,null,function*(){if(_n(t.app))return Promise.reject(Un(t,"operation-not-supported-in-this-environment"));let r=ki(t);$G(t,e,su);let i=SN(r,n);return new G4(r,"signInViaPopup",e,i).executeNotNull()})}var G4=(()=>{class t extends Lp{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return se(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){Hr(this.filter.length===1,"Popup operations only handle one event");let n=QI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,q4.get())};n()}}t.currentPopupAction=null;return t})(),W4="pendingRedirect",Dp=new Map,SI=class t extends Lp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Dp.get(this.auth._key());if(!e){try{let r=(yield K4(this.resolver,this.auth))?yield zn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dp.set(this.auth._key(),e)}return this.bypassAuthState||Dp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return zn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,zn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function K4(t,e){return _(this,null,function*(){let n=Z4(e),r=Y4(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Q4(t,e){Dp.set(t._key(),e)}function Y4(t){return Br(t._redirectPersistence)}function Z4(t){return bp(W4,t.config.apiKey,t.name)}function X4(t,e,n=!1){return _(this,null,function*(){if(_n(t.app))return Promise.reject($r(t));let r=ki(t),i=SN(r,e),o=yield new SI(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var J4=10*60*1e3,AI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J4&&this.cachedEventUids.clear(),this.cachedEventUids.has(KM(e))}saveEventToCache(e){this.cachedEventUids.add(KM(e)),this.lastProcessedEventTime=Date.now()}};function KM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AN(t);default:return!1}}function tW(n){return _(this,arguments,function*(t,e={}){return Pi(t,"GET","/v1/projects",e)})}var nW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rW=/^https?/;function iW(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield tW(t);for(let n of e)try{if(sW(n))return}catch{}wn(t,"unauthorized-domain")})}function sW(t){let e=pI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rW.test(n))return!1;if(nW.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var oW=new js(3e4,6e4);function QM(){let t=fr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aW(t){return new Promise((e,n)=>{var r,i,s;function o(){QM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QM(),n(Un(t,"network-request-failed"))},timeout:oW.get()})}if(!((i=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fr().gapi)===null||s===void 0)&&s.load)o();else{let a=mN("iframefcb");return fr()[a]=()=>{gapi.load?o():n(Un(t,"network-request-failed"))},gN(`${l4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Cp=null,e})}var Cp=null;function cW(t){return Cp=Cp||aW(t),Cp}var lW=new js(5e3,15e3),uW="__/auth/iframe",dW="emulator/auth/iframe",hW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pW(t){let e=t.config;se(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?OI(e,dW):`https://${t.config.authDomain}/${uW}`,r={apiKey:e.apiKey,appName:t.name,v:Mi},i=fW.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wa(r).slice(1)}`}function gW(t){return _(this,null,function*(){let e=yield cW(t),n=fr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:pW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hW,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Un(t,"network-request-failed"),a=fr().setTimeout(()=>{s(o)},lW.get());function c(){fr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var mW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yW=500,vW=600,_W="_blank",wW="http://localhost",Vp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function IW(t,e,n,r=yW,i=vW){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},mW),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ke().toLowerCase();n&&(a=cN(u)?_W:n),aN(u)&&(e=e||wW,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[y,E])=>`${g}${y}=${E},`,"");if(n4(u)&&a!=="_self")return EW(e||"",a),new Vp(null);let f=window.open(e||"",a,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new Vp(f)}function EW(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var bW="__/auth/handler",DW="emulator/auth/handler",CW=encodeURIComponent("fac");function YM(t,e,n,r,i,s){return _(this,null,function*(){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mi,eventId:i};if(e instanceof su){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",EM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof Op){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${CW}=${encodeURIComponent(c)}`:"";return`${TW(t)}?${wa(a).slice(1)}${u}`})}function TW({config:t}){return t.emulator?OI(t,DW):`https://${t.authDomain}/${bW}`}var fI="webStorageSupport",RI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=KI,this._completeRedirectFn=X4,this._overrideRedirectResult=Q4}_openPopup(e,n,r,i){return _(this,null,function*(){var s;Hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield YM(e,n,r,pI(),i);return IW(e,o,QI())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield YM(e,n,r,pI(),i);return N4(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield gW(e),r=new AI(e);return n.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fI,{type:fI},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[fI];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fN()||LI()||jp()}},RN=RI;var ZM="@firebase/auth",XM="1.7.4";var xI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AW(t){xi(new vn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pN(t)},u=new II(r,i,s,c);return h4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xi(new vn("auth-internal",e=>{let n=ki(e.getProvider("auth").getImmediate());return(r=>new xI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(ZM,XM,SW(t)),at(ZM,XM,"esm2017")}var RW=5*60,xW=Ww("authIdTokenMaxAge")||RW,JM=null,MW=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xW)return;let i=n?.token;JM!==i&&(JM=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ZI(t=ba()){let e=Xl(t,"auth");if(e.isInitialized())return e.getImmediate();let n=VI(t,{popupRedirectResolver:RN,persistence:[TN,EN,KI]}),r=Ww("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=MW(s.toString());qI(n,o,()=>o(n.currentUser)),zI(n,a=>o(a))}}let i=mM("auth");return i&&jI(n,`http://${i}`),n}function NW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}a4({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Un("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",NW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AW("Browser");var xN="auth",Bs=class{constructor(e){return e}},cu=class{constructor(){return Jl(xN)}};var XI=new B("angularfire2.auth-instances");function w9(t,e){let n=_p(xN,t,e);return n&&new Bs(n)}function I9(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Bs(r)}}var E9={provide:cu,deps:[[new Rt,XI]]},b9={provide:Bs,useFactory:w9,deps:[[new Rt,XI],jr]};function rie(t,...e){return at("angularfire",Ls.full,"auth"),Ar([b9,E9,{provide:XI,useFactory:I9(t),multi:!0,deps:[K,Re,Ta,Vs,[new Rt,Ca],...e]}])}var MN=Pe($I,!0);var JI=Pe(ZI,!0);var NN=Pe(GI,!0);var ON=Pe(HI,!0);var PN=Pe(YI,!0);var kN=Pe(WI,!0);var oie=(()=>{let e=class e{constructor(r,i,s){this.auth=r,this.ngZone=i,this.router=s,NN(this.auth,o=>{o&&(this.UserData=o)})}get userUid(){return JI().currentUser?.uid||""}getAuthFire(){return this.auth.currentUser}Register(r,i){return MN(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.sendEmailVerification(),this.router.navigate(["/signIn"])})}).catch(s=>{window.alert(s.message)})}sendEmailVerification(){throw new Error("Method not implemented.")}Login(r,i){return ON(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.router.navigate(["/"])})}).catch(s=>{window.alert(s.message)})}googleSignIn(){return this.loginWithPopup(new UI)}loginWithPopup(r){return PN(this.auth,r).then(i=>(console.log("logged in",i),i)).catch(i=>{console.log(i)})}logout(){kN(this.auth).then(()=>this.router.navigate(["/signIn"]))}isSignedIn(){return JI().currentUser!==null}};e.\u0275fac=function(i){return new(i||e)(R(Bs),R(K),R(jn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},LN={};var Fi,eE;(function(){var t;function e(b,v){function w(){}w.prototype=v.prototype,b.D=v.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(D,C,A){for(var I=Array(arguments.length-2),_r=2;_r<arguments.length;_r++)I[_r-2]=arguments[_r];return v.prototype[C].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,w){w||(w=0);var D=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)D[C]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(C=0;16>C;++C)D[C]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=b.g[0],w=b.g[1],C=b.g[2];var A=b.g[3],I=v+(A^w&(C^A))+D[0]+3614090360&4294967295;v=w+(I<<7&4294967295|I>>>25),I=A+(C^v&(w^C))+D[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(w^A&(v^w))+D[2]+606105819&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(v^C&(A^v))+D[3]+3250441966&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(A^w&(C^A))+D[4]+4118548399&4294967295,v=w+(I<<7&4294967295|I>>>25),I=A+(C^v&(w^C))+D[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(w^A&(v^w))+D[6]+2821735955&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(v^C&(A^v))+D[7]+4249261313&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(A^w&(C^A))+D[8]+1770035416&4294967295,v=w+(I<<7&4294967295|I>>>25),I=A+(C^v&(w^C))+D[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(w^A&(v^w))+D[10]+4294925233&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(v^C&(A^v))+D[11]+2304563134&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(A^w&(C^A))+D[12]+1804603682&4294967295,v=w+(I<<7&4294967295|I>>>25),I=A+(C^v&(w^C))+D[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(w^A&(v^w))+D[14]+2792965006&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(v^C&(A^v))+D[15]+1236535329&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(C^A&(w^C))+D[1]+4129170786&4294967295,v=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(v^w))+D[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(A^v))+D[11]+643717713&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^v&(C^A))+D[0]+3921069994&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(C^A&(w^C))+D[5]+3593408605&4294967295,v=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(v^w))+D[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(A^v))+D[15]+3634488961&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^v&(C^A))+D[4]+3889429448&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(C^A&(w^C))+D[9]+568446438&4294967295,v=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(v^w))+D[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(A^v))+D[3]+4107603335&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^v&(C^A))+D[8]+1163531501&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(C^A&(w^C))+D[13]+2850285829&4294967295,v=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(v^w))+D[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(A^v))+D[7]+1735328473&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^v&(C^A))+D[12]+2368359562&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(w^C^A)+D[5]+4294588738&4294967295,v=w+(I<<4&4294967295|I>>>28),I=A+(v^w^C)+D[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^w)+D[11]+1839030562&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^v)+D[14]+4259657740&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(w^C^A)+D[1]+2763975236&4294967295,v=w+(I<<4&4294967295|I>>>28),I=A+(v^w^C)+D[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^w)+D[7]+4139469664&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^v)+D[10]+3200236656&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(w^C^A)+D[13]+681279174&4294967295,v=w+(I<<4&4294967295|I>>>28),I=A+(v^w^C)+D[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^w)+D[3]+3572445317&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^v)+D[6]+76029189&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(w^C^A)+D[9]+3654602809&4294967295,v=w+(I<<4&4294967295|I>>>28),I=A+(v^w^C)+D[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^w)+D[15]+530742520&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^v)+D[2]+3299628645&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(C^(w|~A))+D[0]+4096336452&4294967295,v=w+(I<<6&4294967295|I>>>26),I=A+(w^(v|~C))+D[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~w))+D[14]+2878612391&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~v))+D[5]+4237533241&4294967295,w=C+(I<<21&4294967295|I>>>11),I=v+(C^(w|~A))+D[12]+1700485571&4294967295,v=w+(I<<6&4294967295|I>>>26),I=A+(w^(v|~C))+D[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~w))+D[10]+4293915773&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~v))+D[1]+2240044497&4294967295,w=C+(I<<21&4294967295|I>>>11),I=v+(C^(w|~A))+D[8]+1873313359&4294967295,v=w+(I<<6&4294967295|I>>>26),I=A+(w^(v|~C))+D[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~w))+D[6]+2734768916&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~v))+D[13]+1309151649&4294967295,w=C+(I<<21&4294967295|I>>>11),I=v+(C^(w|~A))+D[4]+4149444226&4294967295,v=w+(I<<6&4294967295|I>>>26),I=A+(w^(v|~C))+D[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~w))+D[2]+718787259&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~v))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+A&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var w=v-this.blockSize,D=this.B,C=this.h,A=0;A<v;){if(C==0)for(;A<=w;)i(this,b,A),A+=this.blockSize;if(typeof b=="string"){for(;A<v;)if(D[C++]=b.charCodeAt(A++),C==this.blockSize){i(this,D),C=0;break}}else for(;A<v;)if(D[C++]=b[A++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var w=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=w&255,w/=256;for(this.u(b),b=Array(16),v=w=0;4>v;++v)for(var D=0;32>D;D+=8)b[w++]=this.g[v]>>>D&255;return b};function s(b,v){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=v(b)}function o(b,v){this.h=v;for(var w=[],D=!0,C=b.length-1;0<=C;C--){var A=b[C]|0;D&&A==v||(w[C]=A,D=!1)}this.g=w}var a={};function c(b){return-128<=b&&128>b?s(b,function(v){return new o([v|0],0>v?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return M(u(-b));for(var v=[],w=1,D=0;b>=w;D++)v[D]=b/w|0,w*=4294967296;return new o(v,0)}function d(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return M(d(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(v,8)),D=f,C=0;C<b.length;C+=8){var A=Math.min(8,b.length-C),I=parseInt(b.substring(C,C+A),v);8>A?(A=u(Math.pow(v,A)),D=D.j(A).add(u(I))):(D=D.j(w),D=D.add(u(I)))}return D}var f=c(0),g=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-M(this).m();for(var b=0,v=1,w=0;w<this.g.length;w++){var D=this.i(w);b+=(0<=D?D:4294967296+D)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(S(this))return"-"+M(this).toString(b);for(var v=u(Math.pow(b,6)),w=this,D="";;){var C=ee(w,v).g;w=V(w,C.j(v));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=C,E(w))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=V(this,b),S(b)?-1:E(b)?0:1};function M(b){for(var v=b.g.length,w=[],D=0;D<v;D++)w[D]=~b.g[D];return new o(w,~b.h).add(g)}t.abs=function(){return S(this)?M(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0,C=0;C<=v;C++){var A=D+(this.i(C)&65535)+(b.i(C)&65535),I=(A>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);D=I>>>16,A&=65535,I&=65535,w[C]=I<<16|A}return new o(w,w[w.length-1]&-2147483648?-1:0)};function V(b,v){return b.add(M(v))}t.j=function(b){if(E(this)||E(b))return f;if(S(this))return S(b)?M(this).j(M(b)):M(M(this).j(b));if(S(b))return M(this.j(M(b)));if(0>this.l(y)&&0>b.l(y))return u(this.m()*b.m());for(var v=this.g.length+b.g.length,w=[],D=0;D<2*v;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<b.g.length;C++){var A=this.i(D)>>>16,I=this.i(D)&65535,_r=b.i(C)>>>16,Ic=b.i(C)&65535;w[2*D+2*C]+=I*Ic,z(w,2*D+2*C),w[2*D+2*C+1]+=A*Ic,z(w,2*D+2*C+1),w[2*D+2*C+1]+=I*_r,z(w,2*D+2*C+1),w[2*D+2*C+2]+=A*_r,z(w,2*D+2*C+2)}for(D=0;D<v;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=v;D<2*v;D++)w[D]=0;return new o(w,0)};function z(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function H(b,v){this.g=b,this.h=v}function ee(b,v){if(E(v))throw Error("division by zero");if(E(b))return new H(f,f);if(S(b))return v=ee(M(b),v),new H(M(v.g),M(v.h));if(S(v))return v=ee(b,M(v)),new H(M(v.g),v.h);if(30<b.g.length){if(S(b)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var w=g,D=v;0>=D.l(b);)w=fe(w),D=fe(D);var C=Y(w,1),A=Y(D,1);for(D=Y(D,2),w=Y(w,2);!E(D);){var I=A.add(D);0>=I.l(b)&&(C=C.add(w),A=I),D=Y(D,1),w=Y(w,1)}return v=V(b,C.j(v)),new H(C,v)}for(C=f;0<=b.l(v);){for(w=Math.max(1,Math.floor(b.m()/v.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=u(w),I=A.j(v);S(I)||0<I.l(b);)w-=D,A=u(w),I=A.j(v);E(A)&&(A=g),C=C.add(A),b=V(b,I)}return new H(C,b)}t.A=function(b){return ee(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)&b.i(D);return new o(w,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)|b.i(D);return new o(w,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)^b.i(D);return new o(w,this.h^b.h)};function fe(b){for(var v=b.g.length+1,w=[],D=0;D<v;D++)w[D]=b.i(D)<<1|b.i(D-1)>>>31;return new o(w,b.h)}function Y(b,v){var w=v>>5;v%=32;for(var D=b.g.length-w,C=[],A=0;A<D;A++)C[A]=0<v?b.i(A+w)>>>v|b.i(A+w+1)<<32-v:b.i(A+w);return new o(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eE=LN.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Fi=LN.Integer=o}).apply(typeof FN<"u"?FN:typeof self<"u"?self:typeof window<"u"?window:{});var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zr={};var tE,nE,Ma,rE,lu,Hp,iE,sE,oE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof $p=="object"&&$p];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var m=0;m<l.length-1;m++){var T=l[m];if(!(T in p))break e;p=p[T]}l=l[l.length-1],m=p[l],h=h(m),h!=m&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,m=!1,T={next:function(){if(!m&&p<l.length){var N=p++;return{value:h(N,l[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),l.apply(h,T)}}return function(){return l.apply(h,arguments)}}function g(l,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),l.apply(this,m)}}function E(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(m,T,N){for(var $=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)$[Fe-2]=arguments[Fe];return h.prototype[T].apply(m,$)}}function S(l){let h=l.length;if(0<h){let p=Array(h);for(let m=0;m<h;m++)p[m]=l[m];return p}return[]}function M(l,h){for(let p=1;p<arguments.length;p++){let m=arguments[p];if(c(m)){let T=l.length||0,N=m.length||0;l.length=T+N;for(let $=0;$<N;$++)l[T+$]=m[$]}else l.push(m)}}class V{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function z(l){return/^[\s\xa0]*$/.test(l)}function H(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function ee(l){return ee[" "](l),l}ee[" "]=function(){};var fe=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Y(l,h,p){for(let m in l)h.call(p,l[m],m,l)}function b(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function v(l){let h={};for(let p in l)h[p]=l[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,h){let p,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(p in m)l[p]=m[p];for(let N=0;N<w.length;N++)p=w[N],Object.prototype.hasOwnProperty.call(m,p)&&(l[p]=m[p])}}function C(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function A(l){a.setTimeout(()=>{throw l},0)}function I(){var l=Mm;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class _r{constructor(){this.h=this.g=null}add(h,p){let m=Ic.get();m.set(h,p),this.h?this.h.next=m:this.g=m,this.h=m}}var Ic=new V(()=>new uF,l=>l.reset());class uF{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ec,bc=!1,Mm=new _r,vC=()=>{let l=a.Promise.resolve(void 0);Ec=()=>{l.then(dF)}};var dF=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){A(p)}var h=Ic;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}bc=!1};function Zr(){this.s=this.s,this.C=this.C}Zr.prototype.s=!1,Zr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var hF=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Dc(l,h){if(It.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,m=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(fe){e:{try{ee(h.nodeName);var T=!0;break e}catch{}T=!1}T||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:fF[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Dc.aa.h.call(this)}}E(Dc,It);var fF={2:"touch",3:"pen",4:"mouse"};Dc.prototype.h=function(){Dc.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Cc="closure_listenable_"+(1e6*Math.random()|0),pF=0;function gF(l,h,p,m,T){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!m,this.ha=T,this.key=++pF,this.da=this.fa=!1}function Ed(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function bd(l){this.src=l,this.g={},this.h=0}bd.prototype.add=function(l,h,p,m,T){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var $=Om(l,h,m,T);return-1<$?(h=l[$],p||(h.fa=!1)):(h=new gF(h,this.src,N,!!m,T),h.fa=p,l.push(h)),h};function Nm(l,h){var p=h.type;if(p in l.g){var m=l.g[p],T=Array.prototype.indexOf.call(m,h,void 0),N;(N=0<=T)&&Array.prototype.splice.call(m,T,1),N&&(Ed(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Om(l,h,p,m){for(var T=0;T<l.length;++T){var N=l[T];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==m)return T}return-1}var Pm="closure_lm_"+(1e6*Math.random()|0),km={};function _C(l,h,p,m,T){if(m&&m.once)return IC(l,h,p,m,T);if(Array.isArray(h)){for(var N=0;N<h.length;N++)_C(l,h[N],p,m,T);return null}return p=jm(p),l&&l[Cc]?l.K(h,p,u(m)?!!m.capture:!!m,T):wC(l,h,p,!1,m,T)}function wC(l,h,p,m,T,N){if(!h)throw Error("Invalid event type");var $=u(T)?!!T.capture:!!T,Fe=Lm(l);if(Fe||(l[Pm]=Fe=new bd(l)),p=Fe.add(h,p,m,$,N),p.proxy)return p;if(m=mF(),p.proxy=m,m.src=l,m.listener=p,l.addEventListener)hF||(T=$),T===void 0&&(T=!1),l.addEventListener(h.toString(),m,T);else if(l.attachEvent)l.attachEvent(bC(h.toString()),m);else if(l.addListener&&l.removeListener)l.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return p}function mF(){function l(p){return h.call(l.src,l.listener,p)}let h=yF;return l}function IC(l,h,p,m,T){if(Array.isArray(h)){for(var N=0;N<h.length;N++)IC(l,h[N],p,m,T);return null}return p=jm(p),l&&l[Cc]?l.L(h,p,u(m)?!!m.capture:!!m,T):wC(l,h,p,!0,m,T)}function EC(l,h,p,m,T){if(Array.isArray(h))for(var N=0;N<h.length;N++)EC(l,h[N],p,m,T);else m=u(m)?!!m.capture:!!m,p=jm(p),l&&l[Cc]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],p=Om(N,p,m,T),-1<p&&(Ed(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=Lm(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Om(h,p,m,T)),(p=-1<l?h[l]:null)&&Fm(p))}function Fm(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Cc])Nm(h.i,l);else{var p=l.type,m=l.proxy;h.removeEventListener?h.removeEventListener(p,m,l.capture):h.detachEvent?h.detachEvent(bC(p),m):h.addListener&&h.removeListener&&h.removeListener(m),(p=Lm(h))?(Nm(p,l),p.h==0&&(p.src=null,h[Pm]=null)):Ed(l)}}}function bC(l){return l in km?km[l]:km[l]="on"+l}function yF(l,h){if(l.da)l=!0;else{h=new Dc(h,this);var p=l.listener,m=l.ha||l.src;l.fa&&Fm(l),l=p.call(m,h)}return l}function Lm(l){return l=l[Pm],l instanceof bd?l:null}var Vm="__closure_events_fn_"+(1e9*Math.random()>>>0);function jm(l){return typeof l=="function"?l:(l[Vm]||(l[Vm]=function(h){return l.handleEvent(h)}),l[Vm])}function Et(){Zr.call(this),this.i=new bd(this),this.M=this,this.F=null}E(Et,Zr),Et.prototype[Cc]=!0,Et.prototype.removeEventListener=function(l,h,p,m){EC(this,l,h,p,m)};function Ot(l,h){var p,m=l.F;if(m)for(p=[];m;m=m.F)p.push(m);if(l=l.M,m=h.type||h,typeof h=="string")h=new It(h,l);else if(h instanceof It)h.target=h.target||l;else{var T=h;h=new It(m,l),D(h,T)}if(T=!0,p)for(var N=p.length-1;0<=N;N--){var $=h.g=p[N];T=Dd($,m,!0,h)&&T}if($=h.g=l,T=Dd($,m,!0,h)&&T,T=Dd($,m,!1,h)&&T,p)for(N=0;N<p.length;N++)$=h.g=p[N],T=Dd($,m,!1,h)&&T}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],m=0;m<p.length;m++)Ed(p[m]);delete l.g[h],l.h--}}this.F=null},Et.prototype.K=function(l,h,p,m){return this.i.add(String(l),h,!1,p,m)},Et.prototype.L=function(l,h,p,m){return this.i.add(String(l),h,!0,p,m)};function Dd(l,h,p,m){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var T=!0,N=0;N<h.length;++N){var $=h[N];if($&&!$.da&&$.capture==p){var Fe=$.listener,mt=$.ha||$.src;$.fa&&Nm(l.i,$),T=Fe.call(mt,m)!==!1&&T}}return T&&!m.defaultPrevented}function DC(l,h,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function CC(l){l.g=DC(()=>{l.g=null,l.i&&(l.i=!1,CC(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class vF extends Zr{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:CC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tc(l){Zr.call(this),this.h=l,this.g={}}E(Tc,Zr);var TC=[];function SC(l){Y(l.g,function(h,p){this.g.hasOwnProperty(p)&&Fm(h)},l),l.g={}}Tc.prototype.N=function(){Tc.aa.N.call(this),SC(this)},Tc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Um=a.JSON.stringify,_F=a.JSON.parse,wF=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Bm(){}Bm.prototype.h=null;function AC(l){return l.h||(l.h=l.i())}function RC(){}var Sc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $m(){It.call(this,"d")}E($m,It);function Hm(){It.call(this,"c")}E(Hm,It);var ns={},xC=null;function Cd(){return xC=xC||new Et}ns.La="serverreachability";function MC(l){It.call(this,ns.La,l)}E(MC,It);function Ac(l){let h=Cd();Ot(h,new MC(h))}ns.STAT_EVENT="statevent";function NC(l,h){It.call(this,ns.STAT_EVENT,l),this.stat=h}E(NC,It);function Pt(l){let h=Cd();Ot(h,new NC(h,l))}ns.Ma="timingevent";function OC(l,h){It.call(this,ns.Ma,l),this.size=h}E(OC,It);function Rc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function xc(){this.g=!0}xc.prototype.xa=function(){this.g=!1};function IF(l,h,p,m,T,N){l.info(function(){if(l.g)if(N)for(var $="",Fe=N.split("&"),mt=0;mt<Fe.length;mt++){var Ae=Fe[mt].split("=");if(1<Ae.length){var bt=Ae[0];Ae=Ae[1];var Dt=bt.split("_");$=2<=Dt.length&&Dt[1]=="type"?$+(bt+"="+Ae+"&"):$+(bt+"=redacted&")}}else $=null;else $=N;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+h+`
`+p+`
`+$})}function EF(l,h,p,m,T,N,$){l.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+h+`
`+p+`
`+N+" "+$})}function vo(l,h,p,m){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+DF(l,p)+(m?" "+m:"")})}function bF(l,h){l.info(function(){return"TIMEOUT: "+h})}xc.prototype.info=function(){};function DF(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var m=p[l];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var N=T[0];if(N!="noop"&&N!="stop"&&N!="close")for(var $=1;$<T.length;$++)T[$]=""}}}}return Um(p)}catch{return h}}var Td={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},PC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zm;function Sd(){}E(Sd,Bm),Sd.prototype.g=function(){return new XMLHttpRequest},Sd.prototype.i=function(){return{}},zm=new Sd;function Xr(l,h,p,m){this.j=l,this.i=h,this.l=p,this.R=m||1,this.U=new Tc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kC}function kC(){this.i=null,this.g="",this.h=!1}var FC={},qm={};function Gm(l,h,p){l.L=1,l.v=Md(wr(h)),l.m=p,l.P=!0,LC(l,null)}function LC(l,h){l.F=Date.now(),Ad(l),l.A=wr(l.v);var p=l.A,m=l.R;Array.isArray(m)||(m=[String(m)]),ZC(p.i,"t",m),l.C=0,p=l.j.J,l.h=new kC,l.g=g0(l.j,p?h:null,!l.m),0<l.O&&(l.M=new vF(g(l.Y,l,l.g),l.O)),h=l.U,p=l.g,m=l.ca;var T="readystatechange";Array.isArray(T)||(T&&(TC[0]=T.toString()),T=TC);for(var N=0;N<T.length;N++){var $=_C(p,T[N],m||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Ac(),IF(l.i,l.u,l.A,l.l,l.R,l.m)}Xr.prototype.ca=function(l){l=l.target;let h=this.M;h&&Ir(l)==3?h.j():this.Y(l)},Xr.prototype.Y=function(l){try{if(l==this.g)e:{let Dt=Ir(this.g);var h=this.g.Ba();let Io=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||i0(this.g)))){this.J||Dt!=4||h==7||(h==8||0>=Io?Ac(3):Ac(2)),Wm(this);var p=this.g.Z();this.X=p;t:if(VC(this)){var m=i0(this.g);l="";var T=m.length,N=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rs(this),Mc(this);var $="";break t}this.h.i=new a.TextDecoder}for(h=0;h<T;h++)this.h.h=!0,l+=this.h.i.decode(m[h],{stream:!(N&&h==T-1)});m.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,EF(this.i,this.u,this.A,this.l,this.R,Dt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,mt=this.g;if((Fe=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Fe)){var Ae=Fe;break t}}Ae=null}if(p=Ae)vo(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Km(this,p);else{this.o=!1,this.s=3,Pt(12),rs(this),Mc(this);break e}}if(this.P){p=!0;let Sn;for(;!this.J&&this.C<$.length;)if(Sn=CF(this,$),Sn==qm){Dt==4&&(this.s=4,Pt(14),p=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==FC){this.s=4,Pt(15),vo(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else vo(this.i,this.l,Sn,null),Km(this,Sn);if(VC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||$.length!=0||this.h.h||(this.s=1,Pt(16),p=!1),this.o=this.o&&p,!p)vo(this.i,this.l,$,"[Invalid Chunked Response]"),rs(this),Mc(this);else if(0<$.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),ey(bt),bt.M=!0,Pt(11))}}else vo(this.i,this.l,$,null),Km(this,$);Dt==4&&rs(this),this.o&&!this.J&&(Dt==4?d0(this.j,this):(this.o=!1,Ad(this)))}else $F(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),rs(this),Mc(this)}}}catch{}finally{}};function VC(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function CF(l,h){var p=l.C,m=h.indexOf(`
`,p);return m==-1?qm:(p=Number(h.substring(p,m)),isNaN(p)?FC:(m+=1,m+p>h.length?qm:(h=h.slice(m,m+p),l.C=m+p,h)))}Xr.prototype.cancel=function(){this.J=!0,rs(this)};function Ad(l){l.S=Date.now()+l.I,jC(l,l.I)}function jC(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Rc(g(l.ba,l),h)}function Wm(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Xr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(bF(this.i,this.A),this.L!=2&&(Ac(),Pt(17)),rs(this),this.s=2,Mc(this)):jC(this,this.S-l)};function Mc(l){l.j.G==0||l.J||d0(l.j,l)}function rs(l){Wm(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,SC(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Km(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Qm(p.h,l))){if(!l.K&&Qm(p.h,l)&&p.G==3){try{var m=p.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Fd(p),Pd(p);else break e;Jm(p),Pt(18)}}else p.za=T[1],0<p.za-p.T&&37500>T[2]&&p.F&&p.v==0&&!p.C&&(p.C=Rc(g(p.Za,p),6e3));if(1>=$C(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ss(p,11)}else if((l.K||p.g==l)&&Fd(p),!z(h))for(T=p.Da.g.parse(h),h=0;h<T.length;h++){let Ae=T[h];if(p.T=Ae[0],Ae=Ae[1],p.G==2)if(Ae[0]=="c"){p.K=Ae[1],p.ia=Ae[2];let bt=Ae[3];bt!=null&&(p.la=bt,p.j.info("VER="+p.la));let Dt=Ae[4];Dt!=null&&(p.Aa=Dt,p.j.info("SVER="+p.Aa));let Io=Ae[5];Io!=null&&typeof Io=="number"&&0<Io&&(m=1.5*Io,p.L=m,p.j.info("backChannelRequestTimeoutMs_="+m)),m=p;let Sn=l.g;if(Sn){let Vd=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vd){var N=m.h;N.g||Vd.indexOf("spdy")==-1&&Vd.indexOf("quic")==-1&&Vd.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Ym(N,N.h),N.h=null))}if(m.D){let ty=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;ty&&(m.ya=ty,Ue(m.I,m.D,ty))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),m=p;var $=l;if(m.qa=p0(m,m.J?m.ia:null,m.W),$.K){HC(m.h,$);var Fe=$,mt=m.L;mt&&(Fe.I=mt),Fe.B&&(Wm(Fe),Ad(Fe)),m.g=$}else l0(m);0<p.i.length&&kd(p)}else Ae[0]!="stop"&&Ae[0]!="close"||ss(p,7);else p.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?ss(p,7):Xm(p):Ae[0]!="noop"&&p.l&&p.l.ta(Ae),p.v=0)}}Ac(4)}catch{}}var TF=class{constructor(l,h){this.g=l,this.map=h}};function UC(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function BC(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function $C(l){return l.h?1:l.g?l.g.size:0}function Qm(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ym(l,h){l.g?l.g.add(h):l.h=h}function HC(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}UC.prototype.cancel=function(){if(this.i=zC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function zC(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return S(l.i)}function SF(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,m=0;m<p;m++)h.push(l[m]);return h}h=[],p=0;for(m in l)h[p++]=l[m];return h}function AF(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let m in l)h[p++]=m;return h}}}function qC(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=AF(l),m=SF(l),T=m.length,N=0;N<T;N++)h.call(void 0,m[N],p&&p[N],l)}var GC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RF(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var m=l[p].indexOf("="),T=null;if(0<=m){var N=l[p].substring(0,m);T=l[p].substring(m+1)}else N=l[p];h(N,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function is(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof is){this.h=l.h,Rd(this,l.j),this.o=l.o,this.g=l.g,xd(this,l.s),this.l=l.l;var h=l.i,p=new Pc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),WC(this,p),this.m=l.m}else l&&(h=String(l).match(GC))?(this.h=!1,Rd(this,h[1]||"",!0),this.o=Nc(h[2]||""),this.g=Nc(h[3]||"",!0),xd(this,h[4]),this.l=Nc(h[5]||"",!0),WC(this,h[6]||"",!0),this.m=Nc(h[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}is.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Oc(h,KC,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Oc(h,KC,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Oc(p,p.charAt(0)=="/"?NF:MF,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Oc(p,PF)),l.join("")};function wr(l){return new is(l)}function Rd(l,h,p){l.j=p?Nc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function xd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function WC(l,h,p){h instanceof Pc?(l.i=h,kF(l.i,l.h)):(p||(h=Oc(h,OF)),l.i=new Pc(h,l.h))}function Ue(l,h,p){l.i.set(h,p)}function Md(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Nc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Oc(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,xF),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function xF(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var KC=/[#\/\?@]/g,MF=/[#\?:]/g,NF=/[#\?]/g,OF=/[#\?@]/g,PF=/#/g;function Pc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Jr(l){l.g||(l.g=new Map,l.h=0,l.i&&RF(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Pc.prototype,t.add=function(l,h){Jr(this),this.i=null,l=_o(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function QC(l,h){Jr(l),h=_o(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function YC(l,h){return Jr(l),h=_o(l,h),l.g.has(h)}t.forEach=function(l,h){Jr(this),this.g.forEach(function(p,m){p.forEach(function(T){l.call(h,T,m,this)},this)},this)},t.na=function(){Jr(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let m=0;m<h.length;m++){let T=l[m];for(let N=0;N<T.length;N++)p.push(h[m])}return p},t.V=function(l){Jr(this);let h=[];if(typeof l=="string")YC(this,l)&&(h=h.concat(this.g.get(_o(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return Jr(this),this.i=null,l=_o(this,l),YC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function ZC(l,h,p){QC(l,h),0<p.length&&(l.i=null,l.g.set(_o(l,h),S(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var m=h[p];let N=encodeURIComponent(String(m)),$=this.V(m);for(m=0;m<$.length;m++){var T=N;$[m]!==""&&(T+="="+encodeURIComponent(String($[m]))),l.push(T)}}return this.i=l.join("&")};function _o(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function kF(l,h){h&&!l.j&&(Jr(l),l.i=null,l.g.forEach(function(p,m){var T=m.toLowerCase();m!=T&&(QC(this,m),ZC(this,T,p))},l)),l.j=h}function FF(l,h){let p=new xc;if(a.Image){let m=new Image;m.onload=y(ei,p,"TestLoadImage: loaded",!0,h,m),m.onerror=y(ei,p,"TestLoadImage: error",!1,h,m),m.onabort=y(ei,p,"TestLoadImage: abort",!1,h,m),m.ontimeout=y(ei,p,"TestLoadImage: timeout",!1,h,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=l}else h(!1)}function LF(l,h){let p=new xc,m=new AbortController,T=setTimeout(()=>{m.abort(),ei(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:m.signal}).then(N=>{clearTimeout(T),N.ok?ei(p,"TestPingServer: ok",!0,h):ei(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(T),ei(p,"TestPingServer: error",!1,h)})}function ei(l,h,p,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(p)}catch{}}function VF(){this.g=new wF}function jF(l,h,p){let m=p||"";try{qC(l,function(T,N){let $=T;u(T)&&($=Um(T)),h.push(m+N+"="+encodeURIComponent($))})}catch(T){throw h.push(m+"type="+encodeURIComponent("_badmap")),T}}function kc(l){this.l=l.Ub||null,this.j=l.eb||!1}E(kc,Bm),kc.prototype.g=function(){return new Nd(this.l,this.j)},kc.prototype.i=function(l){return function(){return l}}({});function Nd(l,h){Et.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Nd,Et),t=Nd.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Lc(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fc(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Lc(this)),this.g&&(this.readyState=3,Lc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XC(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function XC(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Fc(this):Lc(this),this.readyState==3&&XC(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Fc(this))},t.Qa=function(l){this.g&&(this.response=l,Fc(this))},t.ga=function(){this.g&&Fc(this)};function Fc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Lc(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Lc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Nd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function JC(l){let h="";return Y(l,function(p,m){h+=m,h+=":",h+=p,h+=`\r
`}),h}function Zm(l,h,p){e:{for(m in p){var m=!1;break e}m=!0}m||(p=JC(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ue(l,h,p))}function We(l){Et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(We,Et);var UF=/^https?$/i,BF=["POST","PUT"];t=We.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zm.g(),this.v=this.o?AC(this.o):AC(zm),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){e0(this,N);return}if(l=p||"",p=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)p.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())p.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),T=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BF,h,void 0))||m||T||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,$]of p)this.g.setRequestHeader(N,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{r0(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){e0(this,N)}};function e0(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,t0(l),Od(l)}function t0(l){l.A||(l.A=!0,Ot(l,"complete"),Ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ot(this,"complete"),Ot(this,"abort"),Od(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Od(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?n0(this):this.bb())},t.bb=function(){n0(this)};function n0(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Ir(l)!=4||l.Z()!=2)){if(l.u&&Ir(l)==4)DC(l.Ea,0,l);else if(Ot(l,"readystatechange"),Ir(l)==4){l.h=!1;try{let $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var m;if(m=$===0){var T=String(l.D).match(GC)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!UF.test(T?T.toLowerCase():"")}p=m}if(p)Ot(l,"complete"),Ot(l,"success");else{l.m=6;try{var N=2<Ir(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",t0(l)}}finally{Od(l)}}}}function Od(l,h){if(l.g){r0(l);let p=l.g,m=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Ot(l,"ready");try{p.onreadystatechange=m}catch{}}}function r0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ir(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),_F(h)}};function i0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function $F(l){let h={};l=(l.g&&2<=Ir(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<l.length;m++){if(z(l[m]))continue;var p=C(l[m]);let T=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[T]||[];h[T]=N,N.push(p)}b(h,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vc(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function s0(l){this.Aa=0,this.i=[],this.j=new xc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vc("baseRetryDelayMs",5e3,l),this.cb=Vc("retryDelaySeedMs",1e4,l),this.Wa=Vc("forwardChannelMaxRetries",2,l),this.wa=Vc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new UC(l&&l.concurrentRequestLimit),this.Da=new VF,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=s0.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,m){Pt(0),this.W=l,this.H=h||{},p&&m!==void 0&&(this.H.OSID=p,this.H.OAID=m),this.F=this.X,this.I=p0(this,null,this.W),kd(this)};function Xm(l){if(o0(l),l.G==3){var h=l.U++,p=wr(l.I);if(Ue(p,"SID",l.K),Ue(p,"RID",h),Ue(p,"TYPE","terminate"),jc(l,p),h=new Xr(l,l.j,h),h.L=2,h.v=Md(wr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=g0(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Ad(h)}f0(l)}function Pd(l){l.g&&(ey(l),l.g.cancel(),l.g=null)}function o0(l){Pd(l),l.u&&(a.clearTimeout(l.u),l.u=null),Fd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function kd(l){if(!BC(l.h)&&!l.s){l.s=!0;var h=l.Ga;Ec||vC(),bc||(Ec(),bc=!0),Mm.add(h,l),l.B=0}}function HF(l,h){return $C(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Rc(g(l.Ga,l,h),h0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let T=new Xr(this,this.j,l),N=this.o;if(this.S&&(N?(N=v(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(T.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var m=this.i[p];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=c0(this,T,h),p=wr(this.I),Ue(p,"RID",l),Ue(p,"CVER",22),this.D&&Ue(p,"X-HTTP-Session-Id",this.D),jc(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(JC(N)))+"&"+h:this.m&&Zm(p,this.m,N)),Ym(this.h,T),this.Ua&&Ue(p,"TYPE","init"),this.P?(Ue(p,"$req",h),Ue(p,"SID","null"),T.T=!0,Gm(T,p,null)):Gm(T,p,h),this.G=2}}else this.G==3&&(l?a0(this,l):this.i.length==0||BC(this.h)||a0(this))};function a0(l,h){var p;h?p=h.l:p=l.U++;let m=wr(l.I);Ue(m,"SID",l.K),Ue(m,"RID",p),Ue(m,"AID",l.T),jc(l,m),l.m&&l.o&&Zm(m,l.m,l.o),p=new Xr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=c0(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ym(l.h,p),Gm(p,m,h)}function jc(l,h){l.H&&Y(l.H,function(p,m){Ue(h,m,p)}),l.l&&qC({},function(p,m){Ue(h,m,p)})}function c0(l,h,p){p=Math.min(l.i.length,p);var m=l.l?g(l.l.Na,l.l,l):null;e:{var T=l.i;let N=-1;for(;;){let $=["count="+p];N==-1?0<p?(N=T[0].g,$.push("ofs="+N)):N=0:$.push("ofs="+N);let Fe=!0;for(let mt=0;mt<p;mt++){let Ae=T[mt].g,bt=T[mt].map;if(Ae-=N,0>Ae)N=Math.max(0,T[mt].g-100),Fe=!1;else try{jF(bt,$,"req"+Ae+"_")}catch{m&&m(bt)}}if(Fe){m=$.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,m}function l0(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Ec||vC(),bc||(Ec(),bc=!0),Mm.add(h,l),l.v=0}}function Jm(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Rc(g(l.Fa,l),h0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,u0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Rc(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Pd(this),u0(this))};function ey(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function u0(l){l.g=new Xr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=wr(l.qa);Ue(h,"RID","rpc"),Ue(h,"SID",l.K),Ue(h,"AID",l.T),Ue(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(h,"TO",l.ja),Ue(h,"TYPE","xmlhttp"),jc(l,h),l.m&&l.o&&Zm(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Md(wr(h)),p.m=null,p.P=!0,LC(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Pd(this),Jm(this),Pt(19))};function Fd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function d0(l,h){var p=null;if(l.g==h){Fd(l),ey(l),l.g=null;var m=2}else if(Qm(l.h,h))p=h.D,HC(l.h,h),m=1;else return;if(l.G!=0){if(h.o)if(m==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var T=l.B;m=Cd(),Ot(m,new OC(m,p)),kd(l)}else l0(l);else if(T=h.s,T==3||T==0&&0<h.X||!(m==1&&HF(l,h)||m==2&&Jm(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),T){case 1:ss(l,5);break;case 4:ss(l,10);break;case 3:ss(l,6);break;default:ss(l,2)}}}function h0(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function ss(l,h){if(l.j.info("Error code "+h),h==2){var p=g(l.fb,l),m=l.Xa;let T=!m;m=new is(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Rd(m,"https"),Md(m),T?FF(m.toString(),p):LF(m.toString(),p)}else Pt(2);l.G=0,l.l&&l.l.sa(h),f0(l),o0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function f0(l){if(l.G=0,l.ka=[],l.l){let h=zC(l.h);(h.length!=0||l.i.length!=0)&&(M(l.ka,h),M(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function p0(l,h,p){var m=p instanceof is?wr(p):new is(p);if(m.g!="")h&&(m.g=h+"."+m.g),xd(m,m.s);else{var T=a.location;m=T.protocol,h=h?h+"."+T.hostname:T.hostname,T=+T.port;var N=new is(null);m&&Rd(N,m),h&&(N.g=h),T&&xd(N,T),p&&(N.l=p),m=N}return p=l.D,h=l.ya,p&&h&&Ue(m,p,h),Ue(m,"VER",l.la),jc(l,m),m}function g0(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new We(new kc({eb:p})):new We(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function m0(){}t=m0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ld(){}Ld.prototype.g=function(l,h){return new Yt(l,h)};function Yt(l,h){Et.call(this),this.g=new s0(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!z(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!z(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new wo(this)}E(Yt,Et),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Xm(this.g)},Yt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Um(l),l=p);h.i.push(new TF(h.Ya++,l)),h.G==3&&kd(h)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Xm(this.g),delete this.g,Yt.aa.N.call(this)};function y0(l){$m.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(y0,$m);function v0(){Hm.call(this),this.status=1}E(v0,Hm);function wo(l){this.g=l}E(wo,m0),wo.prototype.ua=function(){Ot(this.g,"a")},wo.prototype.ta=function(l){Ot(this.g,new y0(l))},wo.prototype.sa=function(l){Ot(this.g,new v0)},wo.prototype.ra=function(){Ot(this.g,"b")},Ld.prototype.createWebChannel=Ld.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,oE=zr.createWebChannelTransport=function(){return new Ld},sE=zr.getStatEventTarget=function(){return Cd()},iE=zr.Event=ns,Hp=zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Td.NO_ERROR=0,Td.TIMEOUT=8,Td.HTTP_ERROR=6,lu=zr.ErrorCode=Td,PC.COMPLETE="complete",rE=zr.EventType=PC,RC.EventType=Sc,Sc.OPEN="a",Sc.CLOSE="b",Sc.ERROR="c",Sc.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Ma=zr.WebChannel=RC,nE=zr.FetchXmlHttpFactory=kc,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,tE=zr.XhrIo=We}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});var VN="@firebase/firestore";var pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");var oc="10.12.1";var Xs=new Ai("@firebase/firestore");function Fa(){return Xs.logLevel}function F(t,...e){if(Xs.logLevel<=we.DEBUG){let n=e.map(oD);Xs.debug(`Firestore (${oc}): ${t}`,...n)}}function tt(t,...e){if(Xs.logLevel<=we.ERROR){let n=e.map(oD);Xs.error(`Firestore (${oc}): ${t}`,...n)}}function Eu(t,...e){if(Xs.logLevel<=we.WARN){let n=e.map(oD);Xs.warn(`Firestore (${oc}): ${t}`,...n)}}function oD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: `+t;throw tt(e),new Error(e)}function Z(t,e){t||G()}function W(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var En=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var fE=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},pE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}};var gE=class{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new En;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new En,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new En)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z(typeof r.accessToken=="string"),new fE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Z(e===null||typeof e=="string"),new pt(e)}},mE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},yE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},vE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_E=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z(typeof n.token=="string"),this.R=n.token,new vE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function C9(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Jp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=C9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function qa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function jO(t){return t+"\0"}var nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var eg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends eg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},T9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ct=class t extends eg{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return T9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var Ga=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function wE(t){return t.fields.find(e=>e.kind===2)}function Hs(t){return t.fields.filter(e=>e.kind!==2)}Ga.UNKNOWN_ID=-1;var $a=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var bu=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,bn.min())}};function UO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new bn(i,q.empty(),e)}function BO(t){return new bn(t.readTime,t.key,-1)}var bn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),q.empty(),-1)}static max(){return new t(ne.max(),q.empty(),-1)}};function aD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var $O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Yi(t){return _(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==$O)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var ng=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new En,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ys(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=cD(r.target.error);this.V.reject(new Ys(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Ys(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new EE(n)}},Wa=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Ke())===12.2&&tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),zs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!pp())return!1;if(t.C())return!0;let e=Ke(),n=t.S(e),r=0<n&&n<10,i=HO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return _(this,null,function*(){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Ys(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new U(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new U(O.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ys(e,o))},i.onupgradeneeded=s=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return _(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=ng.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),x.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(F("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function HO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var IE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return zs(this.B.delete())}},Ys=class extends U{constructor(e,n){super(O.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Zi(t){return t.name==="IndexedDbTransactionError"}var EE=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(F("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zs(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),zs(this.store.add(e))}get(e){return zs(this.store.get(e)).next(n=>(n===void 0&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),zs(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),zs(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new x((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,c)=>{o.push(c)}).next(()=>o)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new x((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){F("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new x((r,i)=>{n.onerror=s=>{let o=cD(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){let r=[];return new x((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new IE(a),u=n(a.primaryKey,a.value,c);if(u instanceof x){let d=u.catch(f=>(c.done(),x.reject(f)));r.push(d)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>x.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function zs(t){return new x((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=cD(r.target.error);n(i)}})}var jN=!1;function cD(t){let e=Wa.S(Ke());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new U("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jN||(jN=!0,setTimeout(()=>{throw r},0)),r}}return t}var bE=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){F("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>_(this,null,function*(){this.task=null;try{F("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){Zi(n)?F("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Yi(n)}yield this.X(6e4)}))}},DE=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return _(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,s=!0;return x.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return F("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(F("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=BO(s);aD(o,r)>0&&(r=o)}),new bn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var nn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Jg(t){return t==null}function Du(t){return t===0&&1/t==-1/0}function zO(t){return typeof t=="number"&&Number.isInteger(t)&&!Du(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ht(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UN(e)),e=S9(t.get(n),e);return UN(e)}function S9(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function UN(t){return t+""}function pr(t){let e=t.length;if(Z(e>=2),e===2)return Z(t.charAt(0)===""&&t.charAt(1)===""),ke.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&G(),t.charAt(o+1)){case"":let a=t.substring(s,o),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:G()}s=o+2}return new ke(r)}var BN=["userId","batchId"];function Kp(t,e){return[t,Ht(e)]}function qO(t,e,n){return[t,Ht(e),n]}var A9={},R9=["prefixPath","collectionGroup","readTime","documentId"],x9=["prefixPath","collectionGroup","documentId"],M9=["collectionGroup","readTime","prefixPath","documentId"],N9=["canonicalId","targetId"],O9=["targetId","path"],P9=["path","targetId"],k9=["collectionId","parent"],F9=["indexId","uid"],L9=["uid","sequenceNumber"],V9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],j9=["indexId","uid","orderedDocumentKey"],U9=["userId","collectionPath","documentId"],B9=["userId","collectionPath","largestBatchId"],$9=["userId","collectionGroup","largestBatchId"],GO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],H9=[...GO,"documentOverlays"],WO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],KO=WO,QO=[...KO,"indexConfiguration","indexState","indexEntries"],z9=QO;var Cu=class extends tg{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function gt(t,e){let n=W(t);return Wa.F(n._e,e)}function $N(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ba(this.root,e,this.comparator,!0)}},Ba=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ve=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rg(this.data.getIterator())}getIteratorFrom(e){return new rg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},rg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Na(t){return t.hasNext()?t.getNext():void 0}var rn=class t{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ve(ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var ig=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ig("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var q9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(Z(!!t),typeof t=="string"){let e=0,n=q9.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}function lD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uD(t){let e=t.mapValue.fields.__previous_value__;return lD(e)?uD(e):e}function Tu(t){let e=Gr(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var CE=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Ka=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ui={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qp={nullValue:"NULL_VALUE"};function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lD(t)?4:ZO(t)?9007199254740991:10:G()}function yr(t,e){if(t===e)return!0;let n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tu(t).isEqual(Tu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Gr(i.timestampValue),a=Gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return $i(i.bytesValue).isEqual($i(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?Du(o)===Du(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qa(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($N(o)!==$N(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!yr(o[c],a[c])))return!1;return!0}(t,e);default:return G()}}function Su(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function Hi(t,e){if(t===e)return 0;let n=Js(t),r=Js(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Qe(s.integerValue||s.doubleValue),c=Qe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return HN(t.timestampValue,e.timestampValue);case 4:return HN(Tu(t),Tu(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){let a=$i(s),c=$i(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=he(a[u],c[u]);if(d!==0)return d}return he(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=he(Qe(s.latitude),Qe(o.latitude));return a!==0?a:he(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let d=Hi(a[u],c[u]);if(d)return d}return he(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ui.mapValue&&o===Ui.mapValue)return 0;if(s===Ui.mapValue)return 1;if(o===Ui.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=he(c[f],d[f]);if(g!==0)return g;let y=Hi(a[c[f]],u[d[f]]);if(y!==0)return y}return he(c.length,d.length)}(t.mapValue,e.mapValue);default:throw G()}}function HN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=Gr(t),r=Gr(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Qa(t){return TE(t)}function TE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=TE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${TE(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function Au(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function SE(t){return!!t&&"integerValue"in t}function Ru(t){return!!t&&"arrayValue"in t}function zN(t){return!!t&&"nullValue"in t}function qN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yp(t){return!!t&&"mapValue"in t}function mu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=mu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function G9(t){return"nullValue"in t?Qp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Au(Ka.empty(),q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:G()}function W9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Au(Ka.empty(),q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ui:G()}function GN(t,e){let n=Hi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function WN(t,e){let n=Hi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var $t=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=mu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Yp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){co(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(mu(this.value))}};function XO(t){let e=[];return co(t.fields,(n,r)=>{let i=new ct([n]);if(Yp(r)){let s=XO(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new rn(e)}var _t=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zi=class{constructor(e,n){this.position=e,this.inclusive=n}};function KN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Hi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}var eo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function K9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var sg=class{},Ie=class t extends sg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xE(e,n,r):n==="array-contains"?new OE(e,r):n==="in"?new og(e,r):n==="not-in"?new PE(e,r):n==="array-contains-any"?new kE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ME(e,r):new NE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Hi(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(Hi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Oe=class t extends sg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Ya(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ya(t){return t.op==="and"}function AE(t){return t.op==="or"}function dD(t){return JO(t)&&Ya(t)}function JO(t){for(let e of t.filters)if(e instanceof Oe)return!1;return!0}function RE(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(dD(t))return t.filters.map(e=>RE(e)).join(",");{let e=t.filters.map(n=>RE(n)).join(",");return`${t.op}(${e})`}}function eP(t,e){return t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&eP(o,i.filters[a]),!0):!1}(t,e):void G()}function tP(t,e){let n=t.filters.concat(e);return Oe.create(n,t.op)}function nP(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(t):t instanceof Oe?function(n){return n.op.toString()+" {"+n.getFilters().map(nP).join(" ,")+"}"}(t):"Filter"}var xE=class extends Ie{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},ME=class extends Ie{constructor(e,n){super(e,"in",n),this.keys=rP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},NE=class extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=rP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function rP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var OE=class extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Ru(n)&&Su(n.arrayValue,this.value)}},og=class extends Ie{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}},PE=class extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Su(this.value.arrayValue,n)}},kE=class extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Ru(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Su(this.value.arrayValue,r))}};var FE=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function LE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new FE(t,e,n,r,i,s,o)}function to(t){let e=W(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>RE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Jg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),e.ue=n}return e.ue}function Gu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QN(t.startAt,e.startAt)&&QN(t.endAt,e.endAt)}function ag(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function cg(t,e){return t.filters.filter(n=>n instanceof Ie&&n.field.isEqual(e))}function YN(t,e,n){let r=Qp,i=!0;for(let s of cg(t,e)){let o=Qp,a=!0;switch(s.op){case"<":case"<=":o=G9(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Qp}GN({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];GN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function ZN(t,e,n){let r=Ui,i=!0;for(let s of cg(t,e)){let o=Ui,a=!0;switch(s.op){case">=":case">":o=W9(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ui}WN({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];WN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var qi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function iP(t,e,n,r,i,s,o,a){return new qi(t,e,n,r,i,s,o,a)}function Wu(t){return new qi(t)}function XN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sP(t){return t.collectionGroup!==null}function yu(t){let e=W(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ve(ct.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new eo(s,r))}),n.has(ct.keyField().canonicalString())||e.ce.push(new eo(ct.keyField(),r))}return e.ce}function on(t){let e=W(t);return e.le||(e.le=Q9(e,yu(t))),e.le}function Q9(t,e){if(t.limitType==="F")return LE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new eo(i.field,s)});let n=t.endAt?new zi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zi(t.startAt.position,t.startAt.inclusive):null;return LE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function VE(t,e){let n=t.filters.concat([e]);return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lg(t,e,n){return new qi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function em(t,e){return Gu(on(t),on(e))&&t.limitType===e.limitType}function oP(t){return`${to(on(t))}|lt:${t.limitType}`}function La(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nP(i)).join(", ")}]`),Jg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qa(i)).join(",")),`Target(${r})`}(on(t))}; limitType=${t.limitType})`}function Ku(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of yu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=KN(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,yu(r),i)||r.endAt&&!function(o,a,c){let u=KN(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,yu(r),i))}(t,e)}function aP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cP(t){return(e,n)=>{let r=!1;for(let i of yu(t)){let s=Y9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Y9(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Hi(c,u):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var vr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return YO(this.inner)}size(){return this.innerSize}};var Z9=new He(q.comparator);function sn(){return Z9}var lP=new He(q.comparator);function pu(...t){let e=lP;for(let n of t)e=e.insert(n.key,n);return e}function uP(t){let e=lP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gr(){return vu()}function dP(){return vu()}function vu(){return new vr(t=>t.toString(),(t,e)=>t.isEqual(e))}var X9=new He(q.comparator),J9=new Ve(q.comparator);function _e(...t){let e=J9;for(let n of t)e=e.add(n);return e}var e3=new Ve(he);function hD(){return e3}function hP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function fP(t){return{integerValue:""+t}}function t3(t,e){return zO(e)?fP(e):hP(t,e)}var Za=class{constructor(){this._=void 0}};function n3(t,e,n){return t instanceof no?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&lD(s)&&(s=uD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Gi?gP(t,e):t instanceof Wi?mP(t,e):function(i,s){let o=pP(i,s),a=JN(o)+JN(i.Pe);return SE(o)&&SE(i.Pe)?fP(a):hP(i.serializer,a)}(t,e)}function r3(t,e,n){return t instanceof Gi?gP(t,e):t instanceof Wi?mP(t,e):n}function pP(t,e){return t instanceof ro?function(r){return SE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var no=class extends Za{},Gi=class extends Za{constructor(e){super(),this.elements=e}};function gP(t,e){let n=yP(e);for(let r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Wi=class extends Za{constructor(e){super(),this.elements=e}};function mP(t,e){let n=yP(e);for(let r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}var ro=class extends Za{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function JN(t){return Qe(t.integerValue||t.doubleValue)}function yP(t){return Ru(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var jE=class{constructor(e,n){this.field=e,this.transform=n}};function i3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gi&&i instanceof Gi||r instanceof Wi&&i instanceof Wi?qa(r.elements,i.elements,yr):r instanceof ro&&i instanceof ro?yr(r.Pe,i.Pe):r instanceof no&&i instanceof no}(t.transform,e.transform)}var UE=class{constructor(e,n){this.version=e,this.transformResults=n}},vt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Zp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Xa=class{};function vP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new io(t.key,vt.none()):new Ki(t.key,t.data,vt.none());{let n=t.data,r=$t.empty(),i=new Ve(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bn(t.key,r,new rn(i.toArray()),vt.none())}}function s3(t,e,n){t instanceof Ki?function(i,s,o){let a=i.value.clone(),c=tO(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bn?function(i,s,o){if(!Zp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=tO(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(_P(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _u(t,e,n,r){return t instanceof Ki?function(s,o,a,c){if(!Zp(s.precondition,o))return a;let u=s.value.clone(),d=nO(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bn?function(s,o,a,c){if(!Zp(s.precondition,o))return a;let u=nO(s.fieldTransforms,c,o),d=o.data;return d.setAll(_P(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Zp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function o3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=pP(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function eO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qa(r,i,(s,o)=>i3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ki=class extends Xa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bn=class extends Xa{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function _P(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function tO(t,e,n){let r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,r3(o,a,n[i]))}return r}function nO(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,n3(s,o,e))}return r}var io=class extends Xa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ug=class extends Xa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var xu=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&s3(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=dP();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=vP(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&qa(this.mutations,e.mutations,(n,r)=>eO(n,r))&&qa(this.baseMutations,e.baseMutations,(n,r)=>eO(n,r))}},BE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length);let i=function(){return X9}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Mu=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $E=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var st,Te;function a3(t){switch(t){default:return G();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function wP(t){if(t===void 0)return tt("GRPC error has no .code"),O.UNKNOWN;switch(t){case st.OK:return O.OK;case st.CANCELLED:return O.CANCELLED;case st.UNKNOWN:return O.UNKNOWN;case st.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case st.INTERNAL:return O.INTERNAL;case st.UNAVAILABLE:return O.UNAVAILABLE;case st.UNAUTHENTICATED:return O.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case st.NOT_FOUND:return O.NOT_FOUND;case st.ALREADY_EXISTS:return O.ALREADY_EXISTS;case st.PERMISSION_DENIED:return O.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case st.ABORTED:return O.ABORTED;case st.OUT_OF_RANGE:return O.OUT_OF_RANGE;case st.UNIMPLEMENTED:return O.UNIMPLEMENTED;case st.DATA_LOSS:return O.DATA_LOSS;default:return G()}}(Te=st||(st={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var rO=null;function c3(){return new TextEncoder}var l3=new Fi([4294967295,4294967295],0);function iO(t){let e=c3().encode(t),n=new eE;return n.update(e),new Uint8Array(n.digest())}function sO(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Fi([n,r],0),new Fi([i,s],0)]}var HE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ks(`Invalid padding: ${n}`);if(r<0)throw new Ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ks(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ks(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Fi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Fi.fromNumber(r)));return i.compare(l3)===1&&(i=new Fi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=iO(e),[r,i]=sO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=iO(e),[r,i]=sO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ks=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Nu=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new He(he),sn(),_e())}},Ou=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var Ha=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},dg=class{constructor(e,n){this.targetId=e,this.me=n}},hg=class{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},fg=class{constructor(){this.fe=0,this.ge=aO(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Ou(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=aO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Z(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},zE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=sn(),this.qe=oO(),this.Qe=new He(he)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(ag(s))if(r===0){let o=new q(s.path);this.Ue(n,o,_t.newNoDocument(o,ne.min()))}else Z(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}rO?.et(function(d,f,g,y,E){var S,M,V,z,H,ee;let fe={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},Y=f.unchangedNames;return Y&&(fe.bloomFilter={applied:E===0,hashCount:(S=Y?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(z=(V=(M=Y?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&z!==void 0?z:0,padding:(ee=(H=Y?.bits)===null||H===void 0?void 0:H.padding)!==null&&ee!==void 0?ee:0,mightContain:b=>{var v;return(v=y?.mightContain(b))!==null&&v!==void 0&&v}}),fe}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=$i(r).toUint8Array()}catch(c){if(c instanceof ig)return Eu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new HE(o,i,s)}catch(c){return Eu(c instanceof Ks?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&ag(a.target)){let c=new q(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,_t.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Nu(e,n,this.Qe,this.ke,r);return this.ke=sn(),this.qe=oO(),this.Qe=new He(he),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new fg,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ve(he),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fg),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function oO(){return new He(q.comparator)}function aO(){return new He(q.comparator)}var u3={asc:"ASCENDING",desc:"DESCENDING"},d3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},h3={and:"AND",or:"OR"},qE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function GE(t,e){return t.useProto3Json||Jg(e)?e:{value:e}}function Ja(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f3(t,e){return Ja(t,e.toTimestamp())}function zt(t){return Z(!!t),ne.fromTimestamp(function(n){let r=Gr(n);return new nt(r.seconds,r.nanos)}(t))}function fD(t,e){return WE(t,e).canonicalString()}function WE(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EP(t){let e=ke.fromString(t);return Z(MP(e)),e}function pg(t,e){return fD(t.databaseId,e.path)}function Zs(t,e){let n=EP(e);if(n.get(1)!==t.databaseId.projectId)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(CP(n))}function bP(t,e){return fD(t.databaseId,e)}function DP(t){let e=EP(t);return e.length===4?ke.emptyPath():CP(e)}function KE(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function CP(t){return Z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cO(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function p3(t,e,n){let r=Zs(t,e.name),i=zt(e.updateTime),s=e.createTime?zt(e.createTime):ne.min(),o=new $t({mapValue:{fields:e.fields}}),a=_t.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function g3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Z(d===void 0||typeof d=="string"),wt.fromBase64String(d||"")):(Z(d===void 0||d instanceof Buffer||d instanceof Uint8Array),wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?O.UNKNOWN:wP(u.code);return new U(d,u.message||"")}(o);n=new hg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Zs(t,r.document.name),s=zt(r.document.updateTime),o=r.document.createTime?zt(r.document.createTime):ne.min(),a=new $t({mapValue:{fields:r.document.fields}}),c=_t.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Ha(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Zs(t,r.document),s=r.readTime?zt(r.readTime):ne.min(),o=_t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ha([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Zs(t,r.document),s=r.removedTargetIds||[];n=new Ha([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new $E(i,s),a=r.targetId;n=new dg(a,o)}}return n}function gg(t,e){let n;if(e instanceof Ki)n={update:cO(t,e.key,e.value)};else if(e instanceof io)n={delete:pg(t,e.key)};else if(e instanceof Bn)n={update:cO(t,e.key,e.data),updateMask:I3(e.fieldMask)};else{if(!(e instanceof ug))return G();n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof no)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Gi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ro)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:f3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function QE(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?vt.updateTime(zt(s.updateTime)):s.exists!==void 0?vt.exists(s.exists):vt.none()}(e.currentDocument):vt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;if("setToServerValue"in a)Z(a.setToServerValue==="REQUEST_TIME"),c=new no;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Gi(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new Wi(d)}else"increment"in a?c=new ro(o,a.increment):G();let u=ct.fromServerFormat(a.fieldPath);return new jE(u,c)}(t,i)):[];if(e.update){e.update.name;let i=Zs(t,e.update.name),s=new $t({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(c){let u=c.fieldPaths||[];return new rn(u.map(d=>ct.fromServerFormat(d)))}(e.updateMask);return new Bn(i,s,o,n,r)}return new Ki(i,s,n,r)}if(e.delete){let i=Zs(t,e.delete);return new io(i,n)}if(e.verify){let i=Zs(t,e.verify);return new ug(i,n)}return G()}function m3(t,e){return t&&t.length>0?(Z(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zt(i.updateTime):zt(s);return o.isEqual(ne.min())&&(o=zt(s)),new UE(o,i.transformResults||[])}(n,e))):[]}function TP(t,e){return{documents:[bP(t,e.path)]}}function SP(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bP(t,i);let s=function(u){if(u.length!==0)return xP(Oe.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(g){return{field:Va(g.field),direction:v3(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=GE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function AP(t){let e=DP(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Z(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let g=RP(f);return g instanceof Oe&&dD(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(E){return new eo(ja(E.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Jg(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){let g=!!f.before,y=f.values||[];return new zi(y,g)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let g=!f.before,y=f.values||[];return new zi(y,g)}(n.endAt)),iP(e,i,o,s,a,"F",c,u)}function y3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ja(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ja(n.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ja(n.unaryFilter.field);return Ie.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ja(n.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(ja(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oe.create(n.compositeFilter.filters.map(r=>RP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function v3(t){return u3[t]}function _3(t){return d3[t]}function w3(t){return h3[t]}function Va(t){return{fieldPath:t.canonicalString()}}function ja(t){return ct.fromServerFormat(t.fieldPath)}function xP(t){return t instanceof Ie?function(n){if(n.op==="=="){if(qN(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(zN(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qN(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(zN(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:_3(n.op),value:n.value}}}(t):t instanceof Oe?function(n){let r=n.getFilters().map(i=>xP(i));return r.length===1?r[0]:{compositeFilter:{op:w3(n.op),filters:r}}}(t):G()}function I3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ec=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var mg=class{constructor(e){this.ct=e}};function E3(t,e){let n;if(e.document)n=p3(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=q.fromSegments(e.noDocument.path),i=oo(e.noDocument.readTime);n=_t.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return G();{let r=q.fromSegments(e.unknownDocument.path),i=oo(e.unknownDocument.version);n=_t.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new nt(i[0],i[1]);return ne.fromTimestamp(s)}(e.readTime)),n}function lO(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:pg(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Ja(s,o.version.toTimestamp()),createTime:Ja(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:so(e.version)};else{if(!e.isUnknownDocument())return G();r.unknownDocument={path:n.path.toArray(),version:so(e.version)}}return r}function yg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function so(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function oo(t){let e=new nt(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function qs(t,e){let n=(e.baseMutations||[]).map(s=>QE(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>QE(t.ct,s)),i=nt.fromMillis(e.localWriteTimeMs);return new xu(e.batchId,i,n,r)}function gu(t){let e=oo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?oo(t.lastLimboFreeSnapshotVersion):ne.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Z(s.documents.length===1),on(Wu(DP(s.documents[0])))}(t.query):function(s){return on(AP(s))}(t.query),new ec(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,wt.fromBase64String(t.resumeToken))}function NP(t,e){let n=so(e.snapshotVersion),r=so(e.lastLimboFreeSnapshotVersion),i;i=ag(e.target)?TP(t.ct,e.target):SP(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:to(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function OP(t){let e=AP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lg(e,e.limit,"L"):e}function aE(t,e){return new Mu(e.largestBatchId,QE(t.ct,e.overlayMutation))}function uO(t,e){let n=e.path.lastSegment();return[t,Ht(e.path.popLast()),n]}function dO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:so(r.readTime),documentKey:Ht(r.documentKey.path),largestBatchId:r.largestBatchId}}var YE=class{getBundleMetadata(e,n){return hO(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:oo(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return hO(e).put(function(i){return{bundleId:i.id,createTime:so(zt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return fO(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:OP(s.bundledQuery),readTime:oo(s.readTime)}}(r)})}saveNamedQuery(e,n){return fO(e).put(function(i){return{name:i.name,readTime:so(zt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function hO(t){return gt(t,"bundles")}function fO(t){return gt(t,"namedQueries")}var vg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return uu(e).get(uO(this.userId,n)).next(r=>r?aE(this.serializer,r):null)}getOverlays(e,n){let r=gr();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new Mu(n,o);i.push(this.ht(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(Ht(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(uu(e).j("collectionPathOverlayIndex",a))}),x.waitFor(s)}getOverlaysForCollection(e,n,r){let i=gr(),s=Ht(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return uu(e).U("collectionPathOverlayIndex",o).next(a=>{for(let c of a){let u=aE(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=gr(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return uu(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,d)=>{let f=aE(this.serializer,u);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return uu(e).put(function(i,s,o){let[a,c,u]=uO(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:gg(i.ct,o.mutation)}}(this.serializer,this.userId,n))}};function uu(t){return gt(t,"documentOverlays")}var qr=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Qe(e.integerValue));else if("doubleValue"in e){let r=Qe(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Du(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Gr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft($i(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?ZO(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):G()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};qr.bt=new qr;function b3(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function pO(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=b3(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var ZE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{let i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{let i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){let n=this.Bt(e),r=pO(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){let n=this.Bt(e),r=pO(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},XE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},JE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},Gs=class{constructor(){this.Gt=new ZE,this.zt=new XE(this.Gt),this.jt=new JE(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Ws=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Li(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=gO(t.arrayValue,e.arrayValue),n!==0?n:(n=gO(t.directionalValue,e.directionalValue),n!==0?n:q.comparator(t.documentKey,e.documentKey)))}function gO(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var _g=class{constructor(e){this.Yt=new Ve((n,r)=>ct.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Z(e.collectionGroup===this.collectionId),this.en)return!1;let n=wE(e);if(n!==void 0&&!this.nn(n))return!1;let r=Hs(e),i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[s];if(!this.rn(a,c)||!this.sn(this.Zt[o++],c))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Ve(ct.comparator),n=[];for(let r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new $a(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new $a(r.field,0))}for(let r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new $a(r.field,r.dir==="asc"?0:1)));return new Ga(Ga.UNKNOWN_ID,this.collectionId,n,bu.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function PP(t){var e,n;if(Z(t instanceof Ie||t instanceof Oe),t instanceof Ie){if(t instanceof og){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ie.create(t.field,"==",s)))||[];return Oe.create(i,"or")}return t}let r=t.filters.map(i=>PP(i));return Oe.create(r,t.op)}function D3(t){if(t.getFilters().length===0)return[];let e=nb(PP(t));return Z(kP(e)),eb(e)||tb(e)?[e]:e.getFilters()}function eb(t){return t instanceof Ie}function tb(t){return t instanceof Oe&&dD(t)}function kP(t){return eb(t)||tb(t)||function(n){if(n instanceof Oe&&AE(n)){for(let r of n.getFilters())if(!eb(r)&&!tb(r))return!1;return!0}return!1}(t)}function nb(t){if(Z(t instanceof Ie||t instanceof Oe),t instanceof Ie)return t;if(t.filters.length===1)return nb(t.filters[0]);let e=t.filters.map(r=>nb(r)),n=Oe.create(e,t.op);return n=wg(n),kP(n)?n:(Z(n instanceof Oe),Z(Ya(n)),Z(n.filters.length>1),n.filters.reduce((r,i)=>pD(r,i)))}function pD(t,e){let n;return Z(t instanceof Ie||t instanceof Oe),Z(e instanceof Ie||e instanceof Oe),n=t instanceof Ie?e instanceof Ie?function(i,s){return Oe.create([i,s],"and")}(t,e):mO(t,e):e instanceof Ie?mO(e,t):function(i,s){if(Z(i.filters.length>0&&s.filters.length>0),Ya(i)&&Ya(s))return tP(i,s.getFilters());let o=AE(i)?i:s,a=AE(i)?s:i,c=o.filters.map(u=>pD(u,a));return Oe.create(c,"or")}(t,e),wg(n)}function mO(t,e){if(Ya(e))return tP(e,t.getFilters());{let n=e.filters.map(r=>pD(t,r));return Oe.create(n,"or")}}function wg(t){if(Z(t instanceof Ie||t instanceof Oe),t instanceof Ie)return t;let e=t.getFilters();if(e.length===1)return wg(e[0]);if(JO(t))return t;let n=e.map(i=>wg(i)),r=[];return n.forEach(i=>{i instanceof Ie?r.push(i):i instanceof Oe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Oe.create(r,t.op)}var rb=class{constructor(){this._n=new Pu}addToCollectionParentIndex(e,n){return this._n.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(bn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(bn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Pu=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(ke.comparator)).toArray()}};var zp=new Uint8Array(0),ib=class{constructor(e,n){this.databaseId=n,this.an=new Pu,this.un=new vr(r=>to(r),(r,i)=>Gu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let s={collectionId:r,parent:Ht(i)};return yO(e).put(s)}return x.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[jO(n),""],!1,!0);return yO(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(pr(o.parent))}return r})}addFieldIndex(e,n){let r=du(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=Pa(e);return s.next(a=>{o.put(dO(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=du(e),i=Pa(e),s=Oa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=du(e),r=Oa(e),i=Pa(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return x.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new _g(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=Oa(e),i=!0,s=new Map;return x.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=_e(),a=[];return x.forEach(s,(c,u)=>{F("IndexedDbIndexManager",`Using index ${function(H){return`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(ee=>`${ee.fieldPath}:${ee.kind}`).join(",")}`}(c)} to execute ${to(n)}`);let d=function(H,ee){let fe=wE(ee);if(fe===void 0)return null;for(let Y of cg(H,fe.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null}(u,c),f=function(H,ee){let fe=new Map;for(let Y of Hs(ee))for(let b of cg(H,Y.fieldPath))switch(b.op){case"==":case"in":fe.set(Y.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return fe.set(Y.fieldPath.canonicalString(),b.value),Array.from(fe.values())}return null}(u,c),g=function(H,ee){let fe=[],Y=!0;for(let b of Hs(ee)){let v=b.kind===0?YN(H,b.fieldPath,H.startAt):ZN(H,b.fieldPath,H.startAt);fe.push(v.value),Y&&(Y=v.inclusive)}return new zi(fe,Y)}(u,c),y=function(H,ee){let fe=[],Y=!0;for(let b of Hs(ee)){let v=b.kind===0?ZN(H,b.fieldPath,H.endAt):YN(H,b.fieldPath,H.endAt);fe.push(v.value),Y&&(Y=v.inclusive)}return new zi(fe,Y)}(u,c),E=this.hn(c,u,g),S=this.hn(c,u,y),M=this.Pn(c,u,f),V=this.In(c.indexId,d,E,g.inclusive,S,y.inclusive,M);return x.forEach(V,z=>r.G(z,n.limit).next(H=>{H.forEach(ee=>{let fe=q.fromSegments(ee.documentKey);o.has(fe)||(o=o.add(fe),a.push(fe))})}))}).next(()=>a)}return x.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=D3(Oe.create(e.filters,"and")).map(r=>LE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){let c=(n!=null?n.length:1)*Math.max(r.length,s.length),u=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){let g=n?this.Tn(n[f/u]):zp,y=this.En(e,g,r[f%u],i),E=this.dn(e,g,s[f%u],o),S=a.map(M=>this.En(e,g,M,!0));d.push(...this.createRange(y,E,S))}return d}En(e,n,r,i){let s=new Ws(e,q.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){let s=new Ws(e,q.empty(),n,r);return i?s.Jt():s}ln(e,n){let r=new _g(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.cn(n);return x.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let u=new Ve(ct.comparator),d=!1;for(let f of c.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:u=u.add(g.field));for(let f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){let r=new Gs;for(let i of Hs(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.Ht(i.kind);qr.bt.Pt(s,o)}return r.Wt()}Tn(e){let n=new Gs;return qr.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let r=new Gs;return qr.bt.Pt(Au(this.databaseId,n),r.Ht(function(s){let o=Hs(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Gs);let s=0;for(let o of Hs(e)){let a=r[s++];for(let c of i)if(this.Vn(n,o.fieldPath)&&Ru(a))i=this.mn(i,o,a);else{let u=c.Ht(o.kind);qr.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let c=new Gs;c.seed(a.Wt()),qr.bt.Pt(o,c.Ht(n.kind)),s.push(c)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=du(e),i=Pa(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{let o=[];return x.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(d,f){let g=f?new bu(f.sequenceNumber,new bn(oo(f.readTime),new q(pr(f.documentKey)),f.largestBatchId)):bu.empty(),y=d.fields.map(([E,S])=>new $a(ct.fromServerFormat(E),S));return new Ga(d.indexId,d.collectionGroup,y,g)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:he(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=du(e),s=Pa(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>x.forEach(a,c=>s.put(dO(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){let r=new Map;return x.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?x.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,c=>this.pn(e,i,c).next(u=>{let d=this.yn(s,c);return u.isEqual(d)?x.resolve():this.wn(e,s,c,u,d)}))))})}Sn(e,n,r,i){return Oa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Oa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){let i=Oa(e),s=new Ve(Li);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Ws(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new Ve(Li),i=this.An(n,e);if(i==null)return r;let s=wE(n);if(s!=null){let o=e.data.field(s.fieldPath);if(Ru(o))for(let a of o.arrayValue.values||[])r=r.add(new Ws(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Ws(n.indexId,e.key,zp,i));return r}wn(e,n,r,i,s){F("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(c,u,d,f,g){let y=c.getIterator(),E=u.getIterator(),S=Na(y),M=Na(E);for(;S||M;){let V=!1,z=!1;if(S&&M){let H=d(S,M);H<0?z=!0:H>0&&(V=!0)}else S!=null?z=!0:V=!0;V?(f(M),M=Na(E)):z?(g(S),S=Na(y)):(S=Na(y),M=Na(E))}}(i,s,Li,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),x.waitFor(o)}gn(e){let n=1;return Pa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Li(o,a)).filter((o,a,c)=>!a||Li(o,c[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Li(o,e),c=Li(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&c<0)i.push(o),i.push(o.Jt());else if(c>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,zp,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,zp,[]];s.push(IDBKeyRange.bound(a,c))}return s}Dn(e,n){return Li(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(vO)}getMinOffset(e,n){return x.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||G())).next(vO)}};function yO(t){return gt(t,"collectionParents")}function Oa(t){return gt(t,"indexEntries")}function du(t){return gt(t,"indexConfiguration")}function Pa(t){return gt(t,"indexState")}function vO(t){Z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;aD(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bn(e.readTime,e.documentKey,n)}var _O={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},In=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function FP(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.J({range:o},(d,f,g)=>(a++,g.delete()));s.push(c.next(()=>{Z(a===1)}));let u=[];for(let d of n.mutations){let f=qO(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return x.waitFor(s).next(()=>u)}function Ig(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw G();e=t.noDocument}return JSON.stringify(e).length}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);var Eg=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Z(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=Ua(e),o=Vi(e);return o.add({}).next(a=>{Z(typeof a=="number");let c=new xu(a,n,r,i),u=function(y,E,S){let M=S.baseMutations.map(z=>gg(y.ct,z)),V=S.mutations.map(z=>gg(y.ct,z));return{userId:E,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:M,mutations:V}}(this.serializer,this.userId,c),d=[],f=new Ve((g,y)=>he(g.canonicalString(),y.canonicalString()));for(let g of i){let y=qO(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(o.put(u)),d.push(s.put(y,A9))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),x.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return Vi(e).get(n).next(r=>r?(Z(r.userId===this.userId),qs(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?x.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Vi(e).J({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(Z(a.batchId>=r),s=qs(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Vi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vi(e).U("userMutationsIndex",n).next(r=>r.map(i=>qs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=Kp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ua(e).J({range:i},(o,a,c)=>{let[u,d,f]=o,g=pr(d);if(u===this.userId&&n.path.isEqual(g))return Vi(e).get(f).next(y=>{if(!y)throw G();Z(y.userId===this.userId),s.push(qs(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(he),i=[];return n.forEach(s=>{let o=Kp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=Ua(e).J({range:a},(u,d,f)=>{let[g,y,E]=u,S=pr(y);g===this.userId&&s.path.isEqual(S)?r=r.add(E):f.done()});i.push(c)}),x.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=Kp(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ve(he);return Ua(e).J({range:o},(c,u,d)=>{let[f,g,y]=c,E=pr(g);f===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(y)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(Vi(e).get(s).next(o=>{if(o===null)throw G();Z(o.userId===this.userId),r.push(qs(this.serializer,o))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return FP(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return x.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ua(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let c=pr(s[1]);i.push(c)}else a.done()}).next(()=>{Z(i.length===0)})})}containsKey(e,n){return LP(e,this.userId,n)}xn(e){return VP(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function LP(t,e,n){let r=Kp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ua(t).J({range:s,H:!0},(a,c,u)=>{let[d,f,g]=a;d===e&&f===i&&(o=!0),u.done()}).next(()=>o)}function Vi(t){return gt(t,"mutations")}function Ua(t){return gt(t,"documentMutations")}function VP(t){return gt(t,"mutationQueues")}var tc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var sb=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new tc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ne.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ka(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Z(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0,s=[];return ka(e).J((o,a)=>{let c=gu(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>x.waitFor(s)).next(()=>i)}forEachTarget(e,n){return ka(e).J((r,i)=>{let s=gu(i);n(s)})}Bn(e){return wO(e).get("targetGlobalKey").next(n=>(Z(n!==null),n))}kn(e,n){return wO(e).put("targetGlobalKey",n)}qn(e,n){return ka(e).put(NP(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=to(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ka(e).J({range:i,index:"queryTargetsIndex"},(o,a,c)=>{let u=gu(a);Gu(n,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=ji(e);return n.forEach(o=>{let a=Ht(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),x.waitFor(i)}removeMatchingKeys(e,n,r){let i=ji(e);return x.forEach(n,s=>{let o=Ht(s.path);return x.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=ji(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ji(e),s=_e();return i.J({range:r,H:!0},(o,a,c)=>{let u=pr(o[1]),d=new q(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){let r=Ht(n.path),i=IDBKeyRange.bound([r],[jO(r)],!1,!0),s=0;return ji(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,n){return ka(e).get(n).next(r=>r?gu(r):null)}};function ka(t){return gt(t,"targets")}function wO(t){return gt(t,"targetGlobal")}function ji(t){return gt(t,"targetDocuments")}function IO([t,e],[n,r]){let i=he(t,n);return i===0?he(e,r):i}var ob=class{constructor(e){this.Kn=e,this.buffer=new Ve(IO),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();IO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ab=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zi(n)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Yi(n)}yield this.zn(3e5)}))}},cb=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(nn.oe);let r=new ob(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(_O)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_O):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),Fa()<=we.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function C3(t,e){return new cb(t,e)}var lb=class{constructor(e,n){this.db=e,this.garbageCollector=C3(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return qp(e,r)}removeReference(e,n,r){return qp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return qp(e,n)}er(e,n){return function(i,s){let o=!1;return VP(i).Y(a=>LP(i,a,s).next(c=>(c&&(o=!0),x.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.Xn(e,(o,a)=>{if(a<=n){let c=this.er(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ne.min()),ji(e).delete(function(f){return[0,Ht(f.path)]}(o))))});i.push(c)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return qp(e,n)}Xn(e,n){let r=ji(e),i,s=nn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:u})=>{o===0?(s!==nn.oe&&n(new q(pr(i)),s),s=u,i=c):s=nn.oe}).next(()=>{s!==nn.oe&&n(new q(pr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function qp(t,e){return ji(t).put(function(r,i){return{targetId:0,path:Ht(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var bg=class{constructor(){this.changes=new vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ub=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return $s(e).put(r)}removeEntry(e,n,r){return $s(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],yg(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=_t.newInvalidDocument(n);return $s(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hu(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:_t.newInvalidDocument(n)};return $s(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hu(n))},(i,s)=>{r={document:this.nr(n,s),size:Ig(s)}}).next(()=>r)}getEntries(e,n){let r=sn();return this.ir(e,n,(i,s)=>{let o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=sn(),i=new He(q.comparator);return this.ir(e,n,(s,o)=>{let a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,Ig(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return x.resolve();let i=new Ve(DO);n.forEach(c=>i=i.add(c));let s=IDBKeyRange.bound(hu(i.first()),hu(i.last())),o=i.getIterator(),a=o.getNext();return $s(e).J({index:"documentKeyIndex",range:s},(c,u,d)=>{let f=q.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&DO(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(hu(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),yg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $s(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{s?.incrementDocumentReadCount(u.length);let d=sn();for(let f of u){let g=this.nr(q.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(Ku(n,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=sn(),o=bO(n,r),a=bO(n,bn.max());return $s(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,u,d)=>{let f=this.nr(q.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new db(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return EO(e).get("remoteDocumentGlobalKey").next(n=>(Z(!!n),n))}tr(e,n){return EO(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let r=E3(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return _t.newInvalidDocument(e)}};function jP(t){return new ub(t)}var db=class extends bg{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new vr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new Ve((s,o)=>he(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){let c=lO(this.ar.serializer,o);i=i.add(s.path.popLast());let u=Ig(c);r+=u-a.size,n.push(this.ar.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){let c=lO(this.ar.serializer,o.convertToNoDocument(ne.min()));n.push(this.ar.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),x.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function EO(t){return gt(t,"remoteDocumentGlobal")}function $s(t){return gt(t,"remoteDocumentsV14")}function hu(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function bO(t,e){let n=e.documentKey.path.toArray();return[t,yg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function DO(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=he(n[s],r[s]),i)return i;return i=he(n.length,r.length),i||(i=he(n[n.length-2],r[r.length-2]),i||he(n[n.length-1],r[r.length-1]))}var hb=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Dg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_u(r.mutation,i,rn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=gr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=pu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=sn(),o=vu(),a=function(){return vu()}();return n.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Bn)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),_u(d.mutation,u,d.mutation.getFieldMask(),nt.now())):o.set(u.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new hb(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=vu(),i=new He((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=r.get(c)||rn.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=dP();d.forEach(g=>{if(!s.has(g)){let y=vP(n.get(g),r.get(g));y!==null&&f.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(gr()),a=-1,c=s;return o.next(u=>x.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?x.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,_e())).next(d=>({batchId:a,changes:uP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=pu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=pu();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,c=>{let u=function(f,g){return new qi(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,_t.newInvalidDocument(d)))});let a=pu();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&_u(d.mutation,u,rn.empty(),nt.now()),Ku(n,u)&&(a=a.insert(c,u))}),a})}};var fb=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return x.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zt(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:OP(i.bundledQuery),readTime:zt(i.readTime)}}(n)),x.resolve()}};var pb=class{constructor(){this.overlays=new He(q.comparator),this.hr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=gr();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=gr(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=gr(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=gr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mu(n,r));let s=this.hr.get(n);s===void 0&&(s=_e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var ku=class{constructor(){this.Pr=new Ve(ot.Ir),this.Tr=new Ve(ot.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new ot(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ot(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new q(new ke([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new q(new ke([])),r=new ot(n,e),i=new ot(n,e+1),s=_e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ot(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ot=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return q.comparator(e.key,n.key)||he(e.pr,n.pr)}static Er(e,n){return he(e.pr,n.pr)||q.comparator(e.key,n.key)}};var gb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ve(ot.Ir)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new xu(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(he);return n.forEach(i=>{let s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),x.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new ot(new q(s),0),a=new Ve(he);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),x.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Z(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return x.forEach(n.mutations,i=>{let s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new ot(n,0),i=this.wr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var mb=class{constructor(e){this.vr=e,this.docs=function(){return new He(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=sn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=sn(),o=n.path,a=new q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aD(BO(d),r)<=0||(i.has(d.key)||Ku(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Fr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yb(this)}getSize(e){return x.resolve(this.size)}},yb=class extends bg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var vb=class{constructor(e){this.persistence=e,this.Mr=new vr(n=>to(n),Gu),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ku,this.targetCount=0,this.Lr=tc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),x.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new tc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.qn(n),x.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Nr.containsKey(n))}};var Cg=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new nn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new vb(this),this.indexManager=new rb,this.remoteDocumentCache=function(i){return new mb(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new mg(n),this.$r=new fb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new gb(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new _b(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},_b=class extends tg{constructor(e){super(),this.currentSequenceNumber=e}},Tg=class t{constructor(e){this.persistence=e,this.zr=new ku,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw G()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),x.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Jr,r=>{let i=q.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return x.or([()=>x.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var wb=class{constructor(e){this.serializer=e}O(e,n,r,i){let s=new ng("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BN,{unique:!0}),c.createObjectStore("documentMutations")}(e),CO(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=x.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),CO(e)),o=o.next(()=>function(c){let u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,u){return u.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",BN,{unique:!0});let f=u.store("mutations"),g=d.map(y=>f.put(y));return x.waitFor(g)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:U9});u.createIndex("collectionPathOverlayIndex",B9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",$9,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:R9});u.createIndex("documentKeyIndex",x9),u.createIndex("collectionGroupIndex",M9)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:F9}).createIndex("sequenceNumberIndex",L9,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:V9}).createIndex("documentKeyIndex",j9,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=Ig(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>x.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>x.forEach(a,c=>{Z(c.userId===s.userId);let u=qs(this.serializer,c);return FP(e,s.userId,u).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let c=new ke(o),u=function(f){return[0,Ht(f)]}(c);s.push(n.get(u).next(d=>d?x.resolve():(f=>n.put({targetId:0,path:Ht(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>x.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:k9});let r=n.store("collectionParents"),i=new Pu,s=o=>{if(i.add(o)){let a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:Ht(c)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let c=new ke(o);return s(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,c],u)=>{let d=pr(a);return s(d.popLast())}))}ri(e){let n=e.store("targets");return n.J((r,i)=>{let s=gu(i),o=NP(this.serializer,s);return n.put(o)})}ii(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new q(ke.fromString(f.document.name).popFirst(5)):f.noDocument?q.fromSegments(f.noDocument.path):f.unknownDocument?q.fromSegments(f.unknownDocument.path):G()}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>x.waitFor(i))}si(e,n){let r=n.store("mutations"),i=jP(this.serializer),s=new Cg(Tg.Hr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(c=>{var u;let d=(u=a.get(c.userId))!==null&&u!==void 0?u:_e();qs(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),x.forEach(a,(c,u)=>{let d=new pt(u),f=vg.lt(this.serializer,d),g=s.getIndexManager(d),y=Eg.lt(d,this.serializer,g,s.referenceDelegate);return new Dg(i,y,f,g).recalculateAndSaveOverlaysForDocumentKeys(new Cu(n,nn.oe),c).next()})})}};function CO(t){t.createObjectStore("targetDocuments",{keyPath:O9}).createIndex("documentTargetsIndex",P9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",N9,{unique:!0}),t.createObjectStore("targetGlobal")}var cE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ib=class t{constructor(e,n,r,i,s,o,a,c,u,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=u,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=g=>Promise.resolve(),!t.D())throw new U(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lb(this,i),this.Ti=n+"main",this.serializer=new mg(c),this.Ei=new Wa(this.Ti,this.ui,new wb(this.serializer)),this.Qr=new sb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jP(this.serializer),this.$r=new YE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&tt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new U(O.FAILED_PRECONDITION,cE);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new nn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>_(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>_(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>_(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Gp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Zi(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return fu(e).get("owner").next(n=>x.resolve(this.Si(n)))}bi(e){return Gp(e).delete(this.clientId)}Di(){return _(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=gt(n,"clientMetadata");return r.U().next(i=>{let s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return x.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?x.resolve(!0):fu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new U(O.FAILED_PRECONDITION,cE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Gp(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&F("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return _(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Cu(e,nn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Gp(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Eg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ib(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return vg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){F("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===16?z9:c===15?QO:c===14?KO:c===13?WO:c===12?H9:c===11?GO:void G()}(this.ui),o;return this.Ei.runTransaction(e,i,s,a=>(o=new Cu(a,this.kr?this.kr.next():nn.oe),n==="readwrite-primary"?this.gi(o).next(c=>!!c||this.pi(o)).next(c=>{if(!c)throw tt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new U(O.FAILED_PRECONDITION,$O);return r(o)}).next(c=>this.wi(o).next(()=>c)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return fu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new U(O.FAILED_PRECONDITION,cE)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fu(e).put("owner",n)}static D(){return Wa.D()}yi(e){let n=fu(e);return n.get("owner").next(r=>this.Si(r)?(F("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):x.resolve())}Ci(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(tt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;Kw()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){tt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function fu(t){return gt(t,"owner")}function Gp(t){return gt(t,"clientMetadata")}function UP(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Eb=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var bb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Sg=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Kw()?8:HO(Ke())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new bb;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Fa()<=we.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",La(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),x.resolve()):(Fa()<=we.DEBUG&&F("QueryEngine","Query:",La(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Fa()<=we.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",La(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(n))):x.resolve())}ji(e,n){if(XN(n))return x.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lg(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=_e(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,lg(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return XN(n)||i.isEqual(ne.min())?x.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?x.resolve(null):(Fa()<=we.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(n)),this.es(e,o,n,UO(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ve(cP(e));return n.forEach((i,s)=>{Ku(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Fa()<=we.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",La(n)),this.zi.getDocumentsMatchingQuery(e,n,bn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Db=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new He(he),this.rs=new vr(s=>to(s),Gu),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function BP(t,e,n,r){return new Db(t,e,n,r)}function $P(t,e){return _(this,null,function*(){let n=W(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=_e();for(let u of i){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function T3(t,e){let n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,g=f.keys(),y=x.resolve();return g.forEach(E=>{y=y.next(()=>d.getEntry(c,E)).next(S=>{let M=u.docVersions.get(E);Z(M!==null),S.version.compareTo(M)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HP(t){let e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function S3(t,e){let n=W(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(wt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(S,M,V){return S.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,d)&&a.push(n.Qr.updateTargetData(s,y))});let c=sn(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(A3(s,o,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!r.isEqual(ne.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function A3(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=sn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function R3(t,e){let n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ag(t,e){let n=W(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ec(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function nc(t,e,n){return _(this,null,function*(){let r=W(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Zi(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function Rg(t,e,n){let r=W(t),i=ne.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let f=W(c),g=f.rs.get(d);return g!==void 0?x.resolve(f.ns.get(g)):f.Qr.getTargetData(u,d)}(r,o,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:_e())).next(a=>(GP(r,aP(e),a),{documents:a,hs:s})))}function zP(t,e){let n=W(t),r=W(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function qP(t,e){let n=W(t),r=n.ss.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,UO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(GP(n,e,i),i))}function GP(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}function TO(t,e){return`firestore_clients_${t}_${e}`}function SO(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function lE(t,e){return`firestore_targets_${t}_${e}`}var xg=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new U(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(tt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},wu=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new U(r.error.code,r.error.message))),s?new t(e,r.state,i):(tt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Mg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=hD();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=zO(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(tt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},Cb=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(tt("SharedClientState",`Failed to parse online state: ${e}`),null)}},Fu=class{constructor(){this.activeTargetIds=hD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Iu=class{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new He(he),this.started=!1,this.ys=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=TO(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Fu),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return _(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Vs)continue;let i=this.getItem(TO(this.persistenceKey,r));if(i){let s=Mg.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let r=this.xs(n);r&&this.Os(r)}for(let r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(lE(this.persistenceKey,e));if(r){let i=wu.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(lE(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return F("SharedClientState","READ",e,n),n}setItem(e,n){F("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(F("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>_(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let r=this.$s(n.key);return this.Us(r,null)}{let r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){let r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){let r=function(s){let o=nn.oe;if(s!=null)try{let a=JSON.parse(s);Z(typeof a=="number"),o=a}catch(a){tt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==nn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){let r=this.Js(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){let i=new xg(this.currentUser,e,n,r),s=SO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){let n=SO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){let i=lE(this.persistenceKey,e),s=new wu(e,n,r);this.setItem(i,s.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let r=this.$s(e);return Mg.Es(r,n)}Gs(e,n){let r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return xg.Es(new pt(s),i,n)}js(e,n){let r=this.Cs.exec(e),i=Number(r[1]);return wu.Es(i,n)}xs(e){return Cb.Es(e)}Js(e){return JSON.parse(e)}zs(e){return _(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=hD();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Ng=class{constructor(){this.no=new Fu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Fu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Tb=class{io(e){}shutdown(){}};var Og=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wp=null;function uE(){return Wp===null?Wp=function(){return 268435456+Math.round(2147483648*Math.random())}():Wp++,"0x"+Wp.toString(16)}var x3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Sb=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Mt="WebChannelConnection",Ab=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let a=uE(),c=this.vo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,i).then(d=>(F("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Eu("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=x3[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=uE();return new Promise((o,a)=>{let c=new tE;c.setWithCredentials(!0),c.listenOnce(rE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case lu.NO_ERROR:let d=c.getResponseJson();F(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case lu.TIMEOUT:F(Mt,`RPC '${e}' ${s} timed out`),a(new U(O.DEADLINE_EXCEEDED,"Request time out"));break;case lu.HTTP_ERROR:let f=c.getStatus();if(F(Mt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let E=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(V)>=0?V:O.UNKNOWN}(y.status);a(new U(E,y.message))}else a(new U(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new U(O.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{F(Mt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);F(Mt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Oo(e,n,r){let i=uE(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oE(),a=sE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new nE({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=s.join("");F(Mt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=o.createWebChannel(d,c),g=!1,y=!1,E=new Sb({lo:M=>{y?F(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(g||(F(Mt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),F(Mt,`RPC '${e}' stream ${i} sending:`,M),f.send(M))},ho:()=>f.close()}),S=(M,V,z)=>{M.listen(V,H=>{try{z(H)}catch(ee){setTimeout(()=>{throw ee},0)}})};return S(f,Ma.EventType.OPEN,()=>{y||(F(Mt,`RPC '${e}' stream ${i} transport opened.`),E.mo())}),S(f,Ma.EventType.CLOSE,()=>{y||(y=!0,F(Mt,`RPC '${e}' stream ${i} transport closed`),E.po())}),S(f,Ma.EventType.ERROR,M=>{y||(y=!0,Eu(Mt,`RPC '${e}' stream ${i} transport errored:`,M),E.po(new U(O.UNAVAILABLE,"The operation could not be completed")))}),S(f,Ma.EventType.MESSAGE,M=>{var V;if(!y){let z=M.data[0];Z(!!z);let H=z,ee=H.error||((V=H[0])===null||V===void 0?void 0:V.error);if(ee){F(Mt,`RPC '${e}' stream ${i} received error:`,ee);let fe=ee.status,Y=function(w){let D=st[w];if(D!==void 0)return wP(D)}(fe),b=ee.message;Y===void 0&&(Y=O.INTERNAL,b="Unknown error status: "+fe+" with message "+ee.message),y=!0,E.po(new U(Y,b)),f.close()}else F(Mt,`RPC '${e}' stream ${i} received:`,z),E.yo(z)}}),S(a,iE.STAT_EVENT,M=>{M.stat===Hp.PROXY?F(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Hp.NOPROXY&&F(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}};function WP(){return typeof window<"u"?window:null}function Xp(){return typeof document<"u"?document:null}function tm(t){return new qE(t,!0)}var Pg=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var kg=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Pg(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return _(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return _(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return _(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(tt(n.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new U(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>_(this,null,function*(){this.state=0,this.start()}))}c_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Rb=class extends kg{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=g3(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?zt(o.readTime):ne.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=KE(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=ag(c)?{documents:TP(s,c)}:{query:SP(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IP(s,o.resumeToken);let u=GE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Ja(s,o.snapshotVersion.toTimestamp());let u=GE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=y3(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=KE(this.serializer),n.removeTarget=e,this.i_(n)}},xb=class extends kg{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=m3(e.writeResults,e.commitTime),r=zt(e.commitTime);return this.listener.A_(r,n)}return Z(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=KE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>gg(this.serializer,r))};this.i_(n)}};var Mb=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,WE(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(O.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,WE(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(O.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Nb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(tt(n),this.y_=!1):F("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Ob=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>_(this,null,function*(){lo(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let u=W(c);u.M_.add(4),yield Qu(u),u.N_.set("Unknown"),u.M_.delete(4),yield nm(u)})}(this))}))}),this.N_=new Nb(r,i)}};function nm(t){return _(this,null,function*(){if(lo(t))for(let e of t.x_)yield e(!0)})}function Qu(t){return _(this,null,function*(){for(let e of t.x_)yield e(!1)})}function rm(t,e){let n=W(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),yD(n)?mD(n):cc(n).Xo()&&gD(n,e))}function rc(t,e){let n=W(t),r=cc(n);n.F_.delete(e),r.Xo()&&KP(n,e),n.F_.size===0&&(r.Xo()?r.n_():lo(n)&&n.N_.set("Unknown"))}function gD(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cc(t).P_(e)}function KP(t,e){t.L_.xe(e),cc(t).I_(e)}function mD(t){t.L_=new zE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),cc(t).start(),t.N_.w_()}function yD(t){return lo(t)&&!cc(t).Zo()&&t.F_.size>0}function lo(t){return W(t).M_.size===0}function QP(t){t.L_=void 0}function M3(t){return _(this,null,function*(){t.N_.set("Online")})}function N3(t){return _(this,null,function*(){t.F_.forEach((e,n)=>{gD(t,e)})})}function O3(t,e){return _(this,null,function*(){QP(t),yD(t)?(t.N_.D_(e),mD(t)):t.N_.set("Unknown")})}function P3(t,e,n){return _(this,null,function*(){if(t.N_.set("Online"),e instanceof hg&&e.state===2&&e.cause)try{yield function(i,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Fg(t,r)}else if(e instanceof Ha?t.L_.Ke(e):e instanceof dg?t.L_.He(e):t.L_.We(e),!n.isEqual(ne.min()))try{let r=yield HP(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(u);d&&s.F_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),KP(s,c);let f=new ec(d.target,c,u,d.sequenceNumber);gD(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Fg(t,r)}})}function Fg(t,e,n){return _(this,null,function*(){if(!Zi(e))throw e;t.M_.add(1),yield Qu(t),t.N_.set("Offline"),n||(n=()=>HP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield nm(t)}))})}function YP(t,e){return e().catch(n=>Fg(t,n,e))}function ac(t){return _(this,null,function*(){let e=W(t),n=Qi(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;k3(e);)try{let i=yield R3(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,F3(e,i)}catch(i){yield Fg(e,i)}ZP(e)&&XP(e)})}function k3(t){return lo(t)&&t.v_.length<10}function F3(t,e){t.v_.push(e);let n=Qi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function ZP(t){return lo(t)&&!Qi(t).Zo()&&t.v_.length>0}function XP(t){Qi(t).start()}function L3(t){return _(this,null,function*(){Qi(t).V_()})}function V3(t){return _(this,null,function*(){let e=Qi(t);for(let n of t.v_)e.d_(n.mutations)})}function j3(t,e,n){return _(this,null,function*(){let r=t.v_.shift(),i=BE.from(r,e,n);yield YP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield ac(t)})}function U3(t,e){return _(this,null,function*(){e&&Qi(t).E_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return a3(o)&&o!==O.ABORTED}(i.code)){let s=r.v_.shift();Qi(r).t_(),yield YP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield ac(r)}})}(t,e)),ZP(t)&&XP(t)})}function AO(t,e){return _(this,null,function*(){let n=W(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=lo(n);n.M_.add(3),yield Qu(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield nm(n)})}function Pb(t,e){return _(this,null,function*(){let n=W(t);e?(n.M_.delete(2),yield nm(n)):e||(n.M_.add(2),yield Qu(n),n.N_.set("Unknown"))})}function cc(t){return t.B_||(t.B_=function(n,r,i){let s=W(n);return s.f_(),new Rb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:M3.bind(null,t),To:N3.bind(null,t),Ao:O3.bind(null,t),h_:P3.bind(null,t)}),t.x_.push(e=>_(this,null,function*(){e?(t.B_.t_(),yD(t)?mD(t):t.N_.set("Unknown")):(yield t.B_.stop(),QP(t))}))),t.B_}function Qi(t){return t.k_||(t.k_=function(n,r,i){let s=W(n);return s.f_(),new xb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:L3.bind(null,t),Ao:U3.bind(null,t),R_:V3.bind(null,t),A_:j3.bind(null,t)}),t.x_.push(e=>_(this,null,function*(){e?(t.k_.t_(),yield ac(t)):(yield t.k_.stop(),t.v_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var kb=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function im(t,e){if(tt("AsyncQueue",`${e}: ${t}`),Zi(t))return new U(O.UNAVAILABLE,`${e}: ${t}`);throw t}var Lg=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=pu(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Vg=class{constructor(){this.q_=new He(q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):G():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},ic=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Lg.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Fb=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Lb=class{constructor(){this.queries=new vr(e=>oP(e),em),this.onlineState="Unknown",this.z_=new Set}};function JP(t,e){return _(this,null,function*(){let n=W(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Fb,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=im(o,`Initialization of query '${La(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&vD(n)})}function ek(t,e){return _(this,null,function*(){let n=W(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function B3(t,e){let n=W(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&vD(n)}function $3(t,e,n){let r=W(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function vD(t){t.z_.forEach(e=>{e.next()})}var Vb,RO;(RO=Vb||(Vb={})).J_="default",RO.Cache="cache";var jg=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ic(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ic.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Vb.Cache}};var Ug=class{constructor(e){this.key=e}},Bg=class{constructor(e){this.key=e}},$g=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=cP(e),this.Ta=new Lg(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new Vg,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),y=Ku(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;g&&y?g.data.isEqual(y.data)?E!==S&&(r.track({type:3,doc:y}),M=!0):this.Ra(g,y)||(r.track({type:2,doc:y}),M=!0,(c&&this.Ia(y,c)>0||u&&this.Ia(y,u)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),M=!0):g&&!y&&(r.track({type:1,doc:g}),M=!0,(c||u)&&(a=!0)),M&&(y?(o=o.add(y),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,f)=>function(y,E){let S=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return S(y)-S(E)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new ic(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Vg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Bg(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Ug(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ic.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},jb=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Ub=class{constructor(e){this.key=e,this.wa=!1}},Bb=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new vr(a=>oP(a),em),this.Da=new Map,this.Ca=new Set,this.va=new He(q.comparator),this.Fa=new Map,this.Ma=new ku,this.xa={},this.Oa=new Map,this.Na=tc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function H3(t,e,n=!0){return _(this,null,function*(){let r=sm(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield tk(r,e,n,!0),i})}function z3(t,e){return _(this,null,function*(){let n=sm(t);yield tk(n,e,!0,!1)})}function tk(t,e,n,r){return _(this,null,function*(){let i=yield Ag(t.localStore,on(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield _D(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&rm(t.remoteStore,i),a})}function _D(t,e,n,r,i){return _(this,null,function*(){t.Ba=(f,g,y)=>function(S,M,V,z){return _(this,null,function*(){let H=M.view.da(V);H.Xi&&(H=yield Rg(S.localStore,M.query,!1).then(({documents:b})=>M.view.da(b,H)));let ee=z&&z.targetChanges.get(M.targetId),fe=z&&z.targetMismatches.get(M.targetId)!=null,Y=M.view.applyChanges(H,S.isPrimaryClient,ee,fe);return $b(S,M.targetId,Y.fa),Y.snapshot})}(t,f,g,y);let s=yield Rg(t.localStore,e,!0),o=new $g(e,s.hs),a=o.da(s.documents),c=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);$b(t,n,u.fa);let d=new jb(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function q3(t,e,n){return _(this,null,function*(){let r=W(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!em(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield nc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rc(r.remoteStore,i.targetId),sc(r,i.targetId)}).catch(Yi))):(sc(r,i.targetId),yield nc(r.localStore,i.targetId,!0))})}function G3(t,e){return _(this,null,function*(){let n=W(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rc(n.remoteStore,r.targetId))})}function W3(t,e,n){return _(this,null,function*(){let r=bD(t);try{let i=yield function(o,a){let c=W(o),u=nt.now(),d=a.reduce((y,E)=>y.add(E.key),_e()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=sn(),S=_e();return c.os.getEntries(y,d).next(M=>{E=M,E.forEach((V,z)=>{z.isValidDocument()||(S=S.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,E)).next(M=>{f=M;let V=[];for(let z of a){let H=o3(z,f.get(z.key).overlayedDocument);H!=null&&V.push(new Bn(z.key,H,XO(H.value.mapValue),vt.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,V,a)}).next(M=>{g=M;let V=M.applyToLocalDocumentSet(f,S);return c.documentOverlayCache.saveOverlays(y,M.batchId,V)})}).then(()=>({batchId:g.batchId,changes:uP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new He(he)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Xi(r,i.changes),yield ac(r.remoteStore)}catch(i){let s=im(i,"Failed to persist write");n.reject(s)}})}function nk(t,e){return _(this,null,function*(){let n=W(t);try{let r=yield S3(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Z(o.wa):i.removedDocuments.size>0&&(Z(o.wa),o.wa=!1))}),yield Xi(n,r,e)}catch(r){yield Yi(r)}})}function xO(t,e,n){let r=W(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=W(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let g of f.U_)g.j_(a)&&(u=!0)}),u&&vD(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function K3(t,e,n){return _(this,null,function*(){let r=W(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new He(q.comparator);o=o.insert(s,_t.newNoDocument(s,ne.min()));let a=_e().add(s),c=new Nu(ne.min(),new Map,new He(he),o,a);yield nk(r,c),r.va=r.va.remove(s),r.Fa.delete(e),ED(r)}else yield nc(r.localStore,e,!1).then(()=>sc(r,e,n)).catch(Yi)})}function Q3(t,e){return _(this,null,function*(){let n=W(t),r=e.batch.batchId;try{let i=yield T3(n.localStore,e);ID(n,r,null),wD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Xi(n,i)}catch(i){yield Yi(i)}})}function Y3(t,e,n){return _(this,null,function*(){let r=W(t);try{let i=yield function(o,a){let c=W(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Z(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);ID(r,e,n),wD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Xi(r,i)}catch(i){yield Yi(i)}})}function wD(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function ID(t,e,n){let r=W(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function sc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||rk(t,r)})}function rk(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(rc(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),ED(t))}function $b(t,e,n){for(let r of n)r instanceof Ug?(t.Ma.addReference(r.key,e),Z3(t,r)):r instanceof Bg?(F("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||rk(t,r.key)):G()}function Z3(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(F("SyncEngine","New document in limbo: "+n),t.Ca.add(r),ED(t))}function ED(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new q(ke.fromString(e)),r=t.Na.next();t.Fa.set(r,new Ub(n)),t.va=t.va.insert(n,r),rm(t.remoteStore,new ec(on(Wu(n.path)),r,"TargetPurposeLimboResolution",nn.oe))}}function Xi(t,e,n){return _(this,null,function*(){let r=W(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){let d=u&&!u.fromCache;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);let d=Eb.Ki(c.targetId,u);s.push(d)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(c,u){return _(this,null,function*(){let d=W(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>x.forEach(u,g=>x.forEach(g.qi,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>x.forEach(g.Qi,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!Zi(f))throw f;F("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let g=f.targetId;if(!f.fromCache){let y=d.ns.get(g),E=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(E);d.ns=d.ns.insert(g,S)}}})}(r.localStore,s))})}function X3(t,e){return _(this,null,function*(){let n=W(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield $P(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new U(O.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xi(n,r.us)}})}function J3(t,e){let n=W(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e(),s=n.Da.get(e);if(!s)return i;for(let o of s){let a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function e8(t,e){return _(this,null,function*(){let n=W(t),r=yield Rg(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&$b(n,e.targetId,i.fa),i})}function t8(t,e){return _(this,null,function*(){let n=W(t);return qP(n.localStore,e).then(r=>Xi(n,r))})}function n8(t,e,n,r){return _(this,null,function*(){let i=W(t),s=yield function(a,c){let u=W(a),d=W(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,c).next(g=>g?u.localDocuments.getDocuments(f,g):x.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield ac(i.remoteStore):n==="acknowledged"||n==="rejected"?(ID(i,e,r||null),wD(i,e),function(a,c){W(W(a).mutationQueue).Mn(c)}(i.localStore,e)):G(),yield Xi(i,s)):F("SyncEngine","Cannot apply mutation batch with id: "+e)})}function r8(t,e){return _(this,null,function*(){let n=W(t);if(sm(n),bD(n),e===!0&&n.La!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield MO(n,r.toArray());n.La=!0,yield Pb(n.remoteStore,!0);for(let s of i)rm(n.remoteStore,s)}else if(e===!1&&n.La!==!1){let r=[],i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(sc(n,o),nc(n.localStore,o,!0))),rc(n.remoteStore,o)}),yield i,yield MO(n,r),function(o){let a=W(o);a.Fa.forEach((c,u)=>{rc(a.remoteStore,u)}),a.Ma.mr(),a.Fa=new Map,a.va=new He(q.comparator)}(n),n.La=!1,yield Pb(n.remoteStore,!1)}})}function MO(t,e,n){return _(this,null,function*(){let r=W(t),i=[],s=[];for(let o of e){let a,c=r.Da.get(o);if(c&&c.length!==0){a=yield Ag(r.localStore,on(c[0]));for(let u of c){let d=r.ba.get(u),f=yield e8(r,d);f.snapshot&&s.push(f.snapshot)}}else{let u=yield zP(r.localStore,o);a=yield Ag(r.localStore,u),yield _D(r,ik(u),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i})}function ik(t){return iP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function i8(t){return function(n){return W(W(n).persistence).Bi()}(W(t).localStore)}function s8(t,e,n,r){return _(this,null,function*(){let i=W(t);if(i.La)return void F("SyncEngine","Ignoring unexpected query state notification.");let s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield qP(i.localStore,aP(s[0])),a=Nu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",wt.EMPTY_BYTE_STRING);yield Xi(i,o,a);break}case"rejected":yield nc(i.localStore,e,!0),sc(i,e,r);break;default:G()}})}function o8(t,e,n){return _(this,null,function*(){let r=sm(t);if(r.La){for(let i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){F("SyncEngine","Adding an already active target "+i);continue}let s=yield zP(r.localStore,i),o=yield Ag(r.localStore,s);yield _D(r,ik(s),o.targetId,!1,o.resumeToken),rm(r.remoteStore,o)}for(let i of n)r.Da.has(i)&&(yield nc(r.localStore,i,!1).then(()=>{rc(r.remoteStore,i),sc(r,i)}).catch(Yi))}})}function sm(t){let e=W(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=nk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K3.bind(null,e),e.Sa.h_=B3.bind(null,e.eventManager),e.Sa.ka=$3.bind(null,e.eventManager),e}function bD(t){let e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y3.bind(null,e),e}var Lu=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=tm(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return BP(this.persistence,new Sg,e.initialUser,this.serializer)}createPersistence(e){return new Cg(Tg.Hr,this.serializer)}createSharedClientState(e){return new Ng}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Hg=class t extends Lu{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){yield zn(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield bD(this.Qa.syncEngine),yield ac(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return BP(this.persistence,new Sg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new ab(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new DE(n,this.persistence);return new bE(e.asyncQueue,r)}createPersistence(e){let n=UP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new Ib(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,WP(),Xp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Ng}},Hb=class t extends Hg{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return _(this,null,function*(){yield zn(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof Iu&&(this.sharedClientState.syncEngine={Zs:n8.bind(null,n),Xs:s8.bind(null,n),eo:o8.bind(null,n),Bi:i8.bind(null,n),Ys:t8.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(r=>_(this,null,function*(){yield r8(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=WP();if(!Iu.D(n))throw new U(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=UP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Iu(n,e.asyncQueue,r,e.clientId,e.initialUser)}},Vu=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=X3.bind(null,this.syncEngine),yield Pb(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Lb}()}createDatastore(e){let n=tm(e.databaseInfo.databaseId),r=function(s){return new Ab(s)}(e.databaseInfo);return function(s,o,a,c){return new Mb(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Ob(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xO(this.syncEngine,n,0),function(){return Og.D()?new Og:new Tb}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,d){let f=new Bb(i,s,o,a,c,u);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e;yield function(r){return _(this,null,function*(){let i=W(r);F("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Qu(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var zg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):tt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var zb=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=Jp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>_(this,null,function*(){F("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=im(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function dE(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield $P(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function NO(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield sk(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>AO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>AO(e.remoteStore,i)),t._onlineComponents=e})}function a8(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function sk(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!a8(n))throw n;Eu("Error using user provided cache. Falling back to memory cache: "+n),yield dE(t,new Lu)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield dE(t,new Lu);return t._offlineComponents})}function ok(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield NO(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield NO(t,new Vu))),t._onlineComponents})}function c8(t){return sk(t).then(e=>e.localStore)}function l8(t){return ok(t).then(e=>e.syncEngine)}function qb(t){return _(this,null,function*(){let e=yield ok(t),n=e.eventManager;return n.onListen=H3.bind(null,e.syncEngine),n.onUnlisten=q3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G3.bind(null,e.syncEngine),n})}function u8(t,e,n={}){let r=new En;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,c,u){let d=new zg({next:g=>{o.enqueueAndForget(()=>ek(s,f));let y=g.docs.has(a);!y&&g.fromCache?u.reject(new U(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?u.reject(new U(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new jg(Wu(a.path),d,{includeMetadataChanges:!0,ra:!0});return JP(s,f)}(yield qb(t),t.asyncQueue,e,n,r)})),r.promise}function d8(t,e){let n=new En;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(i,s,o){return _(this,null,function*(){try{let a=yield Rg(i,s,!0),c=new $g(s,a.hs),u=c.da(a.documents),d=c.applyChanges(u,!1);o.resolve(d.snapshot)}catch(a){let c=im(a,`Failed to execute query '${s} against cache`);o.reject(c)}})}(yield c8(t),e,n)})),n.promise}function ak(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var OO=new Map;function ck(t,e,n){if(!n)throw new U(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h8(t,e,n,r){if(e===!0&&r===!0)throw new U(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PO(t){if(!q.isDocumentKey(t))throw new U(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kO(t){if(q.isDocumentKey(t))throw new U(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=om(t);throw new U(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function f8(t,e){if(e<=0)throw new U(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var qg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ak((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ju=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pE;switch(r.type){case"firstParty":return new yE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=OO.get(n);r&&(F("ComponentProvider","Removing Datastore"),OO.delete(n),r.terminate())}(this),Promise.resolve()}};var Wr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Nt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Bi=class t extends Wr{constructor(e,n,r){super(e,n,Wu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function lk(t,e,...n){if(t=Ge(t),ck("collection","path",e),t instanceof ju){let r=ke.fromString(e,...n);return kO(r),new Bi(t,null,r)}{if(!(t instanceof Nt||t instanceof Bi))throw new U(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return kO(r),new Bi(t.firestore,null,r)}}function DD(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=Jp.newId()),ck("doc","path",e),t instanceof ju){let r=ke.fromString(e,...n);return PO(r),new Nt(t,null,new q(r))}{if(!(t instanceof Nt||t instanceof Bi))throw new U(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return PO(r),new Nt(t.firestore,t instanceof Bi?t.converter:null,new q(r))}}var Gb=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Pg(this,"async_queue_retry"),this.hu=()=>{let n=Xp();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Xp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new En;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return _(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Zi(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw tt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=kb.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&G()}verifyOperationInProgress(){}du(){return _(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function FO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Dn=class extends ju{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Gb}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||dk(this),this._firestoreClient.terminate()}};function uk(t,e,n){n||(n="(default)");let r=Xl(t,"firestore");if(r.isInitialized(n)){let i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Si(s,e))return i;throw new U(O.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new U(O.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Yu(t){return t._firestoreClient||dk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function dk(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,d){return new CE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ak(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Uu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(wt.fromBase64String(e))}catch(n){throw new U(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ao=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Bu=class{constructor(e){this._methodName=e}};var $u=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var p8=/^__.*__$/,Wb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ki(e,this.data,n,this.fieldTransforms)}},Gg=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function hk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Kb=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Kg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(hk(this.fu)&&p8.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Qb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tm(e)}Fu(e,n,r,i=!1){return new Kb({fu:e,methodName:n,vu:r,path:ct.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Zu(t){let e=t._freezeSettings(),n=tm(t._databaseId);return new Qb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function CD(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);TD("Data must be an object, but it was:",o,r);let a=gk(r,o),c,u;if(s.merge)c=new rn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let g=Yb(e,f,n);if(!o.contains(g))throw new U(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);yk(d,g)||d.push(g)}c=new rn(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new Wb(new $t(a),c,u)}var Wg=class t extends Bu{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function fk(t,e,n,r){let i=t.Fu(1,e,n);TD("Data must be an object, but it was:",i,r);let s=[],o=$t.empty();co(r,(c,u)=>{let d=SD(e,c,n);u=Ge(u);let f=i.Su(d);if(u instanceof Wg)s.push(d);else{let g=Xu(u,f);g!=null&&(s.push(d),o.set(d,g))}});let a=new rn(s);return new Gg(o,a,i.fieldTransforms)}function pk(t,e,n,r,i,s){let o=t.Fu(1,e,n),a=[Yb(e,r,n)],c=[i];if(s.length%2!=0)throw new U(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Yb(e,s[g])),c.push(s[g+1]);let u=[],d=$t.empty();for(let g=a.length-1;g>=0;--g)if(!yk(u,a[g])){let y=a[g],E=c[g];E=Ge(E);let S=o.Su(y);if(E instanceof Wg)u.push(y);else{let M=Xu(E,S);M!=null&&(u.push(y),d.set(y,M))}}let f=new rn(u);return new Gg(d,f,o.fieldTransforms)}function g8(t,e,n,r=!1){return Xu(n,t.Fu(r?4:3,e))}function Xu(t,e){if(mk(t=Ge(t)))return TD("Unsupported field value:",e,t),gk(t,e);if(t instanceof Bu)return function(r,i){if(!hk(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Xu(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=nt.fromDate(r);return{timestampValue:Ja(i.serializer,s)}}if(r instanceof nt){let s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ja(i.serializer,s)}}if(r instanceof $u)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uu)return{bytesValue:IP(i.serializer,r._byteString)};if(r instanceof Nt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${om(r)}`)}(t,e)}function gk(t,e){let n={};return YO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(r,i)=>{let s=Xu(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof $u||t instanceof Uu||t instanceof Nt||t instanceof Bu)}function TD(t,e,n){if(!mk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=om(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Yb(t,e,n){if((e=Ge(e))instanceof ao)return e._internalPath;if(typeof e=="string")return SD(t,e);throw Kg("Field path arguments must be of type string or ",t,!1,void 0,n)}var m8=new RegExp("[~\\*/\\[\\]]");function SD(t,e,n){if(e.search(m8)>=0)throw Kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ao(...e.split("."))._internalPath}catch{throw Kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kg(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new U(O.INVALID_ARGUMENT,a+t+c)}function yk(t,e){return t.some(n=>n.isEqual(e))}var Qg=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Zb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Zb=class extends Qg{data(){return super.data()}};function am(t,e){return typeof e=="string"?SD(t,e):e instanceof ao?e._internalPath:e._delegate._internalPath}function y8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hu=class{},zu=class extends Hu{};function vk(t,e,...n){let r=[];e instanceof Hu&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Xb).length,a=s.filter(c=>c instanceof Yg).length;if(o>1||o>0&&a>0)throw new U(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Yg=class t extends zu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Ek(e._query,n),new Wr(e.firestore,e.converter,VE(e._query,n))}_parse(e){let n=Zu(e.firestore);return function(s,o,a,c,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new U(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){VO(f,d);let y=[];for(let E of f)y.push(LO(c,s,E));g={arrayValue:{values:y}}}else g=LO(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||VO(f,d),g=g8(a,o,f,d==="in"||d==="not-in");return Ie.create(u,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function _k(t,e,n){let r=e,i=am("where",t);return Yg._create(i,r,n)}var Xb=class t extends Hu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oe.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)Ek(o,c),o=VE(o,c)}(e._query,n),new Wr(e.firestore,e.converter,VE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Jb=class t extends zu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new U(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eo(s,o)}(e._query,this._field,this._direction);return new Wr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new qi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function wk(t,e="asc"){let n=e,r=am("orderBy",t);return Jb._create(r,n)}var eD=class t extends zu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Wr(e.firestore,e.converter,lg(e._query,this._limit,this._limitType))}};function Ik(t){return f8("limit",t),eD._create("limit",t,"F")}function LO(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new U(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sP(e)&&n.indexOf("/")!==-1)throw new U(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!q.isDocumentKey(r))throw new U(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Au(t,new q(r))}if(n instanceof Nt)return Au(t,n._key);throw new U(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${om(n)}.`)}function VO(t,e){if(!Array.isArray(t)||t.length===0)throw new U(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ek(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var tD=class{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return co(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new $u(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=uD(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){let n=Gr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);Z(MP(r));let i=new Ka(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function AD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Qs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Zg=class extends Qg{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(am("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},za=class extends Zg{data(e={}){return super.data(e)}},Xg=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new za(this._firestore,this._userDataWriter,r.key,r,new Qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new za(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:v8(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function v8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}function bk(t){t=Qt(t,Nt);let e=Qt(t.firestore,Dn);return u8(Yu(e),t._key).then(n=>Rk(e,t,n))}var qu=class extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}};function Dk(t){t=Qt(t,Wr);let e=Qt(t.firestore,Dn),n=Yu(e),r=new qu(e);return d8(n,t._query).then(i=>new Xg(e,r,t,i))}function Ck(t,e,n){t=Qt(t,Nt);let r=Qt(t.firestore,Dn),i=AD(t.converter,e,n);return Ju(r,[CD(Zu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vt.none())])}function Tk(t,e,n,...r){t=Qt(t,Nt);let i=Qt(t.firestore,Dn),s=Zu(i),o;return o=typeof(e=Ge(e))=="string"||e instanceof ao?pk(s,"updateDoc",t._key,e,n,r):fk(s,"updateDoc",t._key,e),Ju(i,[o.toMutation(t._key,vt.exists(!0))])}function Sk(t){return Ju(Qt(t.firestore,Dn),[new io(t._key,vt.none())])}function Ak(t,e){let n=Qt(t.firestore,Dn),r=DD(t),i=AD(t.converter,e);return Ju(n,[CD(Zu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vt.exists(!1))]).then(()=>r)}function RD(t,...e){var n,r,i;t=Ge(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||FO(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(FO(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Nt)u=Qt(t.firestore,Dn),d=Wu(t._key.path),c={next:f=>{e[o]&&e[o](Rk(u,t,f))},error:e[o+1],complete:e[o+2]};else{let f=Qt(t,Wr);u=Qt(f.firestore,Dn),d=f._query;let g=new qu(u);c={next:y=>{e[o]&&e[o](new Xg(u,g,f,y))},error:e[o+1],complete:e[o+2]},y8(t._query)}return function(g,y,E,S){let M=new zg(S),V=new jg(y,M,E);return g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return JP(yield qb(g),V)})),()=>{M.$a(),g.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return ek(yield qb(g),V)}))}}(Yu(u),d,a,c)}function Ju(t,e){return function(r,i){let s=new En;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return W3(yield l8(r),i,s)})),s.promise}(Yu(t),e)}function Rk(t,e,n){let r=n.docs.get(e._key),i=new qu(t);return new Zg(t,i,e._key,r,new Qs(n.hasPendingWrites,n.fromCache),e.converter)}var nD=class{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=Mk(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}};function xk(t){return new nD(t)}var rD=class{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Vu,this._offlineComponentProvider=new Hg(this._onlineComponentProvider,e?.cacheSizeBytes,this.forceOwnership)}},iD=class{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Vu,this._offlineComponentProvider=new Hb(this._onlineComponentProvider,e?.cacheSizeBytes)}};function Mk(t){return new rD(t?.forceOwnership)}function Nk(){return new iD}var sD=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Zu(e)}set(e,n,r){this._verifyNotCommitted();let i=hE(e,this._firestore),s=AD(i.converter,n,r),o=CD(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,vt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=hE(e,this._firestore),o;return o=typeof(n=Ge(n))=="string"||n instanceof ao?pk(this._dataReader,"WriteBatch.update",s._key,n,r,i):fk(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,vt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=hE(e,this._firestore);return this._mutations=this._mutations.concat(new io(n._key,vt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new U(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function hE(t,e){if((t=Ge(t)).firestore!==e)throw new U(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ok(t){return Yu(t=Qt(t,Dn)),new sD(t,e=>Ju(t,e))}(function(e,n=!0){(function(i){oc=i})(Mi),xi(new vn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Dn(new gE(r.getProvider("auth-internal")),new _E(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ka(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),at(VN,"4.6.3",e),at(VN,"4.6.3","esm2017")})();var cm=function(){return cm=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},cm.apply(this,arguments)};var E8={includeMetadataChanges:!1};function Pk(t,e){return e===void 0&&(e=E8),new re(function(n){var r=RD(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function kk(t){return Pk(t,{includeMetadataChanges:!0})}function Fk(t,e){return e===void 0&&(e={}),kk(t).pipe(de(function(n){return Lk(n,e)}))}function Lk(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:cm(cm({},r),(n={},n[e.idField]=t.id,n))}var ed=class{constructor(e){return e}},Vk="firestore",xD=class{constructor(){return Jl(Vk)}};var MD=new B("angularfire2.firestore-instances");function b8(t,e){let n=_p(Vk,t,e);return n&&new ed(n)}function D8(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ed(r)}}var C8={provide:xD,deps:[[new Rt,MD]]},T8={provide:ed,useFactory:b8,deps:[[new Rt,MD],jr]};function Bse(t,...e){return at("angularfire",Ls.full,"fst"),Ar([T8,C8,{provide:MD,useFactory:D8(t),multi:!0,deps:[K,Re,Ta,Vs,[new Rt,cu],[new Rt,Ca],...e]}])}var $se=Pe(Fk,!0);var Hse=Pe(Ak,!0);var zse=Pe(lk,!0);var qse=Pe(Sk,!0);var Gse=Pe(DD,!0);var Wse=Pe(bk,!0);var Kse=Pe(Dk,!0);var Qse=Pe(uk,!0),Yse=Pe(Ik,!0);var Zse=Pe(wk,!0),Xse=Pe(xk,!0),Jse=Pe(Nk,!0);var eoe=Pe(vk,!0);var toe=Pe(Ck,!0);var noe=Pe(Tk,!0);var roe=Pe(_k,!0),ioe=Pe(Ok,!0);function S8(t){return t!=null&&`${t}`!="false"}function td(t,e=0){return A8(t)?Number(t):e}function A8(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function lc(t){return Array.isArray(t)?t:[t]}function rt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Kr(t){return t instanceof Ce?t.nativeElement:t}function coe(t,e=/\s+/){let n=[];if(t!=null){let r=Array.isArray(t)?t:`${t}`.split(e);for(let i of r){let s=`${i}`.trim();s&&n.push(s)}}return n}var OD;try{OD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{OD=!1}var Ye=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?W_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||OD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(R(fn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var uc,jk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function goe(){if(uc)return uc;if(typeof document!="object"||!document)return uc=new Set(jk),uc;let t=document.createElement("input");return uc=new Set(jk.filter(e=>(t.setAttribute("type",e),t.type===e))),uc}var nd;function R8(){if(nd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nd=!0}))}finally{nd=nd||!1}return nd}function dc(t){return R8()?t:!!t.capture}var uo;function Uk(){if(uo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return uo=!1,uo;if("scrollBehavior"in document.documentElement.style)uo=!0;else{let t=Element.prototype.scrollTo;t?uo=!/\{\s*\[native code\]\s*\}/.test(t.toString()):uo=!1}}return uo}var ND;function x8(){if(ND==null){let t=typeof document<"u"?document.head:null;ND=!!(t&&(t.createShadowRoot||t.attachShadow))}return ND}function Bk(t){if(x8()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function hc(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Cn(t){return t.composedPath?t.composedPath()[0]:t.target}function rd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var M8=new B("cdk-dir-doc",{providedIn:"root",factory:N8});function N8(){return k(ae)}var O8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function P8(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?O8.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var sd=(()=>{let e=class e{constructor(r){if(this.value="ltr",this.change=new Se,r){let i=r.body?r.body.dir:null,s=r.documentElement?r.documentElement.dir:null;this.value=P8(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(R(M8,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ji=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var F8=20,Hk=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this._platform=i,this._scrolled=new J,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=F8){return this._platform.isBrowser?new re(i=>{this._globalSubscription||this._addGlobalListener();let s=r>0?this._scrolled.pipe(wh(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):te()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let s=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(Be(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,r)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let s=Kr(i),o=r.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return Gc(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(R(K),R(Ye),R(ae,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var L8=20,PD=(()=>{let e=class e{constructor(r,i,s){this._platform=r,this._change=new J,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(r.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+s,right:r.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),s=r.documentElement,o=s.getBoundingClientRect(),a=-o.top||r.body.scrollTop||i.scrollY||s.scrollTop||0,c=-o.left||r.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(r=L8){return r>0?this._change.pipe(wh(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(R(Ye),R(K),R(ae,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $k=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),kD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[Ji,$k,Ji,$k]});let t=e;return t})();var od=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},fc=class extends od{constructor(e,n,r,i,s){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}},pc=class extends od{constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},FD=class extends od{constructor(e){super(),this.element=e instanceof Ce?e.nativeElement:e}},gc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof fc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof pc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof FD)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var lm=class extends gc{constructor(e,n,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Re.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var ad=(()=>{let e=class e extends gc{constructor(r,i,s){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Se,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,o=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),a=i.createComponent(o,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=r,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};e.\u0275fac=function(i){return new(i||e)(j(er),j(pn),j(ae))},e.\u0275dir=De({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Je]});let t=e;return t})();var mc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function um(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var zk=Uk(),LD=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rt(-this._previousScrollPosition.left),e.style.top=rt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,r=e.style,i=n.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),zk&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zk&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var VD=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Be(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},dm=class{enable(){}disable(){}attach(){}};function jD(t,e){return e.some(n=>{let r=t.bottom<n.top,i=t.top>n.bottom,s=t.right<n.left,o=t.left>n.right;return r||i||s||o})}function qk(t,e){return e.some(n=>{let r=t.top<n.top,i=t.bottom>n.bottom,s=t.left<n.left,o=t.right>n.right;return r||i||s||o})}var UD=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();jD(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},j8=(()=>{let e=class e{constructor(r,i,s,o){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new dm,this.close=a=>new VD(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new LD(this._viewportRuler,this._document),this.reposition=a=>new UD(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.\u0275fac=function(i){return new(i||e)(R(Hk),R(PD),R(K),R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cd=class{constructor(e){if(this.scrollStrategy=new dm,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let r of n)e[r]!==void 0&&(this[r]=e[r])}}};var BD=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var Yk=(()=>{let e=class e{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),U8=(()=>{let e=class e extends Yk{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(K,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),B8=(()=>{let e=class e extends Yk{constructor(r,i,s){super(r),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Cn(o)},this._clickListener=o=>{let a=Cn(o),c=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let d=u.length-1;d>-1;d--){let f=u[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(c))break;let g=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(o)):g.next(o)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(Ye),R(K,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yc=(()=>{let e=class e{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||rd()){let s=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let i=this._document.createElement("div");i.classList.add(r),rd()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(Ye))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qr=class{constructor(e,n,r,i,s,o,a,c,u,d=!1,f){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=f,this._backdropElement=null,this._backdropClick=new J,this._attachments=new J,this._detachments=new J,this._locationChanges=Ne.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new J,this._outsidePointerEvents=new J,this._renders=new J,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=k_(()=>b_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Ii(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=P(P({},this._config),e),this._updateElementSize()}setDirection(e){this._config=pe(P({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=rt(this._config.width),e.height=rt(this._config.height),e.minWidth=rt(this._config.minWidth),e.minHeight=rt(this._config.minHeight),e.maxWidth=rt(this._config.maxWidth),e.maxHeight=rt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){let i=lc(n||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Kn(Wc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Gk="cdk-overlay-connected-position-bounding-box",$8=/([A-Za-z%]+)$/,$D=class{get positions(){return this._preferredPositions}constructor(e,n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new J,this._resizeSubscription=Ne.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Gk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,n,a),d=this._getOverlayFit(u,n,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,r)){s.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:n})}if(s.length){let a=null,c=-1;for(let u of s){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ho(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Gk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?o:a}n.left<0&&(i-=n.left);let s;return r.originY=="center"?s=e.top+e.height/2:s=r.originY=="top"?e.top:e.bottom,n.top<0&&(s-=n.top),{x:i,y:s}}_getOverlayPoint(e,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let s;return r.overlayY=="center"?s=-n.height/2:s=r.overlayY=="top"?0:-n.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,n,r,i){let s=Kk(n),{x:o,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(o+=c),u&&(a+=u);let d=0-o,f=o+s.width-r.width,g=0-a,y=a+s.height-r.height,E=this._subtractOverflows(s.width,d,f),S=this._subtractOverflows(s.height,g,y),M=E*S;return{visibleArea:M,isCompletelyWithinViewport:s.width*s.height===M,fitsInViewportVertically:S===s.height,fitsInViewportHorizontally:E==s.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,s=r.right-n.x,o=Wk(this._overlayRef.getConfig().minHeight),a=Wk(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||o!=null&&o<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=s;return c&&u}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=Kk(n),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),u=Math.max(s.left-r.left-e.x,0),d=0,f=0;return i.width<=s.width?d=u||-o:d=e.x<this._viewportMargin?s.left-r.left-e.x:0,i.height<=s.height?f=c||-a:f=e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:d,y:f},{x:e.x+d,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!H8(this._lastScrollVisibility,r)){let i=new BD(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){let r=this._viewportRect,i=this._isRtl(),s,o,a;if(n.overlayY==="top")o=e.y,s=r.height-o+this._viewportMargin;else if(n.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,s=r.height-a+this._viewportMargin;else{let y=Math.min(r.bottom-e.y+r.top,e.y),E=this._lastBoundingBoxSize.height;s=y*2,o=e.y-y,s>E&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-E/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,u=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,d,f,g;if(u)g=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)f=e.x,d=r.right-e.x;else{let y=Math.min(r.right-e.x+r.left,e.x),E=this._lastBoundingBoxSize.width;d=y*2,f=e.x-y,d>E&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-E/2)}return{top:o,left:f,bottom:a,right:g,width:d,height:s}}_setBoundingBoxStyles(e,n){let r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=rt(r.height),i.top=rt(r.top),i.bottom=rt(r.bottom),i.width=rt(r.width),i.left=rt(r.left),i.right=rt(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=rt(s)),o&&(i.maxWidth=rt(o))}this._lastBoundingBoxSize=r,ho(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ho(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ho(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();ho(r,this._getExactOverlayY(n,e,d)),ho(r,this._getExactOverlayX(n,e,d))}else r.position="static";let a="",c=this._getOffset(n,"x"),u=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=rt(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=rt(o.maxWidth):s&&(r.maxWidth="")),ho(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;i.bottom=`${o-(s.y+this._overlayRect.height)}px`}else i.top=rt(s.y);return i}_getExactOverlayX(e,n,r){let i={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(s.x+this._overlayRect.width)}px`}else i.left=rt(s.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qk(e,r),isOriginOutsideView:jD(e,r),isOverlayClipped:qk(n,r),isOverlayOutsideView:jD(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&lc(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ce)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}};function ho(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Wk(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split($8);return!n||n==="px"?parseFloat(e):null}return t||null}function Kk(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function H8(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var Qk="cdk-global-overlay-wrapper",HD=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Qk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!o||o==="100%"||o==="100vw"),u=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,f=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",y="",E="",S="";c?S="flex-start":d==="center"?(S="center",g?E=f:y=f):g?d==="left"||d==="end"?(S="flex-end",y=f):(d==="right"||d==="start")&&(S="flex-start",E=f):d==="left"||d==="start"?(S="flex-start",y=f):(d==="right"||d==="end")&&(S="flex-end",E=f),e.position=this._cssPosition,e.marginLeft=c?"0":y,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":E,n.justifyContent=S,n.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(Qk),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},z8=(()=>{let e=class e{constructor(r,i,s,o){this._viewportRuler=r,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new HD}flexibleConnectedTo(r){return new $D(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(i){return new(i||e)(R(PD),R(ae),R(Ye),R(yc))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),q8=0,$n=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,d,f,g,y,E){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=u,this._document=d,this._directionality=f,this._location=g,this._outsideClickDispatcher=y,this._animationsModuleType=E}create(r){let i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new cd(r);return a.direction=a.direction||this._directionality.value,new Qr(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(St))}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${q8++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(Or)),new lm(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(i){return new(i||e)(R(j8),R(yc),R(er),R(z8),R(U8),R(Re),R(K),R(ae),R(sd),R(lr),R(B8),R(_i,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var G8=new B("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=k($n);return()=>t.scrollStrategies.reposition()}});function W8(t){return()=>t.scrollStrategies.reposition()}var K8={provide:G8,deps:[$n],useFactory:W8},zD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[$n,K8],imports:[Ji,mc,kD,kD]});let t=e;return t})();var Q8=(()=>{let e=class e{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[Q8]});let t=e;return t})();var Jk=new Set,fo,Y8=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):X8}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&Z8(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(R(Ye),R(pl,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z8(t,e){if(!Jk.has(t))try{fo||(fo=document.createElement("style"),e&&fo.setAttribute("nonce",e),fo.setAttribute("type","text/css"),document.head.appendChild(fo)),fo.sheet&&(fo.sheet.insertRule(`@media ${t} {body{ }}`,0),Jk.add(t))}catch(n){console.error(n)}}function X8(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var t1=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new J}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return e1(lc(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let s=e1(lc(r)).map(a=>this._registerQuery(a).observable),o=us(s);return o=Gn(o.pipe(Xe(1)),o.pipe(Zc(1),Eh(0))),o.pipe(de(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:d})=>{c.matches=c.matches||u,c.breakpoints[d]=u}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),o={observable:new re(a=>{let c=u=>this._zone.run(()=>a.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Rn(i),de(({matches:a})=>({query:r,matches:a})),Kn(this._destroySubject)),mql:i};return this._queries.set(r,o),o}};e.\u0275fac=function(i){return new(i||e)(R(Y8),R(K))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function e1(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var pae={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var ld=(()=>{let e=class e{constructor(r){this._platform=r}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return e6(r)&&getComputedStyle(r).visibility==="visible"}isTabbable(r){if(!this._platform.isBrowser)return!1;let i=J8(c6(r));if(i&&(n1(i)===-1||!this.isVisible(i)))return!1;let s=r.nodeName.toLowerCase(),o=n1(r);return r.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!o6(r)?!1:s==="audio"?r.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||r.hasAttribute("controls"):r.tabIndex>=0}isFocusable(r,i){return a6(r)&&!this.isDisabled(r)&&(i?.ignoreVisibility||this.isVisible(r))}};e.\u0275fac=function(i){return new(i||e)(R(Ye))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J8(t){try{return t.frameElement}catch{return null}}function e6(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function t6(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function n6(t){return i6(t)&&t.type=="hidden"}function r6(t){return s6(t)&&t.hasAttribute("href")}function i6(t){return t.nodeName.toLowerCase()=="input"}function s6(t){return t.nodeName.toLowerCase()=="a"}function s1(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function n1(t){if(!s1(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function o6(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function a6(t){return n6(t)?!1:t6(t)||r6(t)||t.hasAttribute("contenteditable")||s1(t)}function c6(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var GD=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,r,i,s=!1,o){this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(e),!!r}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?this._injector?Ii(e,{injector:this._injector}):e():this._ngZone.onStable.pipe(Xe(1)).subscribe(e)}},ud=(()=>{let e=class e{constructor(r,i,s){this._checker=r,this._ngZone=i,this._injector=k(Re),this._document=s}create(r,i=!1){return new GD(r,this._checker,this._ngZone,this._document,i,this._injector)}};e.\u0275fac=function(i){return new(i||e)(R(ld),R(K),R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fae=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(r){this.focusTrap&&(this.focusTrap.enabled=r)}constructor(r,i,s){this._elementRef=r,this._focusTrapFactory=i,this._previouslyFocusedElement=null,k(Ye).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(r){let i=r.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=hc(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(ud),j(ae))},e.\u0275dir=De({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",mn],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",mn]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Mr,Ut]});let t=e;return t})();function WD(t){return t.buttons===0||t.detail===0}function KD(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var l6=new B("cdk-input-modality-detector-options"),u6={ignoreKeys:[18,17,224,91,16]},o1=650,vc=dc({passive:!0,capture:!0}),d6=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(r,i,s,o){this._platform=r,this._mostRecentTarget=null,this._modality=new Ze(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Cn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<o1||(this._modality.next(WD(a)?"keyboard":"mouse"),this._mostRecentTarget=Cn(a))},this._onTouchstart=a=>{if(KD(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cn(a)},this._options=P(P({},u6),o),this.modalityDetected=this._modality.pipe(Zc(1)),this.modalityChanged=this.modalityDetected.pipe(Qc()),r.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,vc),s.addEventListener("mousedown",this._onMousedown,vc),s.addEventListener("touchstart",this._onTouchstart,vc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vc),document.removeEventListener("mousedown",this._onMousedown,vc),document.removeEventListener("touchstart",this._onTouchstart,vc))}};e.\u0275fac=function(i){return new(i||e)(R(Ye),R(K),R(ae),R(l6,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h6=new B("liveAnnouncerElement",{providedIn:"root",factory:f6});function f6(){return null}var p6=new B("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),g6=0,Lae=(()=>{let e=class e{constructor(r,i,s,o){this._ngZone=i,this._defaultOptions=o,this._document=s,this._liveElement=r||this._createLiveElement()}announce(r,...i){let s=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),a==null&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=r,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let r="cdk-live-announcer-element",i=this._document.getElementsByClassName(r),s=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return s.classList.add(r),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${g6++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(r){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){let o=i[s],a=o.getAttribute("aria-owns");a?a.indexOf(r)===-1&&o.setAttribute("aria-owns",a+" "+r):o.setAttribute("aria-owns",r)}}};e.\u0275fac=function(i){return new(i||e)(R(h6,8),R(K),R(ae),R(p6,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fm=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(fm||{}),m6=new B("cdk-focus-monitor-default-options"),hm=dc({passive:!0,capture:!0}),dd=(()=>{let e=class e{constructor(r,i,s,o,a){this._ngZone=r,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new J,this._rootNodeFocusAndBlurListener=c=>{let u=Cn(c);for(let d=u;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=o,this._detectionMode=a?.detectionMode||fm.IMMEDIATE}monitor(r,i=!1){let s=Kr(r);if(!this._platform.isBrowser||s.nodeType!==1)return te();let o=Bk(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new J,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(r){let i=Kr(r),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(r,i,s){let o=Kr(r),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((r,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===fm.EVENTUAL||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,i){r.classList.toggle("cdk-focused",!!i),r.classList.toggle("cdk-touch-focused",i==="touch"),r.classList.toggle("cdk-keyboard-focused",i==="keyboard"),r.classList.toggle("cdk-mouse-focused",i==="mouse"),r.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(r,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&i,this._detectionMode===fm.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?o1:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(r,i){let s=this._elementInfo.get(i),o=Cn(r);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(r,i){let s=this._elementInfo.get(i);!s||s.checkChildren&&r.relatedTarget instanceof Node&&i.contains(r.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(r,i){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(i))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let i=r.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,hm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,hm)}),this._rootNodeFocusListenerCount.set(i,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(r){let i=r.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,i,s){this._setClasses(r,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(r){let i=[];return this._elementInfo.forEach((s,o)=>{(o===r||s.checkChildren&&o.contains(r))&&i.push([o,s])}),i}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!i||i===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let o=r.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}};e.\u0275fac=function(i){return new(i||e)(R(K),R(Ye),R(d6),R(ae,8),R(m6,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vae=(()=>{let e=class e{constructor(r,i){this._elementRef=r,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Se}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let r=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(r,r.nodeType===1&&r.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(dd))},e.\u0275dir=De({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),po=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(po||{}),r1="cdk-high-contrast-black-on-white",i1="cdk-high-contrast-white-on-black",qD="cdk-high-contrast-active",QD=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=k(t1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return po.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return po.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return po.BLACK_ON_WHITE}return po.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(qD,r1,i1),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===po.BLACK_ON_WHITE?r.add(qD,r1):i===po.WHITE_ON_BLACK&&r.add(qD,i1)}}};e.\u0275fac=function(i){return new(i||e)(R(Ye),R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),a1=(()=>{let e=class e{constructor(r){r._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(i){return new(i||e)(R(QD))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[Xk]});let t=e;return t})();function y6(t,e){}var go=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var JD=(()=>{let e=class e extends gc{constructor(r,i,s,o,a,c,u,d){super(),this._elementRef=r,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=u,this._focusMonitor=d,this._platform=k(Ye),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=k(gn),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),g},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let i=this._ariaLabelledByQueue.indexOf(r);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),i}attachTemplatePortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,i){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{r.removeEventListener("blur",s),r.removeEventListener("mousedown",s),r.removeAttribute("tabindex")};r.addEventListener("blur",s),r.addEventListener("mousedown",s)})),r.focus(i)}_focusByCssSelector(r,i){let s=this._elementRef.nativeElement.querySelector(r);s&&this._forceFocus(s,i)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,i=null;if(typeof r=="string"?i=this._document.querySelector(r):typeof r=="boolean"?i=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(i=r),this._config.restoreFocus&&i&&typeof i.focus=="function"){let s=hc(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,i=hc();return r===i||r.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=hc()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(ud),j(ae,8),j(go),j(ld),j(K),j(Qr),j(dd))},e.\u0275cmp=nr({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(i&1&&kf(ad,7),i&2){let o;_l(o=wl())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){i&2&&or("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Je,ar],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){i&1&&Ln(0,y6,0,0,"ng-template",0)},dependencies:[ad],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),hd=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new J,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!um(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},v6=new B("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=k($n);return()=>t.scrollStrategies.block()}}),_6=new B("DialogData"),w6=new B("DefaultDialogConfig");var I6=0,eC=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,i,s,o,a,c){this._overlay=r,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this._ariaHiddenElements=new Map,this.afterAllClosed=ai(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Rn(void 0))),this._scrollStrategy=c}open(r,i){let s=this._defaultOptions||new go;i=P(P({},s),i),i.id=i.id||`cdk-dialog-${I6++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=this._overlay.create(o),c=new hd(a,i),u=this._attachContainer(a,c,i);return c.containerInstance=u,this._attachDialogContent(r,c,u,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){ZD(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){ZD(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),ZD(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let i=new cd({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(i.backdropClass=r.backdropClass),i}_attachContainer(r,i,s){let o=s.injector||s.viewContainerRef?.injector,a=[{provide:go,useValue:s},{provide:hd,useValue:i},{provide:Qr,useValue:r}],c;s.container?typeof s.container=="function"?c=s.container:(c=s.container.type,a.push(...s.container.providers(s))):c=JD;let u=new fc(c,s.viewContainerRef,Re.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return r.attach(u).instance}_attachDialogContent(r,i,s,o){if(r instanceof On){let a=this._createInjector(o,i,s,void 0),c={$implicit:o.data,dialogRef:i};o.templateContext&&(c=P(P({},c),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new pc(r,null,c,a))}else{let a=this._createInjector(o,i,s,this._injector),c=s.attachComponentPortal(new fc(r,o.viewContainerRef,a,o.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(r,i,s,o){let a=r.injector||r.viewContainerRef?.injector,c=[{provide:_6,useValue:r.data},{provide:hd,useValue:i}];return r.providers&&(typeof r.providers=="function"?c.push(...r.providers(i,r,s)):c.push(...r.providers)),r.direction&&(!a||!a.get(sd,null,{optional:!0}))&&c.push({provide:sd,useValue:{value:r.direction,change:te()}}),Re.create({parent:a||o,providers:c})}_removeOpenDialog(r,i){let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let i=r.parentElement.children;for(let s=i.length-1;s>-1;s--){let o=i[s];o!==r&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(i){return new(i||e)(R($n),R(Re),R(w6,8),R(e,12),R(yc),R(v6))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZD(t,e){let n=t.length;for(;n--;)e(t[n])}var E6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[eC],imports:[zD,mc,a1,mc]});let t=e;return t})();var Cce=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),Tce=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function b6(){return!0}var D6=new B("mat-sanity-checks",{providedIn:"root",factory:b6}),c1=(()=>{let e=class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return rd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(R(QD),R(D6,8),R(ae))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[Ji,Ji]});let t=e;return t})();var l1=class{constructor(e,n,r,i,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,n)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var u1=new B("MAT_DATE_LOCALE",{providedIn:"root",factory:C6});function C6(){return k(ca)}var gm=class{constructor(){this._localeChanges=new J,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let r=this.isValid(e),i=this.isValid(n);return r&&i?!this.compareDate(e,n):r==i}return e==n}clampDate(e,n,r){return n&&this.compareDate(e,n)<0?n:r&&this.compareDate(e,r)>0?r:e}},T6=new B("mat-date-formats"),S6=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function tC(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}var A6=(()=>{let e=class e extends gm{constructor(r){super(),this.useUtcForDisplay=!1,this._matDateLocale=k(u1,{optional:!0}),r!==void 0&&(this._matDateLocale=r),super.setLocale(this._matDateLocale)}getYear(r){return r.getFullYear()}getMonth(r){return r.getMonth()}getDate(r){return r.getDate()}getDayOfWeek(r){return r.getDay()}getMonthNames(r){let i=new Intl.DateTimeFormat(this.locale,{month:r,timeZone:"utc"});return tC(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){let r=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return tC(31,i=>this._format(r,new Date(2017,0,i+1)))}getDayOfWeekNames(r){let i=new Intl.DateTimeFormat(this.locale,{weekday:r,timeZone:"utc"});return tC(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(r){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,r)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(r){return this.getDate(this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+1,0))}clone(r){return new Date(r.getTime())}createDate(r,i,s){let o=this._createDateWithOverflow(r,i,s);return o.getMonth()!=i,o}today(){return new Date}parse(r,i){return typeof r=="number"?new Date(r):r?new Date(Date.parse(r)):null}format(r,i){if(!this.isValid(r))throw Error("NativeDateAdapter: Cannot format invalid date.");let s=new Intl.DateTimeFormat(this.locale,pe(P({},i),{timeZone:"utc"}));return this._format(s,r)}addCalendarYears(r,i){return this.addCalendarMonths(r,i*12)}addCalendarMonths(r,i){let s=this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+i,this.getDate(r));return this.getMonth(s)!=((this.getMonth(r)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(r,i){return this._createDateWithOverflow(this.getYear(r),this.getMonth(r),this.getDate(r)+i)}toIso8601(r){return[r.getUTCFullYear(),this._2digit(r.getUTCMonth()+1),this._2digit(r.getUTCDate())].join("-")}deserialize(r){if(typeof r=="string"){if(!r)return null;if(S6.test(r)){let i=new Date(r);if(this.isValid(i))return i}}return super.deserialize(r)}isDateInstance(r){return r instanceof Date}isValid(r){return!isNaN(r.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(r,i,s){let o=new Date;return o.setFullYear(r,i,s),o.setHours(0,0,0,0),o}_2digit(r){return("00"+r).slice(-2)}_format(r,i){let s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),r.format(s)}};e.\u0275fac=function(i){return new(i||e)(R(u1,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),R6={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function Sce(t=R6){return[{provide:gm,useClass:A6},{provide:T6,useValue:t}]}var Ace=(()=>{let e=class e{isErrorState(r,i){return!!(r&&r.invalid&&(r.touched||i&&i.submitted))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Tn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Tn||{}),iC=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=Tn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},d1=dc({passive:!0,capture:!0}),sC=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Cn(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){let s=this._events.get(n);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,d1)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let s=i.get(n);s&&(s.delete(r),s.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,d1)))}},h1={enterDuration:225,exitDuration:150},x6=800,f1=dc({passive:!0,capture:!0}),p1=["mousedown","touchstart"],g1=["mouseup","mouseleave","touchend","touchcancel"],fd=class fd{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Kr(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=P(P({},h1),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let o=r.radius||M6(e,n,i),a=e-i.left,c=n-i.top,u=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),g=f.transitionProperty,y=f.transitionDuration,E=g==="none"||y==="0s"||y==="0s, 0s"||i.width===0&&i.height===0,S=new iC(this,d,r,E);d.style.transform="scale3d(1, 1, 1)",S.state=Tn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=S);let M=null;return!E&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let V=()=>this._finishRippleTransition(S),z=()=>this._destroyRipple(S);d.addEventListener("transitionend",V),d.addEventListener("transitioncancel",z),M={onTransitionEnd:V,onTransitionCancel:z}}),this._activeRipples.set(S,M),(E||!u)&&this._finishRippleTransition(S),S}fadeOutRipple(e){if(e.state===Tn.FADING_OUT||e.state===Tn.HIDDEN)return;let n=e.element,r=P(P({},h1),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=Tn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Kr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,p1.forEach(r=>{fd._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{g1.forEach(n=>{this._triggerElement.addEventListener(n,this,f1)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Tn.FADING_IN?this._startFadeOutTransition(e):e.state===Tn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Tn.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Tn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=WD(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+x6;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!KD(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Tn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Tn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(p1.forEach(n=>fd._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(g1.forEach(n=>e.removeEventListener(n,this,f1)),this._pointerUpEventsRegistered=!1))}};fd._eventManager=new sC;var oC=fd;function M6(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var _1=new B("mat-ripple-global-options"),N6=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,i,s,o,a){this._elementRef=r,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new oC(this,i,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:P(P(P({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,i=0,s){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,i,P(P({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,P(P({},this.rippleConfig),r))}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(K),j(Ye),j(_1,8),j(_i,8))},e.\u0275dir=De({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){i&2&&Nr("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),Rce=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[c1,c1]});let t=e;return t})();var m1={capture:!0},y1=["focus","mousedown","mouseenter","touchstart"],nC="mat-ripple-loader-uninitialized",rC="mat-ripple-loader-class-name",v1="mat-ripple-loader-centered",pm="mat-ripple-loader-disabled",xce=(()=>{let e=class e{constructor(){this._document=k(ae,{optional:!0}),this._animationMode=k(_i,{optional:!0}),this._globalRippleOptions=k(_1,{optional:!0}),this._platform=k(Ye),this._ngZone=k(K),this._hosts=new Map,this._onInteraction=r=>{let i=Cn(r);if(i instanceof HTMLElement){let s=i.closest(`[${nC}="${this._globalRippleOptions?.namespace??""}"]`);s&&this._createRipple(s)}},this._ngZone.runOutsideAngular(()=>{for(let r of y1)this._document?.addEventListener(r,this._onInteraction,m1)})}ngOnDestroy(){let r=this._hosts.keys();for(let i of r)this.destroyRipple(i);for(let i of y1)this._document?.removeEventListener(i,this._onInteraction,m1)}configureRipple(r,i){r.setAttribute(nC,this._globalRippleOptions?.namespace??""),(i.className||!r.hasAttribute(rC))&&r.setAttribute(rC,i.className||""),i.centered&&r.setAttribute(v1,""),i.disabled&&r.setAttribute(pm,"")}getRipple(r){return this._hosts.get(r)||this._createRipple(r)}setDisabled(r,i){let s=this._hosts.get(r);if(s){s.disabled=i;return}i?r.setAttribute(pm,""):r.removeAttribute(pm)}_createRipple(r){if(!this._document)return;let i=this._hosts.get(r);if(i)return i;r.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",r.getAttribute(rC)),r.append(s);let o=new N6(new Ce(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=r,o.centered=r.hasAttribute(v1),o.disabled=r.hasAttribute(pm),this.attachRipple(r,o),o}attachRipple(r,i){r.removeAttribute(nC),this._hosts.set(r,i)}destroyRipple(r){let i=this._hosts.get(r);i&&(i.ngOnDestroy(),this._hosts.delete(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Hn=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Hn||{}),Oce="*";function Pce(t,e){return{type:Hn.Trigger,name:t,definitions:e,options:{}}}function kce(t,e=null){return{type:Hn.Animate,styles:e,timings:t}}function Fce(t,e=null){return{type:Hn.Group,steps:t,options:e}}function Lce(t,e=null){return{type:Hn.Sequence,steps:t,options:e}}function Vce(t){return{type:Hn.Style,styles:t,offset:null}}function jce(t,e,n){return{type:Hn.State,name:t,styles:e,options:n}}function Uce(t){return{type:Hn.Keyframes,steps:t}}function Bce(t,e,n=null){return{type:Hn.Transition,expr:t,animation:e,options:n}}function $ce(t=null){return{type:Hn.AnimateChild,options:t}}function Hce(t,e,n=null){return{type:Hn.Query,selector:t,animation:e,options:n}}var w1=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},I1=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},zce="!";function O6(t,e){}var pd=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},aC="mdc-dialog--open",E1="mdc-dialog--opening",b1="mdc-dialog--closing",P6=150,k6=75,F6=(()=>{let e=class e extends JD{constructor(r,i,s,o,a,c,u,d,f){super(r,i,s,o,a,c,u,f),this._animationMode=d,this._animationStateChanged=new Se,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?C1(this._config.enterAnimationDuration)??P6:0,this._exitAnimationDuration=this._animationsEnabled?C1(this._config.exitAnimationDuration)??k6:0,this._animationTimer=null,this._isDestroyed=!1,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(D1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(E1,aC)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(aC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(aC),this._animationsEnabled?(this._hostElement.style.setProperty(D1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(b1)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(r){this._actionSectionCount+=r,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(E1,b1)}_waitForAnimationToComplete(r,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._isDestroyed||(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r}))}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer),this._isDestroyed=!0}attachComponentPortal(r){let i=super.attachComponentPortal(r);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(ud),j(ae,8),j(pd),j(ld),j(K),j(Qr),j(_i,8),j(dd))},e.\u0275cmp=nr({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,s){i&2&&(Pf("id",s._config.id),or("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Nr("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[Je,ar],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,s){i&1&&(Bt(0,"div",0)(1,"div",1),Ln(2,O6,0,0,"ng-template",2),xt()())},dependencies:[ad],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let t=e;return t})(),D1="--mat-dialog-transition-duration";function C1(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?td(t.substring(0,t.length-2)):t.endsWith("s")?td(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var mm=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(mm||{}),cC=class{constructor(e,n,r){this._ref=e,this._containerInstance=r,this._afterOpened=new J,this._beforeClosed=new J,this._state=mm.OPEN,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(Be(i=>i.state==="opened"),Xe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Be(i=>i.state==="closed"),Xe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Wc(this.backdropClick(),this.keydownEvents().pipe(Be(i=>i.keyCode===27&&!this.disableClose&&!um(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),L6(this,i.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Be(n=>n.state==="closing"),Xe(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=mm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=mm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function L6(t,e,n){return t._closeInteractionType=e,t.close(n)}var lC=new B("MatMdcDialogData"),V6=new B("mat-mdc-dialog-default-options"),j6=new B("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=k($n);return()=>t.scrollStrategies.block()}});var U6=0,T1=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,i,s,o,a,c,u,d){this._overlay=r,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this.dialogConfigClass=pd,this.afterAllClosed=ai(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Rn(void 0))),this._dialog=i.get(eC),this._dialogRefConstructor=cC,this._dialogContainerType=F6,this._dialogDataToken=lC}open(r,i){let s;i=P(P({},this._defaultOptions||new pd),i),i.id=i.id||`mat-mdc-dialog-${U6++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(r,pe(P({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:go,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(a,c,u)=>(s=new this._dialogRefConstructor(a,i,u),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=o.componentRef,s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let i=r.length;for(;i--;)r[i].close()}};e.\u0275fac=function(i){return new(i||e)(R($n),R(Re),R(lr,8),R(V6,8),R(j6),R(e,12),R(yc),R(_i,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $6=t=>({"pb-10":t});function H6(t,e){if(t&1){let n=x_();Bt(0,"button",12),ht("click",function(){Qv(n);let i=sa();return Yv(i.cancel())}),tA(),Bt(1,"svg",13),Ei(2,"path",14),xt(),nA(),Bt(3,"span",15),oa(4,"Close modal"),xt()()}}function z6(t,e){t&1&&R_(0)}function q6(t,e){if(t&1&&Ln(0,z6,1,0,"ng-container",16),t&2){let n=sa();As("ngTemplateOutlet",n.contentTemplateRef)}}function G6(t,e){if(t&1){let n=x_();Bt(0,"button",17),ht("click",function(){Qv(n);let i=sa();return Yv(i.cancel())}),oa(1),xt()}if(t&2){let n=sa();kn(),Rs(" ",n.cancelText," ")}}var S1=(()=>{let e=class e{constructor(r){if(this.data=r,this.doConfirm=s_(),this.doCancel=s_(),this.title="\u901A\u77E5",this.content="",this.okText="\u78BA\u8A8D",this.cancelText="\u53D6\u6D88",this.outsideClose=!1,this.showCrossBtn=!0,this.showCancelBtn=!0,this.btnCenter=!0,this.fullScreen=!1,this.data){let{title:i,content:s,okText:o,cancelText:a,showCrossBtn:c,outsideClose:u,showCancelBtn:d,contentTemplateRef:f,btnCenter:g,fullScreen:y,afterViewInit:E}=r;this.title=i??this.title,this.content=s??this.content,this.okText=o??this.okText,this.cancelText=a??this.cancelText,this.showCrossBtn=c??this.showCrossBtn,this.outsideClose=u??this.outsideClose,this.showCancelBtn=d??this.showCancelBtn,this.btnCenter=g??this.btnCenter,this.contentTemplateRef=f,this.fullScreen=y??this.fullScreen,this.afterViewInitEvent=E||(()=>{})}}ngOnInit(){}ngAfterViewInit(){this.afterViewInitEvent()}clickOutsideClose(){this.outsideClose&&this.cancel()}cancel(){this.doCancel.emit()}ok(){this.doConfirm.emit()}};e.\u0275fac=function(i){return new(i||e)(j(lC))},e.\u0275cmp=nr({type:e,selectors:[["app-modal"]],outputs:{doConfirm:"doConfirm",doCancel:"doCancel"},standalone:!0,features:[ar],decls:15,vars:10,consts:[[1,"bg-white","dark:bg-gray-700","min-w-72","min-h-48","flex","overflow-y-auto","overflow-x-hidden","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","w-full","max-w-2xl","max-h-screen","overflow-scroll"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide","default-modal",3,"click",4,"ngIf"],[1,"p-4","md:p-5","space-y-4","text-gray-900","dark:text-white","min-h-20"],[3,"innerHTML"],[1,"flex","justify-center","items-center","p-4","md:p-5","border-t","border-gray-200","rounded-b","dark:border-gray-600"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["type","button","class","ms-3 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",3,"click",4,"ngIf"],[1,"fixed","h-full","w-full","top-0","left-0","-z-10",3,"click"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[4,"ngTemplateOutlet"],["type","button",1,"ms-3","text-gray-500","bg-white","hover:bg-gray-100","focus:ring-4","focus:outline-none","focus:ring-blue-300","rounded-lg","border","border-gray-200","text-sm","font-medium","px-5","py-2.5","hover:text-gray-900","focus:z-10","dark:bg-gray-700","dark:text-gray-300","dark:border-gray-500","dark:hover:text-white","dark:hover:bg-gray-600","dark:focus:ring-gray-600",3,"click"]],template:function(i,s){i&1&&(Bt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),oa(5),xt(),Ln(6,H6,5,0,"button",5),xt(),Bt(7,"div",6),Ei(8,"p",7),Ln(9,q6,1,1,"ng-container"),xt(),Bt(10,"div",8)(11,"button",9),ht("click",function(){return s.ok()}),oa(12),xt(),Ln(13,G6,2,1,"button",10),xt()()()(),Bt(14,"div",11),ht("click",function(){return s.clickOutsideClose()}),xt()),i&2&&(kn(5),Rs(" ",s.title," "),kn(),As("ngIf",s.showCrossBtn&&s.showCancelBtn),kn(2),As("innerHTML",s.content,NA),kn(),A_(s.contentTemplateRef?9:-1),kn(),xR(BR(8,$6,s.fullScreen)),kn(2),Rs(" ",s.okText," "),kn(),As("ngIf",s.showCancelBtn))},dependencies:[Ms,lx,ux]});let t=e;return t})();var Ile=(()=>{let e=class e{constructor(r){this.dialog=r,this.modalQueue=[],this.currentModal$=new zc,this.executeStatus$=new J,this.executeModal()}executeModal(){this.executeStatus$.subscribe(()=>{this.modalQueue.length>0&&this.currentModal$.next(this.modalQueue[0])})}openConfirm(r){let i=Date.now();this.pushModalConfig(i);let s=o=>{let a={data:P({},o)};return o.fullScreen?P({maxWidth:"100vw",width:"100%"},a):a};return this.modalQueue.length===1&&this.executeStatus$.next(!0),new Promise(o=>{this.currentModal$.subscribe(a=>{if(a===i){let c=this.dialog.open(S1,s(r));o(c),c.componentInstance.doConfirm.subscribe(()=>{r.onOk&&r.onOk(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)}),c.componentInstance.doCancel.subscribe(()=>{r.onCancel&&r.onCancel(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)})}})})}pushModalConfig(r){this.modalQueue.push(r)}cleanQueue(){let r=this.modalQueue[0];this.modalQueue=[r]}};e.\u0275fac=function(i){return new(i||e)(R(T1))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var L1=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(j(sr),j(Ce))},e.\u0275dir=De({type:e});let t=e;return t})(),wd=(()=>{let e=class e extends L1{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,features:[Je]});let t=e;return t})(),yo=new B(""),W6={provide:yo,useExisting:un(()=>K6),multi:!0},K6=(()=>{let e=class e extends wd{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&ht("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Kt([W6]),Je]});let t=e;return t})(),Q6={provide:yo,useExisting:un(()=>V1),multi:!0};function Y6(){let t=cr()?cr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Z6=new B(""),V1=(()=>{let e=class e extends L1{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Y6())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(j(sr),j(Ce),j(Z6,8))},e.\u0275dir=De({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ht("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Kt([Q6]),Je]});let t=e;return t})();function es(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function j1(t){return t!=null&&typeof t.length=="number"}var Sm=new B(""),Am=new B(""),X6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,A1=class{static min(e){return J6(e)}static max(e){return e5(e)}static required(e){return t5(e)}static requiredTrue(e){return n5(e)}static email(e){return r5(e)}static minLength(e){return i5(e)}static maxLength(e){return s5(e)}static pattern(e){return o5(e)}static nullValidator(e){return U1(e)}static compose(e){return G1(e)}static composeAsync(e){return W1(e)}};function J6(t){return e=>{if(es(e.value)||es(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function e5(t){return e=>{if(es(e.value)||es(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function t5(t){return es(t.value)?{required:!0}:null}function n5(t){return t.value===!0?null:{required:!0}}function r5(t){return es(t.value)||X6.test(t.value)?null:{email:!0}}function i5(t){return e=>es(e.value)||!j1(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function s5(t){return e=>j1(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function o5(t){if(!t)return U1;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(es(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function U1(t){return null}function B1(t){return t!=null}function $1(t){return xs(t)?je(t):t}function H1(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function z1(t,e){return e.map(n=>n(t))}function a5(t){return!t.validate}function q1(t){return t.map(e=>a5(e)?e:n=>e.validate(n))}function G1(t){if(!t)return null;let e=t.filter(B1);return e.length==0?null:function(n){return H1(z1(n,e))}}function fC(t){return t!=null?G1(q1(t)):null}function W1(t){if(!t)return null;let e=t.filter(B1);return e.length==0?null:function(n){let r=z1(n,e).map($1);return wy(r).pipe(de(H1))}}function pC(t){return t!=null?W1(q1(t)):null}function R1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function K1(t){return t._rawValidators}function Q1(t){return t._rawAsyncValidators}function uC(t){return t?Array.isArray(t)?t:[t]:[]}function vm(t,e){return Array.isArray(t)?t.includes(e):t===e}function x1(t,e){let n=uC(e);return uC(t).forEach(i=>{vm(n,i)||n.push(i)}),n}function M1(t,e){return uC(e).filter(n=>!vm(t,n))}var _m=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=pC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Yr=class extends _m{get formDirective(){return null}get path(){return null}},mo=class extends _m{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},wm=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},c5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},jle=pe(P({},c5),{"[class.ng-submitted]":"isSubmitted"}),Ule=(()=>{let e=class e extends wm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(mo,2))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Nr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Je]});let t=e;return t})(),Ble=(()=>{let e=class e extends wm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(Yr,10))},e.\u0275dir=De({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Nr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Je]});let t=e;return t})();var gd="VALID",ym="INVALID",_c="PENDING",md="DISABLED",ts=class{},Im=class extends ts{constructor(e,n){super(),this.value=e,this.source=n}},vd=class extends ts{constructor(e,n){super(),this.pristine=e,this.source=n}},_d=class extends ts{constructor(e,n){super(),this.touched=e,this.source=n}},wc=class extends ts{constructor(e,n){super(),this.status=e,this.source=n}},dC=class extends ts{constructor(e){super(),this.source=e}},hC=class extends ts{constructor(e){super(),this.source=e}};function Y1(t){return(Rm(t)?t.validators:t)||null}function l5(t){return Array.isArray(t)?fC(t):t||null}function Z1(t,e){return(Rm(e)?e.asyncValidators:t)||null}function u5(t){return Array.isArray(t)?pC(t):t||null}function Rm(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function d5(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function h5(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var Em=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new J,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gd}get invalid(){return this.status===ym}get pending(){return this.status==_c}get disabled(){return this.status===md}get enabled(){return this.status!==md}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(x1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(x1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(M1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(M1(e,this._rawAsyncValidators))}hasValidator(e){return vm(this._rawValidators,e)}hasAsyncValidator(e){return vm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(P({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new _d(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new _d(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(P({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new vd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new vd(!0,r))}markAsPending(e={}){this.status=_c;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(P({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=md,this.errors=null,this._forEachChild(i=>{i.disable(pe(P({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Im(this.value,r)),this._events.next(new wc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=gd,this._forEachChild(r=>{r.enable(pe(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gd||this.status===_c)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Im(this.value,n)),this._events.next(new wc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(P({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?md:gd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=_c,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=$1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new wc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Se,this.statusChanges=new Se}_calculateStatus(){return this._allControlsDisabled()?md:this.errors?ym:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_c)?_c:this._anyControlsHaveStatus(ym)?ym:gd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new vd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new _d(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=l5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=u5(this._rawAsyncValidators)}},bm=class extends Em{constructor(e,n,r){super(Y1(n),Z1(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){h5(this,!0,e),Object.keys(e).forEach(r=>{d5(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Id=new B("CallSetDisabledState",{providedIn:"root",factory:()=>xm}),xm="always";function X1(t,e){return[...e.path,t]}function Dm(t,e,n=xm){gC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),p5(t,e),m5(t,e),g5(t,e),f5(t,e)}function N1(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Tm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Cm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function f5(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function gC(t,e){let n=K1(t);e.validator!==null?t.setValidators(R1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Q1(t);e.asyncValidator!==null?t.setAsyncValidators(R1(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Cm(e._rawValidators,i),Cm(e._rawAsyncValidators,i)}function Tm(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=K1(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=Q1(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Cm(e._rawValidators,r),Cm(e._rawAsyncValidators,r),n}function p5(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&J1(t,e)})}function g5(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&J1(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function J1(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function m5(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function eF(t,e){t==null,gC(t,e)}function y5(t,e){return Tm(t,e)}function tF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function v5(t){return Object.getPrototypeOf(t.constructor)===wd}function nF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function rF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===V1?n=s:v5(s)?r=s:i=s}),i||r||n||null}function _5(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var w5={provide:Yr,useExisting:un(()=>I5)},yd=Promise.resolve(),I5=(()=>{let e=class e extends Yr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Se,this.form=new bm({},fC(r),pC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){yd.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Dm(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){yd.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){yd.then(()=>{let i=this._findContainer(r.path),s=new bm({});eF(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){yd.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){yd.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,nF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(j(Sm,10),j(Am,10),j(Id,8))},e.\u0275dir=De({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&ht("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([w5]),Je]});let t=e;return t})();function O1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function P1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var iF=class extends Em{constructor(e=null,n,r){super(Y1(n),Z1(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(P1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){O1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){O1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){P1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var E5=t=>t instanceof iF;var b5={provide:mo,useExisting:un(()=>D5)},k1=Promise.resolve(),D5=(()=>{let e=class e extends mo{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new iF,this._registered=!1,this.name="",this.update=new Se,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=rF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),tF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Dm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){k1.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&mn(i);k1.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?X1(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(j(Yr,9),j(Sm,10),j(Am,10),j(yo,10),j(gn,8),j(Id,8))},e.\u0275dir=De({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Kt([b5]),Je,Ut]});let t=e;return t})();var C5={provide:yo,useExisting:un(()=>T5),multi:!0},T5=(()=>{let e=class e extends wd{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&ht("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Kt([C5]),Je]});let t=e;return t})();var sF=new B("");var S5={provide:Yr,useExisting:un(()=>A5)},A5=(()=>{let e=class e extends Yr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Se,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Dm(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){N1(r.control||null,r,!1),_5(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,nF(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new dC(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new hC(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(N1(i||null,r),E5(s)&&(Dm(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);eF(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&y5(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gC(this.form,this),this._oldForm&&Tm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(j(Sm,10),j(Am,10),j(Id,8))},e.\u0275dir=De({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&ht("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([S5]),Je,Ut]});let t=e;return t})();var R5={provide:mo,useExisting:un(()=>x5)},x5=(()=>{let e=class e extends mo{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Se,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=rF(this,o)}ngOnChanges(r){this._added||this._setUpControl(),tF(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return X1(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(Yr,13),j(Sm,10),j(Am,10),j(yo,10),j(sF,8))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Kt([R5]),Je,Ut]});let t=e;return t})(),M5={provide:yo,useExisting:un(()=>aF),multi:!0};function oF(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function N5(t){return t.split(":")[0]}var aF=(()=>{let e=class e extends wd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=oF(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=N5(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&ht("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([M5]),Je]});let t=e;return t})(),Hle=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(oF(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(sr),j(aF,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),O5={provide:yo,useExisting:un(()=>cF),multi:!0};function F1(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function P5(t){return t.split(":")[0]}var cF=(()=>{let e=class e extends wd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],d=this._getOptionValue(u.value);s.push(d)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let d=this._getOptionValue(u.value);s.push(d)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=P5(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&ht("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([O5]),Je]});let t=e;return t})(),zle=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(F1(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(F1(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(sr),j(cF,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var lF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var mC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Id,useValue:r.callSetDisabledState??xm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[lF]});let t=e;return t})(),yC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:sF,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Id,useValue:r.callSetDisabledState??xm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[lF]});let t=e;return t})();var k5=[Ms,mC,yC,Uw],Yle=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[k5,Ms,mC,yC,Uw]});let t=e;return t})();export{P as a,pe as b,F5 as c,L5 as d,V5 as e,_ as f,Ne as g,re as h,J as i,Ze as j,H0 as k,Ft as l,V7 as m,te as n,No as o,de as p,Gn as q,ai as r,Gc as s,xL as t,Wc as u,ML as v,Be as w,Xe as x,OL as y,FL as z,Rn as A,Zt as B,Kn as C,it as D,Q as E,un as F,L as G,Ee as H,B as I,qL as J,R as K,k as L,Rt as M,fS as N,nr as O,be as P,De as Q,Ar as R,CV as S,St as T,Ut as U,Qv as V,Yv as W,tA as X,nA as Y,Pn as Z,i_ as _,Re as $,s_ as aa,Kee as ba,Ce as ca,Se as da,fn as ea,_i as fa,kn as ga,j as ha,WA as ia,On as ja,Zo as ka,K as la,Ii as ma,pn as na,T_ as oa,Xee as pa,Je as qa,Mr as ra,Ln as sa,or as ta,As as ua,S_ as va,Nr as wa,xR as xa,A_ as ya,Jee as za,ete as Aa,tte as Ba,nte as Ca,Bt as Da,xt as Ea,Ei as Fa,x_ as Ga,Pf as Ha,U2 as Ia,ht as Ja,W2 as Ka,sa as La,VR as Ma,jR as Na,Z2 as Oa,kf as Pa,_l as Qa,wl as Ra,rte as Sa,ite as Ta,ste as Ua,oa as Va,e$ as Wa,Rs as Xa,t$ as Ya,ote as Za,n$ as _a,Kt as $a,ar as ab,BR as bb,ate as cb,cte as db,lte as eb,Vf as fb,Or as gb,ute as hb,gn as ib,mn as jb,QR as kb,dte as lb,ae as mb,sx as nb,Nte as ob,lx as pb,Ote as qb,Ms as rb,W_ as sb,hx as tb,Jte as ub,ene as vb,tne as wb,Ci as xb,KH as yb,jn as zb,_ne as Ab,wne as Bb,Uw as Cb,Dne as Db,dre as Eb,hre as Fb,fre as Gb,Bs as Hb,rie as Ib,JI as Jb,NN as Kb,oie as Lb,nt as Mb,ed as Nb,Bse as Ob,$se as Pb,Hse as Qb,zse as Rb,qse as Sb,Gse as Tb,Wse as Ub,Kse as Vb,Qse as Wb,Yse as Xb,Zse as Yb,Xse as Zb,Jse as _b,eoe as $b,toe as ac,noe as bc,roe as cc,ioe as dc,S8 as ec,td as fc,lc as gc,Kr as hc,coe as ic,Ye as jc,goe as kc,dc as lc,Bk as mc,hc as nc,Cn as oc,sd as pc,Hk as qc,PD as rc,$k as sc,fc as tc,pc as uc,gc as vc,ad as wc,mc as xc,um as yc,cd as zc,Qr as Ac,$D as Bc,$n as Cc,zD as Dc,Xk as Ec,t1 as Fc,pae as Gc,ld as Hc,ud as Ic,Fae as Jc,WD as Kc,KD as Lc,Lae as Mc,dd as Nc,Vae as Oc,a1 as Pc,go as Qc,JD as Rc,eC as Sc,E6 as Tc,Cce as Uc,Tce as Vc,c1 as Wc,l1 as Xc,gm as Yc,T6 as Zc,A6 as _c,Sce as $c,Ace as ad,Rce as bd,xce as cd,Hn as dd,Oce as ed,Pce as fd,kce as gd,Fce as hd,Lce as id,Vce as jd,jce as kd,Uce as ld,Bce as md,$ce as nd,Hce as od,w1 as pd,I1 as qd,zce as rd,Ile as sd,yo as td,K6 as ud,V1 as vd,Sm as wd,A1 as xd,Yr as yd,mo as zd,Ule as Ad,Ble as Bd,bm as Cd,I5 as Dd,iF as Ed,D5 as Fd,T5 as Gd,A5 as Hd,x5 as Id,aF as Jd,Hle as Kd,zle as Ld,mC as Md,Yle as Nd};
