var IF=Object.create;var Vm=Object.defineProperty,bF=Object.defineProperties,DF=Object.getOwnPropertyDescriptor,CF=Object.getOwnPropertyDescriptors,TF=Object.getOwnPropertyNames,Fu=Object.getOwnPropertySymbols,s0=Object.getPrototypeOf,jm=Object.prototype.hasOwnProperty,o0=Object.prototype.propertyIsEnumerable,SF=Reflect.get;var i0=(t,e,n)=>e in t?Vm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})jm.call(e,n)&&i0(t,n,e[n]);if(Fu)for(var n of Fu(e))o0.call(e,n)&&i0(t,n,e[n]);return t},de=(t,e)=>bF(t,CF(e));var a0=(t,e)=>{var n={};for(var r in t)jm.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Fu)for(var r of Fu(t))e.indexOf(r)<0&&o0.call(t,r)&&(n[r]=t[r]);return n};var yK=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var AF=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of TF(e))!jm.call(t,i)&&i!==n&&Vm(t,i,{get:()=>e[i],enumerable:!(r=DF(e,i))||r.enumerable});return t};var _K=(t,e,n)=>(n=t!=null?IF(s0(t)):{},AF(e||!t||!t.__esModule?Vm(n,"default",{value:t,enumerable:!0}):n,t));var Qr=(t,e,n)=>SF(s0(t),n,e);var m=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function RF(t,e){return Object.is(t,e)}var nt=null,Lu=!1,Vu=1,to=Symbol("SIGNAL");function ct(t){let e=nt;return nt=t,e}var Bm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function c0(t){if(Lu)throw new Error("");if(nt===null)return;nt.consumerOnSignalRead(t);let e=nt.nextProducerIndex++;if(eo(nt),e<nt.producerNode.length&&nt.producerNode[e]!==t&&Ua(nt)){let n=nt.producerNode[e];ju(n,nt.producerIndexOfThis[e])}nt.producerNode[e]!==t&&(nt.producerNode[e]=t,nt.producerIndexOfThis[e]=Ua(nt)?p0(t,nt,e):0),nt.producerLastReadVersion[e]=t.version}function xF(){Vu++}function MF(t){if(!(Ua(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vu)){if(!t.producerMustRecompute(t)&&!Um(t)){t.dirty=!1,t.lastCleanEpoch=Vu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Vu}}function l0(t){if(t.liveConsumerNode===void 0)return;let e=Lu;Lu=!0;try{for(let n of t.liveConsumerNode)n.dirty||NF(n)}finally{Lu=e}}function u0(){return nt?.consumerAllowSignalWrites!==!1}function NF(t){t.dirty=!0,l0(t),t.consumerMarkedDirty?.(t)}function d0(t){return t&&(t.nextProducerIndex=0),ct(t)}function h0(t,e){if(ct(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ua(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ju(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Um(t){eo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(MF(n),r!==n.version))return!0}return!1}function f0(t){if(eo(t),Ua(t))for(let e=0;e<t.producerNode.length;e++)ju(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function p0(t,e,n){if(m0(t),eo(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=p0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ju(t,e){if(m0(t),eo(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ju(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];eo(i),i.producerIndexOfThis[r]=e}}function Ua(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function eo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function m0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function PF(){throw new Error}var g0=PF;function y0(){g0()}function _0(t){g0=t}var OF=null;function v0(t){let e=Object.create(E0);e.value=t;let n=()=>(c0(e),e.value);return n[to]=e,n}function $m(t,e){u0()||y0(),t.equal(t.value,e)||(t.value=e,kF(t))}function w0(t,e){u0()||y0(),$m(t,e(t.value))}var E0=de(w({},Bm),{equal:RF,value:void 0});function kF(t){t.version++,xF(),l0(t),OF?.()}function O(t){return typeof t=="function"}function no(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bu=no(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $i(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof Bu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{I0(s)}catch(o){e=e??[],o instanceof Bu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Bu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)I0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$i(n,e)}remove(e){let{_finalizers:n}=this;n&&$i(n,e),e instanceof t&&e._removeParent(this)}};be.EMPTY=(()=>{let t=new be;return t.closed=!0,t})();var Hm=be.EMPTY;function Uu(t){return t instanceof be||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function I0(t){O(t)?t():t.unsubscribe()}var wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ro={setTimeout(t,e,...n){let{delegate:r}=ro;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ro;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function $u(t){ro.setTimeout(()=>{let{onUnhandledError:e}=wn;if(e)e(t);else throw t})}function br(){}var b0=zm("C",void 0,void 0);function D0(t){return zm("E",void 0,t)}function C0(t){return zm("N",t,void 0)}function zm(t,e,n){return{kind:t,value:e,error:n}}var Hi=null;function io(t){if(wn.useDeprecatedSynchronousErrorHandling){let e=!Hi;if(e&&(Hi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Hi;if(Hi=null,n)throw r}}else t()}function T0(t){wn.useDeprecatedSynchronousErrorHandling&&Hi&&(Hi.errorThrown=!0,Hi.error=t)}var zi=class extends be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Uu(e)&&e.add(this)):this.destination=VF}static create(e,n,r){return new Dr(e,n,r)}next(e){this.isStopped?Gm(C0(e),this):this._next(e)}error(e){this.isStopped?Gm(D0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gm(b0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FF=Function.prototype.bind;function qm(t,e){return FF.call(t,e)}var Wm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Hu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Hu(r)}else Hu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Hu(n)}}},Dr=class extends zi{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&wn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&qm(e.next,s),error:e.error&&qm(e.error,s),complete:e.complete&&qm(e.complete,s)}):i=e}this.destination=new Wm(i)}};function Hu(t){wn.useDeprecatedSynchronousErrorHandling?T0(t):$u(t)}function LF(t){throw t}function Gm(t,e){let{onStoppedNotification:n}=wn;n&&ro.setTimeout(()=>n(t,e))}var VF={closed:!0,next:br,error:LF,complete:br};var so=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ct(t){return t}function zu(...t){return Km(t)}function Km(t){return t.length===0?Ct:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var $=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=BF(n)?n:new Dr(n,r,i);return io(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=S0(r),new r((i,s)=>{let o=new Dr({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[so](){return this}pipe(...n){return Km(n)(this)}toPromise(n){return n=S0(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function S0(t){var e;return(e=t??wn.Promise)!==null&&e!==void 0?e:Promise}function jF(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function BF(t){return t&&t instanceof zi||jF(t)&&Uu(t)}function Qm(t){return O(t?.lift)}function G(t){return e=>{if(Qm(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function K(t,e,n,r,i){return new Ym(t,e,n,r,i)}var Ym=class extends zi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oo(){return G((t,e)=>{let n=null;t._refCount++;let r=K(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Yr=class extends ${constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new be;let n=this.getSubject();e.add(this.source.subscribe(K(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=be.EMPTY)}return e}refCount(){return oo()(this)}};var ao={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=ao;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(s=>{n=void 0,t(s)});return new be(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=ao;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=ao;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var A0=no(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=(()=>{class t extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new qu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new A0}next(n){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Hm:(this.currentObservers=null,s.push(n),new be(()=>{this.currentObservers=null,$i(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return t.create=(e,n)=>new qu(e,n),t})(),qu=class extends B{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Hm}};var qe=class extends B{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $a={now(){return($a.delegate||Date).now()},delegate:void 0};var qi=class extends B{constructor(e=1/0,n=1/0,r=$a){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var Gu=class extends be{constructor(e,n){super()}schedule(e,n=0){return this}};var Ha={setInterval(t,e,...n){let{delegate:r}=Ha;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ha;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Zr=class extends Gu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ha.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ha.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$i(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var co=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};co.now=$a.now;var Xr=class extends co{constructor(e,n=co.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Jt=new Xr(Zr),Zm=Jt;var Wu=class extends Zr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ku=class extends Xr{};var Xm=new Ku(Wu);var Qu=class extends Zr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=ao.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(ao.cancelAnimationFrame(n),e._scheduled=void 0)}};var Yu=class extends Xr{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var R0=new Yu(Qu);var Ot=new $(t=>t.complete());function Zu(t){return t&&O(t.schedule)}function Jm(t){return t[t.length-1]}function Xu(t){return O(Jm(t))?t.pop():void 0}function Fn(t){return Zu(Jm(t))?t.pop():void 0}function x0(t,e){return typeof Jm(t)=="number"?t.pop():e}function Ju(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function _7(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function N0(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function M0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gi(t){return this instanceof Gi?(this.v=t,this):new Gi(t)}function P0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof Gi?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function O0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof M0=="function"?M0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var lo=t=>t&&typeof t.length=="number"&&typeof t!="function";function ed(t){return O(t?.then)}function td(t){return O(t[so])}function nd(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function rd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function UF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var id=UF();function sd(t){return O(t?.[id])}function od(t){return P0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Gi(n.read());if(i)return yield Gi(void 0);yield yield Gi(r)}}finally{n.releaseLock()}})}function ad(t){return O(t?.getReader)}function pe(t){if(t instanceof $)return t;if(t!=null){if(td(t))return $F(t);if(lo(t))return HF(t);if(ed(t))return zF(t);if(nd(t))return k0(t);if(sd(t))return qF(t);if(ad(t))return GF(t)}throw rd(t)}function $F(t){return new $(e=>{let n=t[so]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function HF(t){return new $(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function zF(t){return new $(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,$u)})}function qF(t){return new $(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function k0(t){return new $(e=>{WF(t,e).catch(n=>e.error(n))})}function GF(t){return k0(od(t))}function WF(t,e){var n,r,i,s;return N0(this,void 0,void 0,function*(){try{for(n=O0(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function kt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Jr(t,e=0){return G((n,r)=>{n.subscribe(K(r,i=>kt(r,t,()=>r.next(i),e),()=>kt(r,t,()=>r.complete(),e),i=>kt(r,t,()=>r.error(i),e)))})}function ei(t,e=0){return G((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function F0(t,e){return pe(t).pipe(ei(e),Jr(e))}function L0(t,e){return pe(t).pipe(ei(e),Jr(e))}function V0(t,e){return new $(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function j0(t,e){return new $(n=>{let r;return kt(n,e,()=>{r=t[id](),kt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function cd(t,e){if(!t)throw new Error("Iterable cannot be null");return new $(n=>{kt(n,e,()=>{let r=t[Symbol.asyncIterator]();kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function B0(t,e){return cd(od(t),e)}function U0(t,e){if(t!=null){if(td(t))return F0(t,e);if(lo(t))return V0(t,e);if(ed(t))return L0(t,e);if(nd(t))return cd(t,e);if(sd(t))return j0(t,e);if(ad(t))return B0(t,e)}throw rd(t)}function Te(t,e){return e?U0(t,e):pe(t)}function F(...t){let e=Fn(t);return Te(t,e)}function uo(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new $(e?i=>e.schedule(r,0,i):r)}function ld(t){return!!t&&(t instanceof $||O(t.lift)&&O(t.subscribe))}var Cr=no(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function $0(t){return t instanceof Date&&!isNaN(t)}function Q(t,e){return G((n,r)=>{let i=0;n.subscribe(K(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:KF}=Array;function QF(t,e){return KF(e)?t(...e):t(e)}function ho(t){return Q(e=>QF(t,e))}var{isArray:YF}=Array,{getPrototypeOf:ZF,prototype:XF,keys:JF}=Object;function ud(t){if(t.length===1){let e=t[0];if(YF(e))return{args:e,keys:null};if(e1(e)){let n=JF(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function e1(t){return t&&typeof t=="object"&&ZF(t)===XF}function dd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Wi(...t){let e=Fn(t),n=Xu(t),{args:r,keys:i}=ud(t);if(r.length===0)return Te([],e);let s=new $(t1(r,e,i?o=>dd(i,o):Ct));return n?s.pipe(ho(n)):s}function t1(t,e,n=Ct){return r=>{H0(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)H0(e,()=>{let l=Te(t[c],e),u=!1;l.subscribe(K(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function H0(t,e,n){t?kt(n,t,e):e()}function z0(t,e,n,r,i,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<r?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let _=!1;pe(n(g,u++)).subscribe(K(e,E=>{i?.(E),s?f(E):e.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<r;){let E=c.shift();o?kt(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(K(e,f,()=>{d=!0,h()})),()=>{a?.()}}function xe(t,e,n=1/0){return O(e)?xe((r,i)=>Q((s,o)=>e(r,s,i,o))(pe(t(r,i))),n):(typeof e=="number"&&(n=e),G((r,i)=>z0(r,i,t,n)))}function ti(t=1/0){return xe(Ct,t)}function q0(){return ti(1)}function Ln(...t){return q0()(Te(t,Fn(t)))}function ni(t){return new $(e=>{pe(t()).subscribe(e)})}function eg(...t){let e=Xu(t),{args:n,keys:r}=ud(t),i=new $(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;pe(n[u]).subscribe(K(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?dd(r,a):a),s.complete())}))}});return e?i.pipe(ho(e)):i}var n1=["addListener","removeListener"],r1=["addEventListener","removeEventListener"],i1=["on","off"];function za(t,e,n,r){if(O(n)&&(r=n,n=void 0),r)return za(t,e,n).pipe(ho(r));let[i,s]=a1(t)?r1.map(o=>a=>t[o](e,a,n)):s1(t)?n1.map(G0(t,e)):o1(t)?i1.map(G0(t,e)):[];if(!i&&lo(t))return xe(o=>za(o,e,n))(pe(t));if(!i)throw new TypeError("Invalid event target");return new $(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function G0(t,e){return n=>r=>t[n](e,r)}function s1(t){return O(t.addListener)&&O(t.removeListener)}function o1(t){return O(t.on)&&O(t.off)}function a1(t){return O(t.addEventListener)&&O(t.removeEventListener)}function fo(t=0,e,n=Zm){let r=-1;return e!=null&&(Zu(e)?n=e:r=e),new $(i=>{let s=$0(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function c1(t=0,e=Jt){return t<0&&(t=0),fo(t,t,e)}function qa(...t){let e=Fn(t),n=x0(t,1/0),r=t;return r.length?r.length===1?pe(r[0]):ti(n)(Te(r,e)):Ot}var l1=new $(br);function Me(t,e){return G((n,r)=>{let i=0;n.subscribe(K(r,s=>t.call(e,s,i++)&&r.next(s)))})}function W0(t){return G((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let l=i;i=null,n.next(l)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(K(n,l=>{r=!0,i=l,s||pe(t(l)).subscribe(s=K(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function hd(t,e=Jt){return W0(()=>fo(t,e))}function ri(t){return G((e,n)=>{let r=null,i=!1,s;r=e.subscribe(K(n,void 0,void 0,o=>{s=pe(t(o,ri(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function K0(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(K(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Ki(t,e){return O(e)?xe(t,e,1):xe(t,1)}function Q0(t){return new $(e=>t.subscribe(e))}var u1={connector:()=>new B};function fd(t,e=u1){let{connector:n}=e;return G((r,i)=>{let s=n();pe(t(Q0(s))).subscribe(i),i.add(r.subscribe(s))})}function pd(t,e=Jt){return G((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),r.add(i);return}a()}n.subscribe(K(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function ii(t){return G((e,n)=>{let r=!1;e.subscribe(K(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ke(t){return t<=0?()=>Ot:G((e,n)=>{let r=0;e.subscribe(K(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Y0(){return G((t,e)=>{t.subscribe(K(e,br))})}function Ga(t){return Q(()=>t)}function tg(t,e){return e?n=>Ln(e.pipe(ke(1),Y0()),n.pipe(tg(t))):xe((n,r)=>pe(t(n,r)).pipe(ke(1),Ga(n)))}function d1(t,e=Jt){let n=fo(t,e);return tg(()=>n)}function Wa(t,e=Ct){return t=t??h1,G((n,r)=>{let i,s=!0;n.subscribe(K(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function h1(t,e){return t===e}function md(t=f1){return G((e,n)=>{let r=!1;e.subscribe(K(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function f1(){return new Cr}function Ka(t){return G((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Vn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Me((i,s)=>t(i,s,r)):Ct,ke(1),n?ii(e):md(()=>new Cr))}function po(t){return t<=0?()=>Ot:G((e,n)=>{let r=[];e.subscribe(K(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ng(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Me((i,s)=>t(i,s,r)):Ct,po(1),n?ii(e):md(()=>new Cr))}function Z0(t,e){let n=O(t)?t:()=>t;return O(e)?fd(e,{connector:n}):r=>new Yr(r,n)}function p1(t){return t?e=>fd(t)(e):e=>Z0(new B)(e)}function gd(t,e){return G(K0(t,e,arguments.length>=2,!0))}function X0(t={}){let{connector:e=()=>new B,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,u=d=!1},p=()=>{let g=o;f(),g?.unsubscribe()};return G((g,_)=>{l++,!d&&!u&&h();let E=c=c??e();_.add(()=>{l--,l===0&&!d&&!u&&(a=rg(p,i))}),E.subscribe(_),!o&&l>0&&(o=new Dr({next:M=>E.next(M),error:M=>{d=!0,h(),a=rg(f,n,M),E.error(M)},complete:()=>{u=!0,h(),a=rg(f,r),E.complete()}}),pe(g).subscribe(o))})(s)}}function rg(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new Dr({next:()=>{r.unsubscribe(),t()}});return pe(e(...n)).subscribe(r)}function J0(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,X0({connector:()=>new qi(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Qa(t){return Me((e,n)=>t<=n)}function En(...t){let e=Fn(t);return G((n,r)=>{(e?Ln(t,n,e):Ln(t,n)).subscribe(r)})}function jt(t,e){return G((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(K(r,c=>{i?.unsubscribe();let l=0,u=s++;pe(t(c,u)).subscribe(i=K(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function In(t){return G((e,n)=>{pe(t).subscribe(K(n,()=>n.complete(),br)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?G((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(K(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ct}var BC="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(Cy(e,n)),this.code=e}};function Cy(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function m1(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function At(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(At).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Ig(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var g1=De({__forward_ref__:De});function Kn(t){return t.__forward_ref__=Kn,t.toString=function(){return At(this())},t}function Tt(t){return UC(t)?t():t}function UC(t){return typeof t=="function"&&t.hasOwnProperty(g1)&&t.__forward_ref__===Kn}function $C(t){return t&&!!t.\u0275providers}var y1=De({\u0275cmp:De}),_1=De({\u0275dir:De}),v1=De({\u0275pipe:De}),w1=De({\u0275mod:De}),Rd=De({\u0275fac:De}),Ya=De({__NG_ELEMENT_ID__:De}),eC=De({__NG_ENV_ID__:De});function lc(t){return typeof t=="string"?t:t==null?"":String(t)}function E1(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():lc(t)}function I1(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}function Ty(t,e){throw new C(-201,!1)}function b1(t,e){t==null&&D1(e,t,null,"!=")}function D1(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function X(t){return{providers:t.providers||[],imports:t.imports||[]}}function Yd(t){return tC(t,zC)||tC(t,qC)}function HC(t){return Yd(t)!==null}function tC(t,e){return t.hasOwnProperty(e)?t[e]:null}function C1(t){let e=t&&(t[zC]||t[qC]);return e||null}function nC(t){return t&&(t.hasOwnProperty(rC)||t.hasOwnProperty(T1))?t[rC]:null}var zC=De({\u0275prov:De}),rC=De({\u0275inj:De}),qC=De({ngInjectableDef:De}),T1=De({ngInjectorDef:De}),ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),bg;function GC(){return bg}function Ft(t){let e=bg;return bg=t,e}function WC(t,e,n){let r=Yd(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;Ty(t,"Injector")}var Ke=globalThis;var S=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var S1={},Za=S1,Dg="__NG_DI_FLAG__",xd="ngTempTokenPath",A1="ngTokenPath",R1=/\n/gm,x1="\u0275",iC="__source",vo;function M1(){return vo}function si(t){let e=vo;return vo=t,e}function N1(t,e=ae.Default){if(vo===void 0)throw new C(-203,!1);return vo===null?WC(t,void 0,e):vo.get(t,e&ae.Optional?null:void 0,e)}function y(t,e=ae.Default){return(GC()||N1)(Tt(t),e)}function D(t,e=ae.Default){return y(t,Zd(e))}function Zd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Cg(t){let e=[];for(let n=0;n<t.length;n++){let r=Tt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,s=ae.Default;for(let o=0;o<r.length;o++){let a=r[o],c=P1(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(y(i,s))}else e.push(y(r))}return e}function KC(t,e){return t[Dg]=e,t.prototype[Dg]=e,t}function P1(t){return t[Dg]}function O1(t,e,n,r){let i=t[xd];throw e[iC]&&i.unshift(e[iC]),t.message=k1(`
`+t.message,i,n,r),t[A1]=i,t[xd]=null,t}function k1(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==x1?t.slice(2):t;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):At(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(R1,`
  `)}`}function uc(t){return{toString:t}.toString()}var QC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(QC||{}),$n=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($n||{}),Eo={},St=[],ce=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ce||{});function YC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Tg(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];F1(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function ZC(t){return t===3||t===4||t===6}function F1(t){return t.charCodeAt(0)===64}function Xa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?sC(t,n,i,null,e[++r]):sC(t,n,i,null,null))}}return t}function sC(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var XC="ng-template";function L1(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&YC(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function JC(t){return t.type===4&&t.value!==XC}function V1(t,e,n){let r=t.type===4&&!n?XC:t.value;return e===r}function j1(t,e,n){let r=4,i=t.attrs||[],s=$1(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!bn(r)&&!bn(c))return!1;if(o&&bn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!V1(t,c,n)||c===""&&e.length===1){if(bn(r))return!1;o=!0}}else{let l=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!L1(t.attrs,l,n)){if(bn(r))return!1;o=!0}continue}let u=r&8?"class":c,d=B1(u,i,JC(t),n);if(d===-1){if(bn(r))return!1;o=!0;continue}if(l!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&YC(f,l,0)!==-1||r&2&&l!==h){if(bn(r))return!1;o=!0}}}}return bn(r)||o}function bn(t){return(t&1)===0}function B1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return H1(e,t)}function eT(t,e,n=!1){for(let r=0;r<e.length;r++)if(j1(t,e[r],n))return!0;return!1}function U1(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function $1(t){for(let e=0;e<t.length;e++){let n=t[e];if(ZC(n))return e}return t.length}function H1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function z1(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function oC(t,e){return t?":not("+e.trim()+")":e}function q1(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!bn(o)&&(e+=oC(s,i),i=""),r=o,s=s||!bn(r);n++}return i!==""&&(e+=oC(s,i)),e}function G1(t){return t.map(q1).join(",")}function W1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!bn(i))break;i=s}r++}return{attrs:e,classes:n}}function Qn(t){return uc(()=>{let e=oT(t),n=de(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===QC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$n.Emulated,styles:t.styles||St,_:null,schemas:t.schemas||null,tView:null,id:""});aT(n);let r=t.dependencies;return n.directiveDefs=cC(r,!1),n.pipeDefs=cC(r,!0),n.id=Y1(n),n})}function K1(t){return ci(t)||nT(t)}function Q1(t){return t!==null}function J(t){return uc(()=>({type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function aC(t,e){if(t==null)return Eo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ce.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ce.None?[r,a]:r,e[s]=o):n[s]=r}return n}function ye(t){return uc(()=>{let e=oT(t);return aT(e),e})}function tT(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ci(t){return t[y1]||null}function nT(t){return t[_1]||null}function rT(t){return t[v1]||null}function iT(t){let e=ci(t)||nT(t)||rT(t);return e!==null?e.standalone:!1}function sT(t,e){let n=t[w1]||null;if(!n&&e===!0)throw new Error(`Type ${At(t)} does not have '\u0275mod' property.`);return n}function oT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Eo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:aC(t.inputs,e),outputs:aC(t.outputs),debugInfo:null}}function aT(t){t.features?.forEach(e=>e(t))}function cC(t,e){if(!t)return null;let n=e?rT:K1;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Q1)}function Y1(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Yn=0,H=1,Y=2,lt=3,Cn=4,Ht=5,Io=6,Ja=7,rt=8,bo=9,Hn=10,Ve=11,ec=12,lC=13,xo=14,tn=15,dc=16,mo=17,Un=18,hc=19,cT=20,oi=21,ig=22,Zi=23,Xe=25,Sy=1;var Xi=7,Md=8,Do=9,mt=10,Ay=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ay||{});function ai(t){return Array.isArray(t)&&typeof t[Sy]=="object"}function Sr(t){return Array.isArray(t)&&t[Sy]===!0}function Ry(t){return(t.flags&4)!==0}function Xd(t){return t.componentOffset>-1}function Jd(t){return(t.flags&1)===1}function Tr(t){return!!t.template}function Z1(t){return(t[Y]&512)!==0}function Ji(t,e){let n=t.hasOwnProperty(Rd);return n?t[Rd]:null}var Sg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Rt(){return uT}function uT(t){return t.type.prototype.ngOnChanges&&(t.setInput=J1),X1}Rt.ngInherit=!0;function X1(){let t=hT(this),e=t?.current;if(e){let n=t.previous;if(n===Eo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function J1(t,e,n,r,i){let s=this.declaredInputs[r],o=hT(t)||eL(t,{previous:Eo,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new Sg(l&&l.currentValue,n,c===Eo),lT(t,e,i,n)}var dT="__ngSimpleChanges__";function hT(t){return t[dT]||null}function eL(t,e){return t[dT]=e}var uC=null;var jn=function(t,e,n){uC?.(t,e,n)},fT="svg",tL="math",nL=!1;function rL(){return nL}function Bt(t){for(;Array.isArray(t);)t=t[Yn];return t}function iL(t){for(;Array.isArray(t);){if(typeof t[Sy]=="object")return t;t=t[Yn]}return null}function pT(t,e){return Bt(e[t])}function rn(t,e){return Bt(e[t.index])}function xy(t,e){return t.data[e]}function mT(t,e){return t[e]}function zn(t,e){let n=e[t];return ai(n)?n:n[Yn]}function sL(t){return(t[Y]&4)===4}function My(t){return(t[Y]&128)===128}function oL(t){return Sr(t[lt])}function Co(t,e){return e==null?null:t[e]}function gT(t){t[mo]=0}function aL(t){t[Y]&1024||(t[Y]|=1024,My(t)&&tc(t))}function cL(t,e){for(;t>0;)e=e[xo],t--;return e}function yT(t){return t[Y]&9216||t[Zi]?.dirty}function Ag(t){yT(t)?tc(t):t[Y]&64&&(rL()?(t[Y]|=1024,tc(t)):t[Hn].changeDetectionScheduler?.notify())}function tc(t){t[Hn].changeDetectionScheduler?.notify();let e=nc(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!My(e)));)e=nc(e)}function _T(t,e){if((t[Y]&256)===256)throw new C(911,!1);t[oi]===null&&(t[oi]=[]),t[oi].push(e)}function lL(t,e){if(t[oi]===null)return;let n=t[oi].indexOf(e);n!==-1&&t[oi].splice(n,1)}function nc(t){let e=t[lt];return Sr(e)?e[lt]:e}var re={lFrame:TT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uL(){return re.lFrame.elementDepthCount}function dL(){re.lFrame.elementDepthCount++}function hL(){re.lFrame.elementDepthCount--}function vT(){return re.bindingsEnabled}function wT(){return re.skipHydrationRootTNode!==null}function fL(t){return re.skipHydrationRootTNode===t}function pL(){re.skipHydrationRootTNode=null}function ie(){return re.lFrame.lView}function je(){return re.lFrame.tView}function Ny(t){return re.lFrame.contextLView=t,t[rt]}function Py(t){return re.lFrame.contextLView=null,t}function gt(){let t=ET();for(;t!==null&&t.type===64;)t=t.parent;return t}function ET(){return re.lFrame.currentTNode}function mL(){let t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function os(t,e){let n=re.lFrame;n.currentTNode=t,n.isParent=e}function Oy(){return re.lFrame.isParent}function ky(){re.lFrame.isParent=!1}function gL(){return re.lFrame.contextLView}function Fy(){let t=re.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function yL(t){return re.lFrame.bindingIndex=t}function as(){return re.lFrame.bindingIndex++}function IT(t){let e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function _L(){return re.lFrame.inI18n}function vL(t,e){let n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rg(e)}function wL(){return re.lFrame.currentDirectiveIndex}function Rg(t){re.lFrame.currentDirectiveIndex=t}function Ly(t){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bT(){return re.lFrame.currentQueryIndex}function Vy(t){re.lFrame.currentQueryIndex=t}function EL(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[Ht]:null}function DT(t,e,n){if(n&ae.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=EL(s),i===null||(s=s[xo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=re.lFrame=CT();return r.currentTNode=e,r.lView=t,!0}function jy(t){let e=CT(),n=t[H];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function CT(){let t=re.lFrame,e=t===null?null:t.child;return e===null?TT(t):e}function TT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ST(){let t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var AT=ST;function By(){let t=ST();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function IL(t){return(re.lFrame.contextLView=cL(t,re.lFrame.contextLView))[rt]}function ui(){return re.lFrame.selectedIndex}function es(t){re.lFrame.selectedIndex=t}function eh(){let t=re.lFrame;return xy(t.tView,t.selectedIndex)}function RT(){re.lFrame.currentNamespace=fT}function xT(){bL()}function bL(){re.lFrame.currentNamespace=null}function DL(){return re.lFrame.currentNamespace}var MT=!0;function th(){return MT}function nh(t){MT=t}function CL(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=uT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function rh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function bd(t,e,n){NT(t,e,3,n)}function Dd(t,e,n,r){(t[Y]&3)===n&&NT(t,e,n,r)}function sg(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function NT(t,e,n,r){let i=r!==void 0?t[mo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[mo]+=65536),(a<s||s==-1)&&(TL(t,n,e,c),t[mo]=(t[mo]&4294901760)+c+2),c++}function dC(t,e){jn(4,t,e);let n=ct(null);try{e.call(t)}finally{ct(n),jn(5,t,e)}}function TL(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Y]>>14<t[mo]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,dC(a,s)):dC(a,s)}var wo=-1,ts=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function SL(t){return t instanceof ts}function AL(t){return(t.flags&8)!==0}function RL(t){return(t.flags&16)!==0}function PT(t){return t!==wo}function Nd(t){return t&32767}function xL(t){return t>>16}function Pd(t,e){let n=xL(t),r=e;for(;n>0;)r=r[xo],n--;return r}var xg=!0;function Od(t){let e=xg;return xg=t,e}var ML=256,OT=ML-1,kT=5,NL=0,Bn={};function PL(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ya)&&(r=n[Ya]),r==null&&(r=n[Ya]=NL++);let i=r&OT,s=1<<i;e.data[t+(i>>kT)]|=s}function kd(t,e){let n=FT(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,og(r.data,t),og(e,null),og(r.blueprint,null));let i=Uy(t,e),s=t.injectorIndex;if(PT(i)){let o=Nd(i),a=Pd(i,e),c=a[H].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function og(t,e){t.push(0,0,0,0,0,0,0,0,e)}function FT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Uy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=UT(i),r===null)return wo;if(n++,i=i[xo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return wo}function Mg(t,e,n){PL(t,e,n)}function OL(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(ZC(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function LT(t,e,n){if(n&ae.Optional||t!==void 0)return t;Ty(e,"NodeInjector")}function VT(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[bo],s=Ft(void 0);try{return i?i.get(e,r,n&ae.Optional):WC(e,r,n&ae.Optional)}finally{Ft(s)}}return LT(r,e,n)}function jT(t,e,n,r=ae.Default,i){if(t!==null){if(e[Y]&2048&&!(r&ae.Self)){let o=VL(t,e,n,r,Bn);if(o!==Bn)return o}let s=BT(t,e,n,r,Bn);if(s!==Bn)return s}return VT(e,n,r,i)}function BT(t,e,n,r,i){let s=FL(n);if(typeof s=="function"){if(!DT(e,t,r))return r&ae.Host?LT(i,n,r):VT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ae.Optional))Ty(n);else return o}finally{AT()}}else if(typeof s=="number"){let o=null,a=FT(t,e),c=wo,l=r&ae.Host?e[tn][Ht]:null;for((a===-1||r&ae.SkipSelf)&&(c=a===-1?Uy(t,e):e[a+8],c===wo||!fC(r,!1)?a=-1:(o=e[H],a=Nd(c),e=Pd(c,e)));a!==-1;){let u=e[H];if(hC(s,a,u.data)){let d=kL(a,e,n,o,r,l);if(d!==Bn)return d}c=e[a+8],c!==wo&&fC(r,e[H].data[a+8]===l)&&hC(s,a,e)?(o=u,a=Nd(c),e=Pd(c,e)):a=-1}}return i}function kL(t,e,n,r,i,s){let o=e[H],a=o.data[t+8],c=r==null?Xd(a)&&xg:r!=o&&(a.type&3)!==0,l=i&ae.Host&&s===a,u=Cd(a,o,n,c,l);return u!==null?ns(e,o,u,a):Bn}function Cd(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:l;for(let f=d;f<h;f++){let p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){let f=o[c];if(f&&Tr(f)&&f.type===n)return c}return null}function ns(t,e,n,r){let i=t[n],s=e.data;if(SL(i)){let o=i;o.resolving&&I1(E1(s[n]));let a=Od(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Ft(o.injectImpl):null,u=DT(t,r,ae.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&CL(n,s[n],e)}finally{l!==null&&Ft(l),Od(a),o.resolving=!1,AT()}}return i}function FL(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ya)?t[Ya]:void 0;return typeof e=="number"?e>=0?e&OT:LL:e}function hC(t,e,n){let r=1<<t;return!!(n[e+(t>>kT)]&r)}function fC(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var Yi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jT(this._tNode,this._lView,e,Zd(r),n)}};function LL(){return new Yi(gt(),ie())}function di(t){return uc(()=>{let e=t.prototype.constructor,n=e[Rd]||Ng(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Rd]||Ng(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ng(t){return UC(t)?()=>{let e=Ng(Tt(t));return e&&e()}:Ji(t)}function VL(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Y]&2048&&!(o[Y]&512);){let a=BT(s,o,n,r|ae.Self,Bn);if(a!==Bn)return a;let c=s.parent;if(!c){let l=o[cT];if(l){let u=l.get(n,Bn,r);if(u!==Bn)return u}c=UT(o),o=o[xo]}s=c}return i}function UT(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[Ht]:null}function $y(t){return OL(gt(),t)}var yd="__parameters__";function jL(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function $T(t,e,n){return uc(()=>{let r=jL(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(yd)?c[yd]:Object.defineProperty(c,yd,{value:[]})[yd];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function BL(t){return typeof t=="function"}function UL(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function $L(t){return t.flat(Number.POSITIVE_INFINITY)}function Hy(t,e){t.forEach(n=>Array.isArray(n)?Hy(n,e):e(n))}function HT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Fd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function HL(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function zL(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function zy(t,e,n){let r=fc(t,e);return r>=0?t[r|1]=n:(r=~r,zL(t,r,e,n)),r}function ag(t,e){let n=fc(t,e);if(n>=0)return t[n|1]}function fc(t,e){return qL(t,e,1)}function qL(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ut=KC($T("Optional"),8);var qy=KC($T("SkipSelf"),4);var To=new S("ENVIRONMENT_INITIALIZER"),zT=new S("INJECTOR",-1),qT=new S("INJECTOR_DEF_TYPES"),Ld=class{get(e,n=Za){if(n===Za){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return n}};function ih(t){return{\u0275providers:t}}function GL(...t){return{\u0275providers:GT(!0,t),\u0275fromNgModule:!0}}function GT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Hy(e,o=>{let a=o;Pg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&WT(i,s),n}function WT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Gy(i,s=>{e(s,r)})}}function Pg(t,e,n,r){if(t=Tt(t),!t)return!1;let i=null,s=nC(t),o=!s&&ci(t);if(!s&&!o){let c=t.ngModule;if(s=nC(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Pg(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Hy(s.imports,u=>{Pg(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&WT(l,e)}if(!a){let l=Ji(i)||(()=>new i);e({provide:i,useFactory:l,deps:St},i),e({provide:qT,useValue:i,multi:!0},i),e({provide:To,useValue:()=>y(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;Gy(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Gy(t,e){for(let n of t)$C(n)&&(n=n.\u0275providers),Array.isArray(n)?Gy(n,e):e(n)}var WL=De({provide:String,useValue:De});function KT(t){return t!==null&&typeof t=="object"&&WL in t}function KL(t){return!!(t&&t.useExisting)}function QL(t){return!!(t&&t.useFactory)}function So(t){return typeof t=="function"}function YL(t){return!!t.useClass}var sh=new S("Set Injector scope."),Td={},ZL={},cg;function Wy(){return cg===void 0&&(cg=new Ld),cg}var Ut=class{},rc=class extends Ut{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,kg(e,o=>this.processProvider(o)),this.records.set(zT,go(void 0,this)),i.has("environment")&&this.records.set(Ut,go(void 0,this));let s=this.records.get(sh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(qT,St,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=si(this),r=Ft(void 0),i;try{return e()}finally{si(n),Ft(r)}}get(e,n=Za,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(eC))return e[eC](this);r=Zd(r);let i,s=si(this),o=Ft(void 0);try{if(!(r&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=nV(e)&&Yd(e);l&&this.injectableDefInScope(l)?c=go(Og(e),Td):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ae.Self?Wy():this.parent;return n=r&ae.Optional&&n===Za?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[xd]=a[xd]||[]).unshift(At(e)),s)throw a;return O1(a,e,"R3InjectorError",this.source)}else throw a}finally{Ft(o),si(s)}}resolveInjectorInitializers(){let e=si(this),n=Ft(void 0),r;try{let i=this.get(To,St,ae.Self);for(let s of i)s()}finally{si(e),Ft(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=Tt(e);let n=So(e)?e:Tt(e&&e.provide),r=JL(e);if(!So(e)&&e.multi===!0){let i=this.records.get(n);i||(i=go(void 0,Td,!0),i.factory=()=>Cg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Td&&(n.value=ZL,n.value=n.factory()),typeof n.value=="object"&&n.value&&tV(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Tt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Og(t){let e=Yd(t),n=e!==null?e.factory:Ji(t);if(n!==null)return n;if(t instanceof S)throw new C(204,!1);if(t instanceof Function)return XL(t);throw new C(204,!1)}function XL(t){if(t.length>0)throw new C(204,!1);let n=C1(t);return n!==null?()=>n.factory(t):()=>new t}function JL(t){if(KT(t))return go(void 0,t.useValue);{let e=QT(t);return go(e,Td)}}function QT(t,e,n){let r;if(So(t)){let i=Tt(t);return Ji(i)||Og(i)}else if(KT(t))r=()=>Tt(t.useValue);else if(QL(t))r=()=>t.useFactory(...Cg(t.deps||[]));else if(KL(t))r=()=>y(Tt(t.useExisting));else{let i=Tt(t&&(t.useClass||t.provide));if(eV(t))r=()=>new i(...Cg(t.deps));else return Ji(i)||Og(i)}return r}function go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function eV(t){return!!t.deps}function tV(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nV(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function kg(t,e){for(let n of t)Array.isArray(n)?kg(n,e):n&&$C(n)?kg(n.\u0275providers,e):e(n)}function hi(t,e){t instanceof rc&&t.assertNotDestroyed();let n,r=si(t),i=Ft(void 0);try{return e()}finally{si(r),Ft(i)}}function rV(t){if(!GC()&&!M1())throw new C(-203,!1)}function pC(t,e=null,n=null,r){let i=YT(t,e,n,r);return i.resolveInjectorInitializers(),i}function YT(t,e=null,n=null,r,i=new Set){let s=[n||St,GL(t)];return r=r||(typeof t=="object"?void 0:At(t)),new rc(s,e||Wy(),r||null,i)}var Ce=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return pC({name:""},i,r,"");{let s=r.name??"";return pC({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Za,e.NULL=new Ld,e.\u0275prov=I({token:e,providedIn:"any",factory:()=>y(zT)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Fg;function ZT(t){Fg=t}function XT(){if(Fg!==void 0)return Fg;if(typeof document<"u")return document;throw new C(210,!1)}var pc=new S("AppId",{providedIn:"root",factory:()=>iV}),iV="ng",Ky=new S("Platform Initializer"),sn=new S("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Lt=new S("AnimationModuleType"),mc=new S("CSP nonce",{providedIn:"root",factory:()=>XT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function JT(t){return t instanceof Function?t():t}function sV(t){return(t??D(Ce)).get(sn)==="browser"}function eS(t){return(t.flags&128)===128}var qn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(qn||{}),oV=/^>|^->|<!--|-->|--!>|<!-$/g,aV=/(<|>)/g,cV="\u200B$1\u200B";function lV(t){return t.replace(oV,e=>e.replace(aV,cV))}var Qy=new Map,uV=0;function dV(){return uV++}function hV(t){Qy.set(t[hc],t)}function tS(t){return Qy.get(t)||null}function fV(t){Qy.delete(t[hc])}var Lg=class{get lView(){return tS(this.lViewId)}constructor(e,n,r){this.lViewId=e,this.nodeIndex=n,this.native=r}};function $te(t){let e=lg(t);if(e){if(ai(e)){let n=e,r,i,s;if(nS(t)){if(r=gV(n,t),r==-1)throw new Error("The provided component was not found in the application");i=t}else if(pV(t)){if(r=yV(n,t),r==-1)throw new Error("The provided directive was not found in the application");s=_V(r,n)}else if(r=gC(n,t),r==-1)return null;let o=Bt(n[r]),a=lg(o),c=a&&!Array.isArray(a)?a:mC(n,r,o);if(i&&c.component===void 0&&(c.component=i,en(c.component,c)),s&&c.directives===void 0){c.directives=s;for(let l=0;l<s.length;l++)en(s[l],c)}en(c.native,c),e=c}}else{let n=t,r=n;for(;r=r.parentNode;){let i=lg(r);if(i){let s=Array.isArray(i)?i:i.lView;if(!s)return null;let o=gC(s,n);if(o>=0){let a=Bt(s[o]),c=mC(s,o,a);en(a,c),e=c;break}}}}return e||null}function mC(t,e,n){return new Lg(t[hc],e,n)}var Vg="__ngContext__";function en(t,e){ai(e)?(t[Vg]=e[hc],hV(e)):t[Vg]=e}function lg(t){let e=t[Vg];return typeof e=="number"?tS(e):e||null}function nS(t){return t&&t.constructor&&t.constructor.\u0275cmp}function pV(t){return t&&t.constructor&&t.constructor.\u0275dir}function gC(t,e){let n=t[H];for(let r=Xe;r<n.bindingStartIndex;r++)if(Bt(t[r])===e)return r;return-1}function mV(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function gV(t,e){let n=t[H].components;if(n)for(let r=0;r<n.length;r++){let i=n[r];if(zn(i,t)[rt]===e)return i}else if(zn(Xe,t)[rt]===e)return Xe;return-1}function yV(t,e){let n=t[H].firstChild;for(;n;){let r=n.directiveStart,i=n.directiveEnd;for(let s=r;s<i;s++)if(t[s]===e)return n.index;n=mV(n)}return-1}function _V(t,e){let n=e[H].data[t];if(n.directiveStart===0)return St;let r=[];for(let i=n.directiveStart;i<n.directiveEnd;i++){let s=e[i];nS(s)||r.push(s)}return r}var vV;function Yy(t,e){return vV(t,e)}function yo(t,e,n,r,i){if(r!=null){let s,o=!1;Sr(r)?s=r:ai(r)&&(o=!0,r=r[Yn]);let a=Bt(r);t===0&&n!==null?i==null?aS(e,n,a):Vd(e,n,a,i||null,!0):t===1&&n!==null?Vd(e,n,a,i||null,!0):t===2?kV(e,a,o):t===3&&e.destroyNode(a),s!=null&&LV(e,t,s,n,i)}}function wV(t,e){return t.createText(e)}function EV(t,e,n){t.setValue(e,n)}function IV(t,e){return t.createComment(lV(e))}function rS(t,e,n){return t.createElement(e,n)}function bV(t,e){iS(t,e),e[Yn]=null,e[Ht]=null}function DV(t,e,n,r,i,s){r[Yn]=i,r[Ht]=e,ch(t,r,n,1,i,s)}function iS(t,e){e[Hn].changeDetectionScheduler?.notify(),ch(t,e,e[Ve],2,null,null)}function CV(t){let e=t[ec];if(!e)return ug(t[H],t);for(;e;){let n=null;if(ai(e))n=e[ec];else{let r=e[mt];r&&(n=r)}if(!n){for(;e&&!e[Cn]&&e!==t;)ai(e)&&ug(e[H],e),e=e[lt];e===null&&(e=t),ai(e)&&ug(e[H],e),n=e&&e[Cn]}e=n}}function TV(t,e,n,r){let i=mt+r,s=n.length;r>0&&(n[i-1][Cn]=e),r<s-mt?(e[Cn]=n[i],HT(n,mt+r,e)):(n.push(e),e[Cn]=null),e[lt]=n;let o=e[dc];o!==null&&n!==o&&SV(o,e);let a=e[Un];a!==null&&a.insertView(t),Ag(e),e[Y]|=128}function SV(t,e){let n=t[Do],i=e[lt][lt][tn];e[tn]!==i&&(t[Y]|=Ay.HasTransplantedViews),n===null?t[Do]=[e]:n.push(e)}function sS(t,e){let n=t[Do],r=n.indexOf(e);n.splice(r,1)}function ic(t,e){if(t.length<=mt)return;let n=mt+e,r=t[n];if(r){let i=r[dc];i!==null&&i!==t&&sS(i,r),e>0&&(t[n-1][Cn]=r[Cn]);let s=Fd(t,mt+e);bV(r[H],r);let o=s[Un];o!==null&&o.detachView(s[H]),r[lt]=null,r[Cn]=null,r[Y]&=-129}return r}function oh(t,e){if(!(e[Y]&256)){let n=e[Ve];n.destroyNode&&ch(t,e,n,3,null,null),CV(e)}}function ug(t,e){if(!(e[Y]&256)){e[Y]&=-129,e[Y]|=256,e[Zi]&&f0(e[Zi]),RV(t,e),AV(t,e),e[H].type===1&&e[Ve].destroy();let n=e[dc];if(n!==null&&Sr(e[lt])){n!==e[lt]&&sS(n,e);let r=e[Un];r!==null&&r.detachView(t)}fV(e)}}function AV(t,e){let n=t.cleanup,r=e[Ja];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ja]=null);let i=e[oi];if(i!==null){e[oi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function RV(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ts)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];jn(4,a,c);try{c.call(a)}finally{jn(5,a,c)}}else{jn(4,i,s);try{s.call(i)}finally{jn(5,i,s)}}}}}function oS(t,e,n){return xV(t,e.parent,n)}function xV(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Yn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===$n.None||s===$n.Emulated)return null}return rn(r,n)}}function Vd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function aS(t,e,n){t.appendChild(e,n)}function yC(t,e,n,r,i){r!==null?Vd(t,e,n,r,i):aS(t,e,n)}function MV(t,e,n,r){t.removeChild(e,n,r)}function Zy(t,e){return t.parentNode(e)}function NV(t,e){return t.nextSibling(e)}function cS(t,e,n){return OV(t,e,n)}function PV(t,e,n){return t.type&40?rn(t,n):null}var OV=PV,_C;function ah(t,e,n,r){let i=oS(t,r,e),s=e[Ve],o=r.parent||e[Ht],a=cS(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)yC(s,i,n[c],a,!1);else yC(s,i,n,a,!1);_C!==void 0&&_C(s,r,e,n,i)}function Sd(t,e){if(e!==null){let n=e.type;if(n&3)return rn(e,t);if(n&4)return jg(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Sd(t,r);{let i=t[e.index];return Sr(i)?jg(-1,i):Bt(i)}}else{if(n&32)return Yy(e,t)()||Bt(t[e.index]);{let r=lS(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=nc(t[tn]);return Sd(i,r)}else return Sd(t,e.next)}}}return null}function lS(t,e){if(e!==null){let r=t[tn][Ht],i=e.projection;return r.projection[i]}return null}function jg(t,e){let n=mt+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return Sd(r,i)}return e[Xi]}function kV(t,e,n){let r=Zy(t,e);r&&MV(t,r,e,n)}function Xy(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&en(Bt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Xy(t,e,n.child,r,i,s,!1),yo(e,t,i,a,s);else if(c&32){let l=Yy(n,r),u;for(;u=l();)yo(e,t,i,u,s);yo(e,t,i,a,s)}else c&16?uS(t,e,r,n,i,s):yo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ch(t,e,n,r,i,s){Xy(n,r,t.firstChild,e,i,s,!1)}function FV(t,e,n){let r=e[Ve],i=oS(t,n,e),s=n.parent||e[Ht],o=cS(s,n,e);uS(r,0,e,n,i,o)}function uS(t,e,n,r,i,s){let o=n[tn],c=o[Ht].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];yo(e,t,i,u,s)}else{let l=c,u=o[lt];eS(r)&&(l.flags|=128),Xy(t,e,l,u,i,s,!0)}}function LV(t,e,n,r,i){let s=n[Xi],o=Bt(n);s!==o&&yo(e,t,r,s,i);for(let a=mt;a<n.length;a++){let c=n[a];ch(c[H],c,t,e,r,s)}}function VV(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:qn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=qn.Important),t.setStyle(n,r,i,s))}}function jV(t,e,n){t.setAttribute(e,"style",n)}function dS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function hS(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Tg(t,e,r),i!==null&&dS(t,e,i),s!==null&&jV(t,e,s)}var _d;function BV(){if(_d===void 0&&(_d=null,Ke.trustedTypes))try{_d=Ke.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _d}function lh(t){return BV()?.createHTML(t)||t}var vd;function fS(){if(vd===void 0&&(vd=null,Ke.trustedTypes))try{vd=Ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vd}function vC(t){return fS()?.createHTML(t)||t}function wC(t){return fS()?.createScriptURL(t)||t}var jd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${BC})`}};function cs(t){return t instanceof jd?t.changingThisBreaksApplicationSecurity:t}function uh(t,e){let n=UV(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${BC})`)}return n===e}function UV(t){return t instanceof jd&&t.getTypeName()||null}function $V(t){let e=new Ug(t);return HV()?new Bg(e):e}var Bg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(lh(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Ug=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=lh(e),n}};function HV(){try{return!!new window.DOMParser().parseFromString(lh(""),"text/html")}catch{return!1}}var zV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jy(t){return t=String(t),t.match(zV)?t:"unsafe:"+t}function Ar(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function gc(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var pS=Ar("area,br,col,hr,img,wbr"),mS=Ar("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gS=Ar("rp,rt"),qV=gc(gS,mS),GV=gc(mS,Ar("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),WV=gc(gS,Ar("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),EC=gc(pS,GV,WV,qV),yS=Ar("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),KV=Ar("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),QV=Ar("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),YV=gc(yS,KV,QV),ZV=Ar("script,style,template"),$g=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!EC.hasOwnProperty(n))return this.sanitizedSomething=!0,!ZV.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!YV.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;yS[a]&&(c=Jy(c)),this.buf.push(" ",o,'="',IC(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();EC.hasOwnProperty(n)&&!pS.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(IC(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},XV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,JV=/([^\#-~ |!])/g;function IC(t){return t.replace(/&/g,"&amp;").replace(XV,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(JV,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var wd;function _S(t,e){let n=null;try{wd=wd||$V(t);let r=e?String(e):"";n=wd.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=wd.getInertBodyElement(r)}while(r!==s);let a=new $g().sanitizeChildren(bC(n)||n);return lh(a)}finally{if(n){let r=bC(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function bC(t){return"content"in t&&ej(t)?t.content:null}function ej(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var yc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yc||{});function vS(t){let e=e_();return e?vC(e.sanitize(yc.HTML,t)||""):uh(t,"HTML")?vC(cs(t)):_S(XT(),lc(t))}function tj(t){let e=e_();return e?e.sanitize(yc.URL,t)||"":uh(t,"URL")?cs(t):Jy(lc(t))}function nj(t){let e=e_();if(e)return wC(e.sanitize(yc.RESOURCE_URL,t)||"");if(uh(t,"ResourceURL"))return wC(cs(t));throw new C(904,!1)}function rj(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?nj:tj}function wS(t,e,n){return rj(e,n)(t)}function e_(){let t=ie();return t&&t[Hn].sanitizer}var Hg=class{};var ij="h",sj="b";var oj=()=>null;function t_(t,e,n=!1){return oj(t,e,n)}var zg=class{},Bd=class{};function aj(t){let e=Error(`No component factory found for ${At(t)}.`);return e[cj]=t,e}var cj="ngComponent";var qg=class{resolveComponentFactory(e){throw aj(e)}},fi=(()=>{let e=class e{};e.NULL=new qg;let t=e;return t})();function lj(){return Mo(gt(),ie())}function Mo(t,e){return new me(rn(t,e))}var me=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=lj;let t=e;return t})();function uj(t){return t instanceof me?t.nativeElement:t}var rs=class{},Rr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>dj();let t=e;return t})();function dj(){let t=ie(),e=gt(),n=zn(e.index,t);return(ai(n)?n:t)[Ve]}var hj=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),dg={};function ES(t,e){let n=v0(t),r=n[to];return e?.equal&&(r.equal=e.equal),n.set=i=>$m(r,i),n.update=i=>w0(r,i),n.asReadonly=fj.bind(n),n}function fj(){let t=this[to];if(t.readonlyFn===void 0){let e=()=>this();e[to]=t,t.readonlyFn=e}return t.readonlyFn}function IS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}var Gg=class{constructor(){}supports(e){return e instanceof Map||IS(e)}create(){return new Wg}},Wg=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||IS(e)))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Kg(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Kg=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function DC(){return new n_([new Gg])}var n_=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||DC()),deps:[[e,new qy,new ut]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i)return i;throw new C(901,!1)}};e.\u0275prov=I({token:e,providedIn:"root",factory:DC});let t=e;return t})();function Ud(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Bt(s)),Sr(s)&&pj(s,r);let o=n.type;if(o&8)Ud(t,e,n.child,r);else if(o&32){let a=Yy(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=lS(e,n);if(Array.isArray(a))r.push(...a);else{let c=nc(e[tn]);Ud(c[H],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pj(t,e){for(let n=mt;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&Ud(r[H],r,i,e)}t[Xi]!==t[Yn]&&e.push(t[Xi])}var bS=[];function mj(t){return t[Zi]??gj(t)}function gj(t){let e=bS.pop()??Object.create(_j);return e.lView=t,e}function yj(t){t.lView[Zi]!==t&&(t.lView=null,bS.push(t))}var _j=de(w({},Bm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{tc(t.lView)},consumerOnSignalRead(){this.lView[Zi]=this}});function DS(t){return TS(t[ec])}function CS(t){return TS(t[Cn])}function TS(t){for(;t!==null&&!Sr(t);)t=t[Cn];return t}var vj="ngOriginalError";function hg(t){return t[vj]}var Gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&hg(e);for(;n&&hg(n);)n=hg(n);return n||null}},SS=new S("",{providedIn:"root",factory:()=>D(Gn).handleError.bind(void 0)});var AS=!1,wj=new S("",{providedIn:"root",factory:()=>AS});var xr={};function Zn(t=1){RS(je(),ie(),ui()+t,!1)}function RS(t,e,n,r){if(!r)if((e[Y]&3)===3){let s=t.preOrderCheckHooks;s!==null&&bd(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Dd(e,s,0,n)}es(n)}function T(t,e=ae.Default){let n=ie();if(n===null)return y(t,e);let r=gt();return jT(r,n,Tt(t),e)}function xS(){let t="invalid";throw new Error(t)}function MS(t,e,n,r,i,s){let o=ct(null);try{let a=null;i&ce.SignalBased&&(a=e[r][to]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ce.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):lT(e,a,r,s)}finally{ct(o)}}function Ej(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)es(~i);else{let s=i,o=n[++r],a=n[++r];vL(o,s);let c=e[s];a(2,c)}}}finally{es(-1)}}function dh(t,e,n,r,i,s,o,a,c,l,u){let d=e.blueprint.slice();return d[Yn]=i,d[Y]=r|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(d[Y]|=2048),gT(d),d[lt]=d[xo]=t,d[rt]=n,d[Hn]=o||t&&t[Hn],d[Ve]=a||t&&t[Ve],d[bo]=c||t&&t[bo]||null,d[Ht]=s,d[hc]=dV(),d[Io]=u,d[cT]=l,d[tn]=e.type==2?t[tn]:d,d}function No(t,e,n,r,i){let s=t.data[e];if(s===null)s=Ij(t,e,n,r,i),_L()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=mL();s.injectorIndex=o===null?-1:o.injectorIndex}return os(s,!0),s}function Ij(t,e,n,r,i){let s=ET(),o=Oy(),a=o?s:s&&s.parent,c=t.data[e]=Aj(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function NS(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function PS(t,e,n,r,i){let s=ui(),o=r&2;try{es(-1),o&&e.length>Xe&&RS(t,e,Xe,!1),jn(o?2:0,i),n(r,i)}finally{es(s),jn(o?3:1,i)}}function r_(t,e,n){if(Ry(e)){let r=ct(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ct(r)}}}function i_(t,e,n){vT()&&(Oj(t,e,n,rn(n,e)),(n.flags&64)===64&&FS(t,e,n))}function s_(t,e,n=rn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function OS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=o_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function o_(t,e,n,r,i,s,o,a,c,l,u){let d=Xe+r,h=d+i,f=bj(d,h),p=typeof l=="function"?l():l;return f[H]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function bj(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:xr);return n}function Dj(t,e,n,r){let s=r.get(wj,AS)||n===$n.ShadowDom,o=t.selectRootElement(e,s);return Cj(o),o}function Cj(t){Tj(t)}var Tj=()=>null;function Sj(t,e,n,r){let i=jS(e);i.push(n),t.firstCreatePass&&BS(t).push(r,i.length-1)}function Aj(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return wT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function CC(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=ce.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?TC(r,n,l,a,c):TC(r,n,l,a)}return r}function TC(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Rj(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;c=CC(0,d.inputs,u,c,f),l=CC(1,d.outputs,u,l,p);let g=c!==null&&o!==null&&!JC(e)?qj(c,u,o):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function xj(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function a_(t,e,n,r,i,s,o,a){let c=rn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(l_(t,n,u,r,i),Xd(e)&&Mj(n,e.index)):e.type&3?(r=xj(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function Mj(t,e){let n=zn(e,t);n[Y]&16||(n[Y]|=64)}function c_(t,e,n,r){if(vT()){let i=r===null?null:{"":-1},s=Fj(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&kS(t,e,n,o,i,a),i&&Lj(n,r,i)}n.mergedAttrs=Xa(n.mergedAttrs,n.attrs)}function kS(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Mg(kd(n,e),t,r[l].type);jj(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=NS(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Xa(n.mergedAttrs,u.hostAttrs),Bj(t,n,e,c,u),Vj(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}Rj(t,n,s)}function Nj(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Pj(o)!=a&&o.push(a),o.push(n,r,s)}}function Pj(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Oj(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Xd(n)&&Uj(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||kd(n,e),en(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=ns(e,t,a,n);if(en(l,e),o!==null&&zj(e,a-i,l,c,n,o),Tr(c)){let u=zn(n.index,e);u[rt]=ns(e,t,a,n)}}}function FS(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=wL();try{es(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Rg(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&kj(c,l)}}finally{es(-1),Rg(o)}}function kj(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Fj(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(eT(e,o.selectors,!1))if(r||(r=[]),Tr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Qg(t,e,c)}else r.unshift(o),Qg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Qg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Lj(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new C(-301,!1);r.push(e[i],s)}}}function Vj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tr(e)&&(n[""]=t)}}function jj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Bj(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ji(i.type,!0)),o=new ts(s,Tr(i),T);t.blueprint[r]=o,n[r]=o,Nj(t,e,r,NS(t,n,i.hostVars,xr),i)}function Uj(t,e,n){let r=rn(e,t),i=OS(n),s=t[Hn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=hh(t,dh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function $j(t,e,n,r,i,s){let o=rn(t,e);Hj(e[Ve],o,s,t.value,n,r,i)}function Hj(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?lc(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function zj(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];MS(r,n,c,l,u,d)}}function qj(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function LS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function VS(t,e){let n=t.contentQueries;if(n!==null){let r=ct(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Vy(s),a.contentQueries(2,e[o],o)}}}finally{ct(r)}}}function hh(t,e){return t[ec]?t[lC][Cn]=e:t[ec]=e,t[lC]=e,e}function Yg(t,e,n){Vy(0);let r=ct(null);try{e(t,n)}finally{ct(r)}}function jS(t){return t[Ja]||(t[Ja]=[])}function BS(t){return t.cleanup||(t.cleanup=[])}function US(t,e,n){return(t===null||Tr(t))&&(n=iL(n[e.index])),n[Ve]}function $S(t,e){let n=t[bo],r=n?n.get(Gn,null):null;r&&r.handleError(e)}function l_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];MS(u,l,r,a,c,i)}}function Gj(t,e,n){let r=pT(e,t);EV(t[Ve],r,n)}var Wj=100;function Kj(t,e=!0){let n=t[Hn],r=n.rendererFactory,i=!1;i||r.begin?.();try{Qj(t)}catch(s){throw e&&$S(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function Qj(t){Zg(t,0);let e=0;for(;yT(t);){if(e===Wj)throw new C(103,!1);e++,Zg(t,1)}}function Yj(t,e,n,r){let i=e[Y];if((i&256)===256)return;let s=!1;!s&&e[Hn].inlineEffectRunner?.flush(),jy(e);let o=null,a=null;!s&&Zj(t)&&(a=mj(e),o=d0(a));try{gT(e),yL(t.bindingStartIndex),n!==null&&PS(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&bd(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Dd(e,d,0,null),sg(e,0)}if(Xj(e),HS(e,0),t.contentQueries!==null&&VS(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&bd(e,d)}else{let d=t.contentHooks;d!==null&&Dd(e,d,1),sg(e,1)}Ej(t,e);let l=t.components;l!==null&&qS(e,l,0);let u=t.viewQuery;if(u!==null&&Yg(2,u,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&bd(e,d)}else{let d=t.viewHooks;d!==null&&Dd(e,d,2),sg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ig]){for(let d of e[ig])d();e[ig]=null}s||(e[Y]&=-73)}catch(c){throw tc(e),c}finally{a!==null&&(h0(a,o),yj(a)),By()}}function Zj(t){return t.type!==2}function HS(t,e){for(let n=DS(t);n!==null;n=CS(n))for(let r=mt;r<n.length;r++){let i=n[r];zS(i,e)}}function Xj(t){for(let e=DS(t);e!==null;e=CS(e)){if(!(e[Y]&Ay.HasTransplantedViews))continue;let n=e[Do];for(let r=0;r<n.length;r++){let i=n[r],s=i[lt];aL(i)}}}function Jj(t,e,n){let r=zn(e,t);zS(r,n)}function zS(t,e){My(t)&&Zg(t,e)}function Zg(t,e){let r=t[H],i=t[Y],s=t[Zi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Um(s)),s&&(s.dirty=!1),t[Y]&=-9217,o)Yj(r,t,r.template,t[rt]);else if(i&8192){HS(t,1);let a=r.components;a!==null&&qS(t,a,1)}}function qS(t,e,n){for(let r=0;r<e.length;r++)Jj(t,e[r],n)}function u_(t){for(t[Hn].changeDetectionScheduler?.notify();t;){t[Y]|=64;let e=nc(t);if(Z1(t)&&!e)return t;t=e}return null}var is=class{get rootNodes(){let e=this._lView,n=e[H];return Ud(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[rt]}set context(e){this._lView[rt]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(Sr(e)){let n=e[Md],r=n?n.indexOf(this):-1;r>-1&&(ic(e,r),Fd(n,r))}this._attachedToViewContainer=!1}oh(this._lView[H],this._lView)}onDestroy(e){_T(this._lView,e)}markForCheck(){u_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){Ag(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,Kj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,iS(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,Ag(this._lView)}},Xn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eB;let t=e;return t})();function eB(t){return tB(gt(),ie(),(t&16)===16)}function tB(t,e,n){if(Xd(t)&&!n){let r=zn(t.index,e);return new is(r,r)}else if(t.type&47){let r=e[tn];return new is(r,e)}return null}var GS=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nB,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Xg=class extends GS{constructor(e){super(),this._lView=e}onDestroy(e){return _T(this._lView,e),()=>lL(this._lView,e)}};function nB(){return new Xg(ie())}var SC=new Set;function _c(t){SC.has(t)||(SC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Jg=class extends B{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=fg(s),i&&(i=fg(i)),o&&(o=fg(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof be&&e.add(a),a}};function fg(t){return e=>{setTimeout(t,void 0,e)}}var ge=Jg;function AC(...t){}function rB(){let t=typeof Ke.requestAnimationFrame=="function",e=Ke[t?"requestAnimationFrame":"setTimeout"],n=Ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var P=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=rB().nativeRequestAnimationFrame,oB(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,iB,AC,AC);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},iB={};function d_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sB(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ey(t),t.isCheckStableRunning=!0,d_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ey(t))}function oB(t){let e=()=>{sB(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(aB(a))return n.invokeTask(i,s,o,a);try{return RC(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),xC(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return RC(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),xC(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ey(t),d_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ey(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function RC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xC(t){t._nesting--,d_(t)}function aB(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var _o=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(_o||{}),cB={destroy(){}};function h_(t,e){!e&&rV(h_);let n=e?.injector??D(Ce);if(!sV(n))return cB;_c("NgAfterNextRender");let r=n.get(f_),i=r.handler??=new ny,s=e?.phase??_o.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(GS).onDestroy(o),c=new ty(n,s,()=>{o(),t()});return i.register(c),{destroy:o}}var ty=class{constructor(e,n,r){this.phase=n,this.callbackFn=r,this.zone=e.get(P),this.errorHandler=e.get(Gn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ny=class{constructor(){this.executingCallbacks=!1,this.buckets={[_o.EarlyRead]:new Set,[_o.Write]:new Set,[_o.MixedReadWrite]:new Set,[_o.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let r of n)e=!0,r.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},f_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of r)s();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function lB(t,e){let n=zn(e,t),r=n[H];uB(r,n);let i=n[Yn];i!==null&&n[Io]===null&&(n[Io]=t_(i,n[bo])),p_(r,n,n[rt])}function uB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function p_(t,e,n){jy(e);try{let r=t.viewQuery;r!==null&&Yg(1,r,n);let i=t.template;i!==null&&PS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&VS(t,e),t.staticViewQueries&&Yg(2,t.viewQuery,n);let s=t.components;s!==null&&dB(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,By()}}function dB(t,e){for(let n=0;n<e.length;n++)lB(t,e[n])}function $d(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Ig(i,a);else if(s==2){let c=a,l=e[++o];r=Ig(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Hd=class extends fi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ci(e);return new Ao(n,this.ngModule)}};function MC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function hB(t){let e=t.toLowerCase();return e==="svg"?fT:e==="math"?tL:null}var ry=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zd(r);let i=this.injector.get(e,dg,r);return i!==dg||n===dg?i:this.parentInjector.get(e,n,r)}},Ao=class extends Bd{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=MC(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return MC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=G1(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Ut?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new ry(e,s):e,a=o.get(rs,null);if(a===null)throw new C(407,!1);let c=o.get(hj,null),l=o.get(f_,null),u=o.get(Hg,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?Dj(h,r,this.componentDef.encapsulation,o):rS(h,f,hB(f)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let _=null;p!==null&&(_=t_(p,o,!0));let E=o_(0,null,null,1,0,null,null,null,null,null,null),M=dh(null,E,null,g,null,null,d,h,o,null,_);jy(M);let V,j;try{let _e=this.componentDef,oe,Ee=null;_e.findHostDirectiveDefs?(oe=[],Ee=new Map,_e.findHostDirectiveDefs(_e,oe,Ee),oe.push(_e)):oe=[_e];let Pe=fB(M,p),Dt=pB(Pe,p,_e,oe,M,d,h);j=xy(E,Xe),p&&yB(h,_e,p,r),n!==void 0&&_B(j,this.ngContentSelectors,n),V=gB(Dt,_e,oe,Ee,M,[vB]),p_(E,M,null)}finally{By()}return new iy(this.componentType,V,Mo(j,M),M,j)}},iy=class extends zg{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new is(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;l_(s[H],s,i,e,n),this.previousInputValues.set(e,n);let o=zn(this._tNode.index,s);u_(o)}}get injector(){return new Yi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fB(t,e){let n=t[H],r=Xe;return t[r]=e,No(n,r,2,"#host",null)}function pB(t,e,n,r,i,s,o){let a=i[H];mB(r,t,e,o);let c=null;e!==null&&(c=t_(e,i[bo]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=dh(i,OS(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Qg(a,t,r.length-1),hh(i,d),i[t.index]=d}function mB(t,e,n,r){for(let i of t)e.mergedAttrs=Xa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&($d(e,e.mergedAttrs,!0),n!==null&&hS(r,n,e))}function gB(t,e,n,r,i,s){let o=gt(),a=i[H],c=rn(o,i);kS(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=ns(i,a,d,o);en(h,i)}FS(a,i,o),c&&en(c,i);let l=ns(i,a,o.directiveStart+o.componentOffset,o);if(t[rt]=i[rt]=l,s!==null)for(let u of s)u(l,e);return r_(a,o,t),l}function yB(t,e,n,r){if(r)Tg(t,n,["ng-version","17.1.0"]);else{let{attrs:i,classes:s}=W1(e.selectors[0]);i&&Tg(t,n,i),s&&s.length>0&&dS(t,n,s.join(" "))}}function _B(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function vB(){let t=gt();rh(ie()[H],t)}function wB(t){return Object.getPrototypeOf(t.prototype).constructor}function Je(t){let e=wB(t.type),n=!0,r=[t];for(;e;){let i;if(Tr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Ed(t.inputs),o.inputTransforms=Ed(t.inputTransforms),o.declaredInputs=Ed(t.declaredInputs),o.outputs=Ed(t.outputs);let a=i.hostBindings;a&&CB(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&bB(t,c),l&&DB(t,l),EB(t,i),m1(t.outputs,i.outputs),Tr(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Je&&(n=!1)}}e=Object.getPrototypeOf(e)}IB(r)}function EB(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function IB(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xa(i.hostAttrs,n=Xa(n,i.hostAttrs))}}function Ed(t){return t===Eo?{}:t===St?[]:t}function bB(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function DB(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function CB(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Mr(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Hte=new RegExp(`^(\\d+)*(${sj}|${ij})*(.*)`);var TB=()=>null;function sc(t,e){return TB(t,e)}function fh(t,e,n,r){let i=e.tView,o=t[Y]&4096?4096:16,a=dh(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[dc]=c;let l=t[Un];return l!==null&&(a[Un]=l.createEmbeddedView(i)),p_(i,a,n),a}function WS(t,e){let n=mt+e;if(n<t.length)return t[n]}function oc(t,e){return!e||e.firstChild===null||eS(t)}function ph(t,e,n,r=!0){let i=e[H];if(TV(i,e,t,n),r){let o=jg(n,t),a=e[Ve],c=Zy(a,t[Xi]);c!==null&&DV(i,t[Ht],a,e,c,o)}let s=e[Io];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function KS(t,e){let n=ic(t,e);return n!==void 0&&oh(n[H],n),n}var on=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=SB;let t=e;return t})();function SB(){let t=gt();return YS(t,ie())}var AB=on,QS=class extends AB{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mo(this._hostTNode,this._hostLView)}get injector(){return new Yi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Uy(this._hostTNode,this._hostLView);if(PT(e)){let n=Pd(e,this._hostLView),r=Nd(e),i=n[H].data[r+8];return new Yi(i,n)}else return new Yi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=NC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=sc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,oc(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!BL(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new Ao(ci(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let g=(o?l:this.parentInjector).get(Ut,null);g&&(s=g)}let u=ci(c.componentType??{}),d=sc(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,i,h,s);return this.insertImpl(f.hostView,a,oc(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(oL(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[lt],l=new QS(c,c[Ht],c[lt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return ph(o,i,s,r),e.attachToViewContainerRef(),HT(pg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=NC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ic(this._lContainer,n);r&&(Fd(pg(this._lContainer),n),oh(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=ic(this._lContainer,n);return r&&Fd(pg(this._lContainer),n)!=null?new is(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function NC(t){return t[Md]}function pg(t){return t[Md]||(t[Md]=[])}function YS(t,e){let n,r=e[t.index];return Sr(r)?n=r:(n=LS(r,e,null,t),e[t.index]=n,hh(e,n)),xB(n,e,t,r),new QS(n,t,e)}function RB(t,e){let n=t[Ve],r=n.createComment(""),i=rn(e,t),s=Zy(n,i);return Vd(n,s,r,NV(n,i),!1),r}var xB=PB,MB=()=>!1;function NB(t,e,n){return MB(t,e,n)}function PB(t,e,n,r){if(t[Xi])return;let i;n.type&8?i=Bt(r):i=RB(e,n),t[Xi]=i}function ZS(t,e,n){return t[e]=n}function nn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function OB(t,e,n,r){let i=nn(t,e,n);return nn(t,e+1,r)||i}function kB(t,e,n,r,i,s,o,a,c){let l=e.consts,u=No(e,t,4,o||null,Co(l,a));c_(e,n,u,Co(l,c)),rh(e,u);let d=u.tView=o_(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function $t(t,e,n,r,i,s,o,a){let c=ie(),l=je(),u=t+Xe,d=l.firstCreatePass?kB(u,l,c,e,n,r,i,s,o):l.data[u];os(d,!1);let h=FB(l,c,d,t);th()&&ah(l,c,h,d),en(h,c);let f=LS(h,c,h,d);return c[u]=f,hh(c,f),NB(f,d,c),Jd(d)&&i_(l,c,d),o!=null&&s_(c,d,a),$t}var FB=LB;function LB(t,e,n,r){return nh(!0),e[Ve].createComment("")}function Jn(t,e,n,r){let i=ie(),s=as();if(nn(i,s,e)){let o=je(),a=eh();$j(a,i,t,e,n,r)}return Jn}function VB(t,e,n,r){return nn(t,as(),n)?e+lc(n)+r:xr}function Id(t,e){return t<<17|e<<2}function ss(t){return t>>17&32767}function jB(t){return(t&2)==2}function BB(t,e){return t&131071|e<<17}function sy(t){return t|2}function Ro(t){return(t&131068)>>2}function mg(t,e){return t&-131069|e<<2}function UB(t){return(t&1)===1}function oy(t){return t|1}function $B(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ss(o),c=Ro(o);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||fc(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let h=ss(t[a+1]);t[r+1]=Id(h,a),h!==0&&(t[h+1]=mg(t[h+1],r)),t[a+1]=BB(t[a+1],r)}else t[r+1]=Id(a,0),a!==0&&(t[a+1]=mg(t[a+1],r)),a=r;else t[r+1]=Id(c,0),a===0?a=r:t[c+1]=mg(t[c+1],r),c=r;l&&(t[r+1]=sy(t[r+1])),PC(t,u,r,!0),PC(t,u,r,!1),HB(e,u,t,r,s),o=Id(a,c),s?e.classBindings=o:e.styleBindings=o}function HB(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&fc(s,e)>=0&&(n[r+1]=oy(n[r+1]))}function PC(t,e,n,r){let i=t[n+1],s=e===null,o=r?ss(i):Ro(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];zB(c,e)&&(a=!0,t[o+1]=r?oy(l):sy(l)),o=r?ss(l):Ro(l)}a&&(t[n+1]=r?sy(i):oy(i))}function zB(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fc(t,e)>=0:!1}var Dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qB(t){return t.substring(Dn.key,Dn.keyEnd)}function GB(t){return WB(t),XS(t,JS(t,0,Dn.textEnd))}function XS(t,e){let n=Dn.textEnd;return n===e?-1:(e=Dn.keyEnd=KB(t,Dn.key=e,n),JS(t,e,n))}function WB(t){Dn.key=0,Dn.keyEnd=0,Dn.value=0,Dn.valueEnd=0,Dn.textEnd=t.length}function JS(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function KB(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function ls(t,e,n){let r=ie(),i=as();if(nn(r,i,e)){let s=je(),o=eh();a_(s,o,r,t,e,r[Ve],n,!1)}return ls}function ay(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";l_(t,n,s[o],o,r)}function m_(t,e,n){return eA(t,e,n,!1),m_}function Nr(t,e){return eA(t,e,null,!0),Nr}function qte(t){YB(nU,QB,t,!0)}function QB(t,e){for(let n=GB(e);n>=0;n=XS(e,n))zy(t,qB(e),!0)}function eA(t,e,n,r){let i=ie(),s=je(),o=IT(2);if(s.firstUpdatePass&&nA(s,t,o,r),e!==xr&&nn(i,o,e)){let a=s.data[ui()];rA(s,a,i,i[Ve],t,i[o+1]=iU(e,n),r,o)}}function YB(t,e,n,r){let i=je(),s=IT(2);i.firstUpdatePass&&nA(i,null,s,r);let o=ie();if(n!==xr&&nn(o,s,n)){let a=i.data[ui()];if(iA(a,r)&&!tA(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Ig(c,n||"")),ay(i,a,o,n,r)}else rU(i,a,o,o[Ve],o[s+1],o[s+1]=tU(t,e,n),r,s)}}function tA(t,e){return e>=t.expandoStartIndex}function nA(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ui()],o=tA(t,n);iA(s,r)&&e===null&&!o&&(e=!1),e=ZB(i,s,e,r),$B(i,s,e,n,o,r)}}function ZB(t,e,n,r){let i=Ly(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=gg(null,t,e,n,r),n=ac(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=gg(i,t,e,n,r),s===null){let c=XB(t,e,r);c!==void 0&&Array.isArray(c)&&(c=gg(null,t,e,c[1],r),c=ac(c,e.attrs,r),JB(t,e,r,c))}else s=eU(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function XB(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ro(r)!==0)return t[ss(r)]}function JB(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ss(i)]=r}function eU(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ac(r,o,n)}return ac(r,e.attrs,n)}function gg(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ac(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ac(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),zy(t,o,n?!0:e[++s]))}return t===void 0?null:t}function tU(t,e,n){if(n==null||n==="")return St;let r=[],i=cs(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function nU(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&zy(t,r,n)}function rU(t,e,n,r,i,s,o,a){i===xr&&(i=St);let c=0,l=0,u=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=c<i.length?i[c+1]:void 0,f=l<s.length?s[l+1]:void 0,p=null,g;u===d?(c+=2,l+=2,h!==f&&(p=d,g=f)):d===null||u!==null&&u<d?(c+=2,p=u):(l+=2,p=d,g=f),p!==null&&rA(t,e,n,r,p,g,o,a),u=c<i.length?i[c]:null,d=l<s.length?s[l]:null}}function rA(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=UB(l)?OC(c,e,n,i,Ro(l),o):void 0;if(!zd(u)){zd(s)||jB(l)&&(s=OC(c,null,n,i,a,o));let d=pT(ui(),n);VV(r,o,d,i,s)}}function OC(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[i+1];h===xr&&(h=d?St:void 0);let f=d?ag(h,r):u===r?h:void 0;if(l&&!zd(f)&&(f=ag(c,r)),zd(f)&&(a=f,o))return a;let p=t[i+1];i=o?ss(p):Ro(p)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=ag(c,r))}return a}function zd(t){return t!==void 0}function iU(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=At(cs(t)))),t}function iA(t,e){return(t.flags&(e?8:16))!==0}var cy=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function yg(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function sU(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),l=e[s],u=yg(s,c,s,l,n);if(u!==0){u<0&&t.updateValue(s,l),s++;continue}let d=t.at(o),h=e[a],f=yg(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let p=n(s,c),g=n(o,d),_=n(s,l);if(Object.is(_,g)){let E=n(a,h);Object.is(E,p)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(r??=new qd,i??=FC(t,s,o,n),ly(t,r,s,_))t.updateValue(s,l),s++,o++;else if(i.has(_))r.set(p,t.detach(s)),o--;else{let E=t.create(s,e[s]);t.attach(s,E),s++,o++}}for(;s<=a;)kC(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let l=t.at(s),u=c.value,d=yg(s,l,s,u,n);if(d!==0)d<0&&t.updateValue(s,u),s++,c=a.next();else{r??=new qd,i??=FC(t,s,o,n);let h=n(s,u);if(ly(t,r,s,h))t.updateValue(s,u),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,u)),s++,o++,c=a.next();else{let f=n(s,l);r.set(f,t.detach(s)),o--}}}for(;!c.done;)kC(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function ly(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function kC(t,e,n,r,i){if(ly(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function FC(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var qd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function g_(t,e,n){_c("NgControlFlow");let r=ie(),i=as(),s=fy(r,Xe+t),o=0;if(nn(r,i,e)){let a=ct(null);try{if(KS(s,o),e!==-1){let c=py(r[H],Xe+e),l=sc(s,c.tView.ssrId),u=fh(r,c,n,{dehydratedView:l});ph(s,u,o,oc(c,l))}}finally{ct(a)}}else{let a=WS(s,o);a!==void 0&&(a[rt]=n)}}var uy=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-mt}};function Gte(t){return t}function Wte(t,e){return e}var dy=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Kte(t,e,n,r,i,s,o,a,c,l,u,d,h){_c("NgControlFlow");let f=c!==void 0,p=ie(),g=a?o.bind(p[tn][rt]):o,_=new dy(f,g);p[Xe+t]=_,$t(t+1,e,n,r,i,s),f&&$t(t+2,c,l,u,d,h)}var hy=class extends cy{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-mt}at(e){return this.getLView(e)[rt].$implicit}attach(e,n){let r=n[Io];this.needsIndexUpdate||=e!==this.length,ph(this.lContainer,n,e,oc(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,oU(this.lContainer,e)}create(e,n){let r=sc(this.lContainer,this.templateTNode.tView.ssrId);return fh(this.hostLView,this.templateTNode,new uy(this.lContainer,n,e),{dehydratedView:r})}destroy(e){oh(e[H],e)}updateValue(e,n){this.getLView(e)[rt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[rt].$index=e}getLView(e){return aU(this.lContainer,e)}};function Qte(t){let e=ct(null),n=ui();try{let r=ie(),i=r[H],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=fy(r,a),l=py(i,a);s.liveCollection=new hy(c,r,l)}else s.liveCollection.reset();let o=s.liveCollection;if(sU(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=as(),c=o.length===0;if(nn(r,a,c)){let l=n+2,u=fy(r,l);if(c){let d=py(i,l),h=sc(u,d.tView.ssrId),f=fh(r,d,void 0,{dehydratedView:h});ph(u,f,0,oc(d,h))}else KS(u,0)}}}finally{ct(e)}}function fy(t,e){return t[e]}function oU(t,e){return ic(t,e)}function aU(t,e){return WS(t,e)}function py(t,e){return xy(t,e)}function cU(t,e,n,r,i,s){let o=e.consts,a=Co(o,i),c=No(e,t,2,r,a);return c_(e,n,c,Co(o,s)),c.attrs!==null&&$d(c,c.attrs,!1),c.mergedAttrs!==null&&$d(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function xt(t,e,n,r){let i=ie(),s=je(),o=Xe+t,a=i[Ve],c=s.firstCreatePass?cU(o,s,i,e,n,r):s.data[o],l=lU(s,i,c,a,e,t);i[o]=l;let u=Jd(c);return os(c,!0),hS(a,l,c),(c.flags&32)!==32&&th()&&ah(s,i,l,c),uL()===0&&en(l,i),dL(),u&&(i_(s,i,c),r_(s,c,i)),r!==null&&s_(i,c),xt}function yt(){let t=gt();Oy()?ky():(t=t.parent,os(t,!1));let e=t;fL(e)&&pL(),hL();let n=je();return n.firstCreatePass&&(rh(n,t),Ry(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&AL(e)&&ay(n,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RL(e)&&ay(n,e,ie(),e.stylesWithoutHost,!1),yt}function pi(t,e,n,r){return xt(t,e,n,r),yt(),pi}var lU=(t,e,n,r,i,s)=>(nh(!0),rS(r,i,DL()));function uU(t,e,n,r,i){let s=e.consts,o=Co(s,r),a=No(e,t,8,"ng-container",o);o!==null&&$d(a,o,!0);let c=Co(s,i);return c_(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function sA(t,e,n){let r=ie(),i=je(),s=t+Xe,o=i.firstCreatePass?uU(s,i,r,e,n):i.data[s];os(o,!0);let a=dU(i,r,o,t);return r[s]=a,th()&&ah(i,r,a,o),en(a,r),Jd(o)&&(i_(i,r,o),r_(i,o,r)),n!=null&&s_(r,o),sA}function oA(){let t=gt(),e=je();return Oy()?ky():(t=t.parent,os(t,!1)),e.firstCreatePass&&(rh(e,t),Ry(t)&&e.queries.elementEnd(t)),oA}function y_(t,e,n){return sA(t,e,n),oA(),y_}var dU=(t,e,n,r)=>(nh(!0),IV(e[Ve],""));function __(){return ie()}function mh(t,e,n){let r=ie(),i=as();if(nn(r,i,e)){let s=je(),o=eh();a_(s,o,r,t,e,r[Ve],n,!0)}return mh}function hU(t,e,n){let r=ie(),i=as();if(nn(r,i,e)){let s=je(),o=eh(),a=Ly(s.data),c=US(a,o,r);a_(s,o,r,t,e,c,n,!0)}return hU}var Qi=void 0;function fU(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var pU=["en",[["a","p"],["AM","PM"],Qi],[["AM","PM"],Qi,Qi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qi,"{1} 'at' {0}",Qi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",fU],_g={};function v_(t){let e=mU(t),n=LC(e);if(n)return n;let r=e.split("-")[0];if(n=LC(r),n)return n;if(r==="en")return pU;throw new C(701,!1)}function LC(t){return t in _g||(_g[t]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[t]),_g[t]}var Po=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Po||{});function mU(t){return t.toLowerCase().replace(/_/g,"-")}var Gd="en-US";var gU=Gd;function yU(t){b1(t,"Expected localeId to be defined"),typeof t=="string"&&(gU=t.toLowerCase().replace(/_/g,"-"))}function us(t){return!!t&&typeof t.then=="function"}function aA(t){return!!t&&typeof t.subscribe=="function"}function _t(t,e,n,r){let i=ie(),s=je(),o=gt();return cA(s,i,i[Ve],o,t,e,r),_t}function _U(t,e){let n=gt(),r=ie(),i=je(),s=Ly(i.data),o=US(s,n,r);return cA(i,r,o,n,t,e),_U}function vU(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ja],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function cA(t,e,n,r,i,s,o){let a=Jd(r),l=t.firstCreatePass&&BS(t),u=e[rt],d=jS(e),h=!0;if(r.type&3||o){let g=rn(r,e),_=o?o(g):g,E=d.length,M=o?j=>o(Bt(j[r.index])):r.index,V=null;if(!o&&a&&(V=vU(t,e,i,r.index)),V!==null){let j=V.__ngLastListenerFn__||V;j.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,h=!1}else{s=jC(r,e,u,s,!1);let j=n.listen(_,i,s);d.push(s,j),l&&l.push(i,M,E,E+1)}}else s=jC(r,e,u,s,!1);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let g=p.length;if(g)for(let _=0;_<g;_+=2){let E=p[_],M=p[_+1],_e=e[E][M].subscribe(s),oe=d.length;d.push(s,_e),l&&l.push(i,r.index,oe,-(oe+1))}}}function VC(t,e,n,r){try{return jn(6,e,n),n(r)!==!1}catch(i){return $S(t,i),!1}finally{jn(7,e,n)}}function jC(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?zn(t.index,e):e;u_(a);let c=VC(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=VC(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function Oo(t=1){return IL(t)}function wU(t,e){let n=null,r=U1(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?eT(t,s,!0):z1(r,s))return i}return n}function lA(t){let e=ie()[tn][Ht];if(!e.projection){let n=t?t.length:1,r=e.projection=HL(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?wU(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function uA(t,e=0,n){let r=ie(),i=je(),s=No(i,Xe+t,16,null,n||null);s.projection===null&&(s.projection=e),ky(),(!r[Io]||wT())&&(s.flags&32)!==32&&FV(i,r,s)}function EU(){return this._results[Symbol.iterator]()}var Wd=class t{get changes(){return this._changes??=new ge}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=EU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=$L(e);(this._changesDetected=!UL(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},Tn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DU;let t=e;return t})(),IU=Tn,bU=class extends IU{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=fh(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new is(i)}};function DU(){return gh(gt(),ie())}function gh(t,e){return t.type&4?new bU(e,t,Mo(t,e)):null}var my=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},gy=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)pA(e,n).matches!==null&&this.queries[n].setDirty()}},Kd=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},yy=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},_y=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,CU(n,s)),this.matchTNodeWithReadOption(e,n,Cd(n,e,s,!1,!1))}else r===Tn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Cd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===me||i===on||i===Tn&&n.type&4)this.addMatch(n.index,-2);else{let s=Cd(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function CU(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function TU(t,e){return t.type&11?Mo(t,e):t.type&4?gh(t,e):null}function SU(t,e,n,r){return n===-1?TU(e,t):n===-2?AU(t,e,r):ns(t,t[H],n,e)}function AU(t,e,n){if(n===me)return Mo(e,t);if(n===Tn)return gh(e,t);if(n===on)return YS(e,t)}function dA(t,e,n,r){let i=e[Un].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(SU(e,u,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function vy(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=dA(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=mt;d<u.length;d++){let h=u[d];h[dc]===h[lt]&&vy(h[H],h,l,r)}if(u[Do]!==null){let d=u[Do];for(let h=0;h<d.length;h++){let f=d[h];vy(f[H],f,l,r)}}}}}return r}function RU(t,e){return t[Un].queries[e].queryList}function hA(t,e,n){let r=new Wd((n&4)===4);Sj(t,e,r,r.destroy),e[Un]===null&&(e[Un]=new gy),e[Un].queries.push(new my(r))}function fA(t,e,n){t.queries===null&&(t.queries=new yy),t.queries.track(new _y(e,n))}function xU(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function pA(t,e){return t.queries.getByIndex(e)}function MU(t,e,n,r){let i=je();if(i.firstCreatePass){let s=gt();fA(i,new Kd(e,n,r),s.index),xU(i,t),(n&2)===2&&(i.staticContentQueries=!0)}hA(i,ie(),n)}function yh(t,e,n){let r=je();r.firstCreatePass&&(fA(r,new Kd(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),hA(r,ie(),e)}function vc(t){let e=ie(),n=je(),r=bT();Vy(r+1);let i=pA(n,r);if(t.dirty&&sL(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?vy(n,e,r,[]):dA(n,e,i,r);t.reset(s,uj),t.notifyOnChanges()}return!0}return!1}function wc(){return RU(ie(),bT())}function NU(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Zte(t){let e=gL();return mT(e,Xe+t)}function ko(t,e=""){let n=ie(),r=je(),i=t+Xe,s=r.firstCreatePass?No(r,i,1,e,null):r.data[i],o=PU(r,n,s,e,t);n[i]=o,th()&&ah(r,n,o,s),os(s,!1)}var PU=(t,e,n,r,i)=>(nh(!0),wV(e[Ve],r));function OU(t){return ds("",t,""),OU}function ds(t,e,n){let r=ie(),i=VB(r,t,e,n);return i!==xr&&Gj(r,ui(),i),ds}function kU(t,e,n){let r=je();if(r.firstCreatePass){let i=Tr(t);wy(n,r.data,r.blueprint,i,!0),wy(e,r.data,r.blueprint,i,!1)}}function wy(t,e,n,r,i){if(t=Tt(t),Array.isArray(t))for(let s=0;s<t.length;s++)wy(t[s],e,n,r,i);else{let s=je(),o=ie(),a=gt(),c=So(t)?t:Tt(t.provide),l=QT(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(So(t)||!t.multi){let f=new ts(l,i,T),p=wg(c,e,i?u:u+h,d);p===-1?(Mg(kd(a,o),s,c),vg(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=wg(c,e,u+h,d),p=wg(c,e,u,u+h),g=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!g){Mg(kd(a,o),s,c);let E=VU(i?LU:FU,n.length,i,r,l);!i&&_&&(n[p].providerFactory=E),vg(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)}else{let E=mA(n[i?p:f],l,!i&&r);vg(s,t,f>-1?f:p,E)}!i&&r&&_&&n[p].componentProviders++}}}function vg(t,e,n,r){let i=So(e),s=YL(e);if(i||s){let c=(s?Tt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function mA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function wg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function FU(t,e,n,r){return Ey(this.multi,[])}function LU(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ns(n,n[H],this.providerFactory.index,r);s=a.slice(0,o),Ey(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Ey(i,s);return s}function Ey(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function VU(t,e,n,r,i){let s=new ts(t,n,T);return s.multi=[],s.index=e,s.componentProviders=0,mA(s,i,r&&!n),s}function an(t,e=[]){return n=>{n.providersResolver=(r,i)=>kU(r,i?i(t):t,e)}}var li=class{},cc=class{};var Iy=class extends li{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hd(this);let i=sT(e);this._bootstrapComponents=JT(i.bootstrap),this._r3Injector=YT(e,n,[{provide:li,useValue:this},{provide:fi,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},by=class extends cc{constructor(e){super(),this.moduleType=e}create(e){return new Iy(this.moduleType,e,[])}};var Qd=class extends li{constructor(e){super(),this.componentFactoryResolver=new Hd(this),this.instance=null;let n=new rc([...e.providers,{provide:li,useValue:this},{provide:fi,useValue:this.componentFactoryResolver}],e.parent||Wy(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function _h(t,e,n=null){return new Qd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var jU=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=GT(!1,r.type),s=i.length>0?_h([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(y(Ut))});let t=e;return t})();function er(t){_c("NgStandalone"),t.getStandaloneInjector=e=>e.get(jU).getOrCreateStandaloneInjector(t)}function Xte(t,e,n,r){return yA(ie(),Fy(),t,e,n,r)}function Jte(t,e,n,r,i){return BU(ie(),Fy(),t,e,n,r,i)}function gA(t,e){let n=t[e];return n===xr?void 0:n}function yA(t,e,n,r,i,s){let o=e+n;return nn(t,o,i)?ZS(t,o+1,s?r.call(s,i):r(i)):gA(t,o+1)}function BU(t,e,n,r,i,s,o){let a=e+n;return OB(t,a,i,s)?ZS(t,a+2,o?r.call(o,i,s):r(i,s)):gA(t,a+2)}function ene(t,e){let n=je(),r,i=t+Xe;n.firstCreatePass?(r=UU(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Ji(r.type,!0)),o,a=Ft(T);try{let c=Od(!1),l=s();return Od(c),NU(n,ie(),i,l),l}finally{Ft(a)}}function UU(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function tne(t,e,n){let r=t+Xe,i=ie(),s=mT(i,r);return $U(i,r)?yA(i,Fy(),e,s.transform,n,s):s.transform(n)}function $U(t,e){return t[H].data[e].pure}function nne(t,e){return gh(t,e)}var Wn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},_A=new Wn("17.1.0");var Fo=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Dy=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},vh=(()=>{let e=class e{compileModuleSync(r){return new by(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=sT(r),o=JT(s.declarations).reduce((a,c)=>{let l=ci(c);return l&&a.push(new Ao(l)),a},[]);return new Dy(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wh=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var w_=new S(""),Ec=new S(""),Eh=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,E_||(HU(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(y(P),y(Ih),y(Ec))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Ih=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return E_?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function HU(t){E_=t}var E_,bh=new S("Application Initializer"),vA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=D(bh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(us(o))r.push(o);else if(aA(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dh=new S("appBootstrapListener");function zU(){_0(()=>{throw new C(600,!1)})}function qU(t){return t.isBoundToModule}function GU(t,e,n){try{let r=n();return us(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var tr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(SS),this.afterRenderEffectManager=D(f_),this.componentTypes=[],this.components=[],this.isStable=D(wh).hasPendingTasks.pipe(Q(r=>!r)),this._injector=D(Ut)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Bd;if(!this._injector.get(vA).done){let f=!s&&iT(r),p=!1;throw new C(405,p)}let a;s?a=r:a=this._injector.get(fi).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=qU(a)?void 0:this._injector.get(li),l=i||a.selector,u=a.create(Ce.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(w_,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Eg(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Eg(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Dh,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Eg(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Eg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var WU=(()=>{let e=class e{constructor(){this.zone=D(P),this.applicationRef=D(tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KU(t){return[{provide:P,useFactory:t},{provide:To,multi:!0,useFactory:()=>{let e=D(WU,{optional:!0});return()=>e.initialize()}},{provide:To,multi:!0,useFactory:()=>{let e=D(XU);return()=>{e.initialize()}}},{provide:SS,useFactory:QU}]}function QU(){let t=D(P),e=D(Gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function YU(t){let e=KU(()=>new P(ZU(t)));return ih([[],e])}function ZU(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var XU=(()=>{let e=class e{constructor(){this.subscription=new be,this.initialized=!1,this.zone=D(P),this.pendingTasks=D(wh)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{P.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function JU(){return typeof $localize<"u"&&$localize.locale||Gd}var Lo=new S("LocaleId",{providedIn:"root",factory:()=>D(Lo,ae.Optional|ae.SkipSelf)||JU()});var wA=new S("PlatformDestroyListeners");var Ad=null;function e2(t=[],e){return Ce.create({name:e,providers:[{provide:sh,useValue:"platform"},{provide:wA,useValue:new Set([()=>Ad=null])},...t]})}function t2(t=[]){if(Ad)return Ad;let e=e2(t);return Ad=e,zU(),n2(e),e}function n2(t){t.get(Ky,null)?.forEach(n=>n())}function rne(){return!1}var EA=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(y(tr))},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();function IA(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=t2(r),s=[YU(),...n||[]],a=new Qd({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(P);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(Gn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=i.get(wA);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),GU(l,c,()=>{let f=a.get(vA);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(Lo,Gd);yU(p||Gd);let g=a.get(tr);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function cn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function bA(t){let e=ci(t);if(!e)return null;let n=new Ao(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var C_=null;function rr(){return C_}function RA(t){C_||(C_=t)}var Ch=class{},z=new S("DocumentToken"),R_=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(i2),providedIn:"platform"});let t=e;return t})(),xA=new S("Location Initialized"),i2=(()=>{let e=class e extends R_{constructor(){super(),this._doc=D(z),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(r){let i=rr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=rr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function x_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function DA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pr(t){return t&&t[0]!=="?"?"?"+t:t}var Or=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(M_),providedIn:"root"});let t=e;return t})(),MA=new S("appBaseHref"),M_=(()=>{let e=class e extends Or{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??D(z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return x_(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(y(R_),y(MA,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NA=(()=>{let e=class e extends Or{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=x_(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(y(R_),y(MA,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),ir=(()=>{let e=class e{constructor(r){this._subject=new ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=a2(DA(CA(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pr(i))}normalize(r){return e.stripTrailingSlash(o2(this._basePath,CA(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pr,e.joinWithSlash=x_,e.stripTrailingSlash=DA,e.\u0275fac=function(i){return new(i||e)(y(Or))},e.\u0275prov=I({token:e,factory:()=>s2(),providedIn:"root"});let t=e;return t})();function s2(){return new ir(y(Or))}function o2(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function CA(t){return t.replace(/\/index.html$/,"")}function a2(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var PA=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(PA||{});var nr=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(nr||{});function Ic(t,e){let n=v_(t),r=n[Po.NumberSymbols][e];if(typeof r>"u"){if(e===nr.CurrencyDecimal)return n[Po.NumberSymbols][nr.Decimal];if(e===nr.CurrencyGroup)return n[Po.NumberSymbols][nr.Group]}return r}function c2(t,e){return v_(t)[Po.NumberFormats][e]}var l2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,TA=22,Th=".",bc="0",u2=";",d2=",",I_="#";function h2(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=Ic(n,nr.Infinity);else{let l=g2(t);o&&(l=m2(l));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){let M=s.match(l2);if(M===null)throw new Error(`${s} is not a valid digit info`);let V=M[1],j=M[3],_e=M[5];V!=null&&(u=b_(V)),j!=null&&(d=b_(j)),_e!=null?h=b_(_e):j!=null&&d>h&&(h=d)}y2(l,d,h);let f=l.digits,p=l.integerLen,g=l.exponent,_=[];for(c=f.every(M=>!M);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?_=f.splice(p,f.length):(_=f,f=[0]);let E=[];for(f.length>=e.lgSize&&E.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)E.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&E.unshift(f.join("")),a=E.join(Ic(n,r)),_.length&&(a+=Ic(n,i)+_.join("")),g&&(a+=Ic(n,nr.Exponential)+"+"+g)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function f2(t,e,n){let r=c2(e,PA.Decimal),i=p2(r,Ic(e,nr.MinusSign));return h2(t,i,e,nr.Group,nr.Decimal,n)}function p2(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(u2),i=r[0],s=r[1],o=i.indexOf(Th)!==-1?i.split(Th):[i.substring(0,i.lastIndexOf(bc)+1),i.substring(i.lastIndexOf(bc)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(I_));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===bc?n.minFrac=n.maxFrac=u+1:d===I_?n.maxFrac=u+1:n.posSuf+=d}let l=a.split(d2);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let u=i.length-n.posPre.length-n.posSuf.length,d=s.indexOf(I_);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function m2(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function g2(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(Th))>-1&&(e=e.replace(Th,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===bc;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===bc;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>TA&&(r=r.splice(0,TA-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function y2(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let d=o;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let d=1;d<o;d++)r[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,l=e+t.integerLen,u=r.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,c&&(p[f]===0&&f>=l?p.pop():c=!1),h>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function b_(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function OA(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var D_=/\s+/,SA=[],Dne=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=SA,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(D_):SA}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(D_):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(D_).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(T(me),T(Rr))},e.\u0275dir=ye({type:e,selectors:[["","ngClass",""]],inputs:{klass:[ce.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var kA=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new T_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){AA("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){AA("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(T(on),T(Tn))},e.\u0275dir=ye({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),T_=class{constructor(){this.$implicit=null,this.ngIf=null}};function AA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${At(e)}'.`)}var Cne=(()=>{let e=class e{constructor(r,i,s){this._ngEl=r,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(r){this._ngStyle=r,!this._differ&&r&&(this._differ=this._differs.find(r).create())}ngDoCheck(){if(this._differ){let r=this._differ.diff(this._ngStyle);r&&this._applyChanges(r)}}_setStyle(r,i){let[s,o]=r.split("."),a=s.indexOf("-")===-1?void 0:qn.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${i}${o}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(r){r.forEachRemovedItem(i=>this._setStyle(i.key,null)),r.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),r.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};e.\u0275fac=function(i){return new(i||e)(T(me),T(n_),T(Rr))},e.\u0275dir=ye({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let t=e;return t})(),FA=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(T(on))},e.\u0275dir=ye({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Rt]});let t=e;return t})();function _2(t,e){return new C(2100,!1)}var Tne=(()=>{let e=class e{constructor(r){this._locale=r}transform(r,i,s){if(!v2(r))return null;s=s||this._locale;try{let o=w2(r);return f2(o,s,i)}catch(o){throw _2(e,o.message)}}};e.\u0275fac=function(i){return new(i||e)(T(Lo,16))},e.\u0275pipe=tT({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function v2(t){return!(t==null||t===""||t!==t)}function w2(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var hs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})(),N_="browser",E2="server";function P_(t){return t===N_}function O_(t){return t===E2}var LA=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>P_(D(sn))?new S_(D(z),window):new A_});let t=e;return t})(),S_=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=I2(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function I2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var A_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Sh=class{};var L_=class extends Ch{constructor(){super(...arguments),this.supportsDOMEvents=!0}},V_=class t extends L_{static makeCurrent(){RA(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=b2();return n==null?null:D2(n)}resetBaseElement(){Dc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return OA(document.cookie,e)}},Dc=null;function b2(){return Dc=Dc||document.querySelector("base"),Dc?Dc.getAttribute("href"):null}function D2(t){return new URL(t,document.baseURI).pathname}var j_=class{addToWindow(e){Ke.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new C(5103,!1);return s},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ke.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?rr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},C2=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Rh=new S("EventManagerPlugins"),BA=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(y(Rh),y(P))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Cc=class{constructor(e){this._doc=e}},k_="ng-app-id",UA=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=O_(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${k_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(k_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(k_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(y(z),y(pc),y(mc,8),y(sn))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),F_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$_=/%COMP%/g,$A="%COMP%",T2=`_nghost-${$A}`,S2=`_ngcontent-${$A}`,A2=!0,R2=new S("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>A2});function x2(t){return S2.replace($_,t)}function M2(t){return T2.replace($_,t)}function HA(t,e){return e.map(n=>n.replace($_,t))}var xh=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=O_(c),this.defaultRenderer=new Tc(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$n.ShadowDom&&(i=de(w({},i),{encapsulation:$n.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Mh?s.applyToHost(r):s instanceof Sc&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case $n.Emulated:o=new Mh(l,u,i,this.appId,d,a,c,h);break;case $n.ShadowDom:return new B_(l,u,r,i,a,c,this.nonce,h);default:o=new Sc(l,u,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(y(BA),y(UA),y(pc),y(R2),y(z),y(sn),y(P),y(mc))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Tc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(F_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(VA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(VA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=F_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=F_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(qn.DashCase|qn.Important)?e.style.setProperty(n,r,i&qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function VA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var B_=class extends Tc{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=HA(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sc=class extends Tc{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?HA(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Mh=class extends Sc{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=x2(l),this.hostAttr=M2(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},N2=(()=>{let e=class e extends Cc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(y(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),jA=["alt","control","meta","shift"],P2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},k2=(()=>{let e=class e extends Cc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),jA.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=P2[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),jA.forEach(a=>{if(a!==s){let c=O2[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(y(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function Gne(t,e){return IA(w({rootComponent:t},F2(e)))}function F2(t){return{appProviders:[...zA,...t?.providers??[]],platformProviders:B2}}function L2(){V_.makeCurrent()}function V2(){return new Gn}function j2(){return ZT(document),document}var B2=[{provide:sn,useValue:N_},{provide:Ky,useValue:L2,multi:!0},{provide:z,useFactory:j2,deps:[]}];var U2=new S(""),$2=[{provide:Ec,useClass:j_,deps:[]},{provide:w_,useClass:Eh,deps:[P,Ih,Ec]},{provide:Eh,useClass:Eh,deps:[P,Ih,Ec]}],zA=[{provide:sh,useValue:"root"},{provide:Gn,useFactory:V2,deps:[]},{provide:Rh,useClass:N2,multi:!0,deps:[z,P,sn]},{provide:Rh,useClass:k2,multi:!0,deps:[z]},xh,UA,BA,{provide:rs,useExisting:xh},{provide:Sh,useClass:C2,deps:[]},[]],qA=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:pc,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(y(U2,12))},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:[...zA,...$2],imports:[hs,EA]});let t=e;return t})();function H2(){return new H_(y(z))}var H_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(y(z))},e.\u0275prov=I({token:e,factory:function(i){let s=null;return i?s=new i:s=H2(),s},providedIn:"root"});let t=e;return t})();var z2={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},U_=new S("HammerGestureConfig"),GA=new S("HammerLoader"),q2=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(r){let i=new Hammer(r,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(let s in this.overrides)i.get(s).set(this.overrides[s]);return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),G2=(()=>{let e=class e extends Cc{constructor(r,i,s,o){super(r),this._config=i,this.console=s,this.loader=o,this._loaderPromise=null}supports(r){return!(!z2.hasOwnProperty(r.toLowerCase())&&!this.isCustomEvent(r)||!window.Hammer&&!this.loader)}addEventListener(r,i,s){let o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,c=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){c=()=>{};return}a||(c=this.addEventListener(r,i,s))}).catch(()=>{c=()=>{}})),()=>{c()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(r),c=function(l){o.runGuarded(function(){s(l)})};return a.on(i,c),()=>{a.off(i,c),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(r){return this._config.events.indexOf(r)>-1}};e.\u0275fac=function(i){return new(i||e)(y(z),y(U_),y(Fo),y(GA,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Wne=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:[{provide:Rh,useClass:G2,multi:!0,deps:[z,U_,Fo,[new ut,GA]]},{provide:U_,useClass:q2,deps:[]}]});let t=e;return t})();var se="primary",Hc=Symbol("RouteTitle"),K_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $o(t){return new K_(t)}function K2(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Q2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!sr(t[n],e[n]))return!1;return!0}function sr(t,e){let n=t?Q_(t):void 0,r=e?Q_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!tR(t[i],e[i]))return!1;return!0}function Q_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function tR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function vi(t){return ld(t)?t:us(t)?Te(Promise.resolve(t)):F(t)}var Y2={exact:rR,subset:iR},nR={exact:Z2,subset:X2,ignored:()=>!0};function WA(t,e,n){return Y2[n.paths](t.root,e.root,n.matrixParams)&&nR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Z2(t,e){return sr(t,e)}function rR(t,e,n){if(!ps(t.segments,e.segments)||!Oh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!rR(t.children[r],e.children[r],n))return!1;return!0}function X2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tR(t[n],e[n]))}function iR(t,e,n){return sR(t,e,e.segments,n)}function sR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ps(i,n)||e.hasChildren()||!Oh(i,n,r))}else if(t.segments.length===n.length){if(!ps(t.segments,n)||!Oh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!iR(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ps(t.segments,i)||!Oh(t.segments,i,r)||!t.children[se]?!1:sR(t.children[se],e,s,r)}}function Oh(t,e,n){return e.every((r,i)=>nR[n](t[i].parameters,r.parameters))}var mi=class{constructor(e=new we([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){return t$.serialize(this)}},we=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kh(this)}},fs=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$o(this.parameters),this._parameterMap}toString(){return aR(this)}};function J2(t,e){return ps(t,e)&&t.every((n,r)=>sr(n.parameters,e[r].parameters))}function ps(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function e$(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===se&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==se&&(n=n.concat(e(i,r)))}),n}var zc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new Oc,providedIn:"root"});let t=e;return t})(),Oc=class{parse(e){let n=new Z_(e);return new mi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ac(e.root,!0)}`,r=i$(e.queryParams),i=typeof e.fragment=="string"?`#${n$(e.fragment)}`:"";return`${n}${r}${i}`}},t$=new Oc;function kh(t){return t.segments.map(e=>aR(e)).join("/")}function Ac(t,e){if(!t.hasChildren())return kh(t);if(e){let n=t.children[se]?Ac(t.children[se],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==se&&r.push(`${i}:${Ac(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=e$(t,(r,i)=>i===se?[Ac(t.children[se],!1)]:[`${i}:${Ac(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${kh(t)}/${n[0]}`:`${kh(t)}/(${n.join("//")})`}}function oR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nh(t){return oR(t).replace(/%3B/gi,";")}function n$(t){return encodeURI(t)}function Y_(t){return oR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fh(t){return decodeURIComponent(t)}function KA(t){return Fh(t.replace(/\+/g,"%20"))}function aR(t){return`${Y_(t.path)}${r$(t.parameters)}`}function r$(t){return Object.entries(t).map(([e,n])=>`;${Y_(e)}=${Y_(n)}`).join("")}function i$(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nh(n)}=${Nh(i)}`).join("&"):`${Nh(n)}=${Nh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var s$=/^[^\/()?;#]+/;function z_(t){let e=t.match(s$);return e?e[0]:""}var o$=/^[^\/()?;=#]+/;function a$(t){let e=t.match(o$);return e?e[0]:""}var c$=/^[^=?&#]+/;function l$(t){let e=t.match(c$);return e?e[0]:""}var u$=/^[^&#]+/;function d$(t){let e=t.match(u$);return e?e[0]:""}var Z_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new we([],{}):new we([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[se]=new we(e,n)),r}parseSegment(){let e=z_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new fs(Fh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=a$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=z_(this.remaining);i&&(r=i,this.capture(r))}e[Fh(n)]=Fh(r)}parseQueryParam(e){let n=l$(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=d$(this.remaining);o&&(r=o,this.capture(r))}let i=KA(n),s=KA(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=z_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[se]:new we([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function cR(t){return t.segments.length>0?new we([],{[se]:t}):t}function lR(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=lR(i);if(r===se&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new we(t.segments,e);return h$(n)}function h$(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new we(t.segments.concat(e.segments),e.children)}return t}function Ho(t){return t instanceof mi}function f$(t,e,n=null,r=null){let i=uR(t);return dR(i,e,n,r)}function uR(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new we(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=cR(r);return e??i}function dR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return q_(i,i,i,n,r);let s=p$(e);if(s.toRoot())return q_(i,i,new we([],{}),n,r);let o=m$(s,i,t),a=o.processChildren?Mc(o.segmentGroup,o.index,s.commands):fR(o.segmentGroup,o.index,s.commands);return q_(i,o.segmentGroup,a,n,r)}function Lh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kc(t){return typeof t=="object"&&t!=null&&t.outlets}function q_(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=hR(t,e,n);let a=cR(lR(o));return new mi(a,s,i)}function hR(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=hR(s,e,n)}),new we(t.segments,r)}var Vh=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Lh(r[0]))throw new C(4003,!1);let i=r.find(kc);if(i&&i!==r.at(-1))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function p$(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Vh(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Vh(n,e,r)}var Bo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function m$(t,e,n){if(t.isAbsolute)return new Bo(e,!0,0);if(!n)return new Bo(e,!1,NaN);if(n.parent===null)return new Bo(n,!0,0);let r=Lh(t.commands[0])?0:1,i=n.segments.length-1+r;return g$(n,i,t.numberOfDoubleDots)}function g$(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Bo(r,!1,i-s)}function y$(t){return kc(t[0])?t[0].outlets:{[se]:t}}function fR(t,e,n){if(t??=new we([],{}),t.segments.length===0&&t.hasChildren())return Mc(t,e,n);let r=_$(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new we(t.segments.slice(0,r.pathIndex),{});return s.children[se]=new we(t.segments.slice(r.pathIndex),t.children),Mc(s,0,i)}else return r.match&&i.length===0?new we(t.segments,{}):r.match&&!t.hasChildren()?X_(t,e,n):r.match?Mc(t,0,i):X_(t,e,n)}function Mc(t,e,n){if(n.length===0)return new we(t.segments,{});{let r=y$(n),i={};if(Object.keys(r).some(s=>s!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let s=Mc(t.children[se],e,n);return new we(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=fR(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new we(t.segments,i)}}function _$(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(kc(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!YA(c,l,o))return s;r+=2}else{if(!YA(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function X_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(kc(s)){let c=v$(s.outlets);return new we(r,c)}if(i===0&&Lh(n[0])){let c=t.segments[e];r.push(new fs(c.path,QA(n[0]))),i++;continue}let o=kc(s)?s.outlets[se]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Lh(a)?(r.push(new fs(o,QA(a))),i+=2):(r.push(new fs(o,{})),i++)}return new we(r,{})}function v$(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=X_(new we([],{}),0,r))}),e}function QA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function YA(t,e,n){return t==n.path&&sr(e,n.parameters)}var Nc="imperative",it=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(it||{}),un=class{constructor(e,n){this.id=e,this.url=n}},zo=class extends un{constructor(e,n,r="imperative",i=null){super(e,n),this.type=it.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},or=class extends un{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ln||{}),jh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(jh||{}),gi=class extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yi=class extends un{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=it.NavigationSkipped}},Fc=class extends un{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bh=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},J_=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ev=class extends un{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tv=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nv=class extends un{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rv=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},iv=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sv=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ov=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},av=class{constructor(e){this.snapshot=e,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cv=class{constructor(e){this.snapshot=e,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uh=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=it.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Lc=class{},Vc=class{constructor(e){this.url=e}};var lv=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qc,this.attachRef=null}},qc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new lv,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$h=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=uv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=uv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=dv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dv(e,this._root).map(n=>n.value)}};function uv(t,e){if(t===e.value)return e;for(let n of e.children){let r=uv(t,n);if(r)return r}return null}function dv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=dv(t,n);if(r.length)return r.unshift(e),r}return[]}var zt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function jo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Hh=class extends $h{constructor(e,n){super(e),this.snapshot=n,Ev(this,e)}toString(){return this.snapshot.toString()}};function pR(t){let e=w$(t),n=new qe([new fs("",{})]),r=new qe({}),i=new qe({}),s=new qe({}),o=new qe(""),a=new _i(n,r,s,o,i,se,t,e.root);return a.snapshot=e.root,new Hh(new zt(a,[]),e)}function w$(t){let e={},n={},r={},i="",s=new jc([],e,r,i,n,se,t,null,{});return new zh("",new zt(s,[]))}var _i=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Q(l=>l[Hc]))??F(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Q(e=>$o(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Q(e=>$o(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wv(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&gR(i)&&(r.resolve[Hc]=i.title),r}var jc=class{get title(){return this.data?.[Hc]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$o(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$o(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},zh=class extends $h{constructor(e,n){super(n),this.url=e,Ev(this,n)}toString(){return mR(this._root)}};function Ev(t,e){e.value._routerState=t,e.children.forEach(n=>Ev(t,n))}function mR(t){let e=t.children.length>0?` { ${t.children.map(mR).join(", ")} } `:"";return`${t.value}${e}`}function G_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,sr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),sr(e.params,n.params)||t.paramsSubject.next(n.params),Q2(e.url,n.url)||t.urlSubject.next(n.url),sr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hv(t,e){let n=sr(t.params,e.params)&&J2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||hv(t.parent,e.parent))}function gR(t){return typeof t.title=="string"||t.title===null}var E$=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=D(qc),this.location=D(on),this.changeDetector=D(Xn),this.environmentInjector=D(Ut),this.inputBinder=D(Kh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new fv(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rt]});let t=e;return t})(),fv=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===_i?this.route:e===qc?this.childContexts:this.parent.get(e,n)}},Kh=new S(""),ZA=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Wi([i.queryParams,i.params,i.data]).pipe(jt(([o,a,c],l)=>(c=w(w(w({},o),a),c),l===0?F(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=bA(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function I$(t,e,n){let r=Bc(t,e._root,n?n._root:void 0);return new Hh(r,e)}function Bc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=b$(t,e,n);return new zt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Bc(t,a)),o}}let r=D$(e.value),i=e.children.map(s=>Bc(t,s));return new zt(r,i)}}function b$(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Bc(t,r,i);return Bc(t,r)})}function D$(t){return new _i(new qe(t.url),new qe(t.params),new qe(t.queryParams),new qe(t.fragment),new qe(t.data),t.outlet,t.component,t)}var yR="ngNavigationCancelingError";function _R(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ho(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vR(!1,ln.Redirect,e);return i.url=n,i.navigationBehaviorOptions=r,i}function vR(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[yR]=!0,r.cancellationCode=e,n&&(r.url=n),r}function C$(t){return wR(t)&&Ho(t.url)}function wR(t){return t&&t[yR]}var T$=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Qn({type:e,selectors:[["ng-component"]],standalone:!0,features:[er],decls:1,vars:0,template:function(i,s){i&1&&pi(0,"router-outlet")},dependencies:[E$],encapsulation:2});let t=e;return t})();function S$(t,e){return t.providers&&!t._injector&&(t._injector=_h(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Iv(t){let e=t.children&&t.children.map(Iv),n=e?de(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=T$),n}function ar(t){return t.outlet||se}function A$(t,e){let n=t.filter(r=>ar(r)===e);return n.push(...t.filter(r=>ar(r)!==e)),n}function Gc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var R$=(t,e,n,r)=>Q(i=>(new pv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),pv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),G_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=jo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=jo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=jo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=jo(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new cv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ov(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(G_(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),G_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Gc(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},qh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Uo=class{constructor(e,n){this.component=e,this.route=n}};function x$(t,e,n){let r=t._root,i=e?e._root:null;return Rc(r,i,n,[r.value])}function M$(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Go(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!HC(t)?t:e.get(t):r}function Rc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=jo(e);return t.children.forEach(o=>{N$(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Pc(a,n.getContext(o),i)),i}function N$(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=P$(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Rc(t,e,a?a.children:null,r,i):Rc(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Uo(a.outlet.component,o))}else o&&Pc(e,a,i),i.canActivateChecks.push(new qh(r)),s.component?Rc(t,null,a?a.children:null,r,i):Rc(t,null,n,r,i);return i}function P$(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ps(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ps(t.url,e.url)||!sr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hv(t,e)||!sr(t.queryParams,e.queryParams);case"paramsChange":default:return!hv(t,e)}}function Pc(t,e,n){let r=jo(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Pc(o,e.children.getContext(s),n):Pc(o,null,n):Pc(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Uo(e.outlet.component,i)):n.canDeactivateChecks.push(new Uo(null,i)):n.canDeactivateChecks.push(new Uo(null,i))}function Wc(t){return typeof t=="function"}function O$(t){return typeof t=="boolean"}function k$(t){return t&&Wc(t.canLoad)}function F$(t){return t&&Wc(t.canActivate)}function L$(t){return t&&Wc(t.canActivateChild)}function V$(t){return t&&Wc(t.canDeactivate)}function j$(t){return t&&Wc(t.canMatch)}function ER(t){return t instanceof Cr||t?.name==="EmptyError"}var Ph=Symbol("INITIAL_VALUE");function qo(){return jt(t=>Wi(t.map(e=>e.pipe(ke(1),En(Ph)))).pipe(Q(e=>{for(let n of e)if(n!==!0){if(n===Ph)return Ph;if(n===!1||n instanceof mi)return n}return!0}),Me(e=>e!==Ph),ke(1)))}function B$(t,e){return xe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?F(de(w({},n),{guardsResult:!0})):U$(o,r,i,t).pipe(xe(a=>a&&O$(a)?$$(r,s,t,e):F(a)),Q(a=>de(w({},n),{guardsResult:a})))})}function U$(t,e,n,r){return Te(t).pipe(xe(i=>W$(i.component,i.route,n,e,r)),Vn(i=>i!==!0,!0))}function $$(t,e,n,r){return Te(e).pipe(Ki(i=>Ln(z$(i.route.parent,r),H$(i.route,r),G$(t,i.path,n),q$(t,i.route,n))),Vn(i=>i!==!0,!0))}function H$(t,e){return t!==null&&e&&e(new av(t)),F(!0)}function z$(t,e){return t!==null&&e&&e(new sv(t)),F(!0)}function q$(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return F(!0);let i=r.map(s=>ni(()=>{let o=Gc(e)??n,a=Go(s,o),c=F$(a)?a.canActivate(e,t):hi(o,()=>a(e,t));return vi(c).pipe(Vn())}));return F(i).pipe(qo())}function G$(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>M$(o)).filter(o=>o!==null).map(o=>ni(()=>{let a=o.guards.map(c=>{let l=Gc(o.node)??n,u=Go(c,l),d=L$(u)?u.canActivateChild(r,t):hi(l,()=>u(r,t));return vi(d).pipe(Vn())});return F(a).pipe(qo())}));return F(s).pipe(qo())}function W$(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return F(!0);let o=s.map(a=>{let c=Gc(e)??i,l=Go(a,c),u=V$(l)?l.canDeactivate(t,e,n,r):hi(c,()=>l(t,e,n,r));return vi(u).pipe(Vn())});return F(o).pipe(qo())}function K$(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return F(!0);let s=i.map(o=>{let a=Go(o,t),c=k$(a)?a.canLoad(e,n):hi(t,()=>a(e,n));return vi(c)});return F(s).pipe(qo(),IR(r))}function IR(t){return zu(Ge(e=>{if(Ho(e))throw _R(t,e)}),Q(e=>e===!0))}function Q$(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return F(!0);let s=i.map(o=>{let a=Go(o,t),c=j$(a)?a.canMatch(e,n):hi(t,()=>a(e,n));return vi(c)});return F(s).pipe(qo(),IR(r))}var Uc=class{constructor(e){this.segmentGroup=e||null}},Gh=class extends Error{constructor(e){super(),this.urlTree=e}};function Vo(t){return uo(new Uc(t))}function Y$(t){return uo(new C(4e3,!1))}function Z$(t){return uo(vR(!1,ln.GuardRejected))}var mv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return F(r);if(i.numberOfChildren>1||!i.children[se])return Y$(e.redirectTo);i=i.children[se]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Gh(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new mi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new we(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},gv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X$(t,e,n,r,i){let s=bv(t,e,n);return s.matched?(r=S$(e,r),Q$(r,e,n,i).pipe(Q(o=>o===!0?s:w({},gv)))):F(s)}function bv(t,e,n){if(e.path==="**")return J$(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},gv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||K2)(n,t,e);if(!i)return w({},gv);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?w(w({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function J$(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function XA(t,e,n,r){return n.length>0&&nH(t,n,r)?{segmentGroup:new we(e,tH(r,new we(n,t.children))),slicedSegments:[]}:n.length===0&&rH(t,n,r)?{segmentGroup:new we(t.segments,eH(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new we(t.segments,t.children),slicedSegments:n}}function eH(t,e,n,r){let i={};for(let s of n)if(Qh(t,e,s)&&!r[ar(s)]){let o=new we([],{});i[ar(s)]=o}return w(w({},r),i)}function tH(t,e){let n={};n[se]=e;for(let r of t)if(r.path===""&&ar(r)!==se){let i=new we([],{});n[ar(r)]=i}return n}function nH(t,e,n){return n.some(r=>Qh(t,e,r)&&ar(r)!==se)}function rH(t,e,n){return n.some(r=>Qh(t,e,r))}function Qh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function iH(t,e,n,r){return ar(t)!==r&&(r===se||!Qh(e,n,t))?!1:bv(e,t,n).matched}function sH(t,e,n){return e.length===0&&!t.children[n]}var yv=class{};function oH(t,e,n,r,i,s,o="emptyOnly"){return new _v(t,e,n,r,i,o,s).recognize()}var aH=31,_v=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new mv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=XA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Q(n=>{let r=new jc([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),i=new zt(r,n),s=new zh("",i),o=f$(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,se).pipe(ri(r=>{if(r instanceof Gh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Uc?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=wv(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(Q(s=>s instanceof zt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Te(i).pipe(Ki(s=>{let o=r.children[s],a=A$(n,s);return this.processSegmentGroup(e,a,o,s)}),gd((s,o)=>(s.push(...o),s)),ii(null),ng(),xe(s=>{if(s===null)return Vo(r);let o=bR(s);return cH(o),F(o)}))}processSegment(e,n,r,i,s,o){return Te(n).pipe(Ki(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ri(c=>{if(c instanceof Uc)return F(null);throw c}))),Vn(a=>!!a),ri(a=>{if(ER(a))return sH(r,i,s)?F(new yv):Vo(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return iH(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Vo(i):Vo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=bv(n,i,s);if(!a)return Vo(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aH&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(xe(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=X$(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(jt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(jt(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new jc(u,h,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,uH(r),ar(r),r.component??r._loadedComponent??null,r,dH(r)),{segmentGroup:p,slicedSegments:g}=XA(n,u,d,c);if(g.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(Q(E=>E===null?null:new zt(f,E)));if(c.length===0&&g.length===0)return F(new zt(f,[]));let _=ar(r)===s;return this.processSegment(l,c,p,g,_?se:s,!0).pipe(Q(E=>new zt(f,E instanceof zt?[E]:[])))}))):Vo(n)))}getChildConfig(e,n,r){return n.children?F({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?F({routes:n._loadedRoutes,injector:n._loadedInjector}):K$(e,n,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ge(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Z$(n))):F({routes:[],injector:e})}};function cH(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function lH(t){let e=t.value.routeConfig;return e&&e.path===""}function bR(t){let e=[],n=new Set;for(let r of t){if(!lH(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=bR(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!n.has(r))}function uH(t){return t.data||{}}function dH(t){return t.resolve||{}}function hH(t,e,n,r,i,s){return xe(o=>oH(t,e,n,r,o.extractedUrl,i,s).pipe(Q(({state:a,tree:c})=>de(w({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function fH(t,e){return xe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return F(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of DR(c))o.add(l);let a=0;return Te(o).pipe(Ki(c=>s.has(c)?pH(c,r,t,e):(c.data=wv(c,c.parent,t).resolve,F(void 0))),Ge(()=>a++),po(1),xe(c=>a===o.size?F(n):Ot))})}function DR(t){let e=t.children.map(n=>DR(n)).flat();return[t,...e]}function pH(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!gR(i)&&(s[Hc]=i.title),mH(s,t,e,r).pipe(Q(o=>(t._resolvedData=o,t.data=wv(t,t.parent,n).resolve,null)))}function mH(t,e,n,r){let i=Q_(t);if(i.length===0)return F({});let s={};return Te(i).pipe(xe(o=>gH(t[o],e,n,r).pipe(Vn(),Ge(a=>{s[o]=a}))),po(1),Ga(s),ri(o=>ER(o)?Ot:uo(o)))}function gH(t,e,n,r){let i=Gc(e)??r,s=Go(t,i),o=s.resolve?s.resolve(e,n):hi(i,()=>s(e,n));return vi(o)}function W_(t){return jt(e=>{let n=t(e);return n?Te(n).pipe(Q(()=>e)):F(e)})}var CR=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===se);return i}getResolvedTitleForRoute(r){return r.data[Hc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(yH),providedIn:"root"});let t=e;return t})(),yH=(()=>{let e=class e extends CR{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(y(H_))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kc=new S("",{providedIn:"root",factory:()=>({})}),$c=new S("ROUTES"),Dv=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(vh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return F(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vi(r.loadComponent()).pipe(Q(TR),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ka(()=>{this.componentLoaders.delete(r)})),s=new Yr(i,()=>new B).pipe(oo());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return F({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=_H(i,this.compiler,r,this.onLoadEndListener).pipe(Ka(()=>{this.childrenLoaders.delete(i)})),a=new Yr(o,()=>new B).pipe(oo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _H(t,e,n,r){return vi(t.loadChildren()).pipe(Q(TR),xe(i=>i instanceof cc||Array.isArray(i)?F(i):Te(e.compileModuleAsync(i))),Q(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get($c,[],{optional:!0,self:!0}).flat()),{routes:o.map(Iv),injector:s}}))}function vH(t){return t&&typeof t=="object"&&"default"in t}function TR(t){return vH(t)?t.default:t}var Cv=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(wH),providedIn:"root"});let t=e;return t})(),wH=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),SR=new S(""),AR=new S("");function EH(t,e,n){let r=t.get(AR),i=t.get(z);return t.get(P).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),IH(t))),{onViewTransitionCreated:c}=r;return c&&hi(t,()=>c({transition:a,from:e,to:n})),o})}function IH(t){return new Promise(e=>{h_(e,{injector:t})})}var Tv=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new B,this.transitionAbortSubject=new B,this.configLoader=D(Dv),this.environmentInjector=D(Ut),this.urlSerializer=D(zc),this.rootContexts=D(qc),this.location=D(ir),this.inputBindingEnabled=D(Kh,{optional:!0})!==null,this.titleStrategy=D(CR),this.options=D(Kc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(Cv),this.createViewTransition=D(SR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let r=s=>this.events.next(new rv(s)),i=s=>this.events.next(new iv(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(de(w(w({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new qe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Nc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Me(o=>o.id!==0),Q(o=>de(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),jt(o=>{this.currentTransition=o;let a=!1,c=!1;return F(o).pipe(Ge(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?de(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jt(l=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new yi(l.id,this.urlSerializer.serialize(l.rawUrl),h,jh.IgnoredSameUrlNavigation)),l.resolve(null),Ot}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return F(l).pipe(jt(h=>{let f=this.transitions?.getValue();return this.events.next(new zo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ot:Promise.resolve(h)}),hH(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=de(w({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Bh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=l,E=new zo(h,this.urlSerializer.serialize(f),p,g);this.events.next(E);let M=pR(this.rootComponentType).snapshot;return this.currentTransition=o=de(w({},l),{targetSnapshot:M,urlAfterRedirects:f,extras:de(w({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,F(o)}else{let h="";return this.events.next(new yi(l.id,this.urlSerializer.serialize(l.extractedUrl),h,jh.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ot}}),Ge(l=>{let u=new J_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Q(l=>(this.currentTransition=o=de(w({},l),{guards:x$(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),B$(this.environmentInjector,l=>this.events.next(l)),Ge(l=>{if(o.guardsResult=l.guardsResult,Ho(l.guardsResult))throw _R(this.urlSerializer,l.guardsResult);let u=new ev(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Me(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ln.GuardRejected),!1)),W_(l=>{if(l.guards.canActivateChecks.length)return F(l).pipe(Ge(u=>{let d=new tv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),jt(u=>{let d=!1;return F(u).pipe(fH(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",ln.NoDataFromResolver)}}))}),Ge(u=>{let d=new nv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),W_(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ge(f=>{d.component=f}),Q(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Wi(u(l.targetSnapshot.root)).pipe(ii(null),ke(1))}),W_(()=>this.afterPreactivation()),jt(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Te(d).pipe(Q(()=>o)):F(o)}),Q(l=>{let u=I$(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=de(w({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ge(()=>{this.events.next(new Lc)}),R$(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ke(1),Ge({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new or(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),In(this.transitionAbortSubject.pipe(Ge(l=>{throw l}))),Ka(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ln.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ri(l=>{if(c=!0,wR(l))this.events.next(new gi(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),C$(l)?this.events.next(new Vc(l.url)):o.resolve(!1);else{this.events.next(new Fc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ot}))}))}cancelNavigationTransition(r,i,s){let o=new gi(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bH(t){return t!==Nc}var DH=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(CH),providedIn:"root"});let t=e;return t})(),vv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},CH=(()=>{let e=class e extends vv{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=di(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RR=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>D(TH),providedIn:"root"});let t=e;return t})(),TH=(()=>{let e=class e extends RR{constructor(){super(...arguments),this.location=D(ir),this.urlSerializer=D(zc),this.options=D(Kc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(Cv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof zo)this.stateMemento=this.createStateMemento();else if(r instanceof yi)this.rawUrlTree=i.initialUrl;else if(r instanceof Bh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Lc?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof gi&&(r.code===ln.GuardRejected||r.code===ln.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fc?this.restoreHistory(i,!0):r instanceof or&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=w(w({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=di(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xc||{});function xR(t,e){t.events.pipe(Me(n=>n instanceof or||n instanceof gi||n instanceof Fc||n instanceof yi),Q(n=>n instanceof or||n instanceof yi?xc.COMPLETE:(n instanceof gi?n.code===ln.Redirect||n.code===ln.SupersededByNewNavigation:!1)?xc.REDIRECTING:xc.FAILED),Me(n=>n!==xc.REDIRECTING),ke(1)).subscribe(()=>{e()})}function SH(t){throw t}var AH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Sn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=D(Fo),this.stateManager=D(RR),this.options=D(Kc,{optional:!0})||{},this.pendingTasks=D(wh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(Tv),this.urlSerializer=D(zc),this.location=D(ir),this.urlHandlingStrategy=D(Cv),this._events=new B,this.errorHandler=this.options.errorHandler||SH,this.navigated=!1,this.routeReuseStrategy=D(DH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D($c,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(Kh,{optional:!0}),this.eventsSubscription=new be,this.isNgZoneEnabled=D(P)instanceof P&&P.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof gi&&i.code!==ln.Redirect&&i.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof or)this.navigated=!0;else if(i instanceof Vc){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||bH(s.source)};this.scheduleNavigation(a,Nc,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}MH(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=w({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Iv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=uR(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return dR(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ho(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Nc,null,i)}navigate(r,i={skipLocationChange:!1}){return xH(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=w({},AH):i===!1?s=w({},RH):s=i,Ho(r))return WA(this.currentUrlTree,r,s);let o=this.parseUrl(r);return WA(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return xR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function MH(t){return!(t instanceof Lc)&&!(t instanceof Vc)}var dre=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:wS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(T(Sn),T(_i),$y("tabindex"),T(Rr),T(me),T(Or))},e.\u0275dir=ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&_t("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Jn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ce.HasDecoratorInputTransform,"preserveFragment","preserveFragment",cn],skipLocationChange:[ce.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",cn],replaceUrl:[ce.HasDecoratorInputTransform,"replaceUrl","replaceUrl",cn],routerLink:"routerLink"},standalone:!0,features:[Mr,Rt]});let t=e;return t})();var Wh=class{};var NH=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Me(r=>r instanceof or),Ki(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=_h(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Te(s).pipe(ti())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=F(null);let o=s.pipe(xe(a=>a===null?F(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Te([o,a]).pipe(ti())}else return o})}};e.\u0275fac=function(i){return new(i||e)(y(Sn),y(vh),y(Ut),y(Wh),y(Dv))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MR=new S(""),PH=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof or?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof yi&&r.code===jh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Uh&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Uh(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){xS()},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function hre(t,...e){return ih([{provide:$c,multi:!0,useValue:t},[],{provide:_i,useFactory:NR,deps:[Sn]},{provide:Dh,multi:!0,useFactory:PR},e.map(n=>n.\u0275providers)])}function NR(t){return t.routerState.root}function Qc(t,e){return{\u0275kind:t,\u0275providers:e}}function PR(){let t=D(Ce);return e=>{let n=t.get(tr);if(e!==n.components[0])return;let r=t.get(Sn),i=t.get(OR);t.get(Sv)===1&&r.initialNavigation(),t.get(kR,null,ae.Optional)?.setUpPreloading(),t.get(MR,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OR=new S("",{factory:()=>new B}),Sv=new S("",{providedIn:"root",factory:()=>1});function OH(){return Qc(2,[{provide:Sv,useValue:0},{provide:bh,multi:!0,deps:[Ce],useFactory:e=>{let n=e.get(xA,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Sn),s=e.get(OR);xR(i,()=>{r(!0)}),e.get(Tv).afterPreactivation=()=>(r(!0),s.closed?F(void 0):s),i.initialNavigation()}))}}])}function kH(){return Qc(3,[{provide:bh,multi:!0,useFactory:()=>{let e=D(Sn);return()=>{e.setUpLocationChangeListener()}}},{provide:Sv,useValue:2}])}var kR=new S("");function FH(t){return Qc(0,[{provide:kR,useExisting:NH},{provide:Wh,useExisting:t}])}function LH(){return Qc(8,[ZA,{provide:Kh,useExisting:ZA}])}function VH(t){let e=[{provide:SR,useValue:EH},{provide:AR,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qc(9,e)}var JA=new S("ROUTER_FORROOT_GUARD"),jH=[ir,{provide:zc,useClass:Oc},Sn,qc,{provide:_i,useFactory:NR,deps:[Sn]},Dv,[]],Av=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[jH,[],{provide:$c,multi:!0,useValue:r},{provide:JA,useFactory:HH,deps:[[Sn,new ut,new qy]]},{provide:Kc,useValue:i||{}},i?.useHash?UH():$H(),BH(),i?.preloadingStrategy?FH(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?zH(i):[],i?.bindToComponentInputs?LH().\u0275providers:[],i?.enableViewTransitions?VH().\u0275providers:[],qH()]}}static forChild(r){return{ngModule:e,providers:[{provide:$c,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(y(JA,8))},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();function BH(){return{provide:MR,useFactory:()=>{let t=D(LA),e=D(P),n=D(Kc),r=D(Tv),i=D(zc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new PH(i,r,t,e,n)}}}function UH(){return{provide:Or,useClass:NA}}function $H(){return{provide:Or,useClass:M_}}function HH(t){return"guarded"}function zH(t){return[t.initialNavigation==="disabled"?kH().\u0275providers:[],t.initialNavigation==="enabledBlocking"?OH().\u0275providers:[]]}var eR=new S("");function qH(){return[{provide:eR,useFactory:PR},{provide:Dh,multi:!0,useExisting:eR}]}var gre=(()=>{let e=class e{constructor(){this.executingCounter=ES(0),this.loadingStatus$=new qe(!1)}get loading$(){return this.loadingStatus$.asObservable()}start(){this.executingCounter.update(r=>r+1),this.executingCounter()>0&&this.loadingStatus$.next(!0)}stop(){this.executingCounter()>0&&this.executingCounter.update(r=>r-1),this.executingCounter()<=0&&this.loadingStatus$.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var LR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WH=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},VR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(LR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||d==null)throw new xv;let h=s<<2|a>>4;if(r.push(h),l!==64){let f=a<<4&240|l>>2;if(r.push(f),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},xv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},KH=function(t){let e=LR(t);return VR.encodeByteArray(e,!0)},Yc=function(t){return KH(t).replace(/\./g,"")},Nv=function(t){try{return VR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var YH=()=>QH().__FIREBASE_DEFAULTS__,ZH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Nv(t[1]);return e&&JSON.parse(e)},Zh=()=>{try{return YH()||ZH()||XH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pv=t=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jR=t=>{let e=Pv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ov=()=>{var t;return(t=Zh())===null||t===void 0?void 0:t.config},kv=t=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${t}`]};var Yh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function BR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yc(JSON.stringify(n)),Yc(JSON.stringify(o)),""].join(".")}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function JH(){var t;let e=(t=Zh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zR(){let t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qR(){return!JH()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xh(){try{return typeof indexedDB=="object"}catch{return!1}}function GR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var ez="FirebaseError",qt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ez,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kr.prototype.create)}},kr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new qt(i,a,r)}};function tz(t,e){return t.replace(nz,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var nz=/\{\$([^}]+)}/g;function WR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ms(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(FR(s)&&FR(o)){if(!ms(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function FR(t){return t!==null&&typeof t=="object"}function Wo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ko(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Qo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KR(t,e){let n=new Mv(t,e);return n.subscribe.bind(n)}var Mv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rv),i.error===void 0&&(i.error=Rv),i.complete===void 0&&(i.complete=Rv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function rz(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rv(){}var _re=4*60*60*1e3;function Fe(t){return t&&t._delegate?t._delegate:t}var dn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var gs="[DEFAULT]";var Fv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Yh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sz(e))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=gs){return this.instances.has(e)}getOptions(e=gs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=gs){return this.component?this.component.multipleInstances?e:gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iz(t){return t===gs?void 0:t}function sz(t){return t.instantiationMode==="EAGER"}var Jh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Fv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var oz=[],le=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(le||{}),az={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},cz=le.INFO,lz={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},uz=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=lz[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},wi=class{constructor(e){this.name=e,this._logLevel=cz,this._logHandler=uz,this._userLogHandler=null,oz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?az[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var dz=(t,e)=>e.some(n=>t instanceof n),QR,YR;function hz(){return QR||(QR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fz(){return YR||(YR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ZR=new WeakMap,Vv=new WeakMap,XR=new WeakMap,Lv=new WeakMap,Bv=new WeakMap;function pz(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(cr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ZR.set(n,t)}).catch(()=>{}),Bv.set(e,t),e}function mz(t){if(Vv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Vv.set(t,e)}var jv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||XR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JR(t){jv=t(jv)}function gz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ef(this),e,...n);return XR.set(r,e.sort?e.sort():[e]),cr(r)}:fz().includes(t)?function(...e){return t.apply(ef(this),e),cr(ZR.get(this))}:function(...e){return cr(t.apply(ef(this),e))}}function yz(t){return typeof t=="function"?gz(t):(t instanceof IDBTransaction&&mz(t),dz(t,hz())?new Proxy(t,jv):t)}function cr(t){if(t instanceof IDBRequest)return pz(t);if(Lv.has(t))return Lv.get(t);let e=yz(t);return e!==t&&(Lv.set(t,e),Bv.set(e,t)),e}var ef=t=>Bv.get(t);function tx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=cr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(cr(o.result),c.oldVersion,c.newVersion,cr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var _z=["get","getKey","getAll","getAllKeys","count"],vz=["put","add","delete","clear"],Uv=new Map;function ex(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Uv.get(e))return Uv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=vz.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_z.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Uv.set(e,s),s}JR(t=>de(w({},t),{get:(e,n,r)=>ex(e,n)||t.get(e,n,r),has:(e,n)=>!!ex(e,n)||t.has(e,n)}));var Hv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wz(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function wz(t){let e=t.getComponent();return e?.type==="VERSION"}var zv="@firebase/app",nx="0.9.26";var ys=new wi("@firebase/app"),Ez="@firebase/app-compat",Iz="@firebase/analytics-compat",bz="@firebase/analytics",Dz="@firebase/app-check-compat",Cz="@firebase/app-check",Tz="@firebase/auth",Sz="@firebase/auth-compat",Az="@firebase/database",Rz="@firebase/database-compat",xz="@firebase/functions",Mz="@firebase/functions-compat",Nz="@firebase/installations",Pz="@firebase/installations-compat",Oz="@firebase/messaging",kz="@firebase/messaging-compat",Fz="@firebase/performance",Lz="@firebase/performance-compat",Vz="@firebase/remote-config",jz="@firebase/remote-config-compat",Bz="@firebase/storage",Uz="@firebase/storage-compat",$z="@firebase/firestore",Hz="@firebase/firestore-compat",zz="firebase",qz="10.7.2";var qv="[DEFAULT]",Gz={[zv]:"fire-core",[Ez]:"fire-core-compat",[bz]:"fire-analytics",[Iz]:"fire-analytics-compat",[Cz]:"fire-app-check",[Dz]:"fire-app-check-compat",[Tz]:"fire-auth",[Sz]:"fire-auth-compat",[Az]:"fire-rtdb",[Rz]:"fire-rtdb-compat",[xz]:"fire-fn",[Mz]:"fire-fn-compat",[Nz]:"fire-iid",[Pz]:"fire-iid-compat",[Oz]:"fire-fcm",[kz]:"fire-fcm-compat",[Fz]:"fire-perf",[Lz]:"fire-perf-compat",[Vz]:"fire-rc",[jz]:"fire-rc-compat",[Bz]:"fire-gcs",[Uz]:"fire-gcs-compat",[$z]:"fire-fst",[Hz]:"fire-fst-compat","fire-js":"fire-js",[zz]:"fire-js-all"};var Zc=new Map,Gv=new Map;function Wz(t,e){try{t.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ii(t){let e=t.name;if(Gv.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Gv.set(e,t);for(let n of Zc.values())Wz(n,t);return!0}function Jc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Kz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ei=new kr("app","Firebase",Kz);var Wv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}};var bi=qz;function Yv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ei.create("bad-app-name",{appName:String(i)});if(n||(n=Ov()),!n)throw Ei.create("no-options");let s=Zc.get(i);if(s){if(ms(n,s.options)&&ms(r,s.config))return s;throw Ei.create("duplicate-app",{appName:i})}let o=new Jh(i);for(let c of Gv.values())o.addComponent(c);let a=new Wv(n,r,o);return Zc.set(i,a),a}function Yo(t=qv){let e=Zc.get(t);if(!e&&t===qv&&Ov())return Yv();if(!e)throw Ei.create("no-app",{appName:t});return e}function tf(){return Array.from(Zc.values())}function et(t,e,n){var r;let i=(r=Gz[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(a.join(" "));return}Ii(new dn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Qz="firebase-heartbeat-database",Yz=1,Xc="firebase-heartbeat-store",$v=null;function ox(){return $v||($v=tx(Qz,Yz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),$v}function Zz(t){return m(this,null,function*(){try{return yield(yield ox()).transaction(Xc).objectStore(Xc).get(ax(t))}catch(e){if(e instanceof qt)ys.warn(e.message);else{let n=Ei.create("idb-get",{originalErrorMessage:e?.message});ys.warn(n.message)}}})}function rx(t,e){return m(this,null,function*(){try{let r=(yield ox()).transaction(Xc,"readwrite");yield r.objectStore(Xc).put(e,ax(t)),yield r.done}catch(n){if(n instanceof qt)ys.warn(n.message);else{let r=Ei.create("idb-set",{originalErrorMessage:n?.message});ys.warn(r.message)}}})}function ax(t){return`${t.name}!${t.options.appId}`}var Xz=1024,Jz=30*24*60*60*1e3,Kv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Qv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ix();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Jz}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ix(),{heartbeatsToSend:r,unsentEntries:i}=eq(this._heartbeatsCache.heartbeats),s=Yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function ix(){return new Date().toISOString().substring(0,10)}function eq(t,e=Xz){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Qv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Xh()?GR().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Zz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function sx(t){return Yc(JSON.stringify({version:2,heartbeats:t})).length}function tq(t){Ii(new dn("platform-logger",e=>new Hv(e),"PRIVATE")),Ii(new dn("heartbeat",e=>new Kv(e),"PRIVATE")),et(zv,nx,t),et(zv,nx,"esm2017"),et("fire-js","")}tq("");var nq="firebase",rq="10.7.2";et(nq,rq,"app");var vs=new Wn("ANGULARFIRE2_VERSION");function rf(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var el=(t,e)=>{let n=e?[e]:tf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Xo=class{constructor(){return el(iq)}},iq="app-check";function Zo(){}var nf=class{zone;delegate;constructor(e,n=Xm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Zv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo)),n.pipe(Ge({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Jo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new nf(Zone.current)),this.insideAngular=n.run(()=>new nf(Zone.current,Jt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(y(P))};static \u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function sq(t){return sf().ngZone.runOutsideAngular(()=>t())}function _s(t){return sf().ngZone.run(()=>t())}function oq(t){return aq(sf())(t)}function aq(t){return function(n){return n=n.lift(new Zv(t.ngZone)),n.pipe(ei(t.outsideAngular),Jr(t.insideAngular))}}var cq=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),_s(()=>t.apply(void 0,r))},Ae=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=_s(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zo,{},Zo,Zo))),r[s]=cq(r[s],n));let i=sq(()=>t.apply(this,r));if(!e)if(i instanceof $){let s=sf();return i.pipe(ei(s.outsideAngular),Jr(s.insideAngular))}else return _s(()=>i);return i instanceof $?i.pipe(oq):i instanceof Promise?_s(()=>new Promise((s,o)=>i.then(a=>_s(()=>s(a)),a=>_s(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:_s(()=>i)};var Fr=class{constructor(e){return e}},ws=class{constructor(){return tf()}};function lq(t){return t&&t.length===1?t[0]:new Fr(Yo())}var Xv=new S("angularfire2._apps"),uq={provide:Fr,useFactory:lq,deps:[[new ut,Xv]]},dq={provide:ws,deps:[[new ut,Xv]]};function hq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fr(r)}}var fq=(()=>{class t{constructor(n){et("angularfire",vs.full,"core"),et("angularfire",vs.full,"app"),et("angular",_A.full,n.toString())}static \u0275fac=function(r){return new(r||t)(y(sn))};static \u0275mod=J({type:t});static \u0275inj=X({providers:[uq,dq]})}return t})();function tie(t,...e){return{ngModule:fq,providers:[{provide:Xv,useFactory:hq(t),multi:!0,deps:[P,Ce,Jo,...e]}]}}var nie=Ae(Yv,!0);function bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Dx=bx,Cx=new kr("auth","Firebase",bx());var df=new wi("@firebase/auth");function pq(t,...e){df.logLevel<=le.WARN&&df.warn(`Auth (${bi}): ${t}`,...e)}function af(t,...e){df.logLevel<=le.ERROR&&df.error(`Auth (${bi}): ${t}`,...e)}function hn(t,...e){throw _w(t,...e)}function lr(t,...e){return _w(t,...e)}function Tx(t,e,n){let r=Object.assign(Object.assign({},Dx()),{[e]:n});return new kr("auth","Firebase",r).create(e,{appName:t.name})}function mq(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hn(t,"argument-error"),Tx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _w(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Cx.create(t,...e)}function W(t,e,...n){if(!t)throw _w(e,...n)}function Lr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function jr(t,e){t||Lr(e)}function tw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gq(){return cx()==="http:"||cx()==="https:"}function cx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function yq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gq()||$R()||"connection"in navigator)?navigator.onLine:!0}function _q(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Es=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=UR()||HR()}get(){return yq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vw(t,e){jr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var wq=new Es(3e4,6e4);function Ci(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ti(s,o,a,c){return m(this,arguments,function*(t,e,n,r,i={}){return Sx(t,i,()=>m(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Wo(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),hf.fetch()(Ax(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function Sx(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},vq),e);try{let i=new nw(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw of(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw of(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw of(t,"user-disabled",o);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Tx(t,u,l);hn(t,u)}}catch(i){if(i instanceof qt)throw i;hn(t,"network-request-failed",{message:String(i)})}})}function al(s,o,a,c){return m(this,arguments,function*(t,e,n,r,i={}){let l=yield Ti(t,e,n,r,i);return"mfaPendingCredential"in l&&hn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Ax(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?vw(t.config,i):`${t.config.apiScheme}://${i}`}function Eq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var nw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),wq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function of(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=lr(t,e,r);return i.customData._tokenResponse=n,i}function lx(t){return t!==void 0&&t.enterprise!==void 0}var rw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Eq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Iq(t,e){return m(this,null,function*(){return Ti(t,"GET","/v2/recaptchaConfig",Ci(t,e))})}function bq(t,e){return m(this,null,function*(){return Ti(t,"POST","/v1/accounts:delete",e)})}function Dq(t,e){return m(this,null,function*(){return Ti(t,"POST","/v1/accounts:lookup",e)})}function tl(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ww(t,e=!1){return m(this,null,function*(){let n=Fe(t),r=yield n.getIdToken(e),i=Ew(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:tl(Jv(i.auth_time)),issuedAtTime:tl(Jv(i.iat)),expirationTime:tl(Jv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Jv(t){return Number(t)*1e3}function Ew(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{let i=Nv(n);return i?JSON.parse(i):(af("Failed to decode base64 JWT payload"),null)}catch(i){return af("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Cq(t){let e=Ew(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nl(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof qt&&Tq(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Tq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var iw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ff=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function pf(t){return m(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield nl(t,Dq(n,{idToken:r}));W(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Aq(s.providerUserInfo):[],a=Sq(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ff(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Iw(t){return m(this,null,function*(){let e=Fe(t);yield pf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Sq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Aq(t){return t.map(e=>{var{providerId:n}=e,r=Ju(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Rq(t,e){return m(this,null,function*(){let n=yield Sx(t,{},()=>m(this,null,function*(){let r=Wo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ax(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hf.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function xq(t,e){return m(this,null,function*(){return Ti(t,"POST","/v2/accounts:revokeToken",Ci(t,e))})}var mf=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return m(this,null,function*(){return W(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Rq(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Lr("not implemented")}};function Di(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var rl=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ju(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ff(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield nl(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ww(this,e)}reload(){return Iw(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield pf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){let e=yield this.getIdToken();return yield nl(this,bq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(l=n.createdAt)!==null&&l!==void 0?l:void 0,M=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:V,emailVerified:j,isAnonymous:_e,providerData:oe,stsTokenManager:Ee}=n;W(V&&Ee,e,"internal-error");let Pe=mf.fromJSON(this.name,Ee);W(typeof V=="string",e,"internal-error"),Di(d,e.name),Di(h,e.name),W(typeof j=="boolean",e,"internal-error"),W(typeof _e=="boolean",e,"internal-error"),Di(f,e.name),Di(p,e.name),Di(g,e.name),Di(_,e.name),Di(E,e.name),Di(M,e.name);let Dt=new t({uid:V,auth:e,email:h,emailVerified:j,displayName:d,isAnonymous:_e,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Pe,createdAt:E,lastLoginAt:M});return oe&&Array.isArray(oe)&&(Dt.providerData=oe.map(vn=>Object.assign({},vn))),_&&(Dt._redirectEventId=_),Dt}static _fromIdTokenResponse(e,n,r=!1){return m(this,null,function*(){let i=new mf;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pf(s),s})}};var ux=new Map;function Vr(t){jr(t instanceof Function,"Expected a class definition");let e=ux.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ux.set(t,e),e)}var Mq=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,r){return m(this,null,function*(){this.storage[n]=r})}_get(n){return m(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),sw=Mq;function cf(t,e,n){return`firebase:${t}:${e}:${n}`}var gf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=cf(this.userKey,i.apiKey,s),this.fullPersistenceKey=cf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?rl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(this,null,function*(){if(!n.length)return new t(Vr(sw),e,r);let i=(yield Promise.all(n.map(l=>m(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Vr(sw),o=cf(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=rl._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>m(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function dx(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Px(e))return"Blackberry";if(Ox(e))return"Webos";if(bw(e))return"Safari";if((e.includes("chrome/")||xx(e))&&!e.includes("edge/"))return"Chrome";if(Nx(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Rx(t=Be()){return/firefox\//i.test(t)}function bw(t=Be()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xx(t=Be()){return/crios\//i.test(t)}function Mx(t=Be()){return/iemobile/i.test(t)}function Nx(t=Be()){return/android/i.test(t)}function Px(t=Be()){return/blackberry/i.test(t)}function Ox(t=Be()){return/webos/i.test(t)}function Tf(t=Be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Nq(t=Be()){var e;return Tf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Pq(){return zR()&&document.documentMode===10}function kx(t=Be()){return Tf(t)||Nx(t)||Ox(t)||Px(t)||/windows phone/i.test(t)||Mx(t)}function Oq(){try{return!!(window&&window!==window.top)}catch{return!1}}function Fx(t,e=[]){let n;switch(t){case"Browser":n=dx(Be());break;case"Worker":n=`${dx(Be())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bi}/${r}`}var ow=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function kq(n){return m(this,arguments,function*(t,e={}){return Ti(t,"GET","/v2/passwordPolicy",Ci(t,e))})}var Fq=6,aw=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Fq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var cw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yf(this),this.idTokenSubscription=new yf(this),this.beforeStateQueue=new ow(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield gf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield pf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=_q()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){let n=e?Fe(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Vr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield kq(this),n=new aw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield xq(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Vr(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=yield gf.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(W(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&pq(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Si(t){return Fe(t)}var yf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=KR(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function Lq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Lx(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Lq().appendChild(r)})}function Vx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Vq="https://www.google.com/recaptcha/enterprise.js?render=",jq="recaptcha-enterprise",Bq="NO_RECAPTCHA",lw=class{constructor(e){this.type=jq,this.auth=Si(e)}verify(e="verify",n=!1){return m(this,null,function*(){function r(s){return m(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>m(this,null,function*(){Iq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new rw(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;lx(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Bq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&lx(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Lx(Vq+a).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function hx(t,e,n,r=!1){return m(this,null,function*(){let i=new lw(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function uw(t,e,n,r){return m(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield hx(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>m(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield hx(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Dw(t,e){let n=Jc(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ms(s,e??{}))return i;hn(i,"already-initialized")}return n.initialize({options:e})}function Uq(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Vr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Cw(t,e,n){let r=Si(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=jx(e),{host:o,port:a}=$q(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Hq()}function jx(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $q(t){let e=jx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:fx(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:fx(o)}}}function fx(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Hq(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ta=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,n){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}};function zq(t,e){return m(this,null,function*(){return Ti(t,"POST","/v1/accounts:signUp",e)})}function qq(t,e){return m(this,null,function*(){return al(t,"POST","/v1/accounts:signInWithPassword",Ci(t,e))})}function Gq(t,e){return m(this,null,function*(){return al(t,"POST","/v1/accounts:signInWithEmailLink",Ci(t,e))})}function Wq(t,e){return m(this,null,function*(){return al(t,"POST","/v1/accounts:signInWithEmailLink",Ci(t,e))})}var il=class t extends ta{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return m(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uw(e,n,"signInWithPassword",qq);case"emailLink":return Gq(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_linkToIdToken(e,n){return m(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uw(e,r,"signUpPassword",zq);case"emailLink":return Wq(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ea(t,e){return m(this,null,function*(){return al(t,"POST","/v1/accounts:signInWithIdp",Ci(t,e))})}var Kq="http://localhost",_f=class t extends ta{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ju(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return ea(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,ea(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,ea(e,n)}buildRequest(){let e={requestUri:Kq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Wo(n)}return e}};function Qq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yq(t){let e=Ko(Qo(t)).link,n=e?Ko(Qo(e)).deep_link_id:null,r=Ko(Qo(t)).deep_link_id;return(r?Ko(Qo(r)).link:null)||r||n||e||t}var vf=class t{constructor(e){var n,r,i,s,o,a;let c=Ko(Qo(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=Qq((i=c.mode)!==null&&i!==void 0?i:null);W(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Yq(e);try{return new t(n)}catch{return null}}};var Bx=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return il._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=vf.parseLink(r);return W(i,"argument-error"),il._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),sl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wf=class extends sl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Tw=(()=>{class t extends wf{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return _f._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function Zq(t,e){return m(this,null,function*(){return al(t,"POST","/v1/accounts:signUp",Ci(t,e))})}var na=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return m(this,null,function*(){let s=yield rl._fromIdTokenResponse(e,r,i),o=px(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return m(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=px(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function px(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var dw=class t extends qt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Ux(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dw._fromErrorAndOperation(t,s,e,r):s})}function Xq(t,e,n=!1){return m(this,null,function*(){let r=yield nl(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return na._forOperation(t,"link",r)})}function Jq(t,e,n=!1){return m(this,null,function*(){let{auth:r}=t,i="reauthenticate";try{let s=yield nl(t,Ux(r,i,e,t),n);W(s.idToken,r,"internal-error");let o=Ew(s.idToken);W(o,r,"internal-error");let{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),na._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&hn(r,"user-mismatch"),s}})}function $x(t,e,n=!1){return m(this,null,function*(){let r="signIn",i=yield Ux(t,r,e),s=yield na._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Sw(t,e){return m(this,null,function*(){return $x(Si(t),e)})}function Hx(t){return m(this,null,function*(){let e=Si(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Aw(t,e,n){return m(this,null,function*(){let r=Si(t),o=yield uw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zq).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Hx(t),c}),a=yield na._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Rw(t,e,n){return Sw(Fe(t),Bx.credential(e,n)).catch(r=>m(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Hx(t),r}))}function xw(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function Mw(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function Nw(t,e,n,r){return Fe(t).onAuthStateChanged(e,n,r)}function Pw(t){return Fe(t).signOut()}var Ef="__sak";var If=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ef,"1"),this.storage.removeItem(Ef),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function eG(){let t=Be();return bw(t)||Tf(t)}var tG=1e3,nG=10,rG=(()=>{class t extends If{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=eG()&&Oq(),this.fallbackToPolling=kx(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Pq()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,nG):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},tG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return m(this,null,function*(){yield Qr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return m(this,null,function*(){let r=yield Qr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return m(this,null,function*(){yield Qr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),zx=rG;var iG=(()=>{class t extends If{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ow=iG;function sG(t){return Promise.all(t.map(e=>m(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var oG=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return m(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(u=>m(this,null,function*(){return u(r.origin,o)})),l=yield sG(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function kw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var hw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return m(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=kw("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ur(){return window}function aG(t){ur().location.href=t}function qx(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}function cG(){return m(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function lG(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function uG(){return qx()?self:null}var Gx="firebaseLocalStorageDb",dG=1,bf="firebaseLocalStorage",Wx="fbase_key",Is=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Sf(t,e){return t.transaction([bf],e?"readwrite":"readonly").objectStore(bf)}function hG(){let t=indexedDB.deleteDatabase(Gx);return new Is(t).toPromise()}function fw(){let t=indexedDB.open(Gx,dG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(bf,{keyPath:Wx})}catch(i){n(i)}}),t.addEventListener("success",()=>m(this,null,function*(){let r=t.result;r.objectStoreNames.contains(bf)?e(r):(r.close(),yield hG(),e(yield fw()))}))})}function mx(t,e,n){return m(this,null,function*(){let r=Sf(t,!0).put({[Wx]:e,value:n});return new Is(r).toPromise()})}function fG(t,e){return m(this,null,function*(){let n=Sf(t,!1).get(e),r=yield new Is(n).toPromise();return r===void 0?null:r.value})}function gx(t,e){let n=Sf(t,!0).delete(e);return new Is(n).toPromise()}var pG=800,mG=3,gG=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return m(this,null,function*(){return this.db?this.db:(this.db=yield fw(),this.db)})}_withRetries(n){return m(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>mG)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return m(this,null,function*(){return qx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return m(this,null,function*(){this.receiver=oG._getInstance(uG()),this.receiver._subscribe("keyChanged",(n,r)=>m(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>m(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return m(this,null,function*(){var n,r;if(this.activeServiceWorker=yield cG(),!this.activeServiceWorker)return;this.sender=new hw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return m(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||lG()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return m(this,null,function*(){try{if(!indexedDB)return!1;let n=yield fw();return yield mx(n,Ef,"1"),yield gx(n,Ef),!0}catch{}return!1})}_withPendingWrite(n){return m(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(i=>mx(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return m(this,null,function*(){let r=yield this._withRetries(i=>fG(i,n));return this.localCache[n]=r,r})}_remove(n){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(r=>gx(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return m(this,null,function*(){let n=yield this._withRetries(s=>{let o=Sf(s,!1).getAll();return new Is(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>m(this,null,function*(){return this._poll()}),pG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Kx=gG;var uie=Vx("rcb"),die=new Es(3e4,6e4);function Qx(t,e){return e?Vr(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ol=class extends ta{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function yG(t){return $x(t.auth,new ol(t),t.bypassAuthState)}function _G(t){let{auth:e,user:n}=t;return W(n,e,"internal-error"),Jq(n,new ol(t),t.bypassAuthState)}function vG(t){return m(this,null,function*(){let{auth:e,user:n}=t;return W(n,e,"internal-error"),Xq(n,new ol(t),t.bypassAuthState)})}var Df=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>m(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return m(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yG;case"linkViaPopup":case"linkViaRedirect":return vG;case"reauthViaPopup":case"reauthViaRedirect":return _G;default:hn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var wG=new Es(2e3,1e4);function Fw(t,e,n){return m(this,null,function*(){let r=Si(t);mq(t,e,sl);let i=Qx(r,n);return new EG(r,"signInViaPopup",e,i).executeNotNull()})}var EG=(()=>{class t extends Df{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return m(this,null,function*(){let n=yield this.execute();return W(n,this.auth,"internal-error"),n})}onExecution(){return m(this,null,function*(){jr(this.filter.length===1,"Popup operations only handle one event");let n=kw();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,wG.get())};n()}}t.currentPopupAction=null;return t})(),IG="pendingRedirect",lf=new Map,pw=class t extends Df{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return m(this,null,function*(){let e=lf.get(this.auth._key());if(!e){try{let r=(yield bG(this.resolver,this.auth))?yield Qr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return m(this,null,function*(){if(e.type==="signInViaRedirect")return Qr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Qr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return m(this,null,function*(){})}cleanUp(){}};function bG(t,e){return m(this,null,function*(){let n=TG(e),r=CG(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function DG(t,e){lf.set(t._key(),e)}function CG(t){return Vr(t._redirectPersistence)}function TG(t){return cf(IG,t.config.apiKey,t.name)}function SG(t,e,n=!1){return m(this,null,function*(){let r=Si(t),i=Qx(r,e),o=yield new pw(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var AG=10*60*1e3,mw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Yx(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AG&&this.cachedEventUids.clear(),this.cachedEventUids.has(yx(e))}saveEventToCache(e){this.cachedEventUids.add(yx(e)),this.lastProcessedEventTime=Date.now()}};function yx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Yx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function RG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yx(t);default:return!1}}function xG(n){return m(this,arguments,function*(t,e={}){return Ti(t,"GET","/v1/projects",e)})}var MG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NG=/^https?/;function PG(t){return m(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield xG(t);for(let n of e)try{if(OG(n))return}catch{}hn(t,"unauthorized-domain")})}function OG(t){let e=tw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NG.test(n))return!1;if(MG.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var kG=new Es(3e4,6e4);function _x(){let t=ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FG(t){return new Promise((e,n)=>{var r,i,s;function o(){_x(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_x(),n(lr(t,"network-request-failed"))},timeout:kG.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ur().gapi)===null||s===void 0)&&s.load)o();else{let a=Vx("iframefcb");return ur()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},Lx(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw uf=null,e})}var uf=null;function LG(t){return uf=uf||FG(t),uf}var VG=new Es(5e3,15e3),jG="__/auth/iframe",BG="emulator/auth/iframe",UG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$G=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HG(t){let e=t.config;W(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?vw(e,BG):`https://${t.config.authDomain}/${jG}`,r={apiKey:e.apiKey,appName:t.name,v:bi},i=$G.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wo(r).slice(1)}`}function zG(t){return m(this,null,function*(){let e=yield LG(t),n=ur().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:HG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UG,dontclear:!0},r=>new Promise((i,s)=>m(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=lr(t,"network-request-failed"),a=ur().setTimeout(()=>{s(o)},VG.get());function c(){ur().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var qG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GG=500,WG=600,KG="_blank",QG="http://localhost",Cf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function YG(t,e,n,r=GG,i=WG){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},qG),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Be().toLowerCase();n&&(a=xx(l)?KG:n),Rx(l)&&(e=e||QG,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(Nq(l)&&a!=="_self")return ZG(e||"",a),new Cf(null);let d=window.open(e||"",a,u);W(d,t,"popup-blocked");try{d.focus()}catch{}return new Cf(d)}function ZG(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var XG="__/auth/handler",JG="emulator/auth/handler",eW=encodeURIComponent("fac");function vx(t,e,n,r,i,s){return m(this,null,function*(){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bi,eventId:i};if(e instanceof sl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",WR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof wf){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${eW}=${encodeURIComponent(c)}`:"";return`${tW(t)}?${Wo(a).slice(1)}${l}`})}function tW({config:t}){return t.emulator?vw(t,JG):`https://${t.authDomain}/${XG}`}var ew="webStorageSupport",gw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ow,this._completeRedirectFn=SG,this._overrideRedirectResult=DG}_openPopup(e,n,r,i){return m(this,null,function*(){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield vx(e,n,r,tw(),i);return YG(e,o,kw())})}_openRedirect(e,n,r,i){return m(this,null,function*(){yield this._originValidation(e);let s=yield vx(e,n,r,tw(),i);return aG(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return m(this,null,function*(){let n=yield zG(e),r=new mw(e);return n.register("authEvent",i=>(W(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ew,{type:ew},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ew];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kx()||bw()||Tf()}},Zx=gw;var wx="@firebase/auth",Ex="1.5.1";var yw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function nW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function rW(t){Ii(new dn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;W(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fx(t)},l=new cw(r,i,s,c);return Uq(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ii(new dn("auth-internal",e=>{let n=Si(e.getProvider("auth").getImmediate());return(r=>new yw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(wx,Ex,nW(t)),et(wx,Ex,"esm2017")}var iW=5*60,sW=kv("authIdTokenMaxAge")||iW,Ix=null,oW=t=>e=>m(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sW)return;let i=n?.token;Ix!==i&&(Ix=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Lw(t=Yo()){let e=Jc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Dw(t,{popupRedirectResolver:Zx,persistence:[Kx,zx,Ow]}),r=kv("authTokenSyncURL");if(r){let s=oW(r);Mw(n,s,()=>s(n.currentUser)),xw(n,o=>s(o))}let i=Pv("auth");return i&&Cw(n,`http://${i}`),n}rW("Browser");var Xx="auth",bs=class{constructor(e){return e}},cl=class{constructor(){return el(Xx)}};var Vw=new S("angularfire2.auth-instances");function KW(t,e){let n=rf(Xx,t,e);return n&&new bs(n)}function QW(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new bs(r)}}var YW={provide:cl,deps:[[new ut,Vw]]},ZW={provide:bs,useFactory:KW,deps:[[new ut,Vw],Fr]},XW=(()=>{class t{constructor(){et("angularfire",vs.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=J({type:t});static \u0275inj=X({providers:[ZW,YW]})}return t})();function Gie(t,...e){return{ngModule:XW,providers:[{provide:Vw,useFactory:QW(t),multi:!0,deps:[P,Ce,Jo,ws,[new ut,Xo],...e]}]}}var Jx=Ae(Aw,!0);var jw=Ae(Lw,!0);var eM=Ae(Nw,!0);var tM=Ae(Rw,!0);var nM=Ae(Fw,!0);var rM=Ae(Pw,!0);var Qie=(()=>{let e=class e{constructor(r,i,s){this.auth=r,this.ngZone=i,this.router=s,eM(this.auth,o=>{o?(this.UserData=o,localStorage.setItem("user",JSON.stringify(this.UserData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}get userUid(){return jw().currentUser?.uid||""}getAuthFire(){return this.auth.currentUser}get isLoggedIn(){let r=localStorage.getItem("user");return JSON.parse(r)!==null}getAuthLocal(){let r=localStorage.getItem("user");return JSON.parse(r)}Register(r,i){return Jx(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.sendEmailVerification(),this.router.navigate(["/signIn"])})}).catch(s=>{window.alert(s.message)})}sendEmailVerification(){throw new Error("Method not implemented.")}Login(r,i){return tM(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.router.navigate(["/"])})}).catch(s=>{window.alert(s.message)})}googleSignIn(){return this.loginWithPopup(new Tw)}loginWithPopup(r){return nM(this.auth,r).then(i=>(console.log("logged in",i),i)).catch(i=>{console.log(i)})}logout(){rM(this.auth).then(()=>this.router.navigate(["/signIn"]))}isSignedIn(){return jw().currentUser!==null}};e.\u0275fac=function(i){return new(i||e)(y(bs),y(P),y(Sn))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var e4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rn={},R,aE=aE||{},Z=e4||self;function Uf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Il(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function t4(t){return Object.prototype.hasOwnProperty.call(t,Bw)&&t[Bw]||(t[Bw]=++n4)}var Bw="closure_uid_"+(1e9*Math.random()>>>0),n4=0;function r4(t,e,n){return t.call.apply(t.bind,arguments)}function i4(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?vt=r4:vt=i4,vt.apply(null,arguments)}function Af(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ai(){this.s=this.s,this.o=this.o}var s4=0;Ai.prototype.s=!1;Ai.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),s4!=0)&&t4(this)};Ai.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var gM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cE(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function iM(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Uf(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function wt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}wt.prototype.h=function(){this.defaultPrevented=!0};var o4=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Z.addEventListener("test",n,e),Z.removeEventListener("test",n,e)}catch{}return t}();function pl(t){return/^[\s\xa0]*$/.test(t)}function $f(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function dr(t){return $f().indexOf(t)!=-1}function lE(t){return lE[" "](t),t}lE[" "]=function(){};function a4(t,e){var n=Q4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var c4=dr("Opera"),oa=dr("Trident")||dr("MSIE"),yM=dr("Edge"),qw=yM||oa,_M=dr("Gecko")&&!($f().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),l4=$f().toLowerCase().indexOf("webkit")!=-1&&!dr("Edge");function vM(){var t=Z.document;return t?t.documentMode:void 0}var Gw;e:{if(Rf="",xf=function(){var t=$f();if(_M)return/rv:([^\);]+)(\)|;)/.exec(t);if(yM)return/Edge\/([\d\.]+)/.exec(t);if(oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(l4)return/WebKit\/(\S+)/.exec(t);if(c4)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),xf&&(Rf=xf?xf[1]:""),oa&&(Mf=vM(),Mf!=null&&Mf>parseFloat(Rf))){Gw=String(Mf);break e}Gw=Rf}var Rf,xf,Mf,Ww;Z.document&&oa?(Uw=vM(),Ww=Uw||parseInt(Gw,10)||void 0):Ww=void 0;var Uw,u4=Ww;function ml(t,e){if(wt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(_M){e:{try{lE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:d4[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ml.$.h.call(this)}}ot(ml,wt);var d4={2:"touch",3:"pen",4:"mouse"};ml.prototype.h=function(){ml.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bl="closure_listenable_"+(1e6*Math.random()|0),h4=0;function f4(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++h4,this.fa=this.ia=!1}function Hf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function uE(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function p4(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function wM(t){let e={};for(let n in t)e[n]=t[n];return e}var sM="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EM(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<sM.length;s++)n=sM[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zf(t){this.src=t,this.g={},this.h=0}zf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Qw(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new f4(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Kw(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=gM(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Qw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var dE="closure_lm_"+(1e6*Math.random()|0),$w={};function IM(t,e,n,r,i){if(r&&r.once)return DM(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)IM(t,e[s],n,r,i);return null}return n=pE(n),t&&t[bl]?t.O(e,n,Il(r)?!!r.capture:!!r,i):bM(t,e,n,!1,r,i)}function bM(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Il(i)?!!i.capture:!!i,a=fE(t);if(a||(t[dE]=a=new zf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=m4(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)o4||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(TM(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function m4(){function t(n){return e.call(t.src,t.listener,n)}let e=g4;return t}function DM(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)DM(t,e[s],n,r,i);return null}return n=pE(n),t&&t[bl]?t.P(e,n,Il(r)?!!r.capture:!!r,i):bM(t,e,n,!0,r,i)}function CM(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)CM(t,e[s],n,r,i);else r=Il(r)?!!r.capture:!!r,n=pE(n),t&&t[bl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Qw(s,n,r,i),-1<n&&(Hf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=fE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Qw(e,n,r,i)),(n=-1<t?e[t]:null)&&hE(n))}function hE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[bl])Kw(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(TM(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fE(e))?(Kw(n,t),n.h==0&&(n.src=null,e[dE]=null)):Hf(t)}}}function TM(t){return t in $w?$w[t]:$w[t]="on"+t}function g4(t,e){if(t.fa)t=!0;else{e=new ml(e,this);var n=t.listener,r=t.la||t.src;t.ia&&hE(t),t=n.call(r,e)}return t}function fE(t){return t=t[dE],t instanceof zf?t:null}var Hw="__closure_events_fn_"+(1e9*Math.random()>>>0);function pE(t){return typeof t=="function"?t:(t[Hw]||(t[Hw]=function(e){return t.handleEvent(e)}),t[Hw])}function st(){Ai.call(this),this.i=new zf(this),this.S=this,this.J=null}ot(st,Ai);st.prototype[bl]=!0;st.prototype.removeEventListener=function(t,e,n,r){CM(this,t,e,n,r)};function ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new wt(e,t);else if(e instanceof wt)e.target=e.target||t;else{var i=e;e=new wt(r,t),EM(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Nf(o,r,!0,e)&&i}if(o=e.g=t,i=Nf(o,r,!0,e)&&i,i=Nf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Nf(o,r,!1,e)&&i}st.prototype.N=function(){if(st.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Hf(n[r]);delete t.g[e],t.h--}}this.J=null};st.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};st.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Nf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Kw(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var mE=Z.JSON.stringify,Yw=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function y4(){var t=gE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Zw=class{constructor(){this.h=this.g=null}add(e,n){let r=SM.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},SM=new Yw(()=>new Xw,t=>t.reset()),Xw=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function _4(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function v4(t){Z.setTimeout(()=>{throw t},0)}var gl,yl=!1,gE=new Zw,AM=()=>{let t=Z.Promise.resolve(void 0);gl=()=>{t.then(w4)}},w4=()=>{for(var t;t=y4();){try{t.h.call(t.g)}catch(n){v4(n)}var e=SM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yl=!1};function qf(t,e){st.call(this),this.h=t||1,this.g=e||Z,this.j=vt(this.qb,this),this.l=Date.now()}ot(qf,st);R=qf.prototype;R.ga=!1;R.T=null;R.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ht(this,"tick"),this.ga&&(yE(this),this.start()))}};R.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function yE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}R.N=function(){qf.$.N.call(this),yE(this),delete this.g};function _E(t,e,n){if(typeof t=="function")n&&(t=vt(t,n));else if(t&&typeof t.handleEvent=="function")t=vt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function RM(t){t.g=_E(()=>{t.g=null,t.i&&(t.i=!1,RM(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Jw=class extends Ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RM(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function _l(t){Ai.call(this),this.h=t,this.g={}}ot(_l,Ai);var oM=[];function xM(t,e,n,r){Array.isArray(n)||(n&&(oM[0]=n.toString()),n=oM);for(var i=0;i<n.length;i++){var s=IM(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function MM(t){uE(t.g,function(e,n){this.g.hasOwnProperty(n)&&hE(e)},t),t.g={}}_l.prototype.N=function(){_l.$.N.call(this),MM(this)};_l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gf(){this.g=!0}Gf.prototype.Ea=function(){this.g=!1};function E4(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function I4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ia(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+D4(t,n)+(r?" "+r:"")})}function b4(t,e){t.info(function(){return"TIMEOUT: "+e})}Gf.prototype.info=function(){};function D4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return mE(n)}catch{return e}}var Ss={},aM=null;function Wf(){return aM=aM||new st}Ss.Ta="serverreachability";function NM(t){wt.call(this,Ss.Ta,t)}ot(NM,wt);function vl(t){let e=Wf();ht(e,new NM(e))}Ss.STAT_EVENT="statevent";function PM(t,e){wt.call(this,Ss.STAT_EVENT,t),this.stat=e}ot(PM,wt);function Mt(t){let e=Wf();ht(e,new PM(e,t))}Ss.Ua="timingevent";function OM(t,e){wt.call(this,Ss.Ua,t),this.size=e}ot(OM,wt);function Dl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var Kf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},kM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vE(){}vE.prototype.h=null;function cM(t){return t.h||(t.h=t.i())}function FM(){}var Cl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wE(){wt.call(this,"d")}ot(wE,wt);function EE(){wt.call(this,"c")}ot(EE,wt);var eE;function Qf(){}ot(Qf,vE);Qf.prototype.g=function(){return new XMLHttpRequest};Qf.prototype.i=function(){return{}};eE=new Qf;function Tl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _l(this),this.P=C4,t=qw?125:void 0,this.V=new qf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new LM}function LM(){this.i=null,this.g="",this.h=!1}var C4=45e3,VM={},tE={};R=Tl.prototype;R.setTimeout=function(t){this.P=t};function nE(t,e,n){t.L=1,t.A=Zf(Ur(e)),t.u=n,t.S=!0,jM(t,null)}function jM(t,e){t.G=Date.now(),Sl(t),t.B=Ur(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),WM(n.i,"t",r),t.o=0,n=t.l.J,t.h=new LM,t.g=pN(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Jw(vt(t.Pa,t,t.g),t.O)),xM(t.U,t.g,"readystatechange",t.nb),e=t.I?wM(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),vl(),E4(t.j,t.v,t.B,t.m,t.W,t.u)}R.nb=function(t){t=t.target;let e=this.M;e&&hr(t)==3?e.l():this.Pa(t)};R.Pa=function(t){try{if(t==this.g)e:{let u=hr(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||qw||this.g&&(this.h.h||this.g.ja()||hM(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?vl(3):vl(2)),Yf(this);var n=this.g.da();this.ca=n;t:if(BM(this)){var r=hM(this.g);t="";var i=r.length,s=hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ds(this),fl(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,I4(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pl(a)){var l=a;break t}}l=null}if(n=l)ia(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rE(this,n);else{this.i=!1,this.s=3,Mt(12),Ds(this),fl(this);break e}}this.S?(UM(this,u,o),qw&&this.i&&u==3&&(xM(this.U,this.V,"tick",this.mb),this.V.start())):(ia(this.j,this.m,o,null),rE(this,o)),u==4&&Ds(this),this.i&&!this.J&&(u==4?uN(this.l,this):(this.i=!1,Sl(this)))}else G4(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Mt(12)):(this.s=0,Mt(13)),Ds(this),fl(this)}}}catch{}finally{}};function BM(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function UM(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=T4(t,n),i==tE){e==4&&(t.s=4,Mt(14),r=!1),ia(t.j,t.m,null,"[Incomplete Response]");break}else if(i==VM){t.s=4,Mt(15),ia(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ia(t.j,t.m,i,null),rE(t,i);BM(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Mt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),SE(e),e.M=!0,Mt(11))):(ia(t.j,t.m,n,"[Invalid Chunked Response]"),Ds(t),fl(t))}R.mb=function(){if(this.g){var t=hr(this.g),e=this.g.ja();this.o<e.length&&(Yf(this),UM(this,t,e),this.i&&t!=4&&Sl(this))}};function T4(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?tE:(n=Number(e.substring(n,r)),isNaN(n)?VM:(r+=1,r+n>e.length?tE:(e=e.slice(r,r+n),t.o=r+n,e)))}R.cancel=function(){this.J=!0,Ds(this)};function Sl(t){t.Y=Date.now()+t.P,$M(t,t.P)}function $M(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Dl(vt(t.lb,t),e)}function Yf(t){t.C&&(Z.clearTimeout(t.C),t.C=null)}R.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(b4(this.j,this.B),this.L!=2&&(vl(),Mt(17)),Ds(this),this.s=2,fl(this)):$M(this,this.Y-t)};function fl(t){t.l.H==0||t.J||uN(t.l,t)}function Ds(t){Yf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,yE(t.V),MM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function rE(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||iE(n.i,t))){if(!t.K&&iE(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Lf(n),ep(n);else break e;TE(n),Mt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Dl(vt(n.ib,n),6e3));if(1>=YM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Cs(n,11)}else if((t.K||n.g==t)&&Lf(n),!pl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let f=t.g;if(f){let p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(IE(s,s.h),s.h=null))}if(r.F){let g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ne(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=fN(r,r.J?r.pa:null,r.Y),o.K){ZM(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Yf(a),Sl(a)),r.g=o}else cN(r);0<n.j.length&&tp(n)}else l[0]!="stop"&&l[0]!="close"||Cs(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Cs(n,7):CE(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}vl(4)}catch{}}function S4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Uf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function A4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Uf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function HM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Uf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=A4(t),r=S4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var zM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function R4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ts(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ts){this.h=t.h,kf(this,t.j),this.s=t.s,this.g=t.g,Ff(this,t.m),this.l=t.l;var e=t.i,n=new wl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),lM(this,n),this.o=t.o}else t&&(e=String(t).match(zM))?(this.h=!1,kf(this,e[1]||"",!0),this.s=dl(e[2]||""),this.g=dl(e[3]||"",!0),Ff(this,e[4]),this.l=dl(e[5]||"",!0),lM(this,e[6]||"",!0),this.o=dl(e[7]||"")):(this.h=!1,this.i=new wl(null,this.h))}Ts.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hl(e,uM,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(hl(e,uM,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(hl(n,n.charAt(0)=="/"?N4:M4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hl(n,O4)),t.join("")};function Ur(t){return new Ts(t)}function kf(t,e,n){t.j=n?dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ff(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function lM(t,e,n){e instanceof wl?(t.i=e,k4(t.i,t.h)):(n||(e=hl(e,P4)),t.i=new wl(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function Zf(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,x4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function x4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var uM=/[#\/\?@]/g,M4=/[#\?:]/g,N4=/[#\?]/g,P4=/[#\?@]/g,O4=/#/g;function wl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ri(t){t.g||(t.g=new Map,t.h=0,t.i&&R4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}R=wl.prototype;R.add=function(t,e){Ri(this),this.i=null,t=aa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function qM(t,e){Ri(t),e=aa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function GM(t,e){return Ri(t),e=aa(t,e),t.g.has(e)}R.forEach=function(t,e){Ri(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};R.ta=function(){Ri(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};R.Z=function(t){Ri(this);let e=[];if(typeof t=="string")GM(this,t)&&(e=e.concat(this.g.get(aa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};R.set=function(t,e){return Ri(this),this.i=null,t=aa(this,t),GM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};R.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function WM(t,e,n){qM(t,e),0<n.length&&(t.i=null,t.g.set(aa(t,e),cE(n)),t.h+=n.length)}R.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function aa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function k4(t,e){e&&!t.j&&(Ri(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(qM(this,r),WM(this,i,n))},t)),t.j=e}var F4=class{constructor(t,e){this.g=t,this.map=e}};function KM(t){this.l=t||L4,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var L4=10;function QM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function YM(t){return t.h?1:t.g?t.g.size:0}function iE(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function IE(t,e){t.g?t.g.add(e):t.h=e}function ZM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}KM.prototype.cancel=function(){if(this.i=XM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function XM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return cE(t.i)}var V4=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function j4(){this.g=new V4}function B4(t,e,n){let r=n||"";try{HM(t,function(i,s){let o=i;Il(i)&&(o=mE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function U4(t,e){let n=new Gf;if(Z.Image){let r=new Image;r.onload=Af(Pf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Af(Pf,n,r,"TestLoadImage: error",!1,e),r.onabort=Af(Pf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Af(Pf,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Pf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Al(t){this.l=t.ec||null,this.j=t.ob||!1}ot(Al,vE);Al.prototype.g=function(){return new Xf(this.l,this.j)};Al.prototype.i=function(t){return function(){return t}}({});function Xf(t,e){st.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=bE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(Xf,st);var bE=0;R=Xf.prototype;R.open=function(t,e){if(this.readyState!=bE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,El(this)};R.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=bE};R.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function JM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}R.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Rl(this):El(this),this.readyState==3&&JM(this)}};R.Za=function(t){this.g&&(this.response=this.responseText=t,Rl(this))};R.Ya=function(t){this.g&&(this.response=t,Rl(this))};R.ka=function(){this.g&&Rl(this)};function Rl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,El(t)}R.setRequestHeader=function(t,e){this.v.append(t,e)};R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};R.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function El(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var $4=Z.JSON.parse;function Ue(t){st.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=eN,this.L=this.M=!1}ot(Ue,st);var eN="",H4=/^https?$/i,z4=["POST","PUT"];R=Ue.prototype;R.Oa=function(t){this.M=t};R.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eE.g(),this.C=this.u?cM(this.u):cM(eE),this.g.onreadystatechange=vt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){dM(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=gM(z4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rN(this),0<this.B&&((this.L=q4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vt(this.ua,this)):this.A=_E(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){dM(this,s)}};function q4(t){return oa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}R.ua=function(){typeof aE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ht(this,"timeout"),this.abort(8))};function dM(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,tN(t),Jf(t)}function tN(t){t.F||(t.F=!0,ht(t,"complete"),ht(t,"error"))}R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ht(this,"complete"),ht(this,"abort"),Jf(this))};R.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jf(this,!0)),Ue.$.N.call(this)};R.La=function(){this.s||(this.G||this.v||this.l?nN(this):this.kb())};R.kb=function(){nN(this)};function nN(t){if(t.h&&typeof aE<"u"&&(!t.C[1]||hr(t)!=4||t.da()!=2)){if(t.v&&hr(t)==4)_E(t.La,0,t);else if(ht(t,"readystatechange"),hr(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(zM)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!H4.test(i?i.toLowerCase():"")}n=r}if(n)ht(t,"complete"),ht(t,"success");else{t.m=6;try{var s=2<hr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",tN(t)}}finally{Jf(t)}}}}function Jf(t,e){if(t.g){rN(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function rN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}R.isActive=function(){return!!this.g};function hr(t){return t.g?t.g.readyState:0}R.da=function(){try{return 2<hr(this)?this.g.status:-1}catch{return-1}};R.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};R.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$4(e)}};function hM(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case eN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function G4(t){let e={};t=(t.g&&2<=hr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(pl(t[r]))continue;var n=_4(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}p4(e,function(r){return r.join(", ")})}R.Ia=function(){return this.m};R.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function iN(t){let e="";return uE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function DE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ne(t,e,n))}function ll(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sN(t){this.Ga=0,this.j=[],this.l=new Gf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ll("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ll("baseRetryDelayMs",5e3,t),this.hb=ll("retryDelaySeedMs",1e4,t),this.eb=ll("forwardChannelMaxRetries",2,t),this.xa=ll("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new KM(t&&t.concurrentRequestLimit),this.Ja=new j4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}R=sN.prototype;R.ra=8;R.H=1;function CE(t){if(oN(t),t.H==3){var e=t.W++,n=Ur(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),xl(t,n),e=new Tl(t,t.l,e),e.L=2,e.A=Zf(Ur(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Z.Image&&(new Image().src=e.A,n=!0),n||(e.g=pN(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Sl(e)}hN(t)}function ep(t){t.g&&(SE(t),t.g.cancel(),t.g=null)}function oN(t){ep(t),t.u&&(Z.clearTimeout(t.u),t.u=null),Lf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function tp(t){if(!QM(t.i)&&!t.m){t.m=!0;var e=t.Na;gl||AM(),yl||(gl(),yl=!0),gE.add(e,t),t.C=0}}function W4(t,e){return YM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Dl(vt(t.Na,t,e),dN(t,t.C)),t.C++,!0)}R.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new Tl(this,this.l,t),s=this.s;if(this.U&&(s?(s=wM(s),EM(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=aN(this,i,e),n=Ur(this.I),Ne(n,"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),xl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(iN(s)))+"&"+e:this.o&&DE(n,this.o,s)),IE(this.i,i),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),i.aa=!0,nE(i,n,null)):nE(i,n,e),this.H=2}}else this.H==3&&(t?fM(this,t):this.j.length==0||QM(this.i)||fM(this))};function fM(t,e){var n;e?n=e.m:n=t.W++;let r=Ur(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),xl(t,r),t.o&&t.s&&DE(r,t.o,t.s),n=new Tl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=aN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),IE(t.i,n),nE(n,r,e)}function xl(t,e){t.na&&uE(t.na,function(n,r){Ne(e,r,n)}),t.h&&HM({},function(n,r){Ne(e,r,n)})}function aN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?vt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g,u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{B4(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;gl||AM(),yl||(gl(),yl=!0),gE.add(e,t),t.A=0}}function TE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Dl(vt(t.Ma,t),dN(t,t.A)),t.A++,!0)}R.Ma=function(){if(this.u=null,lN(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Dl(vt(this.jb,this),t)}};R.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Mt(10),ep(this),lN(this))};function SE(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function lN(t){t.g=new Tl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ur(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),xl(t,e),t.o&&t.s&&DE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Zf(Ur(e)),n.u=null,n.S=!0,jM(n,t)}R.ib=function(){this.v!=null&&(this.v=null,ep(this),TE(this),Mt(19))};function Lf(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function uN(t,e){var n=null;if(t.g==e){Lf(t),SE(t),t.g=null;var r=2}else if(iE(t.i,e))n=e.F,ZM(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Wf(),ht(r,new OM(r,n)),tp(t)}else cN(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&W4(t,e)||r==2&&TE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}}function dN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Cs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=vt(t.pb,t);n||(n=new Ts("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||kf(n,"https"),Zf(n)),U4(n.toString(),r)}else Mt(2);t.H=0,t.h&&t.h.za(e),hN(t),oN(t)}R.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Mt(2)):(this.l.info("Failed to ping google.com"),Mt(1))};function hN(t){if(t.H=0,t.ma=[],t.h){let e=XM(t.i);(e.length!=0||t.j.length!=0)&&(iM(t.ma,e),iM(t.ma,t.j),t.i.i.length=0,cE(t.j),t.j.length=0),t.h.ya()}}function fN(t,e,n){var r=n instanceof Ts?Ur(n):new Ts(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ff(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ts(null);r&&kf(s,r),e&&(s.g=e),i&&Ff(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),xl(t,r),r}function pN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ue(new Al({ob:n})):new Ue(t.va),e.Oa(t.J),e}R.isActive=function(){return!!this.h&&this.h.isActive(this)};function mN(){}R=mN.prototype;R.Ba=function(){};R.Aa=function(){};R.za=function(){};R.ya=function(){};R.isActive=function(){return!0};R.Va=function(){};function Vf(){if(oa&&!(10<=Number(u4)))throw Error("Environmental error: no available transport.")}Vf.prototype.g=function(t,e){return new Gt(t,e)};function Gt(t,e){st.call(this),this.g=new sN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!pl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ca(this)}ot(Gt,st);Gt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Mt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=fN(t,null,t.Y),tp(t)};Gt.prototype.close=function(){CE(this.g)};Gt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=mE(t),t=n);e.j.push(new F4(e.fb++,t)),e.H==3&&tp(e)};Gt.prototype.N=function(){this.g.h=null,delete this.j,CE(this.g),delete this.g,Gt.$.N.call(this)};function gN(t){wE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ot(gN,wE);function yN(){EE.call(this),this.status=1}ot(yN,EE);function ca(t){this.g=t}ot(ca,mN);ca.prototype.Ba=function(){ht(this.g,"a")};ca.prototype.Aa=function(t){ht(this.g,new gN(t))};ca.prototype.za=function(t){ht(this.g,new yN)};ca.prototype.ya=function(){ht(this.g,"b")};function K4(){this.blockSize=-1}function An(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ot(An,K4);An.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function zw(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}An.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)zw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){zw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){zw(this,r),i=0;break}}this.h=i,this.i+=e};An.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ie(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Q4={};function AE(t){return-128<=t&&128>t?a4(t,function(e){return new Ie([e|0],0>e?-1:0)}):new Ie([t|0],0>t?-1:0)}function fr(t){if(isNaN(t)||!isFinite(t))return sa;if(0>t)return dt(fr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=sE;return new Ie(e,0)}function _N(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(_N(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fr(Math.pow(e,8)),r=sa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=fr(Math.pow(e,s)),r=r.R(s).add(fr(o))):(r=r.R(n),r=r.add(fr(o)))}return r}var sE=4294967296,sa=AE(0),oE=AE(1),pM=AE(16777216);R=Ie.prototype;R.ea=function(){if(fn(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:sE+r)*e,e*=sE}return t};R.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Br(this))return"0";if(fn(this))return"-"+dt(this).toString(t);for(var e=fr(Math.pow(t,6)),n=this,r="";;){var i=Bf(n,e).g;n=jf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Br(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};R.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Br(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function fn(t){return t.h==-1}R.X=function(t){return t=jf(this,t),fn(t)?-1:Br(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(oE)}R.abs=function(){return fn(this)?dt(this):this};R.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ie(n,n[n.length-1]&-2147483648?-1:0)};function jf(t,e){return t.add(dt(e))}R.R=function(t){if(Br(this)||Br(t))return sa;if(fn(this))return fn(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(fn(t))return dt(this.R(dt(t)));if(0>this.X(pM)&&0>t.X(pM))return fr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Of(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Of(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Of(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Of(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)};function Of(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ul(t,e){this.g=t,this.h=e}function Bf(t,e){if(Br(e))throw Error("division by zero");if(Br(t))return new ul(sa,sa);if(fn(t))return e=Bf(dt(t),e),new ul(dt(e.g),dt(e.h));if(fn(e))return e=Bf(t,dt(e)),new ul(dt(e.g),e.h);if(30<t.g.length){if(fn(t)||fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=oE,r=e;0>=r.X(t);)n=mM(n),r=mM(r);var i=ra(n,1),s=ra(r,1);for(r=ra(r,2),n=ra(n,2);!Br(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ra(r,1),n=ra(n,1)}return e=jf(t,i.R(e)),new ul(i,e)}for(i=sa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=fr(n),o=s.R(e);fn(o)||0<o.X(t);)n-=r,s=fr(n),o=s.R(e);Br(s)&&(s=oE),i=i.add(s),t=jf(t,o)}return new ul(i,t)}R.gb=function(t){return Bf(this,t).h};R.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)};R.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)};R.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)};function mM(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function ra(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ie(i,t.h)}Vf.prototype.createWebChannel=Vf.prototype.g;Gt.prototype.send=Gt.prototype.u;Gt.prototype.open=Gt.prototype.m;Gt.prototype.close=Gt.prototype.close;Kf.NO_ERROR=0;Kf.TIMEOUT=8;Kf.HTTP_ERROR=6;kM.COMPLETE="complete";FM.EventType=Cl;Cl.OPEN="a";Cl.CLOSE="b";Cl.ERROR="c";Cl.MESSAGE="d";st.prototype.listen=st.prototype.O;Ue.prototype.listenOnce=Ue.prototype.P;Ue.prototype.getLastError=Ue.prototype.Sa;Ue.prototype.getLastErrorCode=Ue.prototype.Ia;Ue.prototype.getStatus=Ue.prototype.da;Ue.prototype.getResponseJson=Ue.prototype.Wa;Ue.prototype.getResponseText=Ue.prototype.ja;Ue.prototype.send=Ue.prototype.ha;Ue.prototype.setWithCredentials=Ue.prototype.Oa;An.prototype.digest=An.prototype.l;An.prototype.reset=An.prototype.reset;An.prototype.update=An.prototype.j;Ie.prototype.add=Ie.prototype.add;Ie.prototype.multiply=Ie.prototype.R;Ie.prototype.modulo=Ie.prototype.gb;Ie.prototype.compare=Ie.prototype.X;Ie.prototype.toNumber=Ie.prototype.ea;Ie.prototype.toString=Ie.prototype.toString;Ie.prototype.getBits=Ie.prototype.D;Ie.fromNumber=fr;Ie.fromString=_N;var vN=Rn.createWebChannelTransport=function(){return new Vf},wN=Rn.getStatEventTarget=function(){return Wf()},np=Rn.ErrorCode=Kf,EN=Rn.EventType=kM,IN=Rn.Event=Ss,RE=Rn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zie=Rn.FetchXmlHttpFactory=Al,Ml=Rn.WebChannel=FM,bN=Rn.XhrIo=Ue,DN=Rn.Md5=An,As=Rn.Integer=Ie;var CN="@firebase/firestore";var at=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};at.UNAUTHENTICATED=new at(null),at.GOOGLE_CREDENTIALS=new at("google-credentials-uid"),at.FIRST_PARTY=new at("first-party-uid"),at.MOCK_USER=new at("mock-user");var Sa="10.7.2";var Os=new wi("@firebase/firestore");function Nl(){return Os.logLevel}function x(t,...e){if(Os.logLevel<=le.DEBUG){let n=e.map(gb);Os.debug(`Firestore (${Sa}): ${t}`,...n)}}function _r(t,...e){if(Os.logLevel<=le.ERROR){let n=e.map(gb);Os.error(`Firestore (${Sa}): ${t}`,...n)}}function ma(t,...e){if(Os.logLevel<=le.WARN){let n=e.map(gb);Os.warn(`Firestore (${Sa}): ${t}`,...n)}}function gb(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t="Unexpected state"){let e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+t;throw _r(e),new Error(e)}function Re(t,e){t||q()}function ne(t,e){return t}var v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=class extends qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ap=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},kE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(at.UNAUTHENTICATED))}shutdown(){}},FE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},LE=class{constructor(e){this.t=e,this.currentUser=at.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>m(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new ap(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new at(e)}},VE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=at.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},jE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new VE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(at.FIRST_PARTY))}shutdown(){}invalidateToken(){}},BE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},UE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,x("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new BE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function Y4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var cp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Y4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ve(t,e){return t<e?-1:t>e?1:0}function ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ft=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ft(0,0))}static max(){return new t(new ft(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&q(),r===void 0?r=e.length-n:r>e.length-n&&q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Le=class t extends lp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new A(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class t extends lp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Z4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new A(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new A(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new A(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var L=class t{constructor(e){this.path=e}static fromPath(e){return new t(Le.fromString(e))}static fromName(e){return new t(Le.fromString(e).popFirst(5))}static empty(){return new t(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Le(e.slice()))}};var $E=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};$E.UNKNOWN_ID=-1;function X4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new ft(n+1,0):new ft(n,r));return new ks(i,L.empty(),e)}function J4(t){return new ks(t.readTime,t.key,-1)}var ks=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),L.empty(),-1)}static max(){return new t(te.max(),L.empty(),-1)}};function e3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}var t3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",HE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Jl(t){return m(this,null,function*(){if(t.code!==v.FAILED_PRECONDITION||t.message!==t3)throw t;x("LocalStore","Unexpectedly lost primary lease")})}var b=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var zE=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new mn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ps(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=yb(r.target.error);this.V.reject(new Ps(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Ps(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(x("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new GE(n)}},up=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Be())===12.2&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return x("SimpleDb","Removing database:",e),Rs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Xh())return!1;if(t.C())return!0;let e=Be(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return m(this,null,function*(){return this.db||(x("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Ps(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new A(v.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new A(v.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ps(e,o))},i.onupgradeneeded=s=>{x("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{x("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return m(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=zE.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),b.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(x("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},qE=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Rs(this.k.delete())}},Ps=class extends A{constructor(e,n){super(v.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function eu(t){return t.name==="IndexedDbTransactionError"}var GE=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(x("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(x("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rs(r)}add(e){return x("SimpleDb","ADD",this.store.name,e,e),Rs(this.store.add(e))}get(e){return Rs(this.store.get(e)).next(n=>(n===void 0&&(n=null),x("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return x("SimpleDb","DELETE",this.store.name,e),Rs(this.store.delete(e))}count(){return x("SimpleDb","COUNT",this.store.name),Rs(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new b((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new b((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){x("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new b((r,i)=>{n.onerror=s=>{let o=yb(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new b((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new qE(a),l=n(a.primaryKey,a.value,c);if(l instanceof b){let u=l.catch(d=>(c.done(),b.reject(d)));r.push(u)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>b.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Rs(t){return new b((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=yb(r.target.error);n(i)}})}var TN=!1;function yb(t){let e=up.S(Be());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new A("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TN||(TN=!0,setTimeout(()=>{throw r},0)),r}}return t}var rP=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Up(t){return t==null}function Vl(t){return t===0&&1/t==-1/0}function n3(t){return typeof t=="number"&&Number.isInteger(t)&&!Vl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var r3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ase=[...r3,"documentOverlays"],i3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],s3=i3,cse=[...s3,"indexConfiguration","indexState","indexEntries"];function SN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function $s(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function iP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ha(this.root,e,this.comparator,!0)}},ha=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var It=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dp(this.data.getIterator())}getIteratorFrom(e){return new dp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},dp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new t([])}unionWith(e){let n=new It(Kt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var hp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Pt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Pt.EMPTY_BYTE_STRING=new Pt("");var o3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(Re(!!t),typeof t=="string"){let e=0,n=o3.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ni(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}function _b(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vb(t){let e=t.mapValue.fields.__previous_value__;return _b(e)?vb(e):e}function jl(t){let e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new ft(e.seconds,e.nanos)}var WE=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},fp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var rp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_b(t)?4:sP(t)?9007199254740991:10:q()}function vr(t,e){if(t===e)return!0;let n=Fs(t);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jl(t).isEqual(jl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Mi(i.timestampValue),a=Mi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ni(i.bytesValue).isEqual(Ni(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return $e(i.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(i.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return $e(i.integerValue)===$e(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=$e(i.doubleValue),a=$e(s.doubleValue);return o===a?Vl(o)===Vl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ga(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(SN(o)!==SN(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!vr(o[c],a[c])))return!1;return!0}(t,e);default:return q()}}function Bl(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function ya(t,e){if(t===e)return 0;let n=Fs(t),r=Fs(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=$e(s.integerValue||s.doubleValue),c=$e(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return AN(t.timestampValue,e.timestampValue);case 4:return AN(jl(t),jl(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ni(s),c=Ni(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=ve(a[l],c[l]);if(u!==0)return u}return ve(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ve($e(s.latitude),$e(o.latitude));return a!==0?a:ve($e(s.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=ya(a[l],c[l]);if(u)return u}return ve(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===rp.mapValue&&o===rp.mapValue)return 0;if(s===rp.mapValue)return 1;if(o===rp.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let h=ve(c[d],u[d]);if(h!==0)return h;let f=ya(a[c[d]],l[u[d]]);if(f!==0)return f}return ve(c.length,u.length)}(t.mapValue,e.mapValue);default:throw q()}}function AN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);let n=Mi(t),r=Mi(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function _a(t){return KE(t)}function KE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return L.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=KE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${KE(n.fields[o])}`;return i+"}"}(t.mapValue):q()}function RN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function QE(t){return!!t&&"integerValue"in t}function wb(t){return!!t&&"arrayValue"in t}function xN(t){return!!t&&"nullValue"in t}function MN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sp(t){return!!t&&"mapValue"in t}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return $s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Wt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ol(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){$s(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Ol(this.value))}};function oP(t){let e=[];return $s(t.fields,(n,r)=>{let i=new Kt([n]);if(sp(r)){let s=oP(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}var xn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var va=class{constructor(e,n){this.position=e,this.inclusive=n}};function NN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=L.comparator(L.fromName(o.referenceValue),n.key):r=ya(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}var Ls=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function a3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var pp=class{},Ze=class t extends pp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZE(e,n,r):n==="array-contains"?new eI(e,r):n==="in"?new tI(e,r):n==="not-in"?new nI(e,r):n==="array-contains-any"?new rI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XE(e,r):new JE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ya(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Mn=class t extends pp{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return aP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function aP(t){return t.op==="and"}function cP(t){return c3(t)&&aP(t)}function c3(t){for(let e of t.filters)if(e instanceof Mn)return!1;return!0}function YE(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+_a(t.value);if(cP(t))return t.filters.map(e=>YE(e)).join(",");{let e=t.filters.map(n=>YE(n)).join(",");return`${t.op}(${e})`}}function lP(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&vr(r.value,i.value)}(t,e):t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&lP(o,i.filters[a]),!0):!1}(t,e):void q()}function uP(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${_a(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(uP).join(" ,")+"}"}(t):"Filter"}var ZE=class extends Ze{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){let n=L.comparator(e.key,this.key);return this.matchesComparison(n)}},XE=class extends Ze{constructor(e,n){super(e,"in",n),this.keys=dP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},JE=class extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=dP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function dP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}var eI=class extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return wb(n)&&Bl(n.arrayValue,this.value)}},tI=class extends Ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}},nI=class extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Bl(this.value.arrayValue,n)}},rI=class extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!wb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bl(this.value.arrayValue,r))}};var iI=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function ON(t,e=null,n=[],r=[],i=null,s=null,o=null){return new iI(t,e,n,r,i,s,o)}function Eb(t){let e=ne(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>YE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Up(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_a(r)).join(",")),e.ce=n}return e.ce}function Ib(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!a3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PN(t.startAt,e.startAt)&&PN(t.endAt,e.endAt)}function sI(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Pi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function l3(t,e,n,r,i,s,o,a){return new Pi(t,e,n,r,i,s,o,a)}function $p(t){return new Pi(t)}function kN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hP(t){return t.collectionGroup!==null}function kl(t){let e=ne(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It(Kt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ls(s,r))}),n.has(Kt.keyField().canonicalString())||e.le.push(new Ls(Kt.keyField(),r))}return e.le}function gr(t){let e=ne(t);return e.he||(e.he=u3(e,kl(t))),e.he}function u3(t,e){if(t.limitType==="F")return ON(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ls(i.field,s)});let n=t.endAt?new va(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new va(t.startAt.position,t.startAt.inclusive):null;return ON(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function oI(t,e){let n=t.filters.concat([e]);return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mp(t,e,n){return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hp(t,e){return Ib(gr(t),gr(e))&&t.limitType===e.limitType}function fP(t){return`${Eb(gr(t))}|lt:${t.limitType}`}function la(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uP(i)).join(", ")}]`),Up(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>_a(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>_a(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function zp(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):L.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of kl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=NN(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,kl(r),i)||r.endAt&&!function(o,a,c){let l=NN(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,kl(r),i))}(t,e)}function d3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pP(t){return(e,n)=>{let r=!1;for(let i of kl(t)){let s=h3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function h3(t,e,n){let r=t.field.isKeyField()?L.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?ya(c,l):q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return q()}}var Oi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$s(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return iP(this.inner)}size(){return this.innerSize}};var f3=new He(L.comparator);function $r(){return f3}var mP=new He(L.comparator);function Pl(...t){let e=mP;for(let n of t)e=e.insert(n.key,n);return e}function gP(t){let e=mP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return Fl()}function yP(){return Fl()}function Fl(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}var p3=new He(L.comparator),m3=new It(L.comparator);function ue(...t){let e=m3;for(let n of t)e=e.add(n);return e}var g3=new It(ve);function y3(){return g3}function _P(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vl(e)?"-0":e}}function vP(t){return{integerValue:""+t}}function _3(t,e){return n3(e)?vP(e):_P(t,e)}var wa=class{constructor(){this._=void 0}};function v3(t,e,n){return t instanceof Ea?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&_b(s)&&(s=vb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Vs?EP(t,e):t instanceof js?IP(t,e):function(i,s){let o=wP(i,s),a=FN(o)+FN(i.Ie);return QE(o)&&QE(i.Ie)?vP(a):_P(i.serializer,a)}(t,e)}function w3(t,e,n){return t instanceof Vs?EP(t,e):t instanceof js?IP(t,e):n}function wP(t,e){return t instanceof Ia?function(r){return QE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ea=class extends wa{},Vs=class extends wa{constructor(e){super(),this.elements=e}};function EP(t,e){let n=bP(e);for(let r of t.elements)n.some(i=>vr(i,r))||n.push(r);return{arrayValue:{values:n}}}var js=class extends wa{constructor(e){super(),this.elements=e}};function IP(t,e){let n=bP(e);for(let r of t.elements)n=n.filter(i=>!vr(i,r));return{arrayValue:{values:n}}}var Ia=class extends wa{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function FN(t){return $e(t.integerValue||t.doubleValue)}function bP(t){return wb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vs&&i instanceof Vs||r instanceof js&&i instanceof js?ga(r.elements,i.elements,vr):r instanceof Ia&&i instanceof Ia?vr(r.Ie,i.Ie):r instanceof Ea&&i instanceof Ea}(t.transform,e.transform)}var aI=class{constructor(e,n){this.version=e,this.transformResults=n}},Qt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ba=class{};function DP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Da(t.key,Qt.none()):new Bs(t.key,t.data,Qt.none());{let n=t.data,r=Wt.empty(),i=new It(Kt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wr(t.key,r,new pn(i.toArray()),Qt.none())}}function I3(t,e,n){t instanceof Bs?function(i,s,o){let a=i.value.clone(),c=VN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wr?function(i,s,o){if(!op(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=VN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(CP(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ll(t,e,n,r){return t instanceof Bs?function(s,o,a,c){if(!op(s.precondition,o))return a;let l=s.value.clone(),u=jN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof wr?function(s,o,a,c){if(!op(s.precondition,o))return a;let l=jN(s.fieldTransforms,c,o),u=o.data;return u.setAll(CP(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return op(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function b3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=wP(r.transform,i||null);s!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function LN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ga(r,i,(s,o)=>E3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Bs=class extends ba{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},wr=class extends ba{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function CP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function VN(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,w3(o,a,n[i]))}return r}function jN(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,v3(s,o,e))}return r}var Da=class extends ba{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},cI=class extends ba{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var lI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&I3(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ll(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ll(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=yP();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=DP(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&ga(this.mutations,e.mutations,(n,r)=>LN(n,r))&&ga(this.baseMutations,e.baseMutations,(n,r)=>LN(n,r))}},uI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return p3}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var dI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var hI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Qe,he;function D3(t){switch(t){default:return q();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function TP(t){if(t===void 0)return _r("GRPC error has no .code"),v.UNKNOWN;switch(t){case Qe.OK:return v.OK;case Qe.CANCELLED:return v.CANCELLED;case Qe.UNKNOWN:return v.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return v.INTERNAL;case Qe.UNAVAILABLE:return v.UNAVAILABLE;case Qe.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Qe.NOT_FOUND:return v.NOT_FOUND;case Qe.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Qe.ABORTED:return v.ABORTED;case Qe.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Qe.DATA_LOSS:return v.DATA_LOSS;default:return q()}}(he=Qe||(Qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var BN=null;function C3(){return new TextEncoder}var T3=new As([4294967295,4294967295],0);function UN(t){let e=C3().encode(t),n=new DN;return n.update(e),new Uint8Array(n.digest())}function $N(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new As([n,r],0),new As([i,s],0)]}var fI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ms(`Invalid padding: ${n}`);if(r<0)throw new Ms(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ms(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ms(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=As.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(As.fromNumber(r)));return i.compare(T3)===1&&(i=new As([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=UN(e),[r,i]=$N(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=UN(e),[r,i]=$N(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ms=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gp=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ul.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new He(ve),$r(),ue())}},Ul=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var fa=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},yp=class{constructor(e,n){this.targetId=e,this.fe=n}},_p=class{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},vp=class{constructor(){this.ge=0,this.pe=zN(),this.ye=Pt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ue(),n=ue(),r=ue();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:q()}}),new Ul(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=zN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Re(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},pI=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=$r(),this.Qe=HN(),this.Ke=new He(ve)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(sI(s))if(r===0){let o=new L(s.path);this.We(n,o,xn.newNoDocument(o,te.min()))}else Re(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}BN?.tt(function(u,d,h,f,p){var g,_,E,M,V,j;let _e={localCacheCount:u,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},oe=d.unchangedNames;return oe&&(_e.bloomFilter={applied:p===0,hashCount:(g=oe?.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(M=(E=(_=oe?.bits)===null||_===void 0?void 0:_.bitmap)===null||E===void 0?void 0:E.length)!==null&&M!==void 0?M:0,padding:(j=(V=oe?.bits)===null||V===void 0?void 0:V.padding)!==null&&j!==void 0?j:0,mightContain:Ee=>{var Pe;return(Pe=f?.mightContain(Ee))!==null&&Pe!==void 0&&Pe}}),_e}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Ni(r).toUint8Array()}catch(c){if(c instanceof hp)return ma("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new fI(o,i,s)}catch(c){return ma(c instanceof Ms?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&sI(a.target)){let c=new L(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,xn.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ue();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new gp(e,n,this.Ke,this.qe,r);return this.qe=$r(),this.Qe=HN(),this.Ke=new He(ve),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new vp,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new It(ve),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||x("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new vp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function HN(){return new He(L.comparator)}function zN(){return new He(L.comparator)}var S3={asc:"ASCENDING",desc:"DESCENDING"},A3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R3={and:"AND",or:"OR"},mI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function gI(t,e){return t.useProto3Json||Up(e)?e:{value:e}}function wp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function x3(t,e){return wp(t,e.toTimestamp())}function yr(t){return Re(!!t),te.fromTimestamp(function(n){let r=Mi(n);return new ft(r.seconds,r.nanos)}(t))}function bb(t,e){return yI(t,e).canonicalString()}function yI(t,e){let n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function AP(t){let e=Le.fromString(t);return Re(PP(e)),e}function _I(t,e){return bb(t.databaseId,e.path)}function xE(t,e){let n=AP(e);if(n.get(1)!==t.databaseId.projectId)throw new A(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(xP(n))}function RP(t,e){return bb(t.databaseId,e)}function M3(t){let e=AP(t);return e.length===4?Le.emptyPath():xP(e)}function vI(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xP(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qN(t,e,n){return{name:_I(t,e),fields:n.value.mapValue.fields}}function N3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Re(u===void 0||typeof u=="string"),Pt.fromBase64String(u||"")):(Re(u===void 0||u instanceof Uint8Array),Pt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?v.UNKNOWN:TP(l.code);return new A(u,l.message||"")}(o);n=new _p(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=xE(t,r.document.name),s=yr(r.document.updateTime),o=r.document.createTime?yr(r.document.createTime):te.min(),a=new Wt({mapValue:{fields:r.document.fields}}),c=xn.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new fa(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=xE(t,r.document),s=r.readTime?yr(r.readTime):te.min(),o=xn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new fa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=xE(t,r.document),s=r.removedTargetIds||[];n=new fa([],s,i,null)}else{if(!("filter"in e))return q();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new hI(i,s),a=r.targetId;n=new yp(a,o)}}return n}function P3(t,e){let n;if(e instanceof Bs)n={update:qN(t,e.key,e.value)};else if(e instanceof Da)n={delete:_I(t,e.key)};else if(e instanceof wr)n={update:qN(t,e.key,e.data),updateMask:$3(e.fieldMask)};else{if(!(e instanceof cI))return q();n={verify:_I(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ea)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof js)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ia)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:x3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q()}(t,e.precondition)),n}function O3(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?yr(i.updateTime):yr(s);return o.isEqual(te.min())&&(o=yr(s)),new aI(o,i.transformResults||[])}(n,e))):[]}function k3(t,e){return{documents:[RP(t,e.path)]}}function F3(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RP(t,i);let s=function(l){if(l.length!==0)return NP(Mn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:ua(h.field),direction:j3(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=gI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:i}}function L3(t){let e=M3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let h=MP(d);return h instanceof Mn&&cP(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new Ls(da(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Up(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new va(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let h=!d.before,f=d.values||[];return new va(f,h)}(n.endAt)),l3(e,i,o,s,a,"F",c,l)}function V3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=da(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=da(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=da(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=da(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(da(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>MP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function j3(t){return S3[t]}function B3(t){return A3[t]}function U3(t){return R3[t]}function ua(t){return{fieldPath:t.canonicalString()}}function da(t){return Kt.fromServerFormat(t.fieldPath)}function NP(t){return t instanceof Ze?function(n){if(n.op==="=="){if(MN(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(xN(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MN(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(xN(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:B3(n.op),value:n.value}}}(t):t instanceof Mn?function(n){let r=n.getFilters().map(i=>NP(i));return r.length===1?r[0]:{compositeFilter:{op:U3(n.op),filters:r}}}(t):q()}function $3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var $l=class t{constructor(e,n,r,i,s=te.min(),o=te.min(),a=Pt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var wI=class{constructor(e){this.ct=e}};function H3(t){let e=L3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mp(e,e.limit,"L"):e}var Ep=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt($e(e.integerValue));else if("doubleValue"in e){let r=$e(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Vl(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ni(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?sP(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):q()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),L.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Ep.bt=new Ep;var EI=class{constructor(){this._n=new II}addToCollectionParentIndex(e,n){return this._n.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(ks.min())}updateCollectionGroup(e,n,r){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}},II=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Le.comparator)).toArray()}};var use=new Uint8Array(0);var pr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(41943040,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);var Hl=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var bI=class{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?b.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var DI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var CI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ll(r.mutation,i,pn.empty(),ft.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Pl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=$r(),o=Fl(),a=function(){return Fl()}();return n.forEach((c,l)=>{let u=r.get(l.key);i.has(l.key)&&(u===void 0||u.mutation instanceof wr)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Ll(u.mutation,l,u.mutation.getFieldMask(),ft.now())):o.set(l.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new DI(u,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Fl(),i=new He((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=r.get(c)||pn.empty();u=a.applyToLocalView(l,u),r.set(c,u);let d=(i.get(a.batchId)||ue()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=yP();u.forEach(h=>{if(!s.has(h)){let f=DP(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return b.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return L.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):b.resolve(xs()),a=-1,c=s;return o.next(l=>b.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,ue())).next(u=>({batchId:a,changes:gP(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let i=Pl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Pl();return this.indexManager.getCollectionParents(e,s).next(a=>b.forEach(a,c=>{let l=function(d,h){return new Pi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,xn.newInvalidDocument(u)))});let a=Pl();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&Ll(u.mutation,l,pn.empty(),ft.now()),zp(n,l)&&(a=a.insert(c,l))}),a})}};var TI=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:H3(i.bundledQuery),readTime:yr(i.readTime)}}(n)),b.resolve()}};var SI=class{constructor(){this.overlays=new He(L.comparator),this.hr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){let r=xs();return b.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),b.resolve()}getOverlaysForCollection(e,n,r){let i=xs(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return b.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=s.get(l.largestBatchId);u===null&&(u=xs(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=xs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=i)););return b.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new dI(n,r));let s=this.hr.get(n);s===void 0&&(s=ue(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var zl=class{constructor(){this.Pr=new It(Ye.Ir),this.Tr=new It(Ye.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ye(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ye(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new L(new Le([])),r=new Ye(n,e),i=new Ye(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new L(new Le([])),r=new Ye(n,e),i=new Ye(n,e+1),s=ue();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ye(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ye=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return L.comparator(e.key,n.key)||ve(e.pr,n.pr)}static Er(e,n){return ve(e.pr,n.pr)||L.comparator(e.key,n.key)}};var AI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new It(Ye.Ir)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new lI(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ye(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ye(n,0),i=new Ye(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(ve);return n.forEach(i=>{let s=new Ye(i,0),o=new Ye(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),b.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;L.isDocumentKey(s)||(s=s.child(""));let o=new Ye(new L(s),0),a=new It(ve);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},o),b.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return b.forEach(n.mutations,i=>{let s=new Ye(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ye(n,0),i=this.wr.firstAfterOrEqual(r);return b.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var RI=class{constructor(e){this.vr=e,this.docs=function(){return new He(L.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return b.resolve(r?r.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let r=$r();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xn.newInvalidDocument(i))}),b.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=$r(),o=n.path,a=new L(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||e3(J4(u),r)<=0||(i.has(u.key)||zp(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,r,i){q()}Fr(e,n){return b.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xI(this)}getSize(e){return b.resolve(this.size)}},xI=class extends bI{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),b.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var MI=class{constructor(e){this.persistence=e,this.Mr=new Oi(n=>Eb(n),Ib),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new zl,this.targetCount=0,this.Br=Hl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),b.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.qn(n),b.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),b.waitFor(s).next(()=>i)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return b.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),b.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return b.resolve(r)}containsKey(e,n){return b.resolve(this.Nr.containsKey(n))}};var NI=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new rP(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new MI(this),this.indexManager=new EI,this.remoteDocumentCache=function(i){return new RI(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new wI(n),this.$r=new TI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new AI(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){x("MemoryPersistence","Starting transaction:",e);let i=new PI(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return b.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},PI=class extends HE{constructor(e){super(),this.currentSequenceNumber=e}},OI=class t{constructor(e){this.persistence=e,this.zr=new zl,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw q()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),b.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,r=>{let i=L.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var kI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ue(),i=ue();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var FI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var LI=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return qR()?8:up.v(Be())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new FI;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Nl()<=le.DEBUG&&x("QueryEngine","SDK will not create cache indexes for query:",la(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(Nl()<=le.DEBUG&&x("QueryEngine","Query:",la(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Nl()<=le.DEBUG&&x("QueryEngine","The SDK decides to create cache indexes for query:",la(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):b.resolve())}ji(e,n){if(kN(n))return b.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mp(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ue(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,mp(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,i){return kN(n)||i.isEqual(te.min())?b.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?b.resolve(null):(Nl()<=le.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),la(n)),this.es(e,o,n,X4(i,-1)).next(a=>a))})}Zi(e,n){let r=new It(pP(e));return n.forEach((i,s)=>{zp(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Nl()<=le.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",la(n)),this.zi.getDocumentsMatchingQuery(e,n,ks.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var VI=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new He(ve),this.rs=new Oi(s=>Eb(s),Ib),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CI(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function z3(t,e,n,r){return new VI(t,e,n,r)}function OP(t,e){return m(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=ue();for(let l of i){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function q3(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,h=d.keys(),f=b.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(c,p)).next(g=>{let _=l.docVersions.get(p);Re(_!==null),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kP(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function G3(t,e){let n=ne(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((u,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Pt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),function(g,_,E){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,f,u)&&a.push(n.Qr.updateTargetData(s,f))});let c=$r(),l=ue();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(W3(s,o,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!r.isEqual(te.min())){let u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=i,s))}function W3(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=$r();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:i}})}function K3(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q3(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,b.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new $l(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function jI(t,e,n){return m(this,null,function*(){let r=ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!eu(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function GN(t,e,n){let r=ne(t),i=te.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let d=ne(c),h=d.rs.get(u);return h!==void 0?b.resolve(d.ns.get(h)):d.Qr.getTargetData(l,u)}(r,o,gr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ue())).next(a=>(Y3(r,d3(e),a),{documents:a,hs:s})))}function Y3(t,e,n){let r=t.ss.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Ip=class{constructor(){this.activeTargetIds=y3()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var BI=class{constructor(){this.no=new Ip,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Ip,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var UI=class{io(e){}shutdown(){}};var bp=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ip=null;function ME(){return ip===null?ip=function(){return 268435456+Math.round(2147483648*Math.random())}():ip++,"0x"+ip.toString(16)}var Z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var $I=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var Et="WebChannelConnection",HI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=ME(),c=this.bo(n,r.toUriEncodedString());x("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,c,l,i).then(u=>(x("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ma("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",i),u})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=Z3[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=ME();return new Promise((o,a)=>{let c=new bN;c.setWithCredentials(!0),c.listenOnce(EN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case np.NO_ERROR:let u=c.getResponseJson();x(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case np.TIMEOUT:x(Et,`RPC '${e}' ${s} timed out`),a(new A(v.DEADLINE_EXCEEDED,"Request time out"));break;case np.HTTP_ERROR:let d=c.getStatus();if(x(Et,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let p=function(_){let E=_.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(E)>=0?E:v.UNKNOWN}(f.status);a(new A(p,f.message))}else a(new A(v.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new A(v.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{x(Et,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);x(Et,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Fo(e,n,r){let i=ME(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vN(),a=wN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let u=s.join("");x(Et,`Creating RPC '${e}' stream ${i}: ${u}`,c);let d=o.createWebChannel(u,c),h=!1,f=!1,p=new $I({lo:_=>{f?x(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(x(Et,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),x(Et,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),g=(_,E,M)=>{_.listen(E,V=>{try{M(V)}catch(j){setTimeout(()=>{throw j},0)}})};return g(d,Ml.EventType.OPEN,()=>{f||x(Et,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Ml.EventType.CLOSE,()=>{f||(f=!0,x(Et,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,Ml.EventType.ERROR,_=>{f||(f=!0,ma(Et,`RPC '${e}' stream ${i} transport errored:`,_),p.Vo(new A(v.UNAVAILABLE,"The operation could not be completed")))}),g(d,Ml.EventType.MESSAGE,_=>{var E;if(!f){let M=_.data[0];Re(!!M);let V=M,j=V.error||((E=V[0])===null||E===void 0?void 0:E.error);if(j){x(Et,`RPC '${e}' stream ${i} received error:`,j);let _e=j.status,oe=function(Dt){let vn=Qe[Dt];if(vn!==void 0)return TP(vn)}(_e),Ee=j.message;oe===void 0&&(oe=v.INTERNAL,Ee="Unknown error status: "+_e+" with message "+j.message),f=!0,p.Vo(new A(oe,Ee)),d.close()}else x(Et,`RPC '${e}' stream ${i} received:`,M),p.mo(M)}}),g(a,IN.STAT_EVENT,_=>{_.stat===RE.PROXY?x(Et,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===RE.NOPROXY&&x(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}};function NE(){return typeof document<"u"?document:null}function qp(t){return new mI(t,!0)}var Dp=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&x("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Cp=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Dp(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return m(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return m(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return m(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new A(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>m(this,null,function*(){this.state=0,this.start()}))}__(e){return x("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},zI=class extends Cp{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=N3(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?yr(o.readTime):te.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=vI(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=sI(c)?{documents:k3(s,c)}:{query:F3(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=SP(s,o.resumeToken);let l=gI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=wp(s,o.snapshotVersion.toTimestamp());let l=gI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=V3(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=vI(this.serializer),n.removeTarget=e,this.t_(n)}},qI=class extends Cp{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=O3(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.T_(r,n)}return Re(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=vI(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>P3(this.serializer,r))};this.t_(n)}};var GI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new A(v.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,yI(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(v.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,yI(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new A(v.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var WI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(_r(n),this.g_=!1):x("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var KI=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>m(this,null,function*(){Hs(this)&&(x("RemoteStore","Restarting streams for network reachability change."),yield function(c){return m(this,null,function*(){let l=ne(c);l.v_.add(4),yield tu(l),l.x_.set("Unknown"),l.v_.delete(4),yield Gp(l)})}(this))}))}),this.x_=new WI(r,i)}};function Gp(t){return m(this,null,function*(){if(Hs(t))for(let e of t.F_)yield e(!0)})}function tu(t){return m(this,null,function*(){for(let e of t.F_)yield e(!1)})}function FP(t,e){let n=ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Tb(n)?Cb(n):Aa(n).Jo()&&Db(n,e))}function LP(t,e){let n=ne(t),r=Aa(n);n.C_.delete(e),r.Jo()&&VP(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Hs(n)&&n.x_.set("Unknown"))}function Db(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Aa(t).c_(e)}function VP(t,e){t.O_.Oe(e),Aa(t).l_(e)}function Cb(t){t.O_=new pI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Aa(t).start(),t.x_.p_()}function Tb(t){return Hs(t)&&!Aa(t).Ho()&&t.C_.size>0}function Hs(t){return ne(t).v_.size===0}function jP(t){t.O_=void 0}function X3(t){return m(this,null,function*(){t.C_.forEach((e,n)=>{Db(t,e)})})}function J3(t,e){return m(this,null,function*(){jP(t),Tb(t)?(t.x_.S_(e),Cb(t)):t.x_.set("Unknown")})}function e9(t,e,n){return m(this,null,function*(){if(t.x_.set("Online"),e instanceof _p&&e.state===2&&e.cause)try{yield function(i,s){return m(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Tp(t,r)}else if(e instanceof fa?t.O_.$e(e):e instanceof yp?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(te.min()))try{let r=yield kP(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.C_.get(l);u&&s.C_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.C_.get(c);if(!u)return;s.C_.set(c,u.withResumeToken(Pt.EMPTY_BYTE_STRING,u.snapshotVersion)),VP(s,c);let d=new $l(u.target,c,l,u.sequenceNumber);Db(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){x("RemoteStore","Failed to raise snapshot:",r),yield Tp(t,r)}})}function Tp(t,e,n){return m(this,null,function*(){if(!eu(e))throw e;t.v_.add(1),yield tu(t),t.x_.set("Offline"),n||(n=()=>kP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>m(this,null,function*(){x("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Gp(t)}))})}function BP(t,e){return e().catch(n=>Tp(t,n,e))}function Wp(t){return m(this,null,function*(){let e=ne(t),n=ki(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;t9(e);)try{let i=yield K3(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,n9(e,i)}catch(i){yield Tp(e,i)}UP(e)&&$P(e)})}function t9(t){return Hs(t)&&t.D_.length<10}function n9(t,e){t.D_.push(e);let n=ki(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function UP(t){return Hs(t)&&!ki(t).Ho()&&t.D_.length>0}function $P(t){ki(t).start()}function r9(t){return m(this,null,function*(){ki(t).d_()})}function i9(t){return m(this,null,function*(){let e=ki(t);for(let n of t.D_)e.I_(n.mutations)})}function s9(t,e,n){return m(this,null,function*(){let r=t.D_.shift(),i=uI.from(r,e,n);yield BP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Wp(t)})}function o9(t,e){return m(this,null,function*(){e&&ki(t).P_&&(yield function(r,i){return m(this,null,function*(){if(function(o){return D3(o)&&o!==v.ABORTED}(i.code)){let s=r.D_.shift();ki(r).Zo(),yield BP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Wp(r)}})}(t,e)),UP(t)&&$P(t)})}function WN(t,e){return m(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");let r=Hs(n);n.v_.add(3),yield tu(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Gp(n)})}function a9(t,e){return m(this,null,function*(){let n=ne(t);e?(n.v_.delete(2),yield Gp(n)):e||(n.v_.add(2),yield tu(n),n.x_.set("Unknown"))})}function Aa(t){return t.N_||(t.N_=function(n,r,i){let s=ne(n);return s.R_(),new zI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:X3.bind(null,t),To:J3.bind(null,t),u_:e9.bind(null,t)}),t.F_.push(e=>m(this,null,function*(){e?(t.N_.Zo(),Tb(t)?Cb(t):t.x_.set("Unknown")):(yield t.N_.stop(),jP(t))}))),t.N_}function ki(t){return t.B_||(t.B_=function(n,r,i){let s=ne(n);return s.R_(),new qI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:r9.bind(null,t),To:o9.bind(null,t),E_:i9.bind(null,t),T_:s9.bind(null,t)}),t.F_.push(e=>m(this,null,function*(){e?(t.B_.Zo(),yield Wp(t)):(yield t.B_.stop(),t.D_.length>0&&(x("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var QI=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new A(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Sb(t,e){if(_r("AsyncQueue",`${e}: ${t}`),eu(t))return new A(v.UNAVAILABLE,`${e}: ${t}`);throw t}var Sp=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=Pl(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ap=class{constructor(){this.L_=new He(L.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):q():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},Ca=class t{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Sp.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var YI=class{constructor(){this.q_=void 0,this.Q_=[]}},ZI=class{constructor(){this.queries=new Oi(e=>fP(e),Hp),this.onlineState="Unknown",this.K_=new Set}};function Ab(t,e){return m(this,null,function*(){let n=ne(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new YI),i)try{s.q_=yield n.onListen(r)}catch(o){let a=Sb(o,`Initialization of query '${la(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&xb(n)})}function Rb(t,e){return m(this,null,function*(){let n=ne(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function c9(t,e){let n=ne(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&xb(n)}function l9(t,e,n){let r=ne(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function xb(t){t.K_.forEach(e=>{e.next()})}var ql=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Rp=class{constructor(e){this.key=e}},xp=class{constructor(e){this.key=e}},XI=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ue(),this.mutatedKeys=ue(),this.ua=pP(e),this.ca=new Sp(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new Ap,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{let h=i.get(u),f=zp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),_=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),_=!0,(c&&this.ua(f,c)>0||l&&this.ua(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(c||l)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((u,d)=>function(f,p){let g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return g(f)-g(p)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,l=c!==this._a;return this._a=c,o.length!==0||l?{snapshot:new Ca(this.query,e.ca,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Ap,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=ue(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new xp(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Rp(r))}),n}Ra(e){this.oa=e.hs,this.aa=ue();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ca.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},JI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},eb=class{constructor(e){this.key=e,this.ma=!1}},tb=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Oi(a=>fP(a),Hp),this.pa=new Map,this.ya=new Set,this.wa=new He(L.comparator),this.Sa=new Map,this.ba=new zl,this.Da={},this.Ca=new Map,this.va=Hl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function u9(t,e){return m(this,null,function*(){let n=w9(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield Q3(n.localStore,gr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield d9(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&FP(n.remoteStore,o)}return i})}function d9(t,e,n,r,i){return m(this,null,function*(){t.Ma=(d,h,f)=>function(g,_,E,M){return m(this,null,function*(){let V=_.view.ha(E);V.Xi&&(V=yield GN(g.localStore,_.query,!1).then(({documents:Ee})=>_.view.ha(Ee,V)));let j=M&&M.targetChanges.get(_.targetId),_e=M&&M.targetMismatches.get(_.targetId)!=null,oe=_.view.applyChanges(V,g.isPrimaryClient,j,_e);return QN(g,_.targetId,oe.da),oe.snapshot})}(t,d,h,f);let s=yield GN(t.localStore,e,!0),o=new XI(e,s.hs),a=o.ha(s.documents),c=Ul.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);QN(t,n,l.da);let u=new JI(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot})}function h9(t,e){return m(this,null,function*(){let n=ne(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Hp(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield jI(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),LP(n.remoteStore,r.targetId),nb(n,r.targetId)}).catch(Jl))):(nb(n,r.targetId),yield jI(n.localStore,r.targetId,!0))})}function f9(t,e,n){return m(this,null,function*(){let r=E9(t);try{let i=yield function(o,a){let c=ne(o),l=ft.now(),u=a.reduce((f,p)=>f.add(p.key),ue()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=$r(),g=ue();return c.os.getEntries(f,u).next(_=>{p=_,p.forEach((E,M)=>{M.isValidDocument()||(g=g.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,p)).next(_=>{d=_;let E=[];for(let M of a){let V=b3(M,d.get(M.key).overlayedDocument);V!=null&&E.push(new wr(M.key,V,oP(V.value.mapValue),Qt.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,E,a)}).next(_=>{h=_;let E=_.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(f,_.batchId,E)})}).then(()=>({batchId:h.batchId,changes:gP(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.Da[o.currentUser.toKey()];l||(l=new He(ve)),l=l.insert(a,c),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),yield nu(r,i.changes),yield Wp(r.remoteStore)}catch(i){let s=Sb(i,"Failed to persist write");n.reject(s)}})}function HP(t,e){return m(this,null,function*(){let n=ne(t);try{let r=yield G3(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Re(o.ma):i.removedDocuments.size>0&&(Re(o.ma),o.ma=!1))}),yield nu(n,r,e)}catch(r){yield Jl(r)}})}function KN(t,e,n){let r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=ne(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let h of d.Q_)h.U_(a)&&(l=!0)}),l&&xb(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function p9(t,e,n){return m(this,null,function*(){let r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new He(L.comparator);o=o.insert(s,xn.newNoDocument(s,te.min()));let a=ue().add(s),c=new gp(te.min(),new Map,new He(ve),o,a);yield HP(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),Mb(r)}else yield jI(r.localStore,e,!1).then(()=>nb(r,e,n)).catch(Jl)})}function m9(t,e){return m(this,null,function*(){let n=ne(t),r=e.batch.batchId;try{let i=yield q3(n.localStore,e);qP(n,r,null),zP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield nu(n,i)}catch(i){yield Jl(i)}})}function g9(t,e,n){return m(this,null,function*(){let r=ne(t);try{let i=yield function(o,a){let c=ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Re(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);qP(r,e,n),zP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield nu(r,i)}catch(i){yield Jl(i)}})}function zP(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function qP(t,e,n){let r=ne(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function nb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||GP(t,r)})}function GP(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(LP(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Mb(t))}function QN(t,e,n){for(let r of n)r instanceof Rp?(t.ba.addReference(r.key,e),y9(t,r)):r instanceof xp?(x("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||GP(t,r.key)):q()}function y9(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(x("SyncEngine","New document in limbo: "+n),t.ya.add(r),Mb(t))}function Mb(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new L(Le.fromString(e)),r=t.va.next();t.Sa.set(r,new eb(n)),t.wa=t.wa.insert(n,r),FP(t.remoteStore,new $l(gr($p(n.path)),r,"TargetPurposeLimboResolution",rP._e))}}function nu(t,e,n){return m(this,null,function*(){let r=ne(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);let u=kI.Ki(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,l){return m(this,null,function*(){let u=ne(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(l,h=>b.forEach(h.qi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>b.forEach(h.Qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!eu(d))throw d;x("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let h=d.targetId;if(!d.fromCache){let f=u.ns.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);u.ns=u.ns.insert(h,g)}}})}(r.localStore,s))})}function _9(t,e){return m(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){x("SyncEngine","User change. New user:",e.toKey());let r=yield OP(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new A(v.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nu(n,r.us)}})}function v9(t,e){let n=ne(t),r=n.Sa.get(e);if(r&&r.ma)return ue().add(r.key);{let i=ue(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function w9(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p9.bind(null,e),e.fa.u_=c9.bind(null,e.eventManager),e.fa.xa=l9.bind(null,e.eventManager),e}function E9(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g9.bind(null,e),e}var Mp=class{constructor(){this.synchronizeTabs=!1}initialize(e){return m(this,null,function*(){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return z3(this.persistence,new LI,e.initialUser,this.serializer)}createPersistence(e){return new NI(OI.Hr,this.serializer)}createSharedClientState(e){return new BI}terminate(){return m(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var rb=class{initialize(e,n){return m(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_9.bind(null,this.syncEngine),yield a9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new ZI}()}createDatastore(e){let n=qp(e.databaseInfo.databaseId),r=function(s){return new HI(s)}(e.databaseInfo);return function(s,o,a,c){return new GI(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new KI(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>KN(this.syncEngine,n,0),function(){return bp.D()?new bp:new UI}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,u){let d=new tb(i,s,o,a,c,l);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return m(this,null,function*(){var e;yield function(r){return m(this,null,function*(){let i=ne(r);x("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield tu(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Gl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var ib=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=at.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>m(this,null,function*(){x("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(x("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Sb(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function PE(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>m(this,null,function*(){r.isEqual(i)||(yield OP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function YN(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield b9(t);x("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>WN(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>WN(e.remoteStore,i)),t._onlineComponents=e})}function I9(t){return t.name==="FirebaseError"?t.code===v.FAILED_PRECONDITION||t.code===v.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function b9(t){return m(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{yield PE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!I9(n))throw n;ma("Error using user provided cache. Falling back to memory cache: "+n),yield PE(t,new Mp)}}else x("FirestoreClient","Using default OfflineComponentProvider"),yield PE(t,new Mp);return t._offlineComponents})}function WP(t){return m(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),yield YN(t,t._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),yield YN(t,new rb))),t._onlineComponents})}function D9(t){return WP(t).then(e=>e.syncEngine)}function Np(t){return m(this,null,function*(){let e=yield WP(t),n=e.eventManager;return n.onListen=u9.bind(null,e.syncEngine),n.onUnlisten=h9.bind(null,e.syncEngine),n})}function C9(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(s,o,a,c,l){let u=new Gl({next:h=>{o.enqueueAndForget(()=>Rb(s,d));let f=h.docs.has(a);!f&&h.fromCache?l.reject(new A(v.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?l.reject(new A(v.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new ql($p(a.path),u,{includeMetadataChanges:!0,Z_:!0});return Ab(s,d)}(yield Np(t),t.asyncQueue,e,n,r)})),r.promise}function T9(t,e,n={}){let r=new mn;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(s,o,a,c,l){let u=new Gl({next:h=>{o.enqueueAndForget(()=>Rb(s,d)),h.fromCache&&c.source==="server"?l.reject(new A(v.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new ql(a,u,{includeMetadataChanges:!0,Z_:!0});return Ab(s,d)}(yield Np(t),t.asyncQueue,e,n,r)})),r.promise}function KP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var ZN=new Map;function QP(t,e,n){if(!n)throw new A(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function S9(t,e,n,r){if(e===!0&&r===!0)throw new A(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XN(t){if(!L.isDocumentKey(t))throw new A(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JN(t){if(L.isDocumentKey(t))throw new A(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Nt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Kp(t);throw new A(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function A9(t,e){if(e<=0)throw new A(v.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Pp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new A(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new A(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new A(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new A(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new A(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ta=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new A(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kE;switch(r.type){case"firstParty":return new jE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new A(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=ZN.get(n);r&&(x("ComponentProvider","Removing Datastore"),ZN.delete(n),r.terminate())}(this),Promise.resolve()}};function YP(t,e,n,r={}){var i;let s=(t=Nt(t,Ta))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=at.MOCK_USER;else{a=BR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new A(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new at(l)}t._authCredentials=new FE(new ap(a,c))}}var Hr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},xi=class t extends Hr{constructor(e,n,r){super(e,n,$p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new L(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ZP(t,e,...n){if(t=Fe(t),QP("collection","path",e),t instanceof Ta){let r=Le.fromString(e,...n);return JN(r),new xi(t,null,r)}{if(!(t instanceof bt||t instanceof xi))throw new A(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return JN(r),new xi(t.firestore,null,r)}}function Nb(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=cp.newId()),QP("doc","path",e),t instanceof Ta){let r=Le.fromString(e,...n);return XN(r),new bt(t,null,new L(r))}{if(!(t instanceof bt||t instanceof xi))throw new A(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return XN(r),new bt(t.firestore,t instanceof xi?t.converter:null,new L(r))}}var sb=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Dp(this,"async_queue_retry"),this._u=()=>{let n=NE();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=NE();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=NE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new mn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return m(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!eu(e))throw e;x("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw _r("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=QI.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&q()}verifyOperationInProgress(){}hu(){return m(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function eP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var gn=class extends Ta{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new sb}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JP(this),this._firestoreClient.terminate()}};function XP(t,e){let n=typeof t=="object"?t:Yo(),r=typeof t=="string"?t:e||"(default)",i=Jc(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=jR("firestore");s&&YP(i,...s)}return i}function ru(t){return t._firestoreClient||JP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JP(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,u){return new WE(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,KP(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new ib(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Wl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Pt.fromBase64String(e))}catch(n){throw new A(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Us=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new A(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Kl=class{constructor(e){this._methodName=e}};var Ql=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var R9=/^__.*__$/,ob=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bs(e,this.data,n,this.fieldTransforms)}},Op=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function eO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var ab=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Fp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(eO(this.du)&&R9.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},cb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qp(e)}Su(e,n,r,i=!1){return new ab({du:e,methodName:n,wu:r,path:Kt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function iu(t){let e=t._freezeSettings(),n=qp(t._databaseId);return new cb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pb(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);Ob("Data must be an object, but it was:",o,r);let a=rO(r,o),c,l;if(s.merge)c=new pn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let d of s.mergeFields){let h=lb(e,d,n);if(!o.contains(h))throw new A(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);sO(u,h)||u.push(h)}c=new pn(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new ob(new Wt(a),c,l)}var kp=class t extends Kl{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function tO(t,e,n,r){let i=t.Su(1,e,n);Ob("Data must be an object, but it was:",i,r);let s=[],o=Wt.empty();$s(r,(c,l)=>{let u=kb(e,c,n);l=Fe(l);let d=i.fu(u);if(l instanceof kp)s.push(u);else{let h=su(l,d);h!=null&&(s.push(u),o.set(u,h))}});let a=new pn(s);return new Op(o,a,i.fieldTransforms)}function nO(t,e,n,r,i,s){let o=t.Su(1,e,n),a=[lb(e,r,n)],c=[i];if(s.length%2!=0)throw new A(v.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(lb(e,s[h])),c.push(s[h+1]);let l=[],u=Wt.empty();for(let h=a.length-1;h>=0;--h)if(!sO(l,a[h])){let f=a[h],p=c[h];p=Fe(p);let g=o.fu(f);if(p instanceof kp)l.push(f);else{let _=su(p,g);_!=null&&(l.push(f),u.set(f,_))}}let d=new pn(l);return new Op(u,d,o.fieldTransforms)}function x9(t,e,n,r=!1){return su(n,t.Su(r?4:3,e))}function su(t,e){if(iO(t=Fe(t)))return Ob("Unsupported field value:",e,t),rO(t,e);if(t instanceof Kl)return function(r,i){if(!eO(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=su(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ft.fromDate(r);return{timestampValue:wp(i.serializer,s)}}if(r instanceof ft){let s=new ft(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wp(i.serializer,s)}}if(r instanceof Ql)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wl)return{bytesValue:SP(i.serializer,r._byteString)};if(r instanceof bt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:bb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Kp(r)}`)}(t,e)}function rO(t,e){let n={};return iP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$s(t,(r,i)=>{let s=su(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ft||t instanceof Ql||t instanceof Wl||t instanceof bt||t instanceof Kl)}function Ob(t,e,n){if(!iO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Kp(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function lb(t,e,n){if((e=Fe(e))instanceof Us)return e._internalPath;if(typeof e=="string")return kb(t,e);throw Fp("Field path arguments must be of type string or ",t,!1,void 0,n)}var M9=new RegExp("[~\\*/\\[\\]]");function kb(t,e,n){if(e.search(M9)>=0)throw Fp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Us(...e.split("."))._internalPath}catch{throw Fp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fp(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new A(v.INVALID_ARGUMENT,a+t+c)}function sO(t,e){return t.some(n=>n.isEqual(e))}var Lp=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ub(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Qp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},ub=class extends Lp{data(){return super.data()}};function Qp(t,e){return typeof e=="string"?kb(t,e):e instanceof Us?e._internalPath:e._delegate._internalPath}function oO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new A(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Yl=class{},Zl=class extends Yl{};function aO(t,e,...n){let r=[];e instanceof Yl&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof db).length,a=s.filter(c=>c instanceof Vp).length;if(o>1||o>0&&a>0)throw new A(v.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Vp=class t extends Zl{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return dO(e._query,n),new Hr(e.firestore,e.converter,oI(e._query,n))}_parse(e){let n=iu(e.firestore);return function(s,o,a,c,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new A(v.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){nP(d,u);let f=[];for(let p of d)f.push(tP(c,s,p));h={arrayValue:{values:f}}}else h=tP(c,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||nP(d,u),h=x9(a,o,d,u==="in"||u==="not-in");return Ze.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function cO(t,e,n){let r=e,i=Qp("where",t);return Vp._create(i,r,n)}var db=class t extends Yl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)dO(o,c),o=oI(o,c)}(e._query,n),new Hr(e.firestore,e.converter,oI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var hb=class t extends Zl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new A(v.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new A(v.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ls(s,o)}(e._query,this._field,this._direction);return new Hr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Pi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function lO(t,e="asc"){let n=e,r=Qp("orderBy",t);return hb._create(r,n)}var fb=class t extends Zl{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Hr(e.firestore,e.converter,mp(e._query,this._limit,this._limitType))}};function uO(t){return A9("limit",t),fb._create("limit",t,"F")}function tP(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new A(v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hP(e)&&n.indexOf("/")!==-1)throw new A(v.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Le.fromString(n));if(!L.isDocumentKey(r))throw new A(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RN(t,new L(r))}if(n instanceof bt)return RN(t,n._key);throw new A(v.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kp(n)}.`)}function nP(t,e){if(!Array.isArray(t)||t.length===0)throw new A(v.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dO(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new A(v.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new A(v.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var pb=class{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return $s(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ql($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=vb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){let n=Mi(e);return new ft(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Le.fromString(e);Re(PP(r));let i=new fp(r.get(1),r.get(3)),s=new L(r.popFirst(5));return i.isEqual(n)||_r(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Fb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ns=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},jp=class extends Lp{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new pa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Qp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},pa=class extends jp{data(e={}){return super.data(e)}},Bp=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ns(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pa(this._firestore,this._userDataWriter,r.key,r,new Ns(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new pa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ns(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new pa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ns(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:N9(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function N9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function hO(t){t=Nt(t,bt);let e=Nt(t.firestore,gn);return C9(ru(e),t._key).then(n=>_O(e,t,n))}var Xl=class extends pb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}};function fO(t){t=Nt(t,Hr);let e=Nt(t.firestore,gn),n=ru(e),r=new Xl(e);return oO(t._query),T9(n,t._query).then(i=>new Bp(e,r,t,i))}function pO(t,e,n){t=Nt(t,bt);let r=Nt(t.firestore,gn),i=Fb(t.converter,e,n);return ou(r,[Pb(iu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qt.none())])}function mO(t,e,n,...r){t=Nt(t,bt);let i=Nt(t.firestore,gn),s=iu(i),o;return o=typeof(e=Fe(e))=="string"||e instanceof Us?nO(s,"updateDoc",t._key,e,n,r):tO(s,"updateDoc",t._key,e),ou(i,[o.toMutation(t._key,Qt.exists(!0))])}function gO(t){return ou(Nt(t.firestore,gn),[new Da(t._key,Qt.none())])}function yO(t,e){let n=Nt(t.firestore,gn),r=Nb(t),i=Fb(t.converter,e);return ou(n,[Pb(iu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qt.exists(!1))]).then(()=>r)}function Lb(t,...e){var n,r,i;t=Fe(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||eP(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(eP(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,l,u;if(t instanceof bt)l=Nt(t.firestore,gn),u=$p(t._key.path),c={next:d=>{e[o]&&e[o](_O(l,t,d))},error:e[o+1],complete:e[o+2]};else{let d=Nt(t,Hr);l=Nt(d.firestore,gn),u=d._query;let h=new Xl(l);c={next:f=>{e[o]&&e[o](new Bp(l,h,d,f))},error:e[o+1],complete:e[o+2]},oO(t._query)}return function(h,f,p,g){let _=new Gl(g),E=new ql(f,_,p);return h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return Ab(yield Np(h),E)})),()=>{_.La(),h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return Rb(yield Np(h),E)}))}}(ru(l),u,a,c)}function ou(t,e){return function(r,i){let s=new mn;return r.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return f9(yield D9(r),i,s)})),s.promise}(ru(t),e)}function _O(t,e,n){let r=n.docs.get(e._key),i=new Xl(t);return new jp(t,i,e._key,r,new Ns(n.hasPendingWrites,n.fromCache),e.converter)}var mb=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=iu(e)}set(e,n,r){this._verifyNotCommitted();let i=OE(e,this._firestore),s=Fb(i.converter,n,r),o=Pb(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Qt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=OE(e,this._firestore),o;return o=typeof(n=Fe(n))=="string"||n instanceof Us?nO(this._dataReader,"WriteBatch.update",s._key,n,r,i):tO(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Qt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=OE(e,this._firestore);return this._mutations=this._mutations.concat(new Da(n._key,Qt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new A(v.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function OE(t,e){if((t=Fe(t)).firestore!==e)throw new A(v.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function vO(t){return ru(t=Nt(t,gn)),new mb(t,e=>ou(t,e))}(function(e,n=!0){(function(i){Sa=i})(bi),Ii(new dn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new gn(new LE(r.getProvider("auth-internal")),new UE(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new A(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fp(l.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),et(CN,"4.4.1",e),et(CN,"4.4.1","esm2017")})();var Yp=function(){return Yp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yp.apply(this,arguments)};var F9={includeMetadataChanges:!1};function Vb(t,e){return e===void 0&&(e=F9),new $(function(n){var r=Lb(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function wO(t){return Vb(t,{includeMetadataChanges:!0})}function EO(t,e){return e===void 0&&(e={}),wO(t).pipe(Q(function(n){return jb(n,e)}))}function jb(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Yp(Yp({},r),(n={},n[e.idField]=t.id,n))}function IO(t){return Vb(t,{includeMetadataChanges:!0}).pipe(Q(function(e){return e.docs}))}function bO(t,e){return e===void 0&&(e={}),IO(t).pipe(Q(function(n){return n.map(function(r){return jb(r,e)})}))}var au=class{constructor(e){return e}},DO="firestore",Bb=class{constructor(){return el(DO)}};var Ub=new S("angularfire2.firestore-instances");function L9(t,e){let n=rf(DO,t,e);return n&&new au(n)}function V9(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new au(r)}}var j9={provide:Bb,deps:[[new ut,Ub]]},B9={provide:au,useFactory:L9,deps:[[new ut,Ub],Fr]},U9=(()=>{class t{constructor(){et("angularfire",vs.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=J({type:t});static \u0275inj=X({providers:[B9,j9]})}return t})();function xoe(t,...e){return{ngModule:U9,providers:[{provide:Ub,useFactory:V9(t),multi:!0,deps:[P,Ce,Jo,ws,[new ut,cl],[new ut,Xo],...e]}]}}var Moe=Ae(bO,!0);var Noe=Ae(EO,!0);var Poe=Ae(yO,!0);var Ooe=Ae(ZP,!0);var koe=Ae(gO,!0);var Foe=Ae(Nb,!0);var Loe=Ae(hO,!0);var Voe=Ae(fO,!0);var joe=Ae(XP,!0);var Boe=Ae(uO,!0);var Uoe=Ae(lO,!0);var $oe=Ae(aO,!0);var Hoe=Ae(pO,!0);var zoe=Ae(mO,!0);var qoe=Ae(cO,!0),Goe=Ae(vO,!0);var ee=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ee||{}),Er="*";function Qoe(t,e){return{type:ee.Trigger,name:t,definitions:e,options:{}}}function Yoe(t,e=null){return{type:ee.Animate,styles:e,timings:t}}function CO(t,e=null){return{type:ee.Sequence,steps:t,options:e}}function $b(t){return{type:ee.Style,styles:t,offset:null}}function Zoe(t,e,n){return{type:ee.State,name:t,styles:e,options:n}}function Xoe(t){return{type:ee.Keyframes,steps:t}}function Joe(t,e,n=null){return{type:ee.Transition,expr:t,animation:e,options:n}}var Fi=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},cu=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Zp="!";function TO(t){return new C(3e3,!1)}function $9(){return new C(3100,!1)}function H9(){return new C(3101,!1)}function z9(t){return new C(3001,!1)}function q9(t){return new C(3003,!1)}function G9(t){return new C(3004,!1)}function W9(t,e){return new C(3005,!1)}function K9(){return new C(3006,!1)}function Q9(){return new C(3007,!1)}function Y9(t,e){return new C(3008,!1)}function Z9(t){return new C(3002,!1)}function X9(t,e,n,r,i){return new C(3010,!1)}function J9(){return new C(3011,!1)}function e6(){return new C(3012,!1)}function t6(){return new C(3200,!1)}function n6(){return new C(3202,!1)}function r6(){return new C(3013,!1)}function i6(t){return new C(3014,!1)}function s6(t){return new C(3015,!1)}function o6(t){return new C(3016,!1)}function a6(t,e){return new C(3404,!1)}function c6(t){return new C(3502,!1)}function l6(t){return new C(3503,!1)}function u6(){return new C(3300,!1)}function d6(t){return new C(3504,!1)}function h6(t){return new C(3301,!1)}function f6(t,e){return new C(3302,!1)}function p6(t){return new C(3303,!1)}function m6(t,e){return new C(3400,!1)}function g6(t){return new C(3401,!1)}function y6(t){return new C(3402,!1)}function _6(t,e){return new C(3505,!1)}function Li(t){switch(t.length){case 0:return new Fi;case 1:return t[0];default:return new cu(t)}}function BO(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==o,d=u&&a||new Map;c.forEach((h,f)=>{let p=f,g=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,i),g){case Zp:g=n.get(f);break;case Er:g=r.get(f);break;default:g=t.normalizeStyleValue(f,p,g,i);break}d.set(p,g)}),u||s.push(d),a=d,o=l}),i.length)throw c6(i);return s}function uD(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Hb(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Hb(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Hb(n,"destroy",t)));break}}function Hb(t,e,n){let r=n.totalTime,i=!!n.disabled,s=dD(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function dD(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Zt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function SO(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var v6=typeof document>"u"?null:document.documentElement;function hD(t){let e=t.parentNode||t.host||null;return e===v6?null:e}function w6(t){return t.substring(1,6)=="ebkit"}var zs=null,AO=!1;function E6(t){zs||(zs=I6()||{},AO=zs.style?"WebkitAppearance"in zs.style:!1);let e=!0;return zs.style&&!w6(t)&&(e=t in zs.style,!e&&AO&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in zs.style)),e}function I6(){return typeof document<"u"?document.body:null}function UO(t,e){for(;e;){if(e===t)return!0;e=hD(e)}return!1}function $O(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var fD=(()=>{let e=class e{validateStyleProperty(r){return E6(r)}matchesElement(r,i){return!1}containsElement(r,i){return UO(r,i)}getParentElement(r){return hD(r)}query(r,i,s){return $O(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,c=[],l){return new Fi(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),mu=(()=>{let e=class e{};e.NOOP=new fD;let t=e;return t})(),Ws=class{};var b6=1e3,HO="{{",D6="}}",zO="ng-enter",Qb="ng-leave",Xp="ng-trigger",rm=".ng-trigger",RO="ng-animating",Yb=".ng-animating";function zr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Zb(parseFloat(e[1]),e[2])}function Zb(t,e){switch(e){case"s":return t*b6;default:return t}}function im(t,e,n){return t.hasOwnProperty("duration")?t:C6(t,e,n)}function C6(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(TO(t)),{duration:0,delay:0,easing:""};i=Zb(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=Zb(parseFloat(c),a[4]));let l=a[5];l&&(o=l)}else i=t;if(!n){let a=!1,c=e.length;i<0&&(e.push($9()),a=!0),s<0&&(e.push(H9()),a=!0),a&&e.splice(c,0,TO(t))}return{duration:i,delay:s,easing:o}}function T6(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ir(t,e,n){e.forEach((r,i)=>{let s=pD(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Gs(t,e){e.forEach((n,r)=>{let i=pD(r);t.style[i]=""})}function lu(t){return Array.isArray(t)?t.length==1?t[0]:CO(t):t}function S6(t,e,n){let r=e.params||{},i=qO(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(z9(s))})}var Xb=new RegExp(`${HO}\\s*(.+?)\\s*${D6}`,"g");function qO(t){let e=[];if(typeof t=="string"){let n;for(;n=Xb.exec(t);)e.push(n[1]);Xb.lastIndex=0}return e}function du(t,e,n){let r=`${t}`,i=r.replace(Xb,(s,o)=>{let a=e[o];return a==null&&(n.push(q9(o)),a=""),a.toString()});return i==r?t:i}var A6=/-+([a-z0-9])/g;function pD(t){return t.replace(A6,(...e)=>e[1].toUpperCase())}function R6(t,e){return t===0||e===0}function x6(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,mD(t,a)))}}return e}function Yt(t,e,n){switch(e.type){case ee.Trigger:return t.visitTrigger(e,n);case ee.State:return t.visitState(e,n);case ee.Transition:return t.visitTransition(e,n);case ee.Sequence:return t.visitSequence(e,n);case ee.Group:return t.visitGroup(e,n);case ee.Animate:return t.visitAnimate(e,n);case ee.Keyframes:return t.visitKeyframes(e,n);case ee.Style:return t.visitStyle(e,n);case ee.Reference:return t.visitReference(e,n);case ee.AnimateChild:return t.visitAnimateChild(e,n);case ee.AnimateRef:return t.visitAnimateRef(e,n);case ee.Query:return t.visitQuery(e,n);case ee.Stagger:return t.visitStagger(e,n);default:throw G9(e.type)}}function mD(t,e){return window.getComputedStyle(t)[e]}var M6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),sm=class extends Ws{normalizePropertyName(e,n){return pD(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(M6.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(W9(e,r))}return o+s}};var om="*";function N6(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>P6(r,n,e)):n.push(t),n}function P6(t,e,n){if(t[0]==":"){let c=O6(t,n);if(typeof c=="function"){e.push(c);return}t=c}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(s6(t)),e;let i=r[1],s=r[2],o=r[3];e.push(xO(i,o));let a=i==om&&o==om;s[0]=="<"&&!a&&e.push(xO(o,i))}function O6(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(o6(t)),"* => *"}}var Jp=new Set(["true","1"]),em=new Set(["false","0"]);function xO(t,e){let n=Jp.has(t)||em.has(t),r=Jp.has(e)||em.has(e);return(i,s)=>{let o=t==om||t==i,a=e==om||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?Jp.has(t):em.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?Jp.has(e):em.has(e)),o&&a}}var GO=":self",k6=new RegExp(`s*${GO}s*,?`,"g");function WO(t,e,n,r){return new Jb(t).build(e,n,r)}var MO="",Jb=class{constructor(e){this._driver=e}build(e,n,r){let i=new eD(n);return this._resetContextStyleTimingState(i),Yt(this,lu(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=MO,e.collectedStyles=new Map,e.collectedStyles.set(MO,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(K9()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==ee.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,n))}),c.name=l}else if(a.type==ee.Transition){let c=this.visitTransition(a,n);r+=c.queryCount,i+=c.depCount,o.push(c)}else n.errors.push(Q9())}),{type:ee.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{qO(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&n.errors.push(Y9(e.name,[...s.values()]))}return{type:ee.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Yt(this,lu(e.animation),n),i=N6(e.expr,n.errors);return{type:ee.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:qs(e.options)}}visitSequence(e,n){return{type:ee.Sequence,steps:e.steps.map(r=>Yt(this,r,n)),options:qs(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=Yt(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:ee.Group,steps:s,options:qs(e.options)}}visitAnimate(e,n){let r=j6(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:$b({});if(s.type==ee.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let l={};r.easing&&(l.easing=r.easing),o=$b(l)}n.currentTime+=r.duration+r.delay;let c=this.visitStyle(o,n);c.isEmptyStep=a,i=c}return n.currentAnimateTimings=null,{type:ee.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Er?r.push(a):n.errors.push(Z9(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(HO)>=0){s=!0;break}}}),{type:ee.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(X9(c,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&l.set(c,{startTime:s,endTime:i}),n.options&&S6(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:ee.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(J9()),r;let i=1,s=0,o=[],a=!1,c=!1,l=0,u=e.steps.map(E=>{let M=this._makeStyleAst(E,n),V=M.offset!=null?M.offset:V6(M.styles),j=0;return V!=null&&(s++,j=M.offset=V),c=c||j<0||j>1,a=a||j<l,l=j,o.push(j),M});c&&n.errors.push(e6()),a&&n.errors.push(t6());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(n6()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,g=n.currentAnimateTimings,_=g.duration;return u.forEach((E,M)=>{let V=h>0?M==f?1:h*M:o[M],j=V*_;n.currentTime=p+g.delay+j,g.duration=j,this._validateStyleAst(E,n),E.offset=V,r.styles.push(E)}),r}visitReference(e,n){return{type:ee.Reference,animation:Yt(this,lu(e.animation),n),options:qs(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:ee.AnimateChild,options:qs(e.options)}}visitAnimateRef(e,n){return{type:ee.AnimateRef,animation:this.visitReference(e.animation,n),options:qs(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=F6(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Zt(n.collectedStyles,n.currentQuerySelector,new Map);let a=Yt(this,lu(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:ee.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:qs(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(r6());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:im(e.timings,n.errors,!0);return{type:ee.Stagger,animation:Yt(this,lu(e.animation),n),timings:r,options:null}}};function F6(t){let e=!!t.split(/\s*,\s*/).find(n=>n==GO);return e&&(t=t.replace(k6,"")),t=t.replace(/@\*/g,rm).replace(/@\w+/g,n=>rm+"-"+n.slice(1)).replace(/:animating/g,Yb),[t,e]}function L6(t){return t?w({},t):null}var eD=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function V6(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function j6(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=im(t,e).duration;return zb(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=zb(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=im(n,e);return zb(i.duration,i.delay,i.easing)}function qs(t){return t?(t=w({},t),t.params&&(t.params=L6(t.params))):t={},t}function zb(t,e,n){return{duration:t,delay:e,easing:n}}function gD(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var hu=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},B6=1,U6=":enter",$6=new RegExp(U6,"g"),H6=":leave",z6=new RegExp(H6,"g");function KO(t,e,n,r,i,s=new Map,o=new Map,a,c,l=[]){return new tD().buildKeyframes(t,e,n,r,i,s,o,a,c,l)}var tD=class{buildKeyframes(e,n,r,i,s,o,a,c,l,u=[]){l=l||new hu;let d=new nD(e,n,l,i,s,u,[]);d.options=c;let h=c.delay?zr(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,c),Yt(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){let _=f[g];if(_.element===n){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[gD(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:zr(du(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?zr(r.duration):null,a=r.delay!=null?zr(r.delay):null;return o!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Yt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==ee.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=am);let o=zr(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Yt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?zr(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Yt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?du(r,n.params,n.errors):r;return im(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==ee.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*s),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?zr(i.delay):0;s&&(n.previousNode.type===ee.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=am);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);s&&d.delayNextStep(s),l===n.element&&(c=d.currentTimeline),Yt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),c=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;Yt(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},am={},nD=class t{constructor(e,n,r,i,s,o,a,c){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=am,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new cm(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=zr(r.duration)),r.delay!=null&&(i.delay=zr(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=du(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=am,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new rD(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace($6,"."+this._enterClassName),e=e.replace(z6,"."+this._leaveClassName);let c=r!=1,l=this._driver.query(this.element,e,c);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&a.length==0&&o.push(i6(n)),a}},cm=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=B6,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Er),this._currentKeyframe.set(n,Er);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=q6(e,this._globalTimelineStyles);for(let[a,c]of o){let l=du(c,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Er),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===Zp?e.add(d):u===Er&&n.add(d)}),r||l.set("offset",c/this.duration),i.push(l)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return gD(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},rD=class extends cm{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let l=new Map(e[0]);l.set("offset",NO(a)),s.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),p=n+f*r;h.set("offset",NO(p/o)),s.push(h)}r=o,n=0,i="",e=s}return gD(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function NO(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function q6(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,Er)}else for(let[s,o]of i)n.set(s,o)}),n}function PO(t,e,n,r,i,s,o,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var qb={},lm=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return G6(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||qb,f=a&&a.params||qb,p=this.buildStyles(r,f,d),g=c&&c.params||qb,_=this.buildStyles(i,g,d),E=new Set,M=new Map,V=new Map,j=i==="void",_e={params:QO(g,h),delay:this.ast.options?.delay},oe=u?[]:KO(e,n,this.ast.animation,s,o,p,_,_e,l,d),Ee=0;return oe.forEach(Pe=>{Ee=Math.max(Pe.duration+Pe.delay,Ee)}),d.length?PO(n,this._triggerName,r,i,j,p,_,[],[],M,V,Ee,d):(oe.forEach(Pe=>{let Dt=Pe.element,vn=Zt(M,Dt,new Set);Pe.preStyleProps.forEach(Bi=>vn.add(Bi));let e0=Zt(V,Dt,new Set);Pe.postStyleProps.forEach(Bi=>e0.add(Bi)),Dt!==n&&E.add(Dt)}),PO(n,this._triggerName,r,i,j,p,_,oe,[...E.values()],M,V,Ee))}};function G6(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function QO(t,e){let n=w({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var iD=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=QO(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=du(o,i,n));let c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),r.set(a,o)})}),r}};function W6(t,e,n){return new sD(t,e,n)}var sD=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new iD(i.style,s,r))}),OO(this.states,"true","1"),OO(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new lm(e,i,this.states))}),this.fallbackTransition=K6(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function K6(t,e,n){let r=[(o,a)=>!0],i={type:ee.Sequence,steps:[],options:null},s={type:ee.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new lm(t,s,e)}function OO(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var Q6=new hu,oD=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=WO(this._driver,n,r,i);if(r.length)throw l6(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=BO(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=KO(this._driver,n,s,zO,Qb,new Map,new Map,r,Q6,i),o.forEach(u=>{let d=Zt(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(u6()),o=[]),i.length)throw d6(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Er))})});let c=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Li(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw h6(e);return n}listen(e,n,r,i){let s=dD(n,"","","");return uD(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},kO="ng-animate-queued",Y6=".ng-animate-queued",Gb="ng-animate-disabled",Z6=".ng-animate-disabled",X6="ng-star-inserted",J6=".ng-star-inserted",e5=[],YO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},t5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Nn="__ng_removed",fu=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=r5(i),r){let s=e,{value:o}=s,a=a0(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},uu="void",Wb=new fu(uu),aD=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw f6(r,n);if(r==null||r.length==0)throw p6(n);if(!i5(r))throw m6(r,n);let s=Zt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=Zt(this._engine.statesByElement,e,new Map);return a.has(n)||(yn(e,Xp),yn(e,Xp+"-"+n),a.set(n,Wb)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw g6(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new pu(this.id,n,e),a=this._engine.statesByElement.get(e);a||(yn(e,Xp),yn(e,Xp+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new fu(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=Wb),!(l.value===uu)&&c.value===l.value){if(!a5(c.params,l.params)){let g=[],_=s.matchStyles(c.value,c.params,g),E=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Gs(e,_),Ir(e,E)})}return}let h=Zt(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(c.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:l,player:o,isFallbackTransition:p}),p||(yn(e,kO),o.onStart(()=>{Ra(e,kO)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);let _=this._engine.playersByElement.get(e);if(_){let E=_.indexOf(o);E>=0&&_.splice(E,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,rm,!0);r.forEach(i=>{if(i[Nn])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,uu,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Li(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let c=this._triggers.get(o).fallbackTransition,l=r.get(o)||Wb,u=new fu(uu),d=new pu(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[Nn];(!s||s===YO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){yn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let c=dD(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,uD(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},cD=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new aD(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let c=i.get(a);if(c){let l=r.indexOf(c);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(tm(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!tm(n))return;let s=n[Nn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yn(e,Gb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ra(e,Gb))}removeNode(e,n,r){if(tm(n)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Nn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return tm(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,rm,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Yb,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Li(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Nn];if(n&&n.setForRemoval){if(e[Nn]=YO,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Gb)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Z6,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];yn(i,X6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Li(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw y6(e)}_flushAnimations(e,n){let r=new hu,i=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(N=>{u.add(N);let k=this.driver.query(N,Y6,!0);for(let U=0;U<k.length;U++)u.add(k[U])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=VO(h,this.collectedEnterElements),p=new Map,g=0;f.forEach((N,k)=>{let U=zO+g++;p.set(k,U),N.forEach(fe=>yn(fe,U))});let _=[],E=new Set,M=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){let k=this.collectedLeaveElements[N],U=k[Nn];U&&U.setForRemoval&&(_.push(k),E.add(k),U.hasAnimation?this.driver.query(k,J6,!0).forEach(fe=>E.add(fe)):M.add(k))}let V=new Map,j=VO(h,Array.from(E));j.forEach((N,k)=>{let U=Qb+g++;V.set(k,U),N.forEach(fe=>yn(fe,U))}),e.push(()=>{f.forEach((N,k)=>{let U=p.get(k);N.forEach(fe=>Ra(fe,U))}),j.forEach((N,k)=>{let U=V.get(k);N.forEach(fe=>Ra(fe,U))}),_.forEach(N=>{this.processLeaveNode(N)})});let _e=[],oe=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(n).forEach(U=>{let fe=U.player,tt=U.element;if(_e.push(fe),this.collectedEnterElements.length){let pt=tt[Nn];if(pt&&pt.setForMove){if(pt.previousTriggersValues&&pt.previousTriggersValues.has(U.triggerName)){let Ui=pt.previousTriggersValues.get(U.triggerName),Xt=this.statesByElement.get(U.element);if(Xt&&Xt.has(U.triggerName)){let ku=Xt.get(U.triggerName);ku.value=Ui,Xt.set(U.triggerName,ku)}}fe.destroy();return}}let kn=!d||!this.driver.containsElement(d,tt),Vt=V.get(tt),Kr=p.get(tt),Oe=this._buildInstruction(U,r,Kr,Vt,kn);if(Oe.errors&&Oe.errors.length){oe.push(Oe);return}if(kn){fe.onStart(()=>Gs(tt,Oe.fromStyles)),fe.onDestroy(()=>Ir(tt,Oe.toStyles)),i.push(fe);return}if(U.isFallbackTransition){fe.onStart(()=>Gs(tt,Oe.fromStyles)),fe.onDestroy(()=>Ir(tt,Oe.toStyles)),i.push(fe);return}let r0=[];Oe.timelines.forEach(pt=>{pt.stretchStartingKeyframe=!0,this.disabledNodes.has(pt.element)||r0.push(pt)}),Oe.timelines=r0,r.append(tt,Oe.timelines);let EF={instruction:Oe,player:fe,element:tt};o.push(EF),Oe.queriedElements.forEach(pt=>Zt(a,pt,[]).push(fe)),Oe.preStyleProps.forEach((pt,Ui)=>{if(pt.size){let Xt=c.get(Ui);Xt||c.set(Ui,Xt=new Set),pt.forEach((ku,Lm)=>Xt.add(Lm))}}),Oe.postStyleProps.forEach((pt,Ui)=>{let Xt=l.get(Ui);Xt||l.set(Ui,Xt=new Set),pt.forEach((ku,Lm)=>Xt.add(Lm))})});if(oe.length){let N=[];oe.forEach(k=>{N.push(_6(k.triggerName,k.errors))}),_e.forEach(k=>k.destroy()),this.reportError(N)}let Ee=new Map,Pe=new Map;o.forEach(N=>{let k=N.element;r.has(k)&&(Pe.set(k,k),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,Ee))}),i.forEach(N=>{let k=N.element;this._getPreviousPlayers(k,!1,N.namespaceId,N.triggerName,null).forEach(fe=>{Zt(Ee,k,[]).push(fe),fe.destroy()})});let Dt=_.filter(N=>jO(N,c,l)),vn=new Map;LO(vn,this.driver,M,l,Er).forEach(N=>{jO(N,c,l)&&Dt.push(N)});let Bi=new Map;f.forEach((N,k)=>{LO(Bi,this.driver,new Set(N),c,Zp)}),Dt.forEach(N=>{let k=vn.get(N),U=Bi.get(N);vn.set(N,new Map([...k?.entries()??[],...U?.entries()??[]]))});let Fm=[],t0=[],n0={};o.forEach(N=>{let{element:k,player:U,instruction:fe}=N;if(r.has(k)){if(u.has(k)){U.onDestroy(()=>Ir(k,fe.toStyles)),U.disabled=!0,U.overrideTotalTime(fe.totalTime),i.push(U);return}let tt=n0;if(Pe.size>1){let Vt=k,Kr=[];for(;Vt=Vt.parentNode;){let Oe=Pe.get(Vt);if(Oe){tt=Oe;break}Kr.push(Vt)}Kr.forEach(Oe=>Pe.set(Oe,tt))}let kn=this._buildAnimation(U.namespaceId,fe,Ee,s,Bi,vn);if(U.setRealPlayer(kn),tt===n0)Fm.push(U);else{let Vt=this.playersByElement.get(tt);Vt&&Vt.length&&(U.parentPlayer=Li(Vt)),i.push(U)}}else Gs(k,fe.fromStyles),U.onDestroy(()=>Ir(k,fe.toStyles)),t0.push(U),u.has(k)&&i.push(U)}),t0.forEach(N=>{let k=s.get(N.element);if(k&&k.length){let U=Li(k);N.setRealPlayer(U)}}),i.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<_.length;N++){let k=_[N],U=k[Nn];if(Ra(k,Qb),U&&U.hasAnimation)continue;let fe=[];if(a.size){let kn=a.get(k);kn&&kn.length&&fe.push(...kn);let Vt=this.driver.query(k,Yb,!0);for(let Kr=0;Kr<Vt.length;Kr++){let Oe=a.get(Vt[Kr]);Oe&&Oe.length&&fe.push(...Oe)}}let tt=fe.filter(kn=>!kn.destroyed);tt.length?s5(this,k,tt):this.processLeaveNode(k)}return _.length=0,Fm.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();let k=this.players.indexOf(N);this.players.splice(k,1)}),N.play()}),Fm}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==uu;a.forEach(l=>{l.queued||!c&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let c of n.timelines){let l=c.element,u=l!==s,d=Zt(r,l,[]);this._getPreviousPlayers(l,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Gs(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let g=p.element;u.add(g);let _=g[Nn];if(_&&_.removedBeforeQueried)return new Fi(p.duration,p.delay);let E=g!==c,M=o5((r.get(g)||e5).map(Ee=>Ee.getRealPlayer())).filter(Ee=>{let Pe=Ee;return Pe.element?Pe.element===g:!1}),V=s.get(g),j=o.get(g),_e=BO(this._normalizer,p.keyframes,V,j),oe=this._buildPlayer(p,_e,M);if(p.subTimeline&&i&&d.add(g),E){let Ee=new pu(e,a,g);Ee.setRealPlayer(oe),l.push(Ee)}return oe});l.forEach(p=>{Zt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>n5(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>yn(p,RO));let f=Li(h);return f.onDestroy(()=>{u.forEach(p=>Ra(p,RO)),Ir(c,n.toStyles)}),d.forEach(p=>{Zt(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Fi(e.duration,e.delay)}},pu=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Fi,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>uD(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Zt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function n5(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function r5(t){return t??null}function tm(t){return t&&t.nodeType===1}function i5(t){return t=="start"||t=="done"}function FO(t,e){let n=t.style.display;return t.style.display=e??"none",n}function LO(t,e,n,r,i){let s=[];n.forEach(c=>s.push(FO(c)));let o=[];r.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,i);u.set(d,h),(!h||h.length==0)&&(l[Nn]=t5,o.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>FO(c,s[a++])),o}function VO(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let c=s.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:i.has(l)?c=r:c=o(l),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==r&&n.get(c).push(a)}),n}function yn(t,e){t.classList?.add(e)}function Ra(t,e){t.classList?.remove(e)}function s5(t,e,n){Li(n).onDone(()=>t.processLeaveNode(e))}function o5(t){let e=[];return ZO(t,e),e}function ZO(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof cu?ZO(r.players,e):e.push(r)}}function a5(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function jO(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var xa=class{constructor(e,n,r){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new cD(e.body,n,r),this._timelineEngine=new oD(e.body,n,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let c=[],l=[],u=WO(this._driver,s,c,l);if(c.length)throw a6(i,c);l.length&&void 0,a=W6(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=SO(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=SO(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function c5(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Kb(e[0]),e.length>1&&(r=Kb(e[e.length-1]))):e instanceof Map&&(n=Kb(e)),n||r?new l5(t,n,r):null}var l5=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._startStyles=i,this._endStyles=s,this._state=0;let o=e.initialStylesByElement.get(r);o||e.initialStylesByElement.set(r,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Ir(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ir(this._element,this._initialStyles),this._endStyles&&(Ir(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Gs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gs(this._element,this._endStyles),this._endStyles=null),Ir(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let t=e;return t})();function Kb(t){let e=null;return t.forEach((n,r)=>{u5(r)&&(e=e||new Map,e.set(r,n))}),e}function u5(t){return t==="display"||t==="position"}var um=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:mD(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},dm=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return UO(e,n)}getParentElement(e){return hD(e)}query(e,n,r){return $O(e,n,r)}computeStyle(e,n,r){return mD(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",c={duration:r,delay:i,fill:a};s&&(c.easing=s);let l=new Map,u=o.filter(f=>f instanceof um);R6(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=T6(n).map(f=>new Map(f));d=x6(e,d,l);let h=c5(e,d);return new um(e,d,c,h)}};var nm="@",XO="@.disabled",hm=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==nm&&n==XO?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},lD=class extends hm{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==nm?n.charAt(1)=="."&&n==XO?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==nm){let i=d5(e),s=n.slice(1),o="";return s.charAt(0)!=nm&&([s,o]=h5(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,r,a)})}return this.delegate.listen(e,n,r)}};function d5(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function h5(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var fm=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(i);if(!u){let d=()=>l.delete(i);u=new hm(r,i,this.engine,d),l.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return n.data.animation.forEach(a),new lD(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var p5=(()=>{let e=class e extends xa{constructor(r,i,s,o){super(r,i,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(y(z),y(mu),y(Ws),y(tr))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function m5(){return new sm}function g5(t,e,n){return new fm(t,e,n)}var ek=[{provide:Ws,useFactory:m5},{provide:xa,useClass:p5},{provide:rs,useFactory:g5,deps:[xh,xa,P]}],JO=[{provide:mu,useFactory:()=>new dm},{provide:Lt,useValue:"BrowserAnimations"},...ek],y5=[{provide:mu,useClass:fD},{provide:Lt,useValue:"NoopAnimations"},...ek],hae=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?y5:JO}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:JO,imports:[qA]});let t=e;return t})();function _5(t){return t!=null&&`${t}`!="false"}function gu(t,e=0){return v5(t)?Number(t):e}function v5(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Ma(t){return Array.isArray(t)?t:[t]}function We(t){return t==null?"":typeof t=="string"?t:`${t}px`}function qr(t){return t instanceof me?t.nativeElement:t}function gae(t,e=/\s+/){let n=[];if(t!=null){let r=Array.isArray(t)?t:`${t}`.split(e);for(let i of r){let s=`${i}`.trim();s&&n.push(s)}}return n}var _D;try{_D=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_D=!1}var ze=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?P_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||_D)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(y(sn))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Na,tk=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function bae(){if(Na)return Na;if(typeof document!="object"||!document)return Na=new Set(tk),Na;let t=document.createElement("input");return Na=new Set(tk.filter(e=>(t.setAttribute("type",e),t.type===e))),Na}var yu;function w5(){if(yu==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yu=!0}))}finally{yu=yu||!1}return yu}function Pa(t){return w5()?t:!!t.capture}var Ks;function nk(){if(Ks==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Ks=!1,Ks;if("scrollBehavior"in document.documentElement.style)Ks=!0;else{let t=Element.prototype.scrollTo;t?Ks=!/\{\s*\[native code\]\s*\}/.test(t.toString()):Ks=!1}}return Ks}var yD;function E5(){if(yD==null){let t=typeof document<"u"?document.head:null;yD=!!(t&&(t.createShadowRoot||t.attachShadow))}return yD}function rk(t){if(E5()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Oa(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Pn(t){return t.composedPath?t.composedPath()[0]:t.target}function _u(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var I5=new S("cdk-dir-doc",{providedIn:"root",factory:b5});function b5(){return D(z)}var D5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function C5(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?D5.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var wu=(()=>{let e=class e{constructor(r){if(this.value="ltr",this.change=new ge,r){let i=r.body?r.body.dir:null,s=r.documentElement?r.documentElement.dir:null;this.value=C5(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(y(I5,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Vi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();var S5=20,sk=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this._platform=i,this._scrolled=new B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=S5){return this._platform.isBrowser?new $(i=>{this._globalSubscription||this._addGlobalListener();let s=r>0?this._scrolled.pipe(hd(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):F()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let s=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(Me(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,r)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let s=qr(i),o=r.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return za(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(y(P),y(ze),y(z,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var A5=20,vD=(()=>{let e=class e{constructor(r,i,s){this._platform=r,this._change=new B,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(r.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+s,right:r.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),s=r.documentElement,o=s.getBoundingClientRect(),a=-o.top||r.body.scrollTop||i.scrollY||s.scrollTop||0,c=-o.left||r.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(r=A5){return r>0?this._change.pipe(hd(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(y(ze),y(P),y(z,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ik=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})(),wD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[Vi,ik,Vi,ik]});let t=e;return t})();var Eu=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},ka=class extends Eu{constructor(e,n,r,i,s){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}},Fa=class extends Eu{constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},ED=class extends Eu{constructor(e){super(),this.element=e instanceof me?e.nativeElement:e}},La=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof ka)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Fa)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof ED)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var pm=class extends La{constructor(e,n,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ce.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Iu=(()=>{let e=class e extends La{constructor(r,i,s){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new ge,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,o=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),a=i.createComponent(o,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=r,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};e.\u0275fac=function(i){return new(i||e)(T(fi),T(on),T(z))},e.\u0275dir=ye({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[ce.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Je]});let t=e;return t})();var mm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();function gm(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var ok=nk(),ID=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=We(-this._previousScrollPosition.left),e.style.top=We(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,r=e.style,i=n.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),ok&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ok&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var bD=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Me(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ym=class{enable(){}disable(){}attach(){}};function DD(t,e){return e.some(n=>{let r=t.bottom<n.top,i=t.top>n.bottom,s=t.right<n.left,o=t.left>n.right;return r||i||s||o})}function ak(t,e){return e.some(n=>{let r=t.top<n.top,i=t.bottom>n.bottom,s=t.left<n.left,o=t.right>n.right;return r||i||s||o})}var CD=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();DD(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},x5=(()=>{let e=class e{constructor(r,i,s,o){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new ym,this.close=a=>new bD(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new ID(this._viewportRuler,this._document),this.reposition=a=>new CD(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.\u0275fac=function(i){return new(i||e)(y(sk),y(vD),y(P),y(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bu=class{constructor(e){if(this.scrollStrategy=new ym,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let r of n)e[r]!==void 0&&(this[r]=e[r])}}};var TD=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var hk=(()=>{let e=class e{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(i){return new(i||e)(y(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),M5=(()=>{let e=class e extends hk{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(i){return new(i||e)(y(z),y(P,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),N5=(()=>{let e=class e extends hk{constructor(r,i,s){super(r),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Pn(o)},this._clickListener=o=>{let a=Pn(o),c=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let d=l[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(c))break;let h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(i){return new(i||e)(y(z),y(ze),y(P,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Va=(()=>{let e=class e{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||_u()){let s=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let i=this._document.createElement("div");i.classList.add(r),_u()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.\u0275fac=function(i){return new(i||e)(y(z),y(ze))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gr=class{constructor(e,n,r,i,s,o,a,c,l,u=!1){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new B,this._attachments=new B,this._detachments=new B,this._locationChanges=be.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new B,this._outsidePointerEvents=new B,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ke(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=w(w({},this._config),e),this._updateElementSize()}setDirection(e){this._config=de(w({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=We(this._config.width),e.height=We(this._config.height),e.minWidth=We(this._config.minWidth),e.minHeight=We(this._config.minHeight),e.maxWidth=We(this._config.maxWidth),e.maxHeight=We(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){let i=Ma(n||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(In(qa(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},ck="cdk-overlay-connected-position-bounding-box",P5=/([A-Za-z%]+)$/,SD=class{get positions(){return this._preferredPositions}constructor(e,n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new B,this._resizeSubscription=be.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(ck),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,n,a),u=this._getOverlayFit(l,n,r,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,l,r)){s.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(s.length){let a=null,c=-1;for(let l of s){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qs(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ck),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?o:a}n.left<0&&(i-=n.left);let s;return r.originY=="center"?s=e.top+e.height/2:s=r.originY=="top"?e.top:e.bottom,n.top<0&&(s-=n.top),{x:i,y:s}}_getOverlayPoint(e,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let s;return r.overlayY=="center"?s=-n.height/2:s=r.overlayY=="top"?0:-n.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,n,r,i){let s=uk(n),{x:o,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(o+=c),l&&(a+=l);let u=0-o,d=o+s.width-r.width,h=0-a,f=a+s.height-r.height,p=this._subtractOverflows(s.width,u,d),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,s=r.right-n.x,o=lk(this._overlayRef.getConfig().minHeight),a=lk(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||o!=null&&o<=i,l=e.fitsInViewportHorizontally||a!=null&&a<=s;return c&&l}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=uk(n),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),l=Math.max(s.left-r.left-e.x,0),u=0,d=0;return i.width<=s.width?u=l||-o:u=e.x<this._viewportMargin?s.left-r.left-e.x:0,i.height<=s.height?d=c||-a:d=e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){let r=this._getScrollVisibility(),i=new TD(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){let r=this._viewportRect,i=this._isRtl(),s,o,a;if(n.overlayY==="top")o=e.y,s=r.height-o+this._viewportMargin;else if(n.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,s=r.height-a+this._viewportMargin;else{let f=Math.min(r.bottom-e.y+r.top,e.y),p=this._lastBoundingBoxSize.height;s=f*2,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,l=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,u,d,h;if(l)h=r.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if(c)d=e.x,u=r.right-e.x;else{let f=Math.min(r.right-e.x+r.left,e.x),p=this._lastBoundingBoxSize.width;u=f*2,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,n){let r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=We(r.height),i.top=We(r.top),i.bottom=We(r.bottom),i.width=We(r.width),i.left=We(r.left),i.right=We(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=We(s)),o&&(i.maxWidth=We(o))}this._lastBoundingBoxSize=r,Qs(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Qs(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qs(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){let u=this._viewportRuler.getViewportScrollPosition();Qs(r,this._getExactOverlayY(n,e,u)),Qs(r,this._getExactOverlayX(n,e,u))}else r.position="static";let a="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=We(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=We(o.maxWidth):s&&(r.maxWidth="")),Qs(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;i.bottom=`${o-(s.y+this._overlayRect.height)}px`}else i.top=We(s.y);return i}_getExactOverlayX(e,n,r){let i={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(s.x+this._overlayRect.width)}px`}else i.left=We(s.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ak(e,r),isOriginOutsideView:DD(e,r),isOverlayClipped:ak(n,r),isOverlayOutsideView:DD(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ma(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof me)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}};function Qs(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function lk(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(P5);return!n||n==="px"?parseFloat(e):null}return t||null}function uk(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}var dk="cdk-global-overlay-wrapper",AD=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(dk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!o||o==="100%"||o==="100vw"),l=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",p="",g="";c?g="flex-start":u==="center"?(g="center",h?p=d:f=d):h?u==="left"||u==="end"?(g="flex-end",f=d):(u==="right"||u==="start")&&(g="flex-start",p=d):u==="left"||u==="start"?(g="flex-start",f=d):(u==="right"||u==="end")&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":p,n.justifyContent=g,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(dk),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},O5=(()=>{let e=class e{constructor(r,i,s,o){this._viewportRuler=r,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new AD}flexibleConnectedTo(r){return new SD(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(i){return new(i||e)(y(vD),y(z),y(ze),y(Va))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k5=0,On=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,u,d,h,f,p){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=u,this._directionality=d,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(r){let i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new bu(r);return a.direction=a.direction||this._directionality.value,new Gr(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${k5++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(tr)),new pm(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(i){return new(i||e)(y(x5),y(Va),y(fi),y(O5),y(M5),y(Ce),y(P),y(z),y(wu),y(ir),y(N5),y(Lt,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var F5=new S("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=D(On);return()=>t.scrollStrategies.reposition()}});function L5(t){return()=>t.scrollStrategies.reposition()}var V5={provide:F5,deps:[On],useFactory:L5},fk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:[On,V5],imports:[Vi,mm,wD,wD]});let t=e;return t})();var j5=(()=>{let e=class e{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:[j5]});let t=e;return t})();var gk=new Set,Ys,B5=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$5}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&U5(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(y(ze),y(mc,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function U5(t,e){if(!gk.has(t))try{Ys||(Ys=document.createElement("style"),e&&(Ys.nonce=e),Ys.setAttribute("type","text/css"),document.head.appendChild(Ys)),Ys.sheet&&(Ys.sheet.insertRule(`@media ${t} {body{ }}`,0),gk.add(t))}catch(n){console.error(n)}}function $5(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var _k=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return yk(Ma(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let s=yk(Ma(r)).map(a=>this._registerQuery(a).observable),o=Wi(s);return o=Ln(o.pipe(ke(1)),o.pipe(Qa(1),pd(0))),o.pipe(Q(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),o={observable:new $(a=>{let c=l=>this._zone.run(()=>a.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(En(i),Q(({matches:a})=>({query:r,matches:a})),In(this._destroySubject)),mql:i};return this._queries.set(r,o),o}};e.\u0275fac=function(i){return new(i||e)(y(B5),y(P))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yk(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Du=(()=>{let e=class e{constructor(r){this._platform=r}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return z5(r)&&getComputedStyle(r).visibility==="visible"}isTabbable(r){if(!this._platform.isBrowser)return!1;let i=H5(X5(r));if(i&&(vk(i)===-1||!this.isVisible(i)))return!1;let s=r.nodeName.toLowerCase(),o=vk(r);return r.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Y5(r)?!1:s==="audio"?r.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||r.hasAttribute("controls"):r.tabIndex>=0}isFocusable(r,i){return Z5(r)&&!this.isDisabled(r)&&(i?.ignoreVisibility||this.isVisible(r))}};e.\u0275fac=function(i){return new(i||e)(y(ze))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H5(t){try{return t.frameElement}catch{return null}}function z5(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function q5(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function G5(t){return K5(t)&&t.type=="hidden"}function W5(t){return Q5(t)&&t.hasAttribute("href")}function K5(t){return t.nodeName.toLowerCase()=="input"}function Q5(t){return t.nodeName.toLowerCase()=="a"}function Ik(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function vk(t){if(!Ik(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function Y5(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function Z5(t){return G5(t)?!1:q5(t)||W5(t)||t.hasAttribute("contenteditable")||Ik(t)}function X5(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var xD=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,r,i,s=!1){this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(e),!!r}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ke(1)).subscribe(e)}},Cu=(()=>{let e=class e{constructor(r,i,s){this._checker=r,this._ngZone=i,this._document=s}create(r,i=!1){return new xD(r,this._checker,this._ngZone,this._document,i)}};e.\u0275fac=function(i){return new(i||e)(y(Du),y(P),y(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Uce=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(r){this.focusTrap&&(this.focusTrap.enabled=r)}constructor(r,i,s){this._elementRef=r,this._focusTrapFactory=i,this._previouslyFocusedElement=null,D(ze).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(r){let i=r.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Oa(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(i){return new(i||e)(T(me),T(Cu),T(z))},e.\u0275dir=ye({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[ce.HasDecoratorInputTransform,"cdkTrapFocus","enabled",cn],autoCapture:[ce.HasDecoratorInputTransform,"cdkTrapFocusAutoCapture","autoCapture",cn]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Mr,Rt]});let t=e;return t})();function MD(t){return t.buttons===0||t.detail===0}function ND(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var J5=new S("cdk-input-modality-detector-options"),e8={ignoreKeys:[18,17,224,91,16]},bk=650,ja=Pa({passive:!0,capture:!0}),t8=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(r,i,s,o){this._platform=r,this._mostRecentTarget=null,this._modality=new qe(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Pn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<bk||(this._modality.next(MD(a)?"keyboard":"mouse"),this._mostRecentTarget=Pn(a))},this._onTouchstart=a=>{if(ND(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Pn(a)},this._options=w(w({},e8),o),this.modalityDetected=this._modality.pipe(Qa(1)),this.modalityChanged=this.modalityDetected.pipe(Wa()),r.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,ja),s.addEventListener("mousedown",this._onMousedown,ja),s.addEventListener("touchstart",this._onTouchstart,ja)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ja),document.removeEventListener("mousedown",this._onMousedown,ja),document.removeEventListener("touchstart",this._onTouchstart,ja))}};e.\u0275fac=function(i){return new(i||e)(y(ze),y(P),y(z),y(J5,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vm=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(vm||{}),n8=new S("cdk-focus-monitor-default-options"),_m=Pa({passive:!0,capture:!0}),Tu=(()=>{let e=class e{constructor(r,i,s,o,a){this._ngZone=r,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new B,this._rootNodeFocusAndBlurListener=c=>{let l=Pn(c);for(let u=l;u;u=u.parentElement)c.type==="focus"?this._onFocus(c,u):this._onBlur(c,u)},this._document=o,this._detectionMode=a?.detectionMode||vm.IMMEDIATE}monitor(r,i=!1){let s=qr(r);if(!this._platform.isBrowser||s.nodeType!==1)return F();let o=rk(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new B,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(r){let i=qr(r),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(r,i,s){let o=qr(r),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,l])=>this._originChanged(c,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((r,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===vm.EVENTUAL||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,i){r.classList.toggle("cdk-focused",!!i),r.classList.toggle("cdk-touch-focused",i==="touch"),r.classList.toggle("cdk-keyboard-focused",i==="keyboard"),r.classList.toggle("cdk-mouse-focused",i==="mouse"),r.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(r,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&i,this._detectionMode===vm.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?bk:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(r,i){let s=this._elementInfo.get(i),o=Pn(r);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(r,i){let s=this._elementInfo.get(i);!s||s.checkChildren&&r.relatedTarget instanceof Node&&i.contains(r.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(r,i){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(i))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let i=r.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,_m),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,_m)}),this._rootNodeFocusListenerCount.set(i,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(In(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(r){let i=r.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_m),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_m),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,i,s){this._setClasses(r,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(r){let i=[];return this._elementInfo.forEach((s,o)=>{(o===r||s.checkChildren&&o.contains(r))&&i.push([o,s])}),i}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!i||i===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let o=r.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}};e.\u0275fac=function(i){return new(i||e)(y(P),y(ze),y(t8),y(z,8),y(n8,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$ce=(()=>{let e=class e{constructor(r,i){this._elementRef=r,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new ge}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let r=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(r,r.nodeType===1&&r.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(T(me),T(Tu))},e.\u0275dir=ye({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),Zs=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Zs||{}),wk="cdk-high-contrast-black-on-white",Ek="cdk-high-contrast-white-on-black",RD="cdk-high-contrast-active",PD=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=D(_k).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Zs.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Zs.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Zs.BLACK_ON_WHITE}return Zs.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(RD,wk,Ek),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Zs.BLACK_ON_WHITE?r.add(RD,wk):i===Zs.WHITE_ON_BLACK&&r.add(RD,Ek)}}};e.\u0275fac=function(i){return new(i||e)(y(ze),y(z))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hce=(()=>{let e=class e{constructor(r){r._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(i){return new(i||e)(y(PD))},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[mk]});let t=e;return t})();function r8(t,e){}var Xs=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var LD=(()=>{let e=class e extends La{constructor(r,i,s,o,a,c,l,u){super(),this._elementRef=r,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=l,this._focusMonitor=u,this._platform=D(ze),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=D(Xn),this.attachDomPortal=d=>{this._portalOutlet.hasAttached();let h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let i=this._ariaLabelledByQueue.indexOf(r);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),i}attachTemplatePortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,i){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{r.removeEventListener("blur",s),r.removeEventListener("mousedown",s),r.removeAttribute("tabindex")};r.addEventListener("blur",s),r.addEventListener("mousedown",s)})),r.focus(i)}_focusByCssSelector(r,i){let s=this._elementRef.nativeElement.querySelector(r);s&&this._forceFocus(s,i)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,i=null;if(typeof r=="string"?i=this._document.querySelector(r):typeof r=="boolean"?i=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(i=r),this._config.restoreFocus&&i&&typeof i.focus=="function"){let s=Oa(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,i=Oa();return r===i||r.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Oa()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(i){return new(i||e)(T(me),T(Cu),T(z,8),T(Xs),T(Du),T(P),T(Gr),T(Tu))},e.\u0275cmp=Qn({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(i&1&&yh(Iu,7),i&2){let o;vc(o=wc())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){i&2&&Jn("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Je,er],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){i&1&&$t(0,r8,0,0,"ng-template",0)},dependencies:[Iu],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),Su=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new B,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!gm(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},i8=new S("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=D(On);return()=>t.scrollStrategies.block()}}),s8=new S("DialogData"),o8=new S("DefaultDialogConfig");var a8=0,Dk=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,i,s,o,a,c){this._overlay=r,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B,this._afterOpenedAtThisLevel=new B,this._ariaHiddenElements=new Map,this.afterAllClosed=ni(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(En(void 0))),this._scrollStrategy=c}open(r,i){let s=this._defaultOptions||new Xs;i=w(w({},s),i),i.id=i.id||`cdk-dialog-${a8++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=this._overlay.create(o),c=new Su(a,i),l=this._attachContainer(a,c,i);return c.containerInstance=l,this._attachDialogContent(r,c,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){kD(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){kD(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),kD(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let i=new bu({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(i.backdropClass=r.backdropClass),i}_attachContainer(r,i,s){let o=s.injector||s.viewContainerRef?.injector,a=[{provide:Xs,useValue:s},{provide:Su,useValue:i},{provide:Gr,useValue:r}],c;s.container?typeof s.container=="function"?c=s.container:(c=s.container.type,a.push(...s.container.providers(s))):c=LD;let l=new ka(c,s.viewContainerRef,Ce.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return r.attach(l).instance}_attachDialogContent(r,i,s,o){if(r instanceof Tn){let a=this._createInjector(o,i,s,void 0),c={$implicit:o.data,dialogRef:i};o.templateContext&&(c=w(w({},c),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new Fa(r,null,c,a))}else{let a=this._createInjector(o,i,s,this._injector),c=s.attachComponentPortal(new ka(r,o.viewContainerRef,a,o.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(r,i,s,o){let a=r.injector||r.viewContainerRef?.injector,c=[{provide:s8,useValue:r.data},{provide:Su,useValue:i}];return r.providers&&(typeof r.providers=="function"?c.push(...r.providers(i,r,s)):c.push(...r.providers)),r.direction&&(!a||!a.get(wu,null,{optional:!0}))&&c.push({provide:wu,useValue:{value:r.direction,change:F()}}),Ce.create({parent:a||o,providers:c})}_removeOpenDialog(r,i){let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let i=r.parentElement.children;for(let s=i.length-1;s>-1;s--){let o=i[s];o!==r&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(i){return new(i||e)(y(On),y(Ce),y(o8,8),y(e,12),y(Va),y(i8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kD(t,e){let n=t.length;for(;n--;)e(t[n])}function c8(){return!0}var l8=new S("mat-sanity-checks",{providedIn:"root",factory:c8}),Ck=(()=>{let e=class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return _u()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(y(PD),y(l8,8),y(z))},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[Vi,Vi]});let t=e;return t})();var Tk=class{constructor(e,n,r,i,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=typeof r?.isErrorState=="function"?r.isErrorState(i,n):!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var Sk=new S("MAT_DATE_LOCALE",{providedIn:"root",factory:u8});function u8(){return D(Lo)}var Em=class{constructor(){this._localeChanges=new B,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let r=this.isValid(e),i=this.isValid(n);return r&&i?!this.compareDate(e,n):r==i}return e==n}clampDate(e,n,r){return n&&this.compareDate(e,n)<0?n:r&&this.compareDate(e,r)>0?r:e}},d8=new S("mat-date-formats"),h8=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function VD(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}var f8=(()=>{let e=class e extends Em{constructor(r){super(),this.useUtcForDisplay=!1,this._matDateLocale=D(Sk,{optional:!0}),r!==void 0&&(this._matDateLocale=r),super.setLocale(this._matDateLocale)}getYear(r){return r.getFullYear()}getMonth(r){return r.getMonth()}getDate(r){return r.getDate()}getDayOfWeek(r){return r.getDay()}getMonthNames(r){let i=new Intl.DateTimeFormat(this.locale,{month:r,timeZone:"utc"});return VD(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){let r=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return VD(31,i=>this._format(r,new Date(2017,0,i+1)))}getDayOfWeekNames(r){let i=new Intl.DateTimeFormat(this.locale,{weekday:r,timeZone:"utc"});return VD(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(r){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,r)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(r){return this.getDate(this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+1,0))}clone(r){return new Date(r.getTime())}createDate(r,i,s){let o=this._createDateWithOverflow(r,i,s);return o.getMonth()!=i,o}today(){return new Date}parse(r,i){return typeof r=="number"?new Date(r):r?new Date(Date.parse(r)):null}format(r,i){if(!this.isValid(r))throw Error("NativeDateAdapter: Cannot format invalid date.");let s=new Intl.DateTimeFormat(this.locale,de(w({},i),{timeZone:"utc"}));return this._format(s,r)}addCalendarYears(r,i){return this.addCalendarMonths(r,i*12)}addCalendarMonths(r,i){let s=this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+i,this.getDate(r));return this.getMonth(s)!=((this.getMonth(r)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(r,i){return this._createDateWithOverflow(this.getYear(r),this.getMonth(r),this.getDate(r)+i)}toIso8601(r){return[r.getUTCFullYear(),this._2digit(r.getUTCMonth()+1),this._2digit(r.getUTCDate())].join("-")}deserialize(r){if(typeof r=="string"){if(!r)return null;if(h8.test(r)){let i=new Date(r);if(this.isValid(i))return i}}return super.deserialize(r)}isDateInstance(r){return r instanceof Date}isValid(r){return!isNaN(r.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(r,i,s){let o=new Date;return o.setFullYear(r,i,s),o.setHours(0,0,0,0),o}_2digit(r){return("00"+r).slice(-2)}_format(r,i){let s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),r.format(s)}};e.\u0275fac=function(i){return new(i||e)(y(Sk,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),p8={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function xle(t=p8){return[{provide:Em,useClass:f8},{provide:d8,useValue:t}]}var Mle=(()=>{let e=class e{isErrorState(r,i){return!!(r&&r.invalid&&(r.touched||i&&i.submitted))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _n=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(_n||{}),UD=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=_n.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Ak=Pa({passive:!0,capture:!0}),$D=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Pn(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){let s=this._events.get(n);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Ak)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let s=i.get(n);s&&(s.delete(r),s.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Ak)))}},Rk={enterDuration:225,exitDuration:150},m8=800,xk=Pa({passive:!0,capture:!0}),Mk=["mousedown","touchstart"],Nk=["mouseup","mouseleave","touchend","touchcancel"],Au=class Au{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=qr(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=w(w({},Rk),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let o=r.radius||g8(e,n,i),a=e-i.left,c=n-i.top,l=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-o}px`,u.style.top=`${c-o}px`,u.style.height=`${o*2}px`,u.style.width=`${o*2}px`,r.color!=null&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),h=d.transitionProperty,f=d.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||i.width===0&&i.height===0,g=new UD(this,u,r,p);u.style.transform="scale3d(1, 1, 1)",g.state=_n.FADING_IN,r.persistent||(this._mostRecentTransientRipple=g);let _=null;return!p&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let E=()=>this._finishRippleTransition(g),M=()=>this._destroyRipple(g);u.addEventListener("transitionend",E),u.addEventListener("transitioncancel",M),_={onTransitionEnd:E,onTransitionCancel:M}}),this._activeRipples.set(g,_),(p||!l)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(e.state===_n.FADING_OUT||e.state===_n.HIDDEN)return;let n=e.element,r=w(w({},Rk),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=_n.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=qr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,Mk.forEach(r=>{Au._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Nk.forEach(n=>{this._triggerElement.addEventListener(n,this,xk)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===_n.FADING_IN?this._startFadeOutTransition(e):e.state===_n.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=_n.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=_n.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=MD(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+m8;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ND(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===_n.VISIBLE||e.config.terminateOnPointerUp&&e.state===_n.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Mk.forEach(n=>Au._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&Nk.forEach(n=>e.removeEventListener(n,this,xk)))}};Au._eventManager=new $D;var HD=Au;function g8(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var Fk=new S("mat-ripple-global-options"),y8=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,i,s,o,a){this._elementRef=r,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new HD(this,i,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:w(w(w({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,i=0,s){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,i,w(w({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,w(w({},this.rippleConfig),r))}};e.\u0275fac=function(i){return new(i||e)(T(me),T(P),T(ze),T(Fk,8),T(Lt,8))},e.\u0275dir=ye({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){i&2&&Nr("mat-ripple-unbounded",s.unbounded)},inputs:{color:[ce.None,"matRippleColor","color"],unbounded:[ce.None,"matRippleUnbounded","unbounded"],centered:[ce.None,"matRippleCentered","centered"],radius:[ce.None,"matRippleRadius","radius"],animation:[ce.None,"matRippleAnimation","animation"],disabled:[ce.None,"matRippleDisabled","disabled"],trigger:[ce.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),Nle=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[Ck,Ck]});let t=e;return t})();var Pk={capture:!0},Ok=["focus","click","mouseenter","touchstart"],jD="mat-ripple-loader-uninitialized",BD="mat-ripple-loader-class-name",kk="mat-ripple-loader-centered",wm="mat-ripple-loader-disabled",Ple=(()=>{let e=class e{constructor(){this._document=D(z,{optional:!0}),this._animationMode=D(Lt,{optional:!0}),this._globalRippleOptions=D(Fk,{optional:!0}),this._platform=D(ze),this._ngZone=D(P),this._hosts=new Map,this._onInteraction=r=>{if(!(r.target instanceof HTMLElement))return;let s=r.target.closest(`[${jD}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(let r of Ok)this._document?.addEventListener(r,this._onInteraction,Pk)})}ngOnDestroy(){let r=this._hosts.keys();for(let i of r)this.destroyRipple(i);for(let i of Ok)this._document?.removeEventListener(i,this._onInteraction,Pk)}configureRipple(r,i){r.setAttribute(jD,""),(i.className||!r.hasAttribute(BD))&&r.setAttribute(BD,i.className||""),i.centered&&r.setAttribute(kk,""),i.disabled&&r.setAttribute(wm,"")}getRipple(r){return this._hosts.get(r)||this._createRipple(r)}setDisabled(r,i){let s=this._hosts.get(r);if(s){s.disabled=i;return}i?r.setAttribute(wm,""):r.removeAttribute(wm)}_createRipple(r){if(!this._document)return;let i=this._hosts.get(r);if(i)return i;r.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",r.getAttribute(BD)),r.append(s);let o=new y8(new me(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=r,o.centered=r.hasAttribute(kk),o.disabled=r.hasAttribute(wm),this.attachRipple(r,o),o}attachRipple(r,i){r.removeAttribute(jD),this._hosts.set(r,i)}destroyRipple(r){let i=this._hosts.get(r);i&&(i.ngOnDestroy(),this._hosts.delete(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _8(t,e){}var Ru=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},zD="mdc-dialog--open",Lk="mdc-dialog--opening",Vk="mdc-dialog--closing",v8=150,w8=75,E8=(()=>{let e=class e extends LD{constructor(r,i,s,o,a,c,l,u,d){super(r,i,s,o,a,c,l,d),this._animationMode=u,this._animationStateChanged=new ge,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Bk(this._config.enterAnimationDuration)??v8:0,this._exitAnimationDuration=this._animationsEnabled?Bk(this._config.exitAnimationDuration)??w8:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(jk,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Lk,zD)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(zD),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(zD),this._animationsEnabled?(this._hostElement.style.setProperty(jk,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Vk)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Lk,Vk)}_waitForAnimationToComplete(r,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(r){let i=super.attachComponentPortal(r);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}};e.\u0275fac=function(i){return new(i||e)(T(me),T(Cu),T(z,8),T(Ru),T(Du),T(P),T(Gr),T(Lt,8),T(Tu))},e.\u0275cmp=Qn({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,s){i&2&&(mh("id",s._config.id),Jn("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Nr("_mat-animation-noopable",!s._animationsEnabled))},standalone:!0,features:[Je,er],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,s){i&1&&(xt(0,"div",0)(1,"div",1),$t(2,_8,0,0,"ng-template",2),yt()())},dependencies:[Iu],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let t=e;return t})(),jk="--mat-dialog-transition-duration";function Bk(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?gu(t.substring(0,t.length-2)):t.endsWith("s")?gu(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Im=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Im||{}),qD=class{constructor(e,n,r){this._ref=e,this._containerInstance=r,this._afterOpened=new B,this._beforeClosed=new B,this._state=Im.OPEN,this.disableClose=n.disableClose,this.id=e.id,r._animationStateChanged.pipe(Me(i=>i.state==="opened"),ke(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Me(i=>i.state==="closed"),ke(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),qa(this.backdropClick(),this.keydownEvents().pipe(Me(i=>i.keyCode===27&&!this.disableClose&&!gm(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),I8(this,i.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Me(n=>n.state==="closing"),ke(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Im.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Im.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function I8(t,e,n){return t._closeInteractionType=e,t.close(n)}var GD=new S("MatMdcDialogData"),b8=new S("mat-mdc-dialog-default-options"),D8=new S("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=D(On);return()=>t.scrollStrategies.block()}});var C8=0,Uk=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,i,s,o,a,c,l,u){this._overlay=r,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B,this._afterOpenedAtThisLevel=new B,this.dialogConfigClass=Ru,this.afterAllClosed=ni(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(En(void 0))),this._dialog=i.get(Dk),this._dialogRefConstructor=qD,this._dialogContainerType=E8,this._dialogDataToken=GD}open(r,i){let s;i=w(w({},this._defaultOptions||new Ru),i),i.id=i.id||`mat-mdc-dialog-${C8++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(r,de(w({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Xs,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(a,c,l)=>(s=new this._dialogRefConstructor(a,i,l),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=o.componentRef,s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let i=r.length;for(;i--;)r[i].close()}};e.\u0275fac=function(i){return new(i||e)(y(On),y(Ce),y(ir,8),y(b8,8),y(D8),y(e,12),y(Va),y(Lt,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function S8(t,e){if(t&1){let n=__();xt(0,"button",12),_t("click",function(){Ny(n);let i=Oo();return Py(i.cancel())}),RT(),xt(1,"svg",13),pi(2,"path",14),yt(),xT(),xt(3,"span",15),ko(4,"Close modal"),yt()()}}function A8(t,e){t&1&&y_(0)}function R8(t,e){if(t&1&&$t(0,A8,1,0,"ng-container",16),t&2){let n=Oo();ls("ngTemplateOutlet",n.templateRef)}}function x8(t,e){if(t&1){let n=__();xt(0,"button",17),_t("click",function(){Ny(n);let i=Oo();return Py(i.cancel())}),ko(1),yt()}if(t&2){let n=Oo();Zn(),ds(" ",n.cancelText," ")}}var $k=(()=>{let e=class e{constructor(r){if(this.data=r,this.doConfirm=new ge,this.doCancel=new ge,this.title="\u901A\u77E5",this.content="",this.okText="\u78BA\u8A8D",this.cancelText="\u53D6\u6D88",this.showCrossBtn=!0,this.outsideClose=!1,this.showCancelBtn=!0,this.btnCenter=!0,this.fullScreen=!1,this.data){let{title:i,content:s,okText:o,cancelText:a,showCrossBtn:c,outsideClose:l,showCancelBtn:u,contentTemplateRef:d,btnCenter:h,fullScreen:f}=r;this.title=i,this.content=s,this.okText=o,this.cancelText=a,this.showCrossBtn=c,this.outsideClose=l,this.showCancelBtn=u,this.btnCenter=h,this.templateRef=d,this.fullScreen=f}}ngOnInit(){}clickOutsideClose(){this.outsideClose&&this.cancel()}cancel(){this.doCancel.emit()}ok(){this.doConfirm.emit()}};e.\u0275fac=function(i){return new(i||e)(T(GD))},e.\u0275cmp=Qn({type:e,selectors:[["app-modal"]],outputs:{doConfirm:"doConfirm",doCancel:"doCancel"},standalone:!0,features:[er],decls:15,vars:6,consts:[[1,"bg-white","dark:bg-gray-700","min-w-72","min-h-48","flex","overflow-y-auto","overflow-x-hidden","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","w-full","max-w-2xl","max-h-screen","overflow-scroll"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide","default-modal",3,"click",4,"ngIf"],[1,"p-4","md:p-5","space-y-4","text-gray-900","dark:text-white","min-h-20"],[3,"innerHTML"],[1,"flex","justify-center","items-center","p-4","md:p-5","border-t","border-gray-200","rounded-b","dark:border-gray-600"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["type","button","class","ms-3 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",3,"click",4,"ngIf"],[1,"fixed","h-full","w-full","top-0","left-0","-z-10",3,"click"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[4,"ngTemplateOutlet"],["type","button",1,"ms-3","text-gray-500","bg-white","hover:bg-gray-100","focus:ring-4","focus:outline-none","focus:ring-blue-300","rounded-lg","border","border-gray-200","text-sm","font-medium","px-5","py-2.5","hover:text-gray-900","focus:z-10","dark:bg-gray-700","dark:text-gray-300","dark:border-gray-500","dark:hover:text-white","dark:hover:bg-gray-600","dark:focus:ring-gray-600",3,"click"]],template:function(i,s){i&1&&(xt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),ko(5),yt(),$t(6,S8,5,0,"button",5),yt(),xt(7,"div",6),pi(8,"p",7),$t(9,R8,1,1,"ng-container"),yt(),xt(10,"div",8)(11,"button",9),_t("click",function(){return s.ok()}),ko(12),yt(),$t(13,x8,2,1,"button",10),yt()()()(),xt(14,"div",11),_t("click",function(){return s.clickOutsideClose()}),yt()),i&2&&(Zn(5),ds(" ",s.title," "),Zn(),ls("ngIf",s.showCrossBtn&&s.showCancelBtn),Zn(2),ls("innerHTML",s.content,vS),Zn(),g_(9,s.templateRef?9:-1),Zn(3),ds(" ",s.okText," "),Zn(),ls("ngIf",s.showCancelBtn))},dependencies:[hs,kA,FA]});let t=e;return t})();var fue=(()=>{let e=class e{constructor(r){this.dialog=r,this.modalQueue=[],this.currentModal$=new qi,this.executeStatus$=new B,this.executeModal()}executeModal(){this.executeStatus$.subscribe(()=>{this.modalQueue.length>0&&this.currentModal$.next(this.modalQueue[0])})}openConfirm(r){let i=Date.now();this.pushModalConfig(i);let s=({title:o="\u901A\u77E5",content:a,okText:c="\u78BA\u8A8D",cancelText:l="\u53D6\u6D88",outsideClose:u=!1,showCrossBtn:d=!0,showCancelBtn:h=!0,btnCenter:f=!0,fullScreen:p=!1,contentTemplateRef:g})=>{let _={data:{content:a,title:o,okText:c,cancelText:l,outsideClose:u,showCrossBtn:d,showCancelBtn:h,btnCenter:f,fullScreen:p,contentTemplateRef:g}};return p?w({maxWidth:"100vw",width:"100%"},_):_};return this.modalQueue.length===1&&this.executeStatus$.next(!0),new Promise(o=>{this.currentModal$.subscribe(a=>{if(a===i){let c=this.dialog.open($k,s(r));o(c),c.componentInstance.doConfirm.subscribe(()=>{r.onOk&&r.onOk(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)}),c.componentInstance.doCancel.subscribe(()=>{r.onCancel&&r.onCancel(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)})}})})}pushModalConfig(r){this.modalQueue.push(r)}cleanQueue(){let r=this.modalQueue[0];this.modalQueue=[r]}};e.\u0275fac=function(i){return new(i||e)(y(Uk))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zk=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(T(Rr),T(me))},e.\u0275dir=ye({type:e});let t=e;return t})(),KD=(()=>{let e=class e extends Zk{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=di(e)))(s||e)}})(),e.\u0275dir=ye({type:e,features:[Je]});let t=e;return t})(),Pu=new S("NgValueAccessor"),M8={provide:Pu,useExisting:Kn(()=>N8),multi:!0},N8=(()=>{let e=class e extends KD{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=di(e)))(s||e)}})(),e.\u0275dir=ye({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&_t("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[an([M8]),Je]});let t=e;return t})(),P8={provide:Pu,useExisting:Kn(()=>Xk),multi:!0};function O8(){let t=rr()?rr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var k8=new S("CompositionEventMode"),Xk=(()=>{let e=class e extends Zk{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!O8())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(T(Rr),T(me),T(k8,8))},e.\u0275dir=ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&_t("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[an([P8]),Je]});let t=e;return t})();function ji(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Jk(t){return t!=null&&typeof t.length=="number"}var Nm=new S("NgValidators"),Pm=new S("NgAsyncValidators"),F8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Hk=class{static min(e){return L8(e)}static max(e){return V8(e)}static required(e){return j8(e)}static requiredTrue(e){return B8(e)}static email(e){return U8(e)}static minLength(e){return $8(e)}static maxLength(e){return H8(e)}static pattern(e){return z8(e)}static nullValidator(e){return eF(e)}static compose(e){return oF(e)}static composeAsync(e){return aF(e)}};function L8(t){return e=>{if(ji(e.value)||ji(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function V8(t){return e=>{if(ji(e.value)||ji(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function j8(t){return ji(t.value)?{required:!0}:null}function B8(t){return t.value===!0?null:{required:!0}}function U8(t){return ji(t.value)||F8.test(t.value)?null:{email:!0}}function $8(t){return e=>ji(e.value)||!Jk(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function H8(t){return e=>Jk(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function z8(t){if(!t)return eF;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ji(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function eF(t){return null}function tF(t){return t!=null}function nF(t){return us(t)?Te(t):t}function rF(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function iF(t,e){return e.map(n=>n(t))}function q8(t){return!t.validate}function sF(t){return t.map(e=>q8(e)?e:n=>e.validate(n))}function oF(t){if(!t)return null;let e=t.filter(tF);return e.length==0?null:function(n){return rF(iF(n,e))}}function QD(t){return t!=null?oF(sF(t)):null}function aF(t){if(!t)return null;let e=t.filter(tF);return e.length==0?null:function(n){let r=iF(n,e).map(nF);return eg(r).pipe(Q(rF))}}function YD(t){return t!=null?aF(sF(t)):null}function zk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cF(t){return t._rawValidators}function lF(t){return t._rawAsyncValidators}function WD(t){return t?Array.isArray(t)?t:[t]:[]}function Dm(t,e){return Array.isArray(t)?t.includes(e):t===e}function qk(t,e){let n=WD(e);return WD(t).forEach(i=>{Dm(n,i)||n.push(i)}),n}function Gk(t,e){return WD(e).filter(n=>!Dm(t,n))}var Cm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=QD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Wr=class extends Cm{get formDirective(){return null}get path(){return null}},Js=class extends Cm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Tm=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},G8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Mue=de(w({},G8),{"[class.ng-submitted]":"isSubmitted"}),Nue=(()=>{let e=class e extends Tm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(T(Js,2))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Nr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Je]});let t=e;return t})(),Pue=(()=>{let e=class e extends Tm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(T(Wr,10))},e.\u0275dir=ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Nr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Je]});let t=e;return t})();var xu="VALID",bm="INVALID",Ba="PENDING",Mu="DISABLED";function uF(t){return(Om(t)?t.validators:t)||null}function W8(t){return Array.isArray(t)?QD(t):t||null}function dF(t,e){return(Om(e)?e.asyncValidators:t)||null}function K8(t){return Array.isArray(t)?YD(t):t||null}function Om(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Q8(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function Y8(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new C(1002,"")})}var Sm=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xu}get invalid(){return this.status===bm}get pending(){return this.status==Ba}get disabled(){return this.status===Mu}get enabled(){return this.status!==Mu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Gk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Gk(e,this._rawAsyncValidators))}hasValidator(e){return Dm(this._rawValidators,e)}hasAsyncValidator(e){return Dm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ba,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Mu,this.errors=null,this._forEachChild(r=>{r.disable(de(w({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(de(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xu,this._forEachChild(r=>{r.enable(de(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(de(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xu||this.status===Ba)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mu:xu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ba,this._hasOwnPendingAsyncValidator=!0;let n=nF(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?Mu:this.errors?bm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ba)?Ba:this._anyControlsHaveStatus(bm)?bm:xu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Om(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=W8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=K8(this._rawAsyncValidators)}},Am=class extends Sm{constructor(e,n,r){super(uF(n),dF(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Y8(this,!0,e),Object.keys(e).forEach(r=>{Q8(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ou=new S("CallSetDisabledState",{providedIn:"root",factory:()=>km}),km="always";function hF(t,e){return[...e.path,t]}function Rm(t,e,n=km){ZD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),X8(t,e),eK(t,e),J8(t,e),Z8(t,e)}function Wk(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Mm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function xm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Z8(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ZD(t,e){let n=cF(t);e.validator!==null?t.setValidators(zk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=lF(t);e.asyncValidator!==null?t.setAsyncValidators(zk(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();xm(e._rawValidators,i),xm(e._rawAsyncValidators,i)}function Mm(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=cF(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=lF(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return xm(e._rawValidators,r),xm(e._rawAsyncValidators,r),n}function X8(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&fF(t,e)})}function J8(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&fF(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function fF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function eK(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function pF(t,e){t==null,ZD(t,e)}function tK(t,e){return Mm(t,e)}function mF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function nK(t){return Object.getPrototypeOf(t.constructor)===KD}function gF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function yF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Xk?n=s:nK(s)?r=s:i=s}),i||r||n||null}function rK(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var iK={provide:Wr,useExisting:Kn(()=>sK)},Nu=Promise.resolve(),sK=(()=>{let e=class e extends Wr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ge,this.form=new Am({},QD(r),YD(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Nu.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Rm(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Nu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Nu.then(()=>{let i=this._findContainer(r.path),s=new Am({});pF(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Nu.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Nu.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,gF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(T(Nm,10),T(Pm,10),T(Ou,8))},e.\u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&_t("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[ce.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[an([iK]),Je]});let t=e;return t})();function Kk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qk(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var _F=class extends Sm{constructor(e=null,n,r){super(uF(n),dF(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Om(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Qk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Qk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var oK=t=>t instanceof _F;var aK={provide:Js,useExisting:Kn(()=>cK)},Yk=Promise.resolve(),cK=(()=>{let e=class e extends Js{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new _F,this._registered=!1,this.name="",this.update=new ge,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=yF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),mF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Rm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Yk.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&cn(i);Yk.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?hF(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(T(Wr,9),T(Nm,10),T(Pm,10),T(Pu,10),T(Xn,8),T(Ou,8))},e.\u0275dir=ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ce.None,"disabled","isDisabled"],model:[ce.None,"ngModel","model"],options:[ce.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[an([aK]),Je,Rt]});let t=e;return t})();var lK={provide:Pu,useExisting:Kn(()=>uK),multi:!0},uK=(()=>{let e=class e extends KD{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=di(e)))(s||e)}})(),e.\u0275dir=ye({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&_t("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[an([lK]),Je]});let t=e;return t})();var dK=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();var vF=new S("NgModelWithFormControlWarning");var hK={provide:Wr,useExisting:Kn(()=>fK)},fK=(()=>{let e=class e extends Wr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ge,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Mm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Rm(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){Wk(r.control||null,r,!1),rK(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,gF(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(Wk(i||null,r),oK(s)&&(Rm(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);pF(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&tK(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ZD(this.form,this),this._oldForm&&Mm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(T(Nm,10),T(Pm,10),T(Ou,8))},e.\u0275dir=ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&_t("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[ce.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[an([hK]),Je,Rt]});let t=e;return t})();var pK={provide:Js,useExisting:Kn(()=>mK)},mK=(()=>{let e=class e extends Js{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new ge,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=yF(this,o)}ngOnChanges(r){this._added||this._setUpControl(),mF(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return hF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(T(Wr,13),T(Nm,10),T(Pm,10),T(Pu,10),T(vF,8))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[ce.None,"formControlName","name"],isDisabled:[ce.None,"disabled","isDisabled"],model:[ce.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[an([pK]),Je,Rt]});let t=e;return t})();var wF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[dK]});let t=e;return t})();var XD=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ou,useValue:r.callSetDisabledState??km}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[wF]});let t=e;return t})(),JD=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:vF,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Ou,useValue:r.callSetDisabledState??km}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[wF]});let t=e;return t})();var gK=[hs,XD,JD,Av],Bue=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[gK,hs,XD,JD,Av]});let t=e;return t})();export{w as a,de as b,yK as c,_K as d,m as e,be as f,$ as g,B as h,R0 as i,Ot as j,_7 as k,Te as l,F as m,uo as n,Q as o,xe as p,Ln as q,ni as r,za as s,c1 as t,qa as u,l1 as v,Me as w,ke as x,d1 as y,p1 as z,J0 as A,En as B,jt as C,In as D,Ge as E,Kn as F,v1 as G,I as H,X as I,Ke as J,S as K,y as L,D as M,ce as N,Qn as O,J as P,ye as Q,Rt as R,Ny as S,Py as T,RT as U,xT as V,di as W,$y as X,ut as Y,qy as Z,ih as _,GL as $,Ce as aa,sn as ba,Lt as ca,$te as da,me as ea,ES as fa,Zn as ga,T as ha,xS as ia,Xn as ja,ge as ka,P as la,Je as ma,Mr as na,on as oa,$t as pa,Jn as qa,ls as ra,m_ as sa,Nr as ta,qte as ua,g_ as va,Gte as wa,Wte as xa,Kte as ya,Qte as za,xt as Aa,yt as Ba,pi as Ca,__ as Da,mh as Ea,hU as Fa,_t as Ga,_U as Ha,Oo as Ia,lA as Ja,uA as Ka,Tn as La,MU as Ma,yh as Na,vc as Oa,wc as Pa,Zte as Qa,ko as Ra,OU as Sa,ds as Ta,an as Ua,er as Va,Xte as Wa,Jte as Xa,ene as Ya,tne as Za,nne as _a,bh as $a,tr as ab,rne as bb,cn as cb,z as db,MA as eb,Dne as fb,kA as gb,Cne as hb,FA as ib,Tne as jb,hs as kb,P_ as lb,Gne as mb,Wne as nb,_i as ob,E$ as pb,Sn as qb,dre as rb,hre as sb,Av as tb,gre as ub,tie as vb,nie as wb,bs as xb,Gie as yb,jw as zb,eM as Ab,Qie as Bb,ft as Cb,au as Db,xoe as Eb,Moe as Fb,Noe as Gb,Poe as Hb,Ooe as Ib,koe as Jb,Foe as Kb,Loe as Lb,Voe as Mb,joe as Nb,Boe as Ob,Uoe as Pb,$oe as Qb,Hoe as Rb,zoe as Sb,qoe as Tb,Goe as Ub,_5 as Vb,gu as Wb,Ma as Xb,qr as Yb,gae as Zb,ze as _b,bae as $b,Pa as ac,rk as bc,Oa as cc,Pn as dc,wu as ec,sk as fc,vD as gc,ik as hc,ka as ic,Fa as jc,Iu as kc,mm as lc,gm as mc,bu as nc,SD as oc,On as pc,fk as qc,mk as rc,Uce as sc,MD as tc,ND as uc,Tu as vc,$ce as wc,Hce as xc,Qoe as yc,Yoe as zc,$b as Ac,Zoe as Bc,Xoe as Cc,Joe as Dc,hae as Ec,Ck as Fc,Tk as Gc,Em as Hc,d8 as Ic,f8 as Jc,xle as Kc,Mle as Lc,Nle as Mc,Ple as Nc,fue as Oc,Pu as Pc,N8 as Qc,Xk as Rc,Nm as Sc,Hk as Tc,Wr as Uc,Js as Vc,Nue as Wc,Pue as Xc,Am as Yc,sK as Zc,_F as _c,cK as $c,uK as ad,fK as bd,mK as cd,XD as dd,Bue as ed};
