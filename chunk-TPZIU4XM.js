import{a as C,b as h,c as me,d as ae,e as be,i as ge,j as fe,k as he,t as ve}from"./chunk-73HW63VR.js";import{Aa as a,Ba as c,Ca as u,Cb as ue,Da as x,Ga as p,Ia as g,M as k,Na as w,O as A,Oa as y,Pa as S,Qa as ne,Qc as Y,Ra as l,S as v,Sa as G,T as _,Ta as b,Tc as $,Va as B,Wa as H,Xa as O,Ya as F,Yc as N,Za as re,bd as Q,cd as oe,d as ke,e as X,eb as V,ga as d,gd as q,ha as m,ib as de,ja as le,jb as Re,k as ce,nb as j,o as te,ob as Ae,pa as R,pb as D,qb as pe,ra as f,sa as ie,tb as P,va as J,x as L,xa as z,ya as E,za as T}from"./chunk-Q25J75AG.js";var Ge=(()=>{let t=class t{ngOnInit(){}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=A({type:t,selectors:[["app-ledger"]],standalone:!0,features:[B],decls:1,vars:0,template:function(o,i){o&1&&u(0,"router-outlet")},dependencies:[Re,Ae],styles:["[_nghost-%COMP%]{display:block}"]});let r=t;return r})();var I=function(r){return r.Add="add",r.Edit="edit",r}(I||{});var Qe=["scrollTags"],qe=["tagGroup"],We=["templateRef"],Ue=["priceInput"],Je=["descriptionInput"];function ze(r,t){if(r&1){let n=x();a(0,"button",20),p("click",function(){v(n);let o=g();return _(o.onClickSave())}),l(1," \u5132\u5B58 "),c()}}function He(r,t){if(r&1){let n=x();a(0,"button",20),p("click",function(){v(n);let o=g();return _(o.onClickEdit())}),l(1," \u5132\u5B58 "),c()}}var Ke=(r,t)=>t.id,Xe=r=>({"bg-neutral-300":r});function Ze(r,t){if(r&1){let n=x();a(0,"div",24),p("click",function(){let i=v(n).$implicit,s=g(2);return _(s.onTagClick(i.id))}),u(1,"i",25),a(2,"p"),l(3),c()()}if(r&2){let n=t.$implicit,e=g(2);f("ngClass",H(3,Xe,n.id===e.selectedTagId)),d(),f("ngClass",n.tagIconName),d(2),G(n.tagName)}}function et(r,t){if(r&1&&(a(0,"div",21,22)(2,"div",23),E(3,Ze,4,5,"div",26,Ke),c()()),r&2){let n=t.$implicit;d(3),T(n)}}var tt=r=>({"bg-gray-900":r});function it(r,t){if(r&1&&u(0,"div",27),r&2){let n=t.$index,e=g();f("ngClass",H(1,tt,e.currentTagGroupPage===n))}}function nt(r,t){if(r&1){let n=x();a(0,"div",28),p("click",function(){v(n);let o=g();return _(o.onClickDelete())}),u(1,"i",29),a(2,"p",30),l(3,"\u522A\u9664"),c()()}}function rt(r,t){if(r&1){let n=x();a(0,"textarea",31,32),p("ngModelChange",function(o){v(n);let i=g();return _(i.description=o)}),c()}if(r&2){let n=g();f("ngModel",n.description)}}var Be=(()=>{let t=class t{get StatusEnum(){return I}constructor(e,o,i,s,M,K){if(this.route=e,this.router=o,this.modalService=i,this.loaderService=s,this.ledgerService=M,this.changeDetectorRef=K,this.maxTagGroupPage=0,this.currentTagGroupPage=0,this.translateFactor="translate(0, 0)",this.tagsGroup=[],this.selectedTagId="",this.description="",this.tagsGroup=this.route.snapshot.data.tagListGroup,this.expenseStatus=this.route.snapshot.data.data.expenseStatus,this.expenseStatus===I.Edit){let U=this.route.snapshot.data.data;this.price=parseInt(U.price),this.selectedTagId=U.tagId,this.description=U.description,this.date=U.date}else this.expenseStatus===I.Add&&(this.date=this.route.snapshot.data.data.date)}ngOnInit(){}ngAfterViewInit(){let e=this.scrollTagsRef.nativeElement.scrollWidth,o=this.tagGroupRef.nativeElement.scrollWidth;this.maxTagGroupPage=Math.ceil(e/o)}onSwipeRight(){if(this.currentTagGroupPage>0){this.currentTagGroupPage-=1;let e=this.currentTagGroupPage*100;this.translateFactor=`translate(-${e}%, 0)`}}onSwipeLeft(){if(this.currentTagGroupPage<this.maxTagGroupPage-1){this.currentTagGroupPage+=1;let e=this.currentTagGroupPage*100;this.translateFactor=`translate(-${e}%, 0)`}}onTagClick(e){this.selectedTagId===e?this.selectedTagId="":(this.priceInput.nativeElement.focus(),this.selectedTagId=e)}onClickBack(){this.router.navigateByUrl("/",{state:{transactionType:C.Expense,date:this.date.toDate()}})}onClickSave(){return X(this,null,function*(){this.saveCheck()&&(this.loaderService.start(),yield this.ledgerService.addExpense({date:this.date,price:this.price.toString(),tagId:this.selectedTagId,description:this.description}).catch(e=>{console.error("Error adding document: ",e)}).then(()=>{this.router.navigateByUrl("/",{state:{transactionType:C.Expense,date:this.date.toDate()}})}).finally(()=>this.loaderService.stop()))})}onClickEdit(){return X(this,null,function*(){this.saveCheck()&&(this.loaderService.start(),yield this.ledgerService.updateExpense({docId:this.route.snapshot.data.data.docId,date:this.date,price:this.price.toString(),tagId:this.selectedTagId,description:this.description}).catch(e=>{console.error("Error updating document: ",e)}).then(()=>{this.router.navigateByUrl("/",{state:{transactionType:C.Expense,date:this.date.toDate()}})}).finally(()=>this.loaderService.stop()))})}saveCheck(){let e=this.tagsGroup.some(o=>o.some(i=>i.id===this.selectedTagId));return!this.selectedTagId||!this.price||!e?(this.modalService.openConfirm({content:"\u8ACB\u8F38\u5165\u91D1\u984D\u8207\u9078\u64C7\u6A19\u7C64",okText:"\u78BA\u8A8D",showCancelBtn:!1,outsideClose:!0}),!1):!0}onClickDescription(){this.modalService.openConfirm({title:"\u5099\u8A3B",okText:"\u78BA\u8A8D",showCancelBtn:!1,outsideClose:!0,contentTemplateRef:this.templateRef,afterViewInit:()=>{this.changeDetectorRef.detectChanges(),this.descriptionInput?.nativeElement.focus()}})}onClickDelete(){this.modalService.openConfirm({content:"\u78BA\u8A8D\u522A\u9664\uFF1F",outsideClose:!0,onOk:()=>{this.doDelete()}})}doDelete(){this.loaderService.start(),this.ledgerService.deleteExpense(this.route.snapshot.data.data.docId).then(()=>{this.router.navigateByUrl("/",{state:{transactionType:C.Expense,date:this.date.toDate()}})}).finally(()=>this.loaderService.stop())}};t.\u0275fac=function(o){return new(o||t)(m(j),m(D),m(Y),m(P),m(h),m(le))},t.\u0275cmp=A({type:t,selectors:[["app-add-expense"]],viewQuery:function(o,i){if(o&1&&(w(Qe,5),w(qe,5),w(We,5),w(Ue,5),w(Je,5)),o&2){let s;y(s=S())&&(i.scrollTagsRef=s.first),y(s=S())&&(i.tagGroupRef=s.first),y(s=S())&&(i.templateRef=s.first),y(s=S())&&(i.priceInput=s.first),y(s=S())&&(i.descriptionInput=s.first)}},standalone:!0,features:[B],decls:31,vars:6,consts:[[1,"bg-gray-800","text-white","p-4","flex","justify-between","items-center"],[1,"w-10",3,"click"],[1,"fas","fa-arrow-left"],[1,"text-lg"],["class","bg-gray-600 px-4 py-2 rounded"],[1,"bg-red-600","text-center","p-10","flex"],[1,"text-white","text-3xl","me-3","pt-2"],["autocomplete","off","id","tagName","type","number","inputmode","numeric",1,"w-full","text-right","bg-red-600","rounded","border","border-red-700","focus:border-red-500","focus:ring-2","focus:ring-red-900","text-3xl","outline-none","text-gray-100","py-1","px-3","leading-8","transition-colors","duration-200","ease-in-out",3,"ngModel","ngModelChange"],["priceInput",""],[1,"w-full","overflow-hidden"],[1,"flex","w-full","transition",3,"swipeLeft","swipeRight"],["scrollTags",""],[1,"flex","justify-center","my-4"],[1,"bg-white","py-4","border-t","border-gray-300"],[1,"flex","p-4","border-b","items-center","justify-between",3,"click"],[1,"flex","items-center"],[1,"mr-4","fas","fa-pencil-alt"],[1,"w-3/5","text-ellipsis","overflow-hidden","text-right","text-nowrap"],["class","flex p-4 border-b justify-center items-center bg-red-600 text-white text-2xl"],["templateRef",""],[1,"bg-gray-600","px-4","py-2","rounded",3,"click"],[1,"w-screen","text-center"],["tagGroup",""],[1,"flex","w-screen","flex-wrap"],[1,"w-1/3","py-8",3,"ngClass","click"],[3,"ngClass"],["class","w-1/3 py-8",3,"ngClass"],[1,"mx-2","w-2","h-2","bg-gray-500","rounded-full",3,"ngClass"],[1,"flex","p-4","border-b","justify-center","items-center","bg-red-600","text-white","text-2xl",3,"click"],[1,"fas","fa-trash","mr-2"],[1,""],["rows","10",1,"text-black","w-full","py-1","px-2","focus:border-none","focus:outline-none",3,"ngModel","ngModelChange"],["descriptionInput",""],["class","w-screen text-center"],["class","mx-2 w-2 h-2 bg-gray-500 rounded-full",3,"ngClass"]],template:function(o,i){o&1&&(a(0,"div",0)(1,"div",1),p("click",function(){return i.onClickBack()}),u(2,"i",2),c(),a(3,"h1",3),l(4,"\u65B0\u589E\u652F\u51FA"),c(),R(5,ze,2,0,"button",4)(6,He,2,0),c(),a(7,"div",5)(8,"span",6),l(9,"$"),c(),a(10,"input",7,8),p("ngModelChange",function(M){return i.price=M}),c()(),a(12,"div",9)(13,"div",10,11),p("swipeLeft",function(){return i.onSwipeLeft()})("swipeRight",function(){return i.onSwipeRight()}),E(15,et,5,0,"div",33,z),c()(),a(17,"div",12),E(18,it,1,3,"div",34,z),c(),a(20,"div",13)(21,"div",14),p("click",function(){return i.onClickDescription()}),a(22,"div",15),u(23,"i",16),a(24,"p"),l(25,"\u5099\u8A3B"),c()(),a(26,"span",17),l(27),c()(),R(28,nt,4,0,"div",18),c(),R(29,rt,2,1,"ng-template",null,19,re)),o&2&&(d(5),J(5,i.expenseStatus===i.StatusEnum.Add?5:6),d(5),f("ngModel",i.price),d(3),ie("transform",i.translateFactor),d(2),T(i.tagsGroup),d(3),T(i.tagsGroup),d(9),b(" ",i.description," "),d(),J(28,i.expenseStatus===i.StatusEnum.Edit?28:-1))},dependencies:[q,V,$,oe,N,Q],styles:[".icon[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#d1d5db;-webkit-mask-size:cover;mask-size:cover;display:inline-block}.active-icon[_ngcontent-%COMP%]{background-color:#111827}.transition[_ngcontent-%COMP%]{transform:all .8s ease-out}"]});let r=t;return r})();var Le=()=>k(h).getTagList(C.Expense).pipe(L(1),te(t=>t.reduce((e,o,i)=>{let s=Math.floor(i/9);return e[s]?e[s].push(o):e[s]=[o],e},[])));var Oe=()=>{let r=k(h),t=k(D),n=t?.getCurrentNavigation()?.extras.state?.expenseStatus;if(n===I.Edit){let e=t?.getCurrentNavigation()?.extras.state?.docId;return r.getExpenseInfo(e).then(o=>{if(o.exists()){let i=o.data();return{expenseStatus:n,docId:e,date:i.date,price:i.price,tagId:i.tagId,description:i.description}}else t.navigate(["/"])})}else if(n===I.Add){let e=t?.getCurrentNavigation()?.extras.state?.date;if(e)return{expenseStatus:n,date:ue.fromDate(e)}}t.navigate(["/"])};var ot=["scrollTags"],at=["tagGroup"],st=["templateRef"],ct=["priceInput"];function lt(r,t){if(r&1){let n=x();a(0,"button",20),p("click",function(){v(n);let o=g();return _(o.onClickSave())}),l(1," \u5132\u5B58 "),c()}}function dt(r,t){if(r&1){let n=x();a(0,"button",20),p("click",function(){v(n);let o=g();return _(o.onClickEdit())}),l(1," \u5132\u5B58 "),c()}}var pt=(r,t)=>t.id,ut=r=>({"bg-neutral-300":r});function mt(r,t){if(r&1){let n=x();a(0,"div",24),p("click",function(){let i=v(n).$implicit,s=g(2);return _(s.onTagClick(i.id))}),u(1,"i",25),a(2,"p"),l(3),c()()}if(r&2){let n=t.$implicit,e=g(2);f("ngClass",H(3,ut,n.id===e.selectedTagId)),d(),f("ngClass",n.tagIconName),d(2),G(n.tagName)}}function gt(r,t){if(r&1&&(a(0,"div",21,22)(2,"div",23),E(3,mt,4,5,"div",26,pt),c()()),r&2){let n=t.$implicit;d(3),T(n)}}var ft=r=>({"bg-gray-900":r});function ht(r,t){if(r&1&&u(0,"div",27),r&2){let n=t.$index,e=g(2);f("ngClass",H(1,ft,e.currentTagGroupPage===n))}}function vt(r,t){if(r&1&&E(0,ht,1,3,"div",28,z),r&2){let n=g();T(n.tagsGroup)}}function _t(r,t){if(r&1){let n=x();a(0,"div",29),p("click",function(){v(n);let o=g();return _(o.onClickDelete())}),u(1,"i",30),a(2,"p",31),l(3,"\u522A\u9664"),c()()}}function xt(r,t){if(r&1){let n=x();a(0,"textarea",32),p("ngModelChange",function(o){v(n);let i=g();return _(i.description=o)}),c()}if(r&2){let n=g();f("ngModel",n.description)}}var Fe=(()=>{let t=class t{get StatusEnum(){return I}constructor(e,o,i,s,M){if(this.route=e,this.router=o,this.modalService=i,this.loaderService=s,this.ledgerService=M,this.maxTagGroupPage=0,this.currentTagGroupPage=0,this.translateFactor="translate(0, 0)",this.tagsGroup=[],this.selectedTagId="",this.description="",this.tagsGroup=this.route.snapshot.data.tagListGroup,this.incomeStatus=this.route.snapshot.data.data.incomeStatus,this.incomeStatus===I.Edit){let K=this.route.snapshot.data.data;this.price=parseInt(K.price),this.selectedTagId=K.tagId,this.description=K.description,this.date=K.date}else this.incomeStatus===I.Add&&(this.date=this.route.snapshot.data.data.date)}ngOnInit(){}ngAfterViewInit(){let e=this.scrollTagsRef.nativeElement.scrollWidth,o=this.tagGroupRef.nativeElement.scrollWidth;this.maxTagGroupPage=Math.ceil(e/o)}onSwipeRight(){if(this.currentTagGroupPage>0){this.currentTagGroupPage-=1;let e=this.currentTagGroupPage*100;this.translateFactor=`translate(-${e}%, 0)`}}onSwipeLeft(){if(this.currentTagGroupPage<this.maxTagGroupPage-1){this.currentTagGroupPage+=1;let e=this.currentTagGroupPage*100;this.translateFactor=`translate(-${e}%, 0)`}}onTagClick(e){this.selectedTagId===e?this.selectedTagId="":(this.priceInput.nativeElement.focus(),this.selectedTagId=e)}onClickBack(){this.router.navigateByUrl("/",{state:{transactionType:C.Income,date:this.date.toDate()}})}onClickSave(){return X(this,null,function*(){this.saveCheck()&&(this.loaderService.start(),yield this.ledgerService.addIncome({date:this.date,price:this.price.toString(),tagId:this.selectedTagId,description:this.description}).catch(e=>{console.error("Error adding document: ",e)}).then(()=>{this.router.navigateByUrl("/",{state:{transactionType:C.Income,date:this.date.toDate()}})}).finally(()=>this.loaderService.stop()))})}onClickEdit(){return X(this,null,function*(){this.saveCheck()&&(this.loaderService.start(),yield this.ledgerService.updateIncome({docId:this.route.snapshot.data.data.docId,date:this.date,price:this.price.toString(),tagId:this.selectedTagId,description:this.description}).catch(e=>{console.error("Error updating document: ",e)}).then(()=>{this.router.navigateByUrl("/",{state:{transactionType:C.Income,date:this.date.toDate()}})}).finally(()=>this.loaderService.stop()))})}saveCheck(){return!this.selectedTagId||!this.price?(this.modalService.openConfirm({content:"\u8ACB\u8F38\u5165\u91D1\u984D\u8207\u9078\u64C7\u6A19\u7C64",okText:"\u78BA\u8A8D",showCancelBtn:!1,outsideClose:!0}),!1):!0}onClickDescription(){this.modalService.openConfirm({title:"\u5099\u8A3B",okText:"\u78BA\u8A8D",showCancelBtn:!1,outsideClose:!0,contentTemplateRef:this.templateRef})}onClickDelete(){this.modalService.openConfirm({content:"\u78BA\u8A8D\u522A\u9664\uFF1F",outsideClose:!0,onOk:()=>{this.doDelete()}})}doDelete(){this.loaderService.start(),this.ledgerService.deleteIncome(this.route.snapshot.data.data.docId).then(()=>{this.router.navigateByUrl("/",{state:{transactionType:C.Income,date:this.date.toDate()}})}).finally(()=>this.loaderService.stop())}};t.\u0275fac=function(o){return new(o||t)(m(j),m(D),m(Y),m(P),m(h))},t.\u0275cmp=A({type:t,selectors:[["app-add-income"]],viewQuery:function(o,i){if(o&1&&(w(ot,5),w(at,5),w(st,5),w(ct,5)),o&2){let s;y(s=S())&&(i.scrollTagsRef=s.first),y(s=S())&&(i.tagGroupRef=s.first),y(s=S())&&(i.templateRef=s.first),y(s=S())&&(i.priceInput=s.first)}},standalone:!0,features:[B],decls:30,vars:7,consts:[[1,"bg-gray-800","text-white","p-4","flex","justify-between","items-center"],[1,"w-10",3,"click"],[1,"fas","fa-arrow-left"],[1,"text-lg"],["class","bg-gray-600 px-4 py-2 rounded"],[1,"bg-green-600","text-center","p-10","flex"],[1,"text-white","text-3xl","me-3","pt-2"],["autocomplete","off","id","tagName","type","number","inputmode","numeric",1,"w-full","text-right","bg-green-600","rounded","border","border-green-700","focus:border-green-500","focus:ring-2","focus:ring-green-900","text-3xl","outline-none","text-gray-100","py-1","px-3","leading-8","transition-colors","duration-200","ease-in-out",3,"ngModel","ngModelChange"],["priceInput",""],[1,"w-full","overflow-hidden"],[1,"flex","w-full","transition",3,"swipeLeft","swipeRight"],["scrollTags",""],[1,"flex","justify-center","my-4"],[1,"bg-white","py-4","border-t","border-gray-300"],[1,"flex","p-4","border-b","items-center","justify-between",3,"click"],[1,"flex","items-center"],[1,"mr-4","fas","fa-pencil-alt"],[1,"w-3/5","text-ellipsis","overflow-hidden","text-right","text-nowrap"],["class","flex p-4 border-b justify-center items-center bg-green-600 text-white text-2xl"],["templateRef",""],[1,"bg-gray-600","px-4","py-2","rounded",3,"click"],[1,"w-screen","text-center"],["tagGroup",""],[1,"flex","w-screen","flex-wrap"],[1,"w-1/3","py-8",3,"ngClass","click"],[3,"ngClass"],["class","w-1/3 py-8",3,"ngClass"],[1,"mx-2","w-2","h-2","bg-gray-500","rounded-full",3,"ngClass"],["class","mx-2 w-2 h-2 bg-gray-500 rounded-full",3,"ngClass"],[1,"flex","p-4","border-b","justify-center","items-center","bg-green-600","text-white","text-2xl",3,"click"],[1,"fas","fa-trash","mr-2"],[1,""],["rows","10",1,"text-black","w-full",3,"ngModel","ngModelChange"],["class","w-screen text-center"]],template:function(o,i){o&1&&(a(0,"div",0)(1,"div",1),p("click",function(){return i.onClickBack()}),u(2,"i",2),c(),a(3,"h1",3),l(4,"\u65B0\u589E\u6536\u5165"),c(),R(5,lt,2,0,"button",4)(6,dt,2,0),c(),a(7,"div",5)(8,"span",6),l(9,"$"),c(),a(10,"input",7,8),p("ngModelChange",function(M){return i.price=M}),c()(),a(12,"div",9)(13,"div",10,11),p("swipeLeft",function(){return i.onSwipeLeft()})("swipeRight",function(){return i.onSwipeRight()}),E(15,gt,5,0,"div",33,z),c()(),a(17,"div",12),R(18,vt,2,0),c(),a(19,"div",13)(20,"div",14),p("click",function(){return i.onClickDescription()}),a(21,"div",15),u(22,"i",16),a(23,"p"),l(24,"\u5099\u8A3B"),c()(),a(25,"span",17),l(26),c()(),R(27,_t,4,0,"div",18),c(),R(28,xt,1,1,"ng-template",null,19,re)),o&2&&(d(5),J(5,i.incomeStatus===i.StatusEnum.Add?5:6),d(5),f("ngModel",i.price),d(3),ie("transform",i.translateFactor),d(2),T(i.tagsGroup),d(3),J(18,i.tagsGroup.length>1?18:-1),d(8),b(" ",i.description," "),d(),J(27,i.incomeStatus===i.StatusEnum.Edit?27:-1))},dependencies:[q,V,$,oe,N,Q],styles:["[_nghost-%COMP%]{display:block}"]});let r=t;return r})();var Ve=()=>k(h).getTagList(C.Income).pipe(L(1),te(t=>t.reduce((e,o,i)=>{let s=Math.floor(i/9);return e[s]?e[s].push(o):e[s]=[o],e},[])));var Ie=function(r){return r.Add="add",r.Edit="edit",r}(Ie||{});var je=()=>{let r=k(h),t=k(D),n=t?.getCurrentNavigation()?.extras.state?.incomeStatus;if(n===Ie.Edit){let e=t?.getCurrentNavigation()?.extras.state?.docId;return r.getIncomeInfo(e).then(o=>{if(o.exists()){let i=o.data();return{incomeStatus:n,docId:e,date:i.date,price:i.price,tagId:i.tagId,description:i.description}}else t.navigate(["/"])})}else if(n===Ie.Add){let e=t?.getCurrentNavigation()?.extras.state?.date;if(e)return{incomeStatus:n,date:ue.fromDate(e)}}t.navigate(["/"])};var W=ke(be());function Ee(r){if(!r||typeof r!="string"||!/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/.test(r))return!1;let n=new Date(r),e=n.getFullYear().toString(),o=(n.getMonth()+1).toString().padStart(2,"0"),i=n.getDate().toString().padStart(2,"0");return r===`${e}-${o}-${i}`}var yt=(r,t)=>t.id;function St(r,t){if(r&1){let n=x();a(0,"div",28),p("click",function(){let i=v(n).$implicit,s=g();return _(s.goToEditExpense(i))}),a(1,"span"),u(2,"i",29),a(3,"span"),l(4),c()(),a(5,"span"),l(6),O(7,"number"),c()()}if(r&2){let n=t.$implicit;d(2),f("ngClass",n.tagInfo.tagIconName),d(2),G(n.tagInfo.tagName),d(2),b("$ ",F(7,3,n.price),"")}}function It(r,t){if(r&1&&(a(0,"div",30)(1,"div",4)(2,"div",31)(3,"div",32)(4,"span",33),l(5),O(6,"number"),c(),a(7,"span",34),l(8,"\u9031\u671F\u9918\u984D"),c()()(),a(9,"div",31)(10,"div",32)(11,"span",33),l(12),O(13,"number"),c(),a(14,"span",34),l(15,"\u6BCF\u65E5\u5269\u9918"),c()()(),a(16,"div",31)(17,"div",35)(18,"span",33),l(19),O(20,"number"),c(),a(21,"span",34),l(22,"\u5269\u9918\u9810\u7B97"),c()(),l(23," / "),a(24,"div",36)(25,"span",33),l(26),O(27,"number"),c(),a(28,"span",34),l(29,"\u9810\u7B97\u7E3D\u984D"),c()()()()()),r&2){let n=g();d(5),b("$ ",F(6,4,n.calculateRangeDayBudget()),""),d(7),b("$ ",F(13,6,n.calculateTodayBudget()),""),d(7),b("$ ",F(20,8,n.currentRangeBudget),""),d(7),b("$ ",F(27,10,n.budgetAmount),"")}}var Z,Te=(Z=class{get TransactionTypeEnum(){return C}constructor(t,n,e,o,i){this.router=t,this.loaderService=n,this.ledgerService=e,this.modalService=o,this.activatedRoute=i,this.transactionType=this.TransactionTypeEnum.Expense,this.currentDate=new Date,this.ledgerItems=[],this.showBudget=localStorage.getItem("showBudget")==="1",this.budgetAmount=parseInt(localStorage.getItem("budgetAmount")||"0"),this.currentRangeBudget=0,this.startDate="",this.endDate="";let s=this.activatedRoute.snapshot.queryParams.date;Ee(s)&&(this.currentDate=(0,W.default)(s,"YYYY-MM-DD").toDate()),this.currentDate.setHours(0,0,0,0),this.getExpenseList()}ngOnInit(){this.countBudget()}countBudget(){let t=parseInt(localStorage.getItem("selectedDate")||"0");if(t){let n=(0,W.default)(this.currentDate),e,o;n.date()>=t?(e=n.date(t),o=n.add(1,"month").date(t).subtract(1,"day")):(e=n.subtract(1,"month").date(t),o=n.date(t).subtract(1,"day"));let i=e.format("YYYY/MM/DD"),s=o.format("YYYY/MM/DD");i!==this.startDate&&s!==this.endDate&&(this.startDate=i,this.endDate=s,this.ledgerService.getBudgetAmount(e.toDate(),o.toDate()).pipe(ae(this)).subscribe(M=>{this.currentRangeBudget=this.budgetAmount-M}))}}calculateDiffRangeDay(){let t=(0,W.default)(this.currentDate);return(0,W.default)(this.endDate,"YYYY/MM/DD").diff(t,"day")+1}calculateRangeDayBudget(){let t=(0,W.default)(this.currentDate),e=(0,W.default)(this.endDate,"YYYY/MM/DD").diff(t,"day")+1;return parseInt((this.currentRangeBudget/e).toFixed())-this.totalAmount()}calculateTodayBudget(){let t=(0,W.default)(this.startDate,"YYYY/MM/DD"),e=(0,W.default)(this.endDate,"YYYY/MM/DD").diff(t,"day")+1;return parseInt((this.budgetAmount/e).toFixed())-this.totalAmount()}onSwipeLeft(){let t=structuredClone(this.currentDate);t.setDate(this.currentDate.getDate()+1),this.currentDate=t,this.onDateChange()}onSwipeRight(){let t=structuredClone(this.currentDate);t.setDate(this.currentDate.getDate()-1),this.currentDate=t,this.onDateChange()}onDateChange(){this.getExpenseList(),this.countBudget()}formateDate(t){return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()}`}onClickAdd(){this.router.navigate(["/addExpense"],{state:{expenseStatus:I.Add,date:this.currentDate}})}getExpenseList(){this.loaderService.start(),this.ledgerService.getTodayExpenseList(this.currentDate).pipe(L(1),ae(this)).subscribe(t=>{this.ledgerItems=t,this.loaderService.stop()})}totalAmount(){return this.ledgerItems.reduce((t,n)=>t+parseInt(n.price),0)}goToEditExpense(t){this.router.navigate(["/editExpense"],{state:{docId:t.id}})}goToIncome(){this.router.navigate(["/incomeOverview"],{queryParams:{date:(0,W.default)(this.currentDate).format("YYYY-MM-DD")}})}onClickStatistics(){localStorage.getItem("showBudget")==="1"?this.router.navigate(["/setting/statisticsCharts"],{state:{date:this.currentDate}}):this.modalService.openConfirm({title:"\u901A\u77E5",content:"\u8ACB\u5148\u8A2D\u5B9A\u9810\u7B97\u9031\u671F\uFF0C\u518D\u67E5\u770B\u7D71\u8A08\u5716\u8868",okText:"\u78BA\u8A8D",outsideClose:!1,onOk:()=>{this.router.navigate(["/setting/budget"],{state:{date:this.currentDate}})}})}},Z.\u0275fac=function(n){return new(n||Z)(m(D),m(P),m(h),m(Y),m(j))},Z.\u0275cmp=A({type:Z,selectors:[["app-expense-overview"]],standalone:!0,features:[B],decls:44,vars:7,consts:[[1,"bg-gray-100","h-dvh","flex","flex-col"],[1,"flex","flex-col","flex-1"],[1,"sticky","top-0"],[1,"p-4","text-white","bg-red-600"],[1,"flex","justify-between","items-center"],[1,"w-1/5","text-2xl"],[1,"flex","items-center","justify-center","w-3/5",3,"click"],["src","https://img.icons8.com/ios-filled/50/ffffff/calendar.png","alt","Calendar",1,"h-6","w-6","me-2"],["matInput","","readonly","",1,"bg-red-600","text-2xl","w-36","mr-3","focus:outline-none",3,"ngModel","matDatepicker","ngModelChange","dateChange"],["touchUi",""],["picker",""],[1,"w-1/5","flex","justify-end"],[1,"p-2","rounded-full","bg-red-800",3,"click"],["src","https://img.icons8.com/ios-filled/50/ffffff/plus-math.png","alt","Add",1,"h-6","w-6"],[1,"p-4","text-white","bg-red-500"],[1,"flex","justify-between","items-center","text-4xl"],[1,"wrapper","flex-1","p-4","space-y-2","bg-red-500",3,"swipeLeft","swipeRight"],[1,"sticky","bottom-0"],["routerLink","/setting/budget","class","bg-red-300 p-4 text-red-800"],[1,"flex","justify-around","items-center","bg-gray-200"],[1,"w-1/4","p-4","pb-8","bg-gray-400"],[1,"fas","fa-arrow-up"],[1,"block","text-lg"],[1,"w-1/4","p-4","pb-8",3,"click"],[1,"fas","fa-arrow-down"],[1,"fas","fa-chart-line"],["routerLink","setting",1,"w-1/4","p-4","pb-8"],[1,"fas","fa-cog"],[1,"bg-white","p-2","flex","justify-between","items-center",3,"click"],[1,"w-5","mr-1",3,"ngClass"],["routerLink","/setting/budget",1,"bg-red-300","p-4","text-red-800"],[1,"flex"],[1,"mr-1","flex","flex-col","items-center"],[1,"text-xl","block"],[1,"text-sm"],[1,"mr-1","flex","flex-col","items-end"],[1,"ml-1","flex","flex-col","items-end"],["class","bg-white p-2 flex justify-between items-center"]],template:function(n,e){if(n&1){let o=x();a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),l(6),c(),a(7,"div",6),p("click",function(){v(o);let s=ne(11);return _(s.open())}),u(8,"img",7),a(9,"input",8),p("ngModelChange",function(s){return e.currentDate=s})("dateChange",function(){return e.onDateChange()}),c(),u(10,"mat-datepicker",9,10),c(),a(12,"div",11)(13,"button",12),p("click",function(){return e.onClickAdd()}),u(14,"img",13),c()()()(),a(15,"div",14)(16,"div",15)(17,"span"),l(18,"TWD"),c(),a(19,"span"),l(20),O(21,"number"),c()()()(),a(22,"div",16),p("swipeLeft",function(){return e.onSwipeLeft()})("swipeRight",function(){return e.onSwipeRight()}),E(23,St,8,5,"div",37,yt),c()(),a(25,"div",17),R(26,It,30,12,"div",18),a(27,"div",19)(28,"button",20),u(29,"i",21),a(30,"span",22),l(31,"\u652F\u51FA"),c()(),a(32,"button",23),p("click",function(){return e.goToIncome()}),u(33,"i",24),a(34,"span",22),l(35,"\u6536\u5165"),c()(),a(36,"button",23),p("click",function(){return e.onClickStatistics()}),u(37,"i",25),a(38,"span",22),l(39,"\u7D71\u8A08"),c()(),a(40,"button",26),u(41,"i",27),a(42,"span",22),l(43,"\u8A2D\u5B9A"),c()()()()()}if(n&2){let o=ne(11);d(6),b(" ",e.calculateDiffRangeDay()||""," "),d(3),f("ngModel",e.currentDate)("matDatepicker",o),d(11),G(F(21,5,e.totalAmount())),d(3),T(e.ledgerItems),d(3),J(26,e.showBudget?26:-1)}},dependencies:[q,V,$,N,Q,pe,de,ve,ge,fe,he],styles:["[_nghost-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]{overflow-y:auto;touch-action:pan-y!important}"]}),Z);Te=ce([me()],Te);var Me=ke(be());var Et=(r,t)=>t.id;function Tt(r,t){if(r&1){let n=x();a(0,"div",27),p("click",function(){let i=v(n).$implicit,s=g();return _(s.goToEditTag(i))}),a(1,"span"),u(2,"i",28),a(3,"span"),l(4),c()(),a(5,"span"),l(6),O(7,"number"),c()()}if(r&2){let n=t.$implicit;d(2),f("ngClass",n.tagInfo.tagIconName),d(2),G(n.tagInfo.tagName),d(2),b("$ ",F(7,3,n.price),"")}}var ee,De=(ee=class{get TransactionTypeEnum(){return C}constructor(t,n,e,o,i){this.router=t,this.loaderService=n,this.ledgerService=e,this.modalService=o,this.activatedRoute=i,this.transactionType=this.TransactionTypeEnum.Income,this.currentDate=new Date,this.ledgerItems=[],this.showBudget=localStorage.getItem("showBudget")==="1",this.budgetAmount=parseInt(localStorage.getItem("budgetAmount")||"0"),this.currentRangeBudget=0,this.startDate="",this.endDate="";let s=this.activatedRoute.snapshot.queryParams.date;Ee(s)&&(this.currentDate=(0,Me.default)(s,"YYYY-MM-DD").toDate()),this.currentDate.setHours(0,0,0,0),this.getIncomeList()}ngOnInit(){}onSwipeLeft(){let t=structuredClone(this.currentDate);t.setDate(this.currentDate.getDate()+1),this.currentDate=t,this.onDateChange()}onSwipeRight(){let t=structuredClone(this.currentDate);t.setDate(this.currentDate.getDate()-1),this.currentDate=t,this.onDateChange()}onDateChange(){this.getIncomeList()}formateDate(t){return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()}`}onClickAdd(){this.router.navigate(["/addIncome"],{state:{incomeStatus:I.Add,date:this.currentDate}})}getIncomeList(){this.loaderService.start(),this.ledgerService.getTodayIncomeList(this.currentDate).pipe(L(1),ae(this)).subscribe(t=>{this.ledgerItems=t,this.loaderService.stop()})}totalAmount(){return this.ledgerItems.reduce((t,n)=>t+parseInt(n.price),0)}goToEditTag(t){let n={expenseStatus:I.Edit,docId:t.id,date:t.date,price:t.price,tagId:t.tagId,description:t.description};this.router.navigate(["/addExpense"],{state:n})}goToExpense(){this.router.navigate(["/expenseOverview"],{queryParams:{date:(0,Me.default)(this.currentDate).format("YYYY-MM-DD")}})}onClickStatistics(){localStorage.getItem("showBudget")==="1"?this.router.navigate(["/setting/statisticsCharts"],{state:{date:this.currentDate}}):this.modalService.openConfirm({title:"\u901A\u77E5",content:"\u8ACB\u5148\u8A2D\u5B9A\u9810\u7B97\u9031\u671F\uFF0C\u518D\u67E5\u770B\u7D71\u8A08\u5716\u8868",okText:"\u78BA\u8A8D",outsideClose:!1,onOk:()=>{this.router.navigate(["/setting/budget"],{state:{date:this.currentDate}})}})}},ee.\u0275fac=function(n){return new(n||ee)(m(D),m(P),m(h),m(Y),m(j))},ee.\u0275cmp=A({type:ee,selectors:[["app-income-overview"]],standalone:!0,features:[B],decls:42,vars:5,consts:[[1,"bg-gray-100","h-dvh","flex","flex-col"],[1,"flex","flex-col","flex-1"],[1,"sticky","top-0"],[1,"p-4","text-white","bg-green-600"],[1,"flex","justify-between","items-center"],[1,"w-1/5","text-2xl"],[1,"flex","items-center","justify-center","w-3/5",3,"click"],["src","https://img.icons8.com/ios-filled/50/ffffff/calendar.png","alt","Calendar",1,"h-6","w-6","me-2"],["matInput","","readonly","",1,"bg-green-600","text-2xl","w-36","mr-3","focus:outline-none",3,"ngModel","matDatepicker","ngModelChange","dateChange"],["touchUi",""],["picker",""],[1,"w-1/5","flex","justify-end"],[1,"bg-green-800","p-2","rounded-full",3,"click"],["src","https://img.icons8.com/ios-filled/50/ffffff/plus-math.png","alt","Add",1,"h-6","w-6"],[1,"bg-green-500","p-4","text-white"],[1,"flex","justify-between","items-center","text-4xl"],[1,"bg-green-500","wrapper","flex-1","p-4","space-y-2",3,"swipeLeft","swipeRight"],[1,"sticky","bottom-0"],[1,"flex","justify-around","items-center","bg-gray-200"],[1,"w-1/4","p-4","pb-8",3,"click"],[1,"fas","fa-arrow-up"],[1,"block","text-lg"],[1,"w-1/4","p-4","pb-8","bg-gray-400"],[1,"fas","fa-arrow-down"],[1,"fas","fa-chart-line"],["routerLink","setting",1,"w-1/4","p-4","pb-8"],[1,"fas","fa-cog"],[1,"bg-white","p-2","flex","justify-between","items-center",3,"click"],[1,"w-5","mr-1",3,"ngClass"],["class","bg-white p-2 flex justify-between items-center"]],template:function(n,e){if(n&1){let o=x();a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),u(5,"div",5),a(6,"div",6),p("click",function(){v(o);let s=ne(10);return _(s.open())}),u(7,"img",7),a(8,"input",8),p("ngModelChange",function(s){return e.currentDate=s})("dateChange",function(){return e.onDateChange()}),c(),u(9,"mat-datepicker",9,10),c(),a(11,"div",11)(12,"button",12),p("click",function(){return e.onClickAdd()}),u(13,"img",13),c()()()(),a(14,"div",14)(15,"div",15)(16,"span"),l(17,"TWD"),c(),a(18,"span"),l(19),O(20,"number"),c()()()(),a(21,"div",16),p("swipeLeft",function(){return e.onSwipeLeft()})("swipeRight",function(){return e.onSwipeRight()}),E(22,Tt,8,5,"div",29,Et),c()(),a(24,"div",17)(25,"div",18)(26,"button",19),p("click",function(){return e.goToExpense()}),u(27,"i",20),a(28,"span",21),l(29,"\u652F\u51FA"),c()(),a(30,"button",22),u(31,"i",23),a(32,"span",21),l(33,"\u6536\u5165"),c()(),a(34,"button",19),p("click",function(){return e.onClickStatistics()}),u(35,"i",24),a(36,"span",21),l(37,"\u7D71\u8A08"),c()(),a(38,"button",25),u(39,"i",26),a(40,"span",21),l(41,"\u8A2D\u5B9A"),c()()()()()}if(n&2){let o=ne(10);d(8),f("ngModel",e.currentDate)("matDatepicker",o),d(11),G(F(20,3,e.totalAmount())),d(3),T(e.ledgerItems)}},dependencies:[q,V,$,N,Q,pe,de,ve,ge,fe,he],styles:["[_nghost-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]{overflow-y:auto;touch-action:pan-y!important}"]}),ee);De=ce([me()],De);var Pe=ke(be());var Dt=["scrollTags"],kt=["tagGroup"],bt=["templateRef"],Mt=["priceInput"],Rt=["descriptionInput"],At=(r,t)=>t.id,Gt=r=>({"bg-neutral-300":r});function Bt(r,t){if(r&1){let n=x();a(0,"div",25),p("click",function(){let i=v(n).$implicit,s=g(2);return _(s.onTagClick(i.id))}),u(1,"i",26),a(2,"p"),l(3),c()()}if(r&2){let n=t.$implicit,e=g(2);f("ngClass",H(3,Gt,n.id===e.selectedTagId)),d(),f("ngClass",n.tagIconName),d(2),G(n.tagName)}}function Lt(r,t){if(r&1&&(a(0,"div",22,23)(2,"div",24),E(3,Bt,4,5,"div",27,At),c()()),r&2){let n=t.$implicit;d(3),T(n)}}var Ot=r=>({"bg-gray-900":r});function Ft(r,t){if(r&1&&u(0,"div",28),r&2){let n=t.$index,e=g();f("ngClass",H(1,Ot,e.currentTagGroupPage===n))}}function Vt(r,t){if(r&1){let n=x();a(0,"textarea",29,30),p("ngModelChange",function(o){v(n);let i=g();return _(i.description=o)}),c()}if(r&2){let n=g();f("ngModel",n.description)}}var Ye=(()=>{let t=class t{constructor(e,o,i,s,M,K){this.route=e,this.router=o,this.modalService=i,this.loaderService=s,this.ledgerService=M,this.changeDetectorRef=K,this.maxTagGroupPage=0,this.currentTagGroupPage=0,this.translateFactor="translate(0, 0)",this.tagsGroup=[],this.selectedTagId="",this.description="",this.tagsGroup=this.route.snapshot.data.tagListGroup;let U=this.route.snapshot.data.data;this.price=parseInt(U.price),this.selectedTagId=U.tagId,this.description=U.description,this.date=U.date}ngOnInit(){}ngAfterViewInit(){let e=this.scrollTagsRef.nativeElement.scrollWidth,o=this.tagGroupRef.nativeElement.scrollWidth;this.maxTagGroupPage=Math.ceil(e/o)}onSwipeRight(){if(this.currentTagGroupPage>0){this.currentTagGroupPage-=1;let e=this.currentTagGroupPage*100;this.translateFactor=`translate(-${e}%, 0)`}}onSwipeLeft(){if(this.currentTagGroupPage<this.maxTagGroupPage-1){this.currentTagGroupPage+=1;let e=this.currentTagGroupPage*100;this.translateFactor=`translate(-${e}%, 0)`}}onTagClick(e){this.selectedTagId===e?this.selectedTagId="":(this.priceInput.nativeElement.focus(),this.selectedTagId=e)}onClickBack(){this.router.navigate(["/"],{queryParams:{date:(0,Pe.default)(this.date.toDate()).format("YYYY-MM-DD")}})}onClickEdit(){return X(this,null,function*(){this.saveCheck()&&(this.loaderService.start(),yield this.ledgerService.updateExpense({docId:this.route.snapshot.data.data.docId,date:this.date,price:this.price.toString(),tagId:this.selectedTagId,description:this.description}).catch(e=>{this.showError()}).then(()=>{this.onClickBack()}).finally(()=>this.loaderService.stop()))})}saveCheck(){let e=this.tagsGroup.some(o=>o.some(i=>i.id===this.selectedTagId));return!this.selectedTagId||!this.price||!e?(this.modalService.openConfirm({content:"\u8ACB\u8F38\u5165\u91D1\u984D\u8207\u9078\u64C7\u6A19\u7C64",okText:"\u78BA\u8A8D",showCancelBtn:!1,outsideClose:!0}),!1):!0}onClickDescription(){this.modalService.openConfirm({title:"\u5099\u8A3B",okText:"\u78BA\u8A8D",showCancelBtn:!1,outsideClose:!0,contentTemplateRef:this.templateRef,afterViewInit:()=>{this.changeDetectorRef.detectChanges(),this.descriptionInput?.nativeElement.focus()}})}onClickDelete(){this.modalService.openConfirm({content:"\u78BA\u8A8D\u522A\u9664\uFF1F",outsideClose:!0,onOk:()=>{this.doDelete()}})}doDelete(){this.loaderService.start(),this.ledgerService.deleteExpense(this.route.snapshot.data.data.docId).catch(e=>{this.showError()}).then(()=>{this.onClickBack()}).finally(()=>this.loaderService.stop())}showError(){this.modalService.openConfirm({content:"\u64CD\u4F5C\u5931\u6557",okText:"\u78BA\u8A8D",showCancelBtn:!1,outsideClose:!0})}};t.\u0275fac=function(o){return new(o||t)(m(j),m(D),m(Y),m(P),m(h),m(le))},t.\u0275cmp=A({type:t,selectors:[["app-edit-expense"]],viewQuery:function(o,i){if(o&1&&(w(Dt,5),w(kt,5),w(bt,5),w(Mt,5),w(Rt,5)),o&2){let s;y(s=S())&&(i.scrollTagsRef=s.first),y(s=S())&&(i.tagGroupRef=s.first),y(s=S())&&(i.templateRef=s.first),y(s=S())&&(i.priceInput=s.first),y(s=S())&&(i.descriptionInput=s.first)}},standalone:!0,features:[B],decls:34,vars:4,consts:[[1,"bg-gray-800","text-white","p-4","flex","justify-between","items-center"],[1,"w-10",3,"click"],[1,"fas","fa-arrow-left"],[1,"text-lg"],[1,"bg-gray-600","px-4","py-2","rounded",3,"click"],[1,"bg-red-600","text-center","p-10","flex"],[1,"text-white","text-3xl","me-3","pt-2"],["autocomplete","off","id","tagName","type","number","inputmode","numeric",1,"w-full","text-right","bg-red-600","rounded","border","border-red-700","focus:border-red-500","focus:ring-2","focus:ring-red-900","text-3xl","outline-none","text-gray-100","py-1","px-3","leading-8","transition-colors","duration-200","ease-in-out",3,"ngModel","ngModelChange"],["priceInput",""],[1,"w-full","overflow-hidden"],[1,"flex","w-full","transition",3,"swipeLeft","swipeRight"],["scrollTags",""],[1,"flex","justify-center","my-4"],[1,"bg-white","py-4","border-t","border-gray-300"],[1,"flex","p-4","border-b","items-center","justify-between",3,"click"],[1,"flex","items-center"],[1,"mr-4","fas","fa-pencil-alt"],[1,"w-3/5","text-ellipsis","overflow-hidden","text-right","text-nowrap"],[1,"flex","p-4","border-b","justify-center","items-center","bg-red-600","text-white","text-2xl",3,"click"],[1,"fas","fa-trash","mr-2"],[1,""],["templateRef",""],[1,"w-screen","text-center"],["tagGroup",""],[1,"flex","w-screen","flex-wrap"],[1,"w-1/3","py-8",3,"ngClass","click"],[3,"ngClass"],["class","w-1/3 py-8",3,"ngClass"],[1,"mx-2","w-2","h-2","bg-gray-500","rounded-full",3,"ngClass"],["rows","10",1,"text-black","w-full","py-1","px-2","focus:border-none","focus:outline-none",3,"ngModel","ngModelChange"],["descriptionInput",""],["class","w-screen text-center"],["class","mx-2 w-2 h-2 bg-gray-500 rounded-full",3,"ngClass"]],template:function(o,i){o&1&&(a(0,"div",0)(1,"div",1),p("click",function(){return i.onClickBack()}),u(2,"i",2),c(),a(3,"h1",3),l(4,"\u65B0\u589E\u652F\u51FA"),c(),a(5,"button",4),p("click",function(){return i.onClickEdit()}),l(6," \u5132\u5B58 "),c()(),a(7,"div",5)(8,"span",6),l(9,"$"),c(),a(10,"input",7,8),p("ngModelChange",function(M){return i.price=M}),c()(),a(12,"div",9)(13,"div",10,11),p("swipeLeft",function(){return i.onSwipeLeft()})("swipeRight",function(){return i.onSwipeRight()}),E(15,Lt,5,0,"div",31,z),c()(),a(17,"div",12),E(18,Ft,1,3,"div",32,z),c(),a(20,"div",13)(21,"div",14),p("click",function(){return i.onClickDescription()}),a(22,"div",15),u(23,"i",16),a(24,"p"),l(25,"\u5099\u8A3B"),c()(),a(26,"span",17),l(27),c()(),a(28,"div",18),p("click",function(){return i.onClickDelete()}),u(29,"i",19),a(30,"p",20),l(31,"\u522A\u9664"),c()()(),R(32,Vt,2,1,"ng-template",null,21,re)),o&2&&(d(10),f("ngModel",i.price),d(3),ie("transform",i.translateFactor),d(2),T(i.tagsGroup),d(3),T(i.tagsGroup),d(9),b(" ",i.description," "))},dependencies:[q,V,$,oe,N,Q],styles:[".icon[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#d1d5db;-webkit-mask-size:cover;mask-size:cover;display:inline-block}.active-icon[_ngcontent-%COMP%]{background-color:#111827}.transition[_ngcontent-%COMP%]{transform:all .8s ease-out}"]});let r=t;return r})();var $e=()=>k(h).getTagList(C.Expense).pipe(L(1),te(t=>t.reduce((e,o,i)=>{let s=Math.floor(i/9);return e[s]?e[s].push(o):e[s]=[o],e},[])));var Ne=()=>{let r=k(h),t=k(D),n=t?.getCurrentNavigation()?.extras.state?.docId;return r.getExpenseInfo(n).then(e=>{if(e.exists()){let o=e.data();return{docId:n,date:o.date,price:o.price,tagId:o.tagId,description:o.description}}else t.navigate(["/"])})};var un=[{path:"",component:Ge,children:[{path:"",pathMatch:"full",redirectTo:"expenseOverview"},{path:"expenseOverview",component:Te},{path:"editExpense",component:Ye,resolve:{tagListGroup:$e,data:Ne}},{path:"incomeOverview",component:De},{path:"addExpense",component:Be,resolve:{tagListGroup:Le,data:Oe}},{path:"addIncome",component:Fe,resolve:{tagListGroup:Ve,data:je}}]}];export{un as LEDGER_ROUTES};
