var uV=Object.create;var yy=Object.defineProperty,lV=Object.defineProperties,dV=Object.getOwnPropertyDescriptor,hV=Object.getOwnPropertyDescriptors,fV=Object.getOwnPropertyNames,Yd=Object.getOwnPropertySymbols,J0=Object.getPrototypeOf,vy=Object.prototype.hasOwnProperty,eT=Object.prototype.propertyIsEnumerable,pV=Reflect.get;var X0=(t,e,n)=>e in t?yy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})vy.call(e,n)&&X0(t,n,e[n]);if(Yd)for(var n of Yd(e))eT.call(e,n)&&X0(t,n,e[n]);return t},pe=(t,e)=>lV(t,hV(e));var AQ=(t,e)=>{var n={};for(var r in t)vy.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Yd)for(var r of Yd(t))e.indexOf(r)<0&&eT.call(t,r)&&(n[r]=t[r]);return n};var RQ=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var gV=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of fV(e))!vy.call(t,i)&&i!==n&&yy(t,i,{get:()=>e[i],enumerable:!(r=dV(e,i))||r.enumerable});return t};var xQ=(t,e,n)=>(n=t!=null?uV(J0(t)):{},gV(e||!t||!t.__esModule?yy(n,"default",{value:t,enumerable:!0}):n,t));var Yn=(t,e,n)=>pV(J0(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function tT(t,e){return Object.is(t,e)}var lt=null,Jc=!1,Zd=1,dn=Symbol("SIGNAL");function ye(t){let e=lt;return lt=t,e}function mV(){return Jc}var tu={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jd(t){if(Jc)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(t);let e=lt.nextProducerIndex++;if(Oo(lt),e<lt.producerNode.length&&lt.producerNode[e]!==t&&eu(lt)){let n=lt.producerNode[e];rh(n,lt.producerIndexOfThis[e])}lt.producerNode[e]!==t&&(lt.producerNode[e]=t,lt.producerIndexOfThis[e]=eu(lt)?oT(t,lt,e):0),lt.producerLastReadVersion[e]=t.version}function yV(){Zd++}function nT(t){if(!(eu(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zd)){if(!t.producerMustRecompute(t)&&!nh(t)){t.dirty=!1,t.lastCleanEpoch=Zd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zd}}function rT(t){if(t.liveConsumerNode===void 0)return;let e=Jc;Jc=!0;try{for(let n of t.liveConsumerNode)n.dirty||sT(n)}finally{Jc=e}}function iT(){return lt?.consumerAllowSignalWrites!==!1}function sT(t){t.dirty=!0,rT(t),t.consumerMarkedDirty?.(t)}function eh(t){return t&&(t.nextProducerIndex=0),ye(t)}function th(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(eu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)rh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function nh(t){Oo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(nT(n),r!==n.version))return!0}return!1}function Ey(t){if(Oo(t),eu(t))for(let e=0;e<t.producerNode.length;e++)rh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function oT(t,e,n){if(aT(t),Oo(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=oT(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function rh(t,e){if(aT(t),Oo(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)rh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Oo(i),i.producerIndexOfThis[r]=e}}function eu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function aT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function cT(t){let e=Object.create(vV);e.computation=t;let n=()=>{if(nT(e),Jd(e),e.value===Xd)throw e.error;return e.value};return n[dn]=e,n}var _y=Symbol("UNSET"),wy=Symbol("COMPUTING"),Xd=Symbol("ERRORED"),vV=pe(O({},tu),{value:_y,dirty:!0,error:null,equal:tT,producerMustRecompute(t){return t.value===_y||t.value===wy},producerRecomputeValue(t){if(t.value===wy)throw new Error("Detected cycle in computations.");let e=t.value;t.value=wy;let n=eh(t),r;try{r=t.computation()}catch(i){r=Xd,t.error=i}finally{th(t,n)}if(e!==_y&&e!==Xd&&r!==Xd&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function _V(){throw new Error}var uT=_V;function lT(){uT()}function dT(t){uT=t}var wV=null;function hT(t){let e=Object.create(by);e.value=t;let n=()=>(Jd(e),e.value);return n[dn]=e,n}function ih(t,e){iT()||lT(),t.equal(t.value,e)||(t.value=e,IV(t))}function fT(t,e){iT()||lT(),ih(t,e(t.value))}var by=pe(O({},tu),{equal:tT,value:void 0});function IV(t){t.version++,yV(),rT(t),wV?.()}function pT(t,e,n){let r=Object.create(EV);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function o(c){s(c)||(Ey(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Iy)}let a=()=>{if(r.fn===null)return;if(mV())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!nh(r))return;r.hasRun=!0;let c=eh(r);try{r.cleanupFn(),r.cleanupFn=Iy,r.fn(i)}finally{th(r,c)}};return r.ref={notify:()=>sT(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[dn]:r},r.ref}var Iy=()=>{},EV=pe(O({},tu),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Iy});function X(t){return typeof t=="function"}function Po(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sh=Po(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof sh?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{gT(s)}catch(o){e=e??[],o instanceof sh?e=[...e,...o.errors]:e.push(o)}}if(e)throw new sh(e)}}add(e){var n;if(e&&e!==this)if(this.closed)gT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fs(n,e)}remove(e){let{_finalizers:n}=this;n&&fs(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var Dy=ke.EMPTY;function oh(t){return t instanceof ke||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function gT(t){X(t)?t():t.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(t,e,...n){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ah(t){Fo.setTimeout(()=>{let{onUnhandledError:e}=Mn;if(e)e(t);else throw t})}function Ar(){}var mT=Cy("C",void 0,void 0);function yT(t){return Cy("E",void 0,t)}function vT(t){return Cy("N",t,void 0)}function Cy(t,e,n){return{kind:t,value:e,error:n}}var ps=null;function Lo(t){if(Mn.useDeprecatedSynchronousErrorHandling){let e=!ps;if(e&&(ps={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ps;if(ps=null,n)throw r}}else t()}function _T(t){Mn.useDeprecatedSynchronousErrorHandling&&ps&&(ps.errorThrown=!0,ps.error=t)}var gs=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oh(e)&&e.add(this)):this.destination=CV}static create(e,n,r){return new Vo(e,n,r)}next(e){this.isStopped?Sy(vT(e),this):this._next(e)}error(e){this.isStopped?Sy(yT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sy(mT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bV=Function.prototype.bind;function Ty(t,e){return bV.call(t,e)}var Ay=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ch(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ch(r)}else ch(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ch(n)}}},Vo=class extends gs{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ty(e.next,s),error:e.error&&Ty(e.error,s),complete:e.complete&&Ty(e.complete,s)}):i=e}this.destination=new Ay(i)}};function ch(t){Mn.useDeprecatedSynchronousErrorHandling?_T(t):ah(t)}function DV(t){throw t}function Sy(t,e){let{onStoppedNotification:n}=Mn;n&&Fo.setTimeout(()=>n(t,e))}var CV={closed:!0,next:Ar,error:DV,complete:Ar};var jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(t){return t}function uh(...t){return Ry(t)}function Ry(t){return t.length===0?Ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=SV(n)?n:new Vo(n,r,i);return Lo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=wT(r),new r((i,s)=>{let o=new Vo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[jo](){return this}pipe(...n){return Ry(n)(this)}toPromise(n){return n=wT(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wT(t){var e;return(e=t??Mn.Promise)!==null&&e!==void 0?e:Promise}function TV(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function SV(t){return t&&t instanceof gs||TV(t)&&oh(t)}function xy(t){return X(t?.lift)}function ce(t){return e=>{if(xy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new My(t,e,n,r,i)}var My=class extends gs{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Uo(){return ce((t,e)=>{let n=null;t._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ci=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Uo()(this)}};var Bo={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=Bo;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(s=>{n=void 0,t(s)});return new ke(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=Bo;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Bo;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var IT=Po(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new lh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new IT}next(n){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Dy:(this.currentObservers=null,s.push(n),new ke(()=>{this.currentObservers=null,fs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new lh(e,n),t})(),lh=class extends J{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Dy}};var Xe=class extends J{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var nu={now(){return(nu.delegate||Date).now()},delegate:void 0};var ru=class extends J{constructor(e=1/0,n=1/0,r=nu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var dh=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var iu={setInterval(t,e,...n){let{delegate:r}=iu;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=iu;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ui=class extends dh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return iu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&iu.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $o=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$o.now=nu.now;var li=class extends $o{constructor(e,n=$o.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var hn=new li(ui),Ny=hn;var hh=class extends ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var fh=class extends li{};var ky=new fh(hh);var ph=class extends ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Bo.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(Bo.cancelAnimationFrame(n),e._scheduled=void 0)}};var gh=class extends li{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var ET=new gh(ph);var Lt=new re(t=>t.complete());function mh(t){return t&&X(t.schedule)}function Oy(t){return t[t.length-1]}function yh(t){return X(Oy(t))?t.pop():void 0}function Zn(t){return mh(Oy(t))?t.pop():void 0}function bT(t,e){return typeof Oy(t)=="number"?t.pop():e}function vh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xZ(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function CT(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(f){o(f)}}function c(d){try{l(r.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function DT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ms(t){return this instanceof ms?(this.v=t,this):new ms(t)}function TT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(y){return new Promise(function(E,S){s.push([g,y,E,S])>1||a(g,y)})})}function a(g,y){try{c(r[g](y))}catch(E){f(s[0][3],E)}}function c(g){g.value instanceof ms?Promise.resolve(g.value.v).then(l,d):f(s[0][2],g)}function l(g){a("next",g)}function d(g){a("throw",g)}function f(g,y){g(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ST(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof DT=="function"?DT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Ho=t=>t&&typeof t.length=="number"&&typeof t!="function";function _h(t){return X(t?.then)}function wh(t){return X(t[jo])}function Ih(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function Eh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bh=AV();function Dh(t){return X(t?.[bh])}function Ch(t){return TT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ms(n.read());if(i)return yield ms(void 0);yield yield ms(r)}}finally{n.releaseLock()}})}function Th(t){return X(t?.getReader)}function Me(t){if(t instanceof re)return t;if(t!=null){if(wh(t))return RV(t);if(Ho(t))return xV(t);if(_h(t))return MV(t);if(Ih(t))return AT(t);if(Dh(t))return NV(t);if(Th(t))return kV(t)}throw Eh(t)}function RV(t){return new re(e=>{let n=t[jo]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xV(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MV(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ah)})}function NV(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function AT(t){return new re(e=>{OV(t,e).catch(n=>e.error(n))})}function kV(t){return AT(Ch(t))}function OV(t,e){var n,r,i,s;return CT(this,void 0,void 0,function*(){try{for(n=ST(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Kt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function di(t,e=0){return ce((n,r)=>{n.subscribe(oe(r,i=>Kt(r,t,()=>r.next(i),e),()=>Kt(r,t,()=>r.complete(),e),i=>Kt(r,t,()=>r.error(i),e)))})}function hi(t,e=0){return ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function RT(t,e){return Me(t).pipe(hi(e),di(e))}function xT(t,e){return Me(t).pipe(hi(e),di(e))}function MT(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function NT(t,e){return new re(n=>{let r;return Kt(n,e,()=>{r=t[bh](),Kt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function Sh(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{Kt(n,e,()=>{let r=t[Symbol.asyncIterator]();Kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kT(t,e){return Sh(Ch(t),e)}function OT(t,e){if(t!=null){if(wh(t))return RT(t,e);if(Ho(t))return MT(t,e);if(_h(t))return xT(t,e);if(Ih(t))return Sh(t,e);if(Dh(t))return NT(t,e);if(Th(t))return kT(t,e)}throw Eh(t)}function Ue(t,e){return e?OT(t,e):Me(t)}function te(...t){let e=Zn(t);return Ue(t,e)}function zo(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Ah(t){return!!t&&(t instanceof re||X(t.lift)&&X(t.subscribe))}var Rr=Po(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function PT(t){return t instanceof Date&&!isNaN(t)}function de(t,e){return ce((n,r)=>{let i=0;n.subscribe(oe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:PV}=Array;function FV(t,e){return PV(e)?t(...e):t(e)}function qo(t){return de(e=>FV(t,e))}var{isArray:LV}=Array,{getPrototypeOf:VV,prototype:jV,keys:UV}=Object;function Rh(t){if(t.length===1){let e=t[0];if(LV(e))return{args:e,keys:null};if(BV(e)){let n=UV(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function BV(t){return t&&typeof t=="object"&&VV(t)===jV}function xh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ys(...t){let e=Zn(t),n=yh(t),{args:r,keys:i}=Rh(t);if(r.length===0)return Ue([],e);let s=new re($V(r,e,i?o=>xh(i,o):Ft));return n?s.pipe(qo(n)):s}function $V(t,e,n=Ft){return r=>{FT(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)FT(e,()=>{let l=Ue(t[c],e),d=!1;l.subscribe(oe(r,f=>{s[c]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function FT(t,e,n){t?Kt(n,t,e):e()}function LT(t,e,n,r,i,s,o,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&e.complete()},y=S=>l<r?E(S):c.push(S),E=S=>{s&&e.next(S),l++;let M=!1;Me(n(S,d++)).subscribe(oe(e,V=>{i?.(V),s?y(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<r;){let V=c.shift();o?Kt(e,o,()=>E(V)):E(V)}g()}catch(V){e.error(V)}}))};return t.subscribe(oe(e,y,()=>{f=!0,g()})),()=>{a?.()}}function Ge(t,e,n=1/0){return X(e)?Ge((r,i)=>de((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),ce((r,i)=>LT(r,i,t,n)))}function fi(t=1/0){return Ge(Ft,t)}function VT(){return fi(1)}function Xn(...t){return VT()(Ue(t,Zn(t)))}function pi(t){return new re(e=>{Me(t()).subscribe(e)})}function Py(...t){let e=yh(t),{args:n,keys:r}=Rh(t),i=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let d=0;d<o;d++){let f=!1;Me(n[d]).subscribe(oe(s,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?xh(r,a):a),s.complete())}))}});return e?i.pipe(qo(e)):i}var HV=["addListener","removeListener"],zV=["addEventListener","removeEventListener"],qV=["on","off"];function su(t,e,n,r){if(X(n)&&(r=n,n=void 0),r)return su(t,e,n).pipe(qo(r));let[i,s]=KV(t)?zV.map(o=>a=>t[o](e,a,n)):GV(t)?HV.map(jT(t,e)):WV(t)?qV.map(jT(t,e)):[];if(!i&&Ho(t))return Ge(o=>su(o,e,n))(Me(t));if(!i)throw new TypeError("Invalid event target");return new re(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function jT(t,e){return n=>r=>t[n](e,r)}function GV(t){return X(t.addListener)&&X(t.removeListener)}function WV(t){return X(t.on)&&X(t.off)}function KV(t){return X(t.addEventListener)&&X(t.removeEventListener)}function Go(t=0,e,n=Ny){let r=-1;return e!=null&&(mh(e)?n=e:r=e),new re(i=>{let s=PT(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function QV(t=0,e=hn){return t<0&&(t=0),Go(t,t,e)}function ou(...t){let e=Zn(t),n=bT(t,1/0),r=t;return r.length?r.length===1?Me(r[0]):fi(n)(Ue(r,e)):Lt}var YV=new re(Ar);function He(t,e){return ce((n,r)=>{let i=0;n.subscribe(oe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function UT(t){return ce((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let l=i;i=null,n.next(l)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(oe(n,l=>{r=!0,i=l,s||Me(t(l)).subscribe(s=oe(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function Mh(t,e=hn){return UT(()=>Go(t,e))}function gi(t){return ce((e,n)=>{let r=null,i=!1,s;r=e.subscribe(oe(n,void 0,void 0,o=>{s=Me(t(o,gi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function BT(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(oe(o,d=>{let f=l++;c=a?t(c,d,f):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function vs(t,e){return X(e)?Ge(t,e,1):Ge(t,1)}function $T(t){return new re(e=>t.subscribe(e))}var ZV={connector:()=>new J};function Nh(t,e=ZV){let{connector:n}=e;return ce((r,i)=>{let s=n();Me(t($T(s))).subscribe(i),i.add(r.subscribe(s))})}function kh(t,e=hn){return ce((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+t,d=e.now();if(d<l){i=this.schedule(void 0,l-d),r.add(i);return}a()}n.subscribe(oe(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function mi(t){return ce((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Je(t){return t<=0?()=>Lt:ce((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function HT(){return ce((t,e)=>{t.subscribe(oe(e,Ar))})}function au(t){return de(()=>t)}function Fy(t,e){return e?n=>Xn(e.pipe(Je(1),HT()),n.pipe(Fy(t))):Ge((n,r)=>Me(t(n,r)).pipe(Je(1),au(n)))}function XV(t,e=hn){let n=Go(t,e);return Fy(()=>n)}function cu(t,e=Ft){return t=t??JV,ce((n,r)=>{let i,s=!0;n.subscribe(oe(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function JV(t,e){return t===e}function Oh(t=ej){return ce((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ej(){return new Rr}function uu(t){return ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?He((i,s)=>t(i,s,r)):Ft,Je(1),n?mi(e):Oh(()=>new Rr))}function Wo(t){return t<=0?()=>Lt:ce((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ly(t,e){let n=arguments.length>=2;return r=>r.pipe(t?He((i,s)=>t(i,s,r)):Ft,Wo(1),n?mi(e):Oh(()=>new Rr))}function zT(t,e){let n=X(t)?t:()=>t;return X(e)?Nh(e,{connector:n}):r=>new ci(r,n)}function tj(t){return t?e=>Nh(t)(e):e=>zT(new J)(e)}function Ph(t,e){return ce(BT(t,e,arguments.length>=2,!0))}function lu(t){return He((e,n)=>t<=n)}function Nn(...t){let e=Zn(t);return ce((n,r)=>{(e?Xn(t,n,e):Xn(t,n)).subscribe(r)})}function tn(t,e){return ce((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(oe(r,c=>{i?.unsubscribe();let l=0,d=s++;Me(t(c,d)).subscribe(i=oe(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function er(t){return ce((e,n)=>{Me(t).subscribe(oe(n,()=>n.complete(),Ar)),!n.closed&&e.subscribe(n)})}function st(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(oe(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ft}var OS="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Jv(e,n)),this.code=e}};function Jv(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var PS=Symbol("InputSignalNode#UNSET"),nj=pe(O({},by),{transformFn:void 0,applyValueToInputSignal(t,e){ih(t,e)}});function FS(t,e){let n=Object.create(nj);n.value=t,n.transformFn=e?.transform;function r(){if(Jd(n),n.value===PS)throw new Q(-950,!1);return n.value}return r[dn]=n,r}function Eu(t){return{toString:t}.toString()}var Fh="__parameters__";function rj(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function LS(t,e,n){return Eu(()=>{let r=rj(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,d){let f=c.hasOwnProperty(Fh)?c[Fh]:Object.defineProperty(c,Fh,{value:[]})[Fh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var dt=globalThis;function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function ij(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function ev(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sj=Le({__forward_ref__:Le});function pn(t){return t.__forward_ref__=pn,t.toString=function(){return Ut(this())},t}function Vt(t){return VS(t)?t():t}function VS(t){return typeof t=="function"&&t.hasOwnProperty(sj)&&t.__forward_ref__===pn}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ee(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ef(t){return qT(t,US)||qT(t,BS)}function jS(t){return Ef(t)!==null}function qT(t,e){return t.hasOwnProperty(e)?t[e]:null}function oj(t){let e=t&&(t[US]||t[BS]);return e||null}function GT(t){return t&&(t.hasOwnProperty(WT)||t.hasOwnProperty(aj))?t[WT]:null}var US=Le({\u0275prov:Le}),WT=Le({\u0275inj:Le}),BS=Le({ngInjectableDef:Le}),aj=Le({ngInjectorDef:Le}),U=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function $S(t){return t&&!!t.\u0275providers}var cj=Le({\u0275cmp:Le}),uj=Le({\u0275dir:Le}),lj=Le({\u0275pipe:Le}),dj=Le({\u0275mod:Le}),Qh=Le({\u0275fac:Le}),du=Le({__NG_ELEMENT_ID__:Le}),KT=Le({__NG_ENV_ID__:Le});function bu(t){return typeof t=="string"?t:t==null?"":String(t)}function hj(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():bu(t)}function fj(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function e_(t,e){throw new Q(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),tv;function HS(){return tv}function Qt(t){let e=tv;return tv=t,e}function zS(t,e,n){let r=Ef(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;e_(t,"Injector")}var pj={},hu=pj,nv="__NG_DI_FLAG__",Yh="ngTempTokenPath",gj="ngTokenPath",mj=/\n/gm,yj="\u0275",QT="__source",Zo;function vj(){return Zo}function yi(t){let e=Zo;return Zo=t,e}function _j(t,e=ve.Default){if(Zo===void 0)throw new Q(-203,!1);return Zo===null?zS(t,void 0,e):Zo.get(t,e&ve.Optional?null:void 0,e)}function R(t,e=ve.Default){return(HS()||_j)(Vt(t),e)}function P(t,e=ve.Default){return R(t,bf(e))}function bf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rv(t){let e=[];for(let n=0;n<t.length;n++){let r=Vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,s=ve.Default;for(let o=0;o<r.length;o++){let a=r[o],c=wj(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function qS(t,e){return t[nv]=e,t.prototype[nv]=e,t}function wj(t){return t[nv]}function Ij(t,e,n,r){let i=t[Yh];throw e[QT]&&i.unshift(e[QT]),t.message=Ej(`
`+t.message,i,n,r),t[gj]=i,t[Yh]=null,t}function Ej(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yj?t.slice(2):t;let i=Ut(e);if(Array.isArray(e))i=e.map(Ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mj,`
  `)}`}var ct=qS(LS("Optional"),8);var GS=qS(LS("SkipSelf"),4);function bs(t,e){let n=t.hasOwnProperty(Qh);return n?t[Qh]:null}function bj(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Dj(t){return t.flat(Number.POSITIVE_INFINITY)}function t_(t,e){t.forEach(n=>Array.isArray(n)?t_(n,e):e(n))}function WS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Cj(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Tj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function n_(t,e,n){let r=Du(t,e);return r>=0?t[r|1]=n:(r=~r,Tj(t,r,e,n)),r}function Vy(t,e){let n=Du(t,e);if(n>=0)return t[n|1]}function Du(t,e){return Sj(t,e,1)}function Sj(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Jo={},jt=[],ea=new U(""),KS=new U("",-1),QS=new U(""),Xh=class{get(e,n=hu){if(n===hu){let r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return n}},YS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(YS||{}),rr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rr||{}),ta=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ta||{});function Aj(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function iv(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Rj(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function ZS(t){return t===3||t===4||t===6}function Rj(t){return t.charCodeAt(0)===64}function fu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?YT(t,n,i,null,e[++r]):YT(t,n,i,null,null))}}return t}function YT(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var XS="ng-template";function xj(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Aj(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(r_(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function r_(t){return t.type===4&&t.value!==XS}function Mj(t,e,n){let r=t.type===4&&!n?XS:t.value;return e===r}function Nj(t,e,n){let r=4,i=t.attrs,s=i!==null?Pj(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!kn(r)&&!kn(c))return!1;if(o&&kn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Mj(t,c,n)||c===""&&e.length===1){if(kn(r))return!1;o=!0}}else if(r&8){if(i===null||!xj(t,i,c,n)){if(kn(r))return!1;o=!0}}else{let l=e[++a],d=kj(c,i,r_(t),n);if(d===-1){if(kn(r))return!1;o=!0;continue}if(l!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(kn(r))return!1;o=!0}}}}return kn(r)||o}function kn(t){return(t&1)===0}function kj(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Fj(e,t)}function JS(t,e,n=!1){for(let r=0;r<e.length;r++)if(Nj(t,e[r],n))return!0;return!1}function Oj(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function Pj(t){for(let e=0;e<t.length;e++){let n=t[e];if(ZS(n))return e}return t.length}function Fj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Lj(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function ZT(t,e){return t?":not("+e.trim()+")":e}function Vj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!kn(o)&&(e+=ZT(s,i),i=""),r=o,s=s||!kn(r);n++}return i!==""&&(e+=ZT(s,i)),e}function jj(t){return t.map(Vj).join(",")}function Uj(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!kn(i))break;i=s}r++}return{attrs:e,classes:n}}function cr(t){return Eu(()=>{let e=sA(t),n=pe(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===YS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rr.Emulated,styles:t.styles||jt,_:null,schemas:t.schemas||null,tView:null,id:""});oA(n);let r=t.dependencies;return n.directiveDefs=JT(r,!1),n.pipeDefs=JT(r,!0),n.id=Hj(n),n})}function Bj(t){return xr(t)||tA(t)}function $j(t){return t!==null}function be(t){return Eu(()=>({type:t.type,bootstrap:t.bootstrap||jt,declarations:t.declarations||jt,imports:t.imports||jt,exports:t.exports||jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function XT(t,e){if(t==null)return Jo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ta.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ta.None?[r,a]:r,e[s]=o):n[s]=r}return n}function De(t){return Eu(()=>{let e=sA(t);return oA(e),e})}function eA(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function xr(t){return t[cj]||null}function tA(t){return t[uj]||null}function nA(t){return t[lj]||null}function rA(t){let e=xr(t)||tA(t)||nA(t);return e!==null?e.standalone:!1}function iA(t,e){let n=t[dj]||null;if(!n&&e===!0)throw new Error(`Type ${Ut(t)} does not have '\u0275mod' property.`);return n}function sA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Jo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||jt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:XT(t.inputs,e),outputs:XT(t.outputs),debugInfo:null}}function oA(t){t.features?.forEach(e=>e(t))}function JT(t,e){if(!t)return null;let n=e?nA:Bj;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter($j)}function Hj(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ln(t){return{\u0275providers:t}}function zj(...t){return{\u0275providers:aA(!0,t),\u0275fromNgModule:!0}}function aA(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return t_(e,o=>{let a=o;sv(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&cA(i,s),n}function cA(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];i_(i,s=>{e(s,r)})}}function sv(t,e,n,r){if(t=Vt(t),!t)return!1;let i=null,s=GT(t),o=!s&&xr(t);if(!s&&!o){let c=t.ngModule;if(s=GT(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)sv(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{t_(s.imports,d=>{sv(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&cA(l,e)}if(!a){let l=bs(i)||(()=>new i);e({provide:i,useFactory:l,deps:jt},i),e({provide:QS,useValue:i,multi:!0},i),e({provide:ea,useValue:()=>R(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;i_(c,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function i_(t,e){for(let n of t)$S(n)&&(n=n.\u0275providers),Array.isArray(n)?i_(n,e):e(n)}var qj=Le({provide:String,useValue:Le});function uA(t){return t!==null&&typeof t=="object"&&qj in t}function Gj(t){return!!(t&&t.useExisting)}function Wj(t){return!!(t&&t.useFactory)}function na(t){return typeof t=="function"}function Kj(t){return!!t.useClass}var Df=new U(""),$h={},Qj={},jy;function Cf(){return jy===void 0&&(jy=new Xh),jy}var Rt=class{},pu=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,av(e,o=>this.processProvider(o)),this.records.set(KS,Ko(void 0,this)),i.has("environment")&&this.records.set(Rt,Ko(void 0,this));let s=this.records.get(Df);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(QS,jt,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=yi(this),r=Qt(void 0),i;try{return e()}finally{yi(n),Qt(r)}}get(e,n=hu,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(KT))return e[KT](this);r=bf(r);let i,s=yi(this),o=Qt(void 0);try{if(!(r&ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=eU(e)&&Ef(e);l&&this.injectableDefInScope(l)?c=Ko(ov(e),$h):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ve.Self?Cf():this.parent;return n=r&ve.Optional&&n===hu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yh]=a[Yh]||[]).unshift(Ut(e)),s)throw a;return Ij(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(o),yi(s)}}resolveInjectorInitializers(){let e=ye(null),n=yi(this),r=Qt(void 0),i;try{let s=this.get(ea,jt,ve.Self);for(let o of s)o()}finally{yi(n),Qt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Vt(e);let n=na(e)?e:Vt(e&&e.provide),r=Zj(e);if(!na(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ko(void 0,$h,!0),i.factory=()=>rv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===$h&&(n.value=Qj,n.value=n.factory()),typeof n.value=="object"&&n.value&&Jj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ov(t){let e=Ef(t),n=e!==null?e.factory:bs(t);if(n!==null)return n;if(t instanceof U)throw new Q(204,!1);if(t instanceof Function)return Yj(t);throw new Q(204,!1)}function Yj(t){if(t.length>0)throw new Q(204,!1);let n=oj(t);return n!==null?()=>n.factory(t):()=>new t}function Zj(t){if(uA(t))return Ko(void 0,t.useValue);{let e=lA(t);return Ko(e,$h)}}function lA(t,e,n){let r;if(na(t)){let i=Vt(t);return bs(i)||ov(i)}else if(uA(t))r=()=>Vt(t.useValue);else if(Wj(t))r=()=>t.useFactory(...rv(t.deps||[]));else if(Gj(t))r=()=>R(Vt(t.useExisting));else{let i=Vt(t&&(t.useClass||t.provide));if(Xj(t))r=()=>new i(...rv(t.deps));else return bs(i)||ov(i)}return r}function Ko(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Xj(t){return!!t.deps}function Jj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function eU(t){return typeof t=="function"||typeof t=="object"&&t instanceof U}function av(t,e){for(let n of t)Array.isArray(n)?av(n,e):n&&$S(n)?av(n.\u0275providers,e):e(n)}function gn(t,e){t instanceof pu&&t.assertNotDestroyed();let n,r=yi(t),i=Qt(void 0);try{return e()}finally{yi(r),Qt(i)}}function dA(){return HS()!==void 0||vj()!=null}function s_(t){if(!dA())throw new Q(-203,!1)}function tU(t){return typeof t=="function"}var ur=0,ue=1,ie=2,xt=3,Pn=4,Yt=5,ra=6,gu=7,St=8,ia=9,ir=10,We=11,mu=12,eS=13,da=14,nn=15,Ds=16,Qo=17,Mr=18,Tf=19,hA=20,vi=21,Hh=22,Cs=23,_t=25,o_=1;var Ts=7,Jh=8,sa=9,At=10,ef=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ef||{});function _i(t){return Array.isArray(t)&&typeof t[o_]=="object"}function Or(t){return Array.isArray(t)&&t[o_]===!0}function a_(t){return(t.flags&4)!==0}function Sf(t){return t.componentOffset>-1}function Af(t){return(t.flags&1)===1}function Nr(t){return!!t.template}function cv(t){return(t[ie]&512)!==0}var uv=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function fA(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Bt(){return pA}function pA(t){return t.type.prototype.ngOnChanges&&(t.setInput=rU),nU}Bt.ngInherit=!0;function nU(){let t=mA(this),e=t?.current;if(e){let n=t.previous;if(n===Jo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rU(t,e,n,r,i){let s=this.declaredInputs[r],o=mA(t)||iU(t,{previous:Jo,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new uv(l&&l.currentValue,n,c===Jo),fA(t,e,i,n)}var gA="__ngSimpleChanges__";function mA(t){return t[gA]||null}function iU(t,e){return t[gA]=e}var tS=null;var tr=function(t,e,n){tS?.(t,e,n)},yA="svg",sU="math";function sr(t){for(;Array.isArray(t);)t=t[ur];return t}function oU(t){for(;Array.isArray(t);){if(typeof t[o_]=="object")return t;t=t[ur]}return null}function vA(t,e){return sr(e[t])}function mn(t,e){return sr(e[t.index])}function c_(t,e){return t.data[e]}function _A(t,e){return t[e]}function bi(t,e){let n=e[t];return _i(n)?n:n[ur]}function aU(t){return(t[ie]&4)===4}function u_(t){return(t[ie]&128)===128}function cU(t){return Or(t[xt])}function wi(t,e){return e==null?null:t[e]}function wA(t){t[Qo]=0}function uU(t){t[ie]&1024||(t[ie]|=1024,u_(t)&&Rf(t))}function lU(t,e){for(;t>0;)e=e[da],t--;return e}function yu(t){return!!(t[ie]&9216||t[Cs]?.dirty)}function lv(t){t[ir].changeDetectionScheduler?.notify(7),t[ie]&64&&(t[ie]|=1024),yu(t)&&Rf(t)}function Rf(t){t[ir].changeDetectionScheduler?.notify(0);let e=vu(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!u_(e)));)e=vu(e)}function IA(t,e){if((t[ie]&256)===256)throw new Q(911,!1);t[vi]===null&&(t[vi]=[]),t[vi].push(e)}function dU(t,e){if(t[vi]===null)return;let n=t[vi].indexOf(e);n!==-1&&t[vi].splice(n,1)}function vu(t){let e=t[xt];return Or(e)?e[xt]:e}var ge={lFrame:MA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var EA=!1;function hU(){return ge.lFrame.elementDepthCount}function fU(){ge.lFrame.elementDepthCount++}function pU(){ge.lFrame.elementDepthCount--}function bA(){return ge.bindingsEnabled}function DA(){return ge.skipHydrationRootTNode!==null}function gU(t){return ge.skipHydrationRootTNode===t}function mU(){ge.skipHydrationRootTNode=null}function le(){return ge.lFrame.lView}function ze(){return ge.lFrame.tView}function l_(t){return ge.lFrame.contextLView=t,t[St]}function d_(t){return ge.lFrame.contextLView=null,t}function ht(){let t=CA();for(;t!==null&&t.type===64;)t=t.parent;return t}function CA(){return ge.lFrame.currentTNode}function yU(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ks(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function h_(){return ge.lFrame.isParent}function f_(){ge.lFrame.isParent=!1}function vU(){return ge.lFrame.contextLView}function TA(){return EA}function nS(t){EA=t}function SA(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _U(t){return ge.lFrame.bindingIndex=t}function Di(){return ge.lFrame.bindingIndex++}function AA(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function wU(){return ge.lFrame.inI18n}function IU(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,dv(e)}function EU(){return ge.lFrame.currentDirectiveIndex}function dv(t){ge.lFrame.currentDirectiveIndex=t}function p_(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function g_(){return ge.lFrame.currentQueryIndex}function xf(t){ge.lFrame.currentQueryIndex=t}function bU(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[Yt]:null}function RA(t,e,n){if(n&ve.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=bU(s),i===null||(s=s[da],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ge.lFrame=xA();return r.currentTNode=e,r.lView=t,!0}function m_(t){let e=xA(),n=t[ue];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function xA(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?MA(t):e}function MA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function NA(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var kA=NA;function y_(){let t=NA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function DU(t){return(ge.lFrame.contextLView=lU(t,ge.lFrame.contextLView))[St]}function Ci(){return ge.lFrame.selectedIndex}function Ss(t){ge.lFrame.selectedIndex=t}function Cu(){let t=ge.lFrame;return c_(t.tView,t.selectedIndex)}function OA(){ge.lFrame.currentNamespace=yA}function PA(){CU()}function CU(){ge.lFrame.currentNamespace=null}function TU(){return ge.lFrame.currentNamespace}var FA=!0;function Mf(){return FA}function Nf(t){FA=t}function SU(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=pA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function kf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function zh(t,e,n){LA(t,e,3,n)}function qh(t,e,n,r){(t[ie]&3)===n&&LA(t,e,n,r)}function Uy(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function LA(t,e,n,r){let i=r!==void 0?t[Qo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Qo]+=65536),(a<s||s==-1)&&(AU(t,n,e,c),t[Qo]=(t[Qo]&4294901760)+c+2),c++}function rS(t,e){tr(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),tr(5,t,e)}}function AU(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ie]>>14<t[Qo]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,rS(a,s)):rS(a,s)}var Xo=-1,As=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function RU(t){return t instanceof As}function xU(t){return(t.flags&8)!==0}function MU(t){return(t.flags&16)!==0}function VA(t){return t!==Xo}function tf(t){return t&32767}function NU(t){return t>>16}function nf(t,e){let n=NU(t),r=e;for(;n>0;)r=r[da],n--;return r}var hv=!0;function rf(t){let e=hv;return hv=t,e}var kU=256,jA=kU-1,UA=5,OU=0,nr={};function PU(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(du)&&(r=n[du]),r==null&&(r=n[du]=OU++);let i=r&jA,s=1<<i;e.data[t+(i>>UA)]|=s}function sf(t,e){let n=BA(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,By(r.data,t),By(e,null),By(r.blueprint,null));let i=v_(t,e),s=t.injectorIndex;if(VA(i)){let o=tf(i),a=nf(i,e),c=a[ue].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function By(t,e){t.push(0,0,0,0,0,0,0,0,e)}function BA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function v_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=GA(i),r===null)return Xo;if(n++,i=i[da],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xo}function fv(t,e,n){PU(t,e,n)}function FU(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(ZS(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function $A(t,e,n){if(n&ve.Optional||t!==void 0)return t;e_(e,"NodeInjector")}function HA(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[ia],s=Qt(void 0);try{return i?i.get(e,r,n&ve.Optional):zS(e,r,n&ve.Optional)}finally{Qt(s)}}return $A(r,e,n)}function zA(t,e,n,r=ve.Default,i){if(t!==null){if(e[ie]&2048&&!(r&ve.Self)){let o=UU(t,e,n,r,nr);if(o!==nr)return o}let s=qA(t,e,n,r,nr);if(s!==nr)return s}return HA(e,n,r,i)}function qA(t,e,n,r,i){let s=VU(n);if(typeof s=="function"){if(!RA(e,t,r))return r&ve.Host?$A(i,n,r):HA(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ve.Optional))e_(n);else return o}finally{kA()}}else if(typeof s=="number"){let o=null,a=BA(t,e),c=Xo,l=r&ve.Host?e[nn][Yt]:null;for((a===-1||r&ve.SkipSelf)&&(c=a===-1?v_(t,e):e[a+8],c===Xo||!sS(r,!1)?a=-1:(o=e[ue],a=tf(c),e=nf(c,e)));a!==-1;){let d=e[ue];if(iS(s,a,d.data)){let f=LU(a,e,n,o,r,l);if(f!==nr)return f}c=e[a+8],c!==Xo&&sS(r,e[ue].data[a+8]===l)&&iS(s,a,e)?(o=d,a=tf(c),e=nf(c,e)):a=-1}}return i}function LU(t,e,n,r,i,s){let o=e[ue],a=o.data[t+8],c=r==null?Sf(a)&&hv:r!=o&&(a.type&3)!==0,l=i&ve.Host&&s===a,d=Gh(a,o,n,c,l);return d!==null?Rs(e,o,d,a):nr}function Gh(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,d=s>>20,f=r?a:a+d,g=i?a+d:l;for(let y=f;y<g;y++){let E=o[y];if(y<c&&n===E||y>=c&&E.type===n)return y}if(i){let y=o[c];if(y&&Nr(y)&&y.type===n)return c}return null}function Rs(t,e,n,r){let i=t[n],s=e.data;if(RU(i)){let o=i;o.resolving&&fj(hj(s[n]));let a=rf(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Qt(o.injectImpl):null,d=RA(t,r,ve.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&SU(n,s[n],e)}finally{l!==null&&Qt(l),rf(a),o.resolving=!1,kA()}}return i}function VU(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(du)?t[du]:void 0;return typeof e=="number"?e>=0?e&jA:jU:e}function iS(t,e,n){let r=1<<t;return!!(n[e+(t>>UA)]&r)}function sS(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var Es=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return zA(this._tNode,this._lView,e,bf(r),n)}};function jU(){return new Es(ht(),le())}function Vn(t){return Eu(()=>{let e=t.prototype.constructor,n=e[Qh]||pv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Qh]||pv(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function pv(t){return VS(t)?()=>{let e=pv(Vt(t));return e&&e()}:bs(t)}function UU(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ie]&2048&&!(o[ie]&512);){let a=qA(s,o,n,r|ve.Self,nr);if(a!==nr)return a;let c=s.parent;if(!c){let l=o[hA];if(l){let d=l.get(n,nr,r);if(d!==nr)return d}c=GA(o),o=o[da]}s=c}return i}function GA(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[Yt]:null}function __(t){return FU(ht(),t)}function oS(t,e=null,n=null,r){let i=WA(t,e,n,r);return i.resolveInjectorInitializers(),i}function WA(t,e=null,n=null,r,i=new Set){let s=[n||jt,zj(t)];return r=r||(typeof t=="object"?void 0:Ut(t)),new pu(s,e||Cf(),r||null,i)}var ws=class ws{static create(e,n){if(Array.isArray(e))return oS({name:""},n,e,"");{let r=e.name??"";return oS({name:r},e.parent,e.providers,r)}}};ws.THROW_IF_NOT_FOUND=hu,ws.NULL=new Xh,ws.\u0275prov=L({token:ws,providedIn:"any",factory:()=>R(KS)}),ws.__NG_ELEMENT_ID__=-1;var Ce=ws;var BU=new U("");BU.__NG_ELEMENT_ID__=t=>{let e=ht();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new Q(204,!1)};var $U="ngOriginalError";function $y(t){return t[$U]}var fn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&$y(e);for(;n&&$y(n);)n=$y(n);return n||null}},KA=new U("",{providedIn:"root",factory:()=>P(fn).handleError.bind(void 0)}),ha=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HU,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),gv=class extends ha{constructor(e){super(),this._lView=e}onDestroy(e){return IA(this._lView,e),()=>dU(this._lView,e)}};function HU(){return new gv(le())}var mv=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=P(fn,{optional:!0}),this.destroyRef=P(ha),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Q(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new Q(953,!1);if(this.listeners===null)return;let n=ye(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ye(n)}}};function w_(t){return new mv}function aS(t,e){return FS(t,e)}function zU(t){return FS(PS,t)}var Ure=(aS.required=zU,aS);function qU(){return fa(ht(),le())}function fa(t,e){return new Te(mn(t,e))}var Te=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=qU;let t=e;return t})();function QA(t){return t instanceof Te?t.nativeElement:t}var yv=class extends J{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,dA()&&(this.destroyRef=P(ha,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Hy(s),i&&(i=Hy(i)),o&&(o=Hy(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ke&&e.add(a),a}};function Hy(t){return e=>{setTimeout(t,void 0,e)}}var Ae=yv;function GU(){return this._results[Symbol.iterator]()}var of=class t{get changes(){return this._changes??=new Ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=GU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Dj(e);(this._changesDetected=!bj(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function YA(t){return(t.flags&128)===128}var ZA=new Map,WU=0;function KU(){return WU++}function QU(t){ZA.set(t[Tf],t)}function YU(t){ZA.delete(t[Tf])}var cS="__ngContext__";function Ii(t,e){_i(e)?(t[cS]=e[Tf],QU(e)):t[cS]=e}function XA(t){return eR(t[mu])}function JA(t){return eR(t[Pn])}function eR(t){for(;t!==null&&!Or(t);)t=t[Pn];return t}var vv;function tR(t){vv=t}function nR(){if(vv!==void 0)return vv;if(typeof document<"u")return document;throw new Q(210,!1)}var Tu=new U("",{providedIn:"root",factory:()=>ZU}),ZU="ng",I_=new U(""),yn=new U("",{providedIn:"platform",factory:()=>"unknown"});var Ti=new U(""),Su=new U("",{providedIn:"root",factory:()=>nR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XU="h",JU="b";var eB=()=>null;function E_(t,e,n=!1){return eB(t,e,n)}var rR=!1,tB=new U("",{providedIn:"root",factory:()=>rR});var Lh;function nB(){if(Lh===void 0&&(Lh=null,dt.trustedTypes))try{Lh=dt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lh}function Of(t){return nB()?.createHTML(t)||t}var Vh;function iR(){if(Vh===void 0&&(Vh=null,dt.trustedTypes))try{Vh=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Vh}function uS(t){return iR()?.createHTML(t)||t}function lS(t){return iR()?.createScriptURL(t)||t}var af=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${OS})`}};function Os(t){return t instanceof af?t.changingThisBreaksApplicationSecurity:t}function Pf(t,e){let n=rB(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${OS})`)}return n===e}function rB(t){return t instanceof af&&t.getTypeName()||null}function iB(t){let e=new wv(t);return sB()?new _v(e):e}var _v=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Of(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},wv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Of(e),n}};function sB(){try{return!!new window.DOMParser().parseFromString(Of(""),"text/html")}catch{return!1}}var oB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function b_(t){return t=String(t),t.match(oB)?t:"unsafe:"+t}function Pr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Au(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var sR=Pr("area,br,col,hr,img,wbr"),oR=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aR=Pr("rp,rt"),aB=Au(aR,oR),cB=Au(oR,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uB=Au(aR,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),dS=Au(sR,cB,uB,aB),cR=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lB=Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dB=Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),hB=Au(cR,lB,dB),fB=Pr("script,style,template"),Iv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=mB(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=gB(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=hS(e).toLowerCase();if(!dS.hasOwnProperty(n))return this.sanitizedSomething=!0,!fB.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!hB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;cR[a]&&(c=b_(c)),this.buf.push(" ",o,'="',fS(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=hS(e).toLowerCase();dS.hasOwnProperty(n)&&!sR.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(fS(e))}};function pB(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function gB(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw uR(e);return e}function mB(t){let e=t.firstChild;if(e&&pB(t,e))throw uR(e);return e}function hS(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function uR(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var yB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vB=/([^\#-~ |!])/g;function fS(t){return t.replace(/&/g,"&amp;").replace(yB,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(vB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var jh;function lR(t,e){let n=null;try{jh=jh||iB(t);let r=e?String(e):"";n=jh.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=jh.getInertBodyElement(r)}while(r!==s);let a=new Iv().sanitizeChildren(pS(n)||n);return Of(a)}finally{if(n){let r=pS(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function pS(t){return"content"in t&&_B(t)?t.content:null}function _B(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Ru=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Ru||{});function dR(t){let e=D_();return e?uS(e.sanitize(Ru.HTML,t)||""):Pf(t,"HTML")?uS(Os(t)):lR(nR(),bu(t))}function wB(t){let e=D_();return e?e.sanitize(Ru.URL,t)||"":Pf(t,"URL")?Os(t):b_(bu(t))}function IB(t){let e=D_();if(e)return lS(e.sanitize(Ru.RESOURCE_URL,t)||"");if(Pf(t,"ResourceURL"))return lS(Os(t));throw new Q(904,!1)}function EB(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?IB:wB}function hR(t,e,n){return EB(e,n)(t)}function D_(){let t=le();return t&&t[ir].sanitizer}var bB=/^>|^->|<!--|-->|--!>|<!-$/g,DB=/(<|>)/g,CB="\u200B$1\u200B";function TB(t){return t.replace(bB,e=>e.replace(DB,CB))}function fR(t){return t instanceof Function?t():t}function pR(t){return(t??P(Ce)).get(yn)==="browser"}var kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(kr||{}),SB;function C_(t,e){return SB(t,e)}function Yo(t,e,n,r,i){if(r!=null){let s,o=!1;Or(r)?s=r:_i(r)&&(o=!0,r=r[ur]);let a=sr(r);t===0&&n!==null?i==null?_R(e,n,a):cf(e,n,a,i||null,!0):t===1&&n!==null?cf(e,n,a,i||null,!0):t===2?$B(e,a,o):t===3&&e.destroyNode(a),s!=null&&zB(e,t,s,n,i)}}function AB(t,e){return t.createText(e)}function RB(t,e,n){t.setValue(e,n)}function xB(t,e){return t.createComment(TB(e))}function gR(t,e,n){return t.createElement(e,n)}function MB(t,e){mR(t,e),e[ur]=null,e[Yt]=null}function NB(t,e,n,r,i,s){r[ur]=i,r[Yt]=e,Vf(t,r,n,1,i,s)}function mR(t,e){e[ir].changeDetectionScheduler?.notify(8),Vf(t,e,e[We],2,null,null)}function kB(t){let e=t[mu];if(!e)return zy(t[ue],t);for(;e;){let n=null;if(_i(e))n=e[mu];else{let r=e[At];r&&(n=r)}if(!n){for(;e&&!e[Pn]&&e!==t;)_i(e)&&zy(e[ue],e),e=e[xt];e===null&&(e=t),_i(e)&&zy(e[ue],e),n=e&&e[Pn]}e=n}}function OB(t,e,n,r){let i=At+r,s=n.length;r>0&&(n[i-1][Pn]=e),r<s-At?(e[Pn]=n[i],WS(n,At+r,e)):(n.push(e),e[Pn]=null),e[xt]=n;let o=e[Ds];o!==null&&n!==o&&yR(o,e);let a=e[Mr];a!==null&&a.insertView(t),lv(e),e[ie]|=128}function yR(t,e){let n=t[sa],r=e[xt];if(_i(r))t[ie]|=ef.HasTransplantedViews;else{let i=r[xt][nn];e[nn]!==i&&(t[ie]|=ef.HasTransplantedViews)}n===null?t[sa]=[e]:n.push(e)}function T_(t,e){let n=t[sa],r=n.indexOf(e);n.splice(r,1)}function _u(t,e){if(t.length<=At)return;let n=At+e,r=t[n];if(r){let i=r[Ds];i!==null&&i!==t&&T_(i,r),e>0&&(t[n-1][Pn]=r[Pn]);let s=Zh(t,At+e);MB(r[ue],r);let o=s[Mr];o!==null&&o.detachView(s[ue]),r[xt]=null,r[Pn]=null,r[ie]&=-129}return r}function Ff(t,e){if(!(e[ie]&256)){let n=e[We];n.destroyNode&&Vf(t,e,n,3,null,null),kB(e)}}function zy(t,e){if(e[ie]&256)return;let n=ye(null);try{e[ie]&=-129,e[ie]|=256,e[Cs]&&Ey(e[Cs]),FB(t,e),PB(t,e),e[ue].type===1&&e[We].destroy();let r=e[Ds];if(r!==null&&Or(e[xt])){r!==e[xt]&&T_(r,e);let i=e[Mr];i!==null&&i.detachView(t)}YU(e)}finally{ye(n)}}function PB(t,e){let n=t.cleanup,r=e[gu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[gu]=null);let i=e[vi];if(i!==null){e[vi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function FB(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof As)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];tr(4,a,c);try{c.call(a)}finally{tr(5,a,c)}}else{tr(4,i,s);try{s.call(i)}finally{tr(5,i,s)}}}}}function vR(t,e,n){return LB(t,e.parent,n)}function LB(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ur];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===rr.None||s===rr.Emulated)return null}return mn(r,n)}}function cf(t,e,n,r,i){t.insertBefore(e,n,r,i)}function _R(t,e,n){t.appendChild(e,n)}function gS(t,e,n,r,i){r!==null?cf(t,e,n,r,i):_R(t,e,n)}function VB(t,e,n,r){t.removeChild(e,n,r)}function S_(t,e){return t.parentNode(e)}function jB(t,e){return t.nextSibling(e)}function wR(t,e,n){return BB(t,e,n)}function UB(t,e,n){return t.type&40?mn(t,n):null}var BB=UB,mS;function Lf(t,e,n,r){let i=vR(t,r,e),s=e[We],o=r.parent||e[Yt],a=wR(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)gS(s,i,n[c],a,!1);else gS(s,i,n,a,!1);mS!==void 0&&mS(s,r,e,n,i)}function Wh(t,e){if(e!==null){let n=e.type;if(n&3)return mn(e,t);if(n&4)return Ev(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Wh(t,r);{let i=t[e.index];return Or(i)?Ev(-1,i):sr(i)}}else{if(n&32)return C_(e,t)()||sr(t[e.index]);{let r=IR(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=vu(t[nn]);return Wh(i,r)}else return Wh(t,e.next)}}}return null}function IR(t,e){if(e!==null){let r=t[nn][Yt],i=e.projection;return r.projection[i]}return null}function Ev(t,e){let n=At+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Wh(r,i)}return e[Ts]}function $B(t,e,n){let r=S_(t,e);r&&VB(t,r,e,n)}function A_(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Ii(sr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)A_(t,e,n.child,r,i,s,!1),Yo(e,t,i,a,s);else if(c&32){let l=C_(n,r),d;for(;d=l();)Yo(e,t,i,d,s);Yo(e,t,i,a,s)}else c&16?ER(t,e,r,n,i,s):Yo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Vf(t,e,n,r,i,s){A_(n,r,t.firstChild,e,i,s,!1)}function HB(t,e,n){let r=e[We],i=vR(t,n,e),s=n.parent||e[Yt],o=wR(s,n,e);ER(r,0,e,n,i,o)}function ER(t,e,n,r,i,s){let o=n[nn],c=o[Yt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Yo(e,t,i,d,s)}else{let l=c,d=o[xt];YA(r)&&(l.flags|=128),A_(t,e,l,d,i,s,!0)}}function zB(t,e,n,r,i){let s=n[Ts],o=sr(n);s!==o&&Yo(e,t,r,s,i);for(let a=At;a<n.length;a++){let c=n[a];Vf(c[ue],c,t,e,r,s)}}function qB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:kr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=kr.Important),t.setStyle(n,r,i,s))}}function GB(t,e,n){t.setAttribute(e,"style",n)}function bR(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function DR(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&iv(t,e,r),i!==null&&bR(t,e,i),s!==null&&GB(t,e,s)}var lr={};function jn(t=1){CR(ze(),le(),Ci()+t,!1)}function CR(t,e,n,r){if(!r)if((e[ie]&3)===3){let s=t.preOrderCheckHooks;s!==null&&zh(e,s,n)}else{let s=t.preOrderHooks;s!==null&&qh(e,s,0,n)}Ss(n)}function j(t,e=ve.Default){let n=le();if(n===null)return R(t,e);let r=ht();return zA(r,n,Vt(t),e)}function TR(){let t="invalid";throw new Error(t)}function SR(t,e,n,r,i,s){let o=ye(null);try{let a=null;i&ta.SignalBased&&(a=e[r][dn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ta.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):fA(e,a,r,s)}finally{ye(o)}}function WB(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ss(~i);else{let s=i,o=n[++r],a=n[++r];IU(o,s);let c=e[s];a(2,c)}}}finally{Ss(-1)}}function jf(t,e,n,r,i,s,o,a,c,l,d){let f=e.blueprint.slice();return f[ur]=i,f[ie]=r|4|128|8|64,(l!==null||t&&t[ie]&2048)&&(f[ie]|=2048),wA(f),f[xt]=f[da]=t,f[St]=n,f[ir]=o||t&&t[ir],f[We]=a||t&&t[We],f[ia]=c||t&&t[ia]||null,f[Yt]=s,f[Tf]=KU(),f[ra]=d,f[hA]=l,f[nn]=e.type==2?t[nn]:f,f}function pa(t,e,n,r,i){let s=t.data[e];if(s===null)s=KB(t,e,n,r,i),wU()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=yU();s.injectorIndex=o===null?-1:o.injectorIndex}return ks(s,!0),s}function KB(t,e,n,r,i){let s=CA(),o=h_(),a=o?s:s&&s.parent,c=t.data[e]=e2(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function AR(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function RR(t,e,n,r,i){let s=Ci(),o=r&2;try{Ss(-1),o&&e.length>_t&&CR(t,e,_t,!1),tr(o?2:0,i),n(r,i)}finally{Ss(s),tr(o?3:1,i)}}function R_(t,e,n){if(a_(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ye(r)}}}function x_(t,e,n){bA()&&(o2(t,e,n,mn(n,e)),(n.flags&64)===64&&NR(t,e,n))}function M_(t,e,n=mn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function xR(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=N_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function N_(t,e,n,r,i,s,o,a,c,l,d){let f=_t+r,g=f+i,y=QB(f,g),E=typeof l=="function"?l():l;return y[ue]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function QB(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:lr);return n}function YB(t,e,n,r){let s=r.get(tB,rR)||n===rr.ShadowDom,o=t.selectRootElement(e,s);return ZB(o),o}function ZB(t){XB(t)}var XB=()=>null;function JB(t,e,n,r){let i=PR(e);i.push(n),t.firstCreatePass&&FR(t).push(r,i.length-1)}function e2(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return DA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function yS(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=ta.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?vS(r,n,l,a,c):vS(r,n,l,a)}return r}function vS(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function t2(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let d=r;d<i;d++){let f=s[d],g=n?n.get(f):null,y=g?g.inputs:null,E=g?g.outputs:null;c=yS(0,f.inputs,d,c,y),l=yS(1,f.outputs,d,l,E);let S=c!==null&&o!==null&&!r_(e)?y2(c,d,o):null;a.push(S)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function n2(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Uf(t,e,n,r,i,s,o,a){let c=mn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(O_(t,n,d,r,i),Sf(e)&&r2(n,e.index)):e.type&3?(r=n2(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function r2(t,e){let n=bi(e,t);n[ie]&16||(n[ie]|=64)}function k_(t,e,n,r){if(bA()){let i=r===null?null:{"":-1},s=c2(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&MR(t,e,n,o,i,a),i&&u2(n,r,i)}n.mergedAttrs=fu(n.mergedAttrs,n.attrs)}function MR(t,e,n,r,i,s){for(let l=0;l<r.length;l++)fv(sf(n,e),t,r[l].type);d2(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=AR(t,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];n.mergedAttrs=fu(n.mergedAttrs,d.hostAttrs),h2(t,n,e,c,d),l2(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}t2(t,n,s)}function i2(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;s2(o)!=a&&o.push(a),o.push(n,r,s)}}function s2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function o2(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Sf(n)&&f2(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||sf(n,e),Ii(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=Rs(e,t,a,n);if(Ii(l,e),o!==null&&m2(e,a-i,l,c,n,o),Nr(c)){let d=bi(n.index,e);d[St]=Rs(e,t,a,n)}}}function NR(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=EU();try{Ss(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];dv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&a2(c,l)}}finally{Ss(-1),dv(o)}}function a2(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function c2(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(JS(e,o.selectors,!1))if(r||(r=[]),Nr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;bv(t,e,c)}else r.unshift(o),bv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function bv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function u2(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Q(-301,!1);r.push(e[i],s)}}}function l2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Nr(e)&&(n[""]=t)}}function d2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function h2(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=bs(i.type,!0)),o=new As(s,Nr(i),j);t.blueprint[r]=o,n[r]=o,i2(t,e,r,AR(t,n,i.hostVars,lr),i)}function f2(t,e,n){let r=mn(e,t),i=xR(n),s=t[ir].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Bf(t,jf(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function p2(t,e,n,r,i,s){let o=mn(t,e);g2(e[We],o,s,t.value,n,r,i)}function g2(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?bu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function m2(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],d=o[a++],f=o[a++];SR(r,n,c,l,d,f)}}function y2(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function kR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function OR(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];xf(s),a.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function Bf(t,e){return t[mu]?t[eS][Pn]=e:t[mu]=e,t[eS]=e,e}function Dv(t,e,n){xf(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function PR(t){return t[gu]||(t[gu]=[])}function FR(t){return t.cleanup||(t.cleanup=[])}function LR(t,e,n){return(t===null||Nr(t))&&(n=oU(n[e.index])),n[We]}function VR(t,e){let n=t[ia],r=n?n.get(fn,null):null;r&&r.handleError(e)}function O_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],d=t.data[o];SR(d,l,r,a,c,i)}}function v2(t,e,n){let r=vA(e,t);RB(t[We],r,n)}function _2(t,e){let n=bi(e,t),r=n[ue];w2(r,n);let i=n[ur];i!==null&&n[ra]===null&&(n[ra]=E_(i,n[ia])),P_(r,n,n[St])}function w2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function P_(t,e,n){m_(e);try{let r=t.viewQuery;r!==null&&Dv(1,r,n);let i=t.template;i!==null&&RR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Mr]?.finishViewCreation(t),t.staticContentQueries&&OR(t,e),t.staticViewQueries&&Dv(2,t.viewQuery,n);let s=t.components;s!==null&&I2(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,y_()}}function I2(t,e){for(let n=0;n<e.length;n++)_2(t,e[n])}function xu(t,e,n,r){let i=ye(null);try{let s=e.tView,a=t[ie]&4096?4096:16,c=jf(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ds]=l;let d=t[Mr];return d!==null&&(c[Mr]=d.createEmbeddedView(s)),P_(s,c,n),c}finally{ye(i)}}function jR(t,e){let n=At+e;if(n<t.length)return t[n]}function oa(t,e){return!e||e.firstChild===null||YA(t)}function Mu(t,e,n,r=!0){let i=e[ue];if(OB(i,e,t,n),r){let o=Ev(n,t),a=e[We],c=S_(a,t[Ts]);c!==null&&NB(i,t[Yt],a,e,c,o)}let s=e[ra];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function UR(t,e){let n=_u(t,e);return n!==void 0&&Ff(n[ue],n),n}function uf(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(sr(s)),Or(s)&&E2(s,r);let o=n.type;if(o&8)uf(t,e,n.child,r);else if(o&32){let a=C_(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=IR(e,n);if(Array.isArray(a))r.push(...a);else{let c=vu(e[nn]);uf(c[ue],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function E2(t,e){for(let n=At;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&uf(r[ue],r,i,e)}t[Ts]!==t[ur]&&e.push(t[Ts])}var BR=[];function b2(t){return t[Cs]??D2(t)}function D2(t){let e=BR.pop()??Object.create(T2);return e.lView=t,e}function C2(t){t.lView[Cs]!==t&&(t.lView=null,BR.push(t))}var T2=pe(O({},tu),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Rf(t.lView)},consumerOnSignalRead(){this.lView[Cs]=this}}),S2=100;function $R(t,e=!0,n=0){let r=t[ir],i=r.rendererFactory,s=!1;s||i.begin?.();try{A2(t,n)}catch(o){throw e&&VR(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function A2(t,e){let n=TA();try{nS(!0),Cv(t,e);let r=0;for(;yu(t);){if(r===S2)throw new Q(103,!1);r++,Cv(t,1)}}finally{nS(n)}}function R2(t,e,n,r){let i=e[ie];if((i&256)===256)return;let s=!1,o=!1;!s&&e[ir].inlineEffectRunner?.flush(),m_(e);let a=null,c=null;!s&&x2(t)&&(c=b2(e),a=eh(c));try{wA(e),_U(t.bindingStartIndex),n!==null&&RR(t,e,n,2,r);let l=(i&3)===3;if(!s)if(l){let g=t.preOrderCheckHooks;g!==null&&zh(e,g,null)}else{let g=t.preOrderHooks;g!==null&&qh(e,g,0,null),Uy(e,0)}if(o||M2(e),HR(e,0),t.contentQueries!==null&&OR(t,e),!s)if(l){let g=t.contentCheckHooks;g!==null&&zh(e,g)}else{let g=t.contentHooks;g!==null&&qh(e,g,1),Uy(e,1)}WB(t,e);let d=t.components;d!==null&&qR(e,d,0);let f=t.viewQuery;if(f!==null&&Dv(2,f,r),!s)if(l){let g=t.viewCheckHooks;g!==null&&zh(e,g)}else{let g=t.viewHooks;g!==null&&qh(e,g,2),Uy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Hh]){for(let g of e[Hh])g();e[Hh]=null}s||(e[ie]&=-73)}catch(l){throw s||Rf(e),l}finally{c!==null&&(th(c,a),C2(c)),y_()}}function x2(t){return t.type!==2}function HR(t,e){for(let n=XA(t);n!==null;n=JA(n))for(let r=At;r<n.length;r++){let i=n[r];zR(i,e)}}function M2(t){for(let e=XA(t);e!==null;e=JA(e)){if(!(e[ie]&ef.HasTransplantedViews))continue;let n=e[sa];for(let r=0;r<n.length;r++){let i=n[r];uU(i)}}}function N2(t,e,n){let r=bi(e,t);zR(r,n)}function zR(t,e){u_(t)&&Cv(t,e)}function Cv(t,e){let r=t[ue],i=t[ie],s=t[Cs],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&nh(s)),o||=!1,s&&(s.dirty=!1),t[ie]&=-9217,o)R2(r,t,r.template,t[St]);else if(i&8192){HR(t,1);let a=r.components;a!==null&&qR(t,a,1)}}function qR(t,e,n){for(let r=0;r<e.length;r++)N2(t,e[r],n)}function F_(t,e){let n=TA()?64:1088;for(t[ir].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=vu(t);if(cv(t)&&!r)return t;t=r}return null}var xs=class{get rootNodes(){let e=this._lView,n=e[ue];return uf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(Or(e)){let n=e[Jh],r=n?n.indexOf(this):-1;r>-1&&(_u(e,r),Zh(n,r))}this._attachedToViewContainer=!1}Ff(this._lView[ue],this._lView)}onDestroy(e){IA(this._lView,e)}markForCheck(){F_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){lv(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,$R(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=cv(this._lView),n=this._lView[Ds];n!==null&&!e&&T_(n,this._lView),mR(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=cv(this._lView),r=this._lView[Ds];r!==null&&!n&&yR(r,this._lView),lv(this._lView)}},Fn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=P2;let t=e;return t})(),k2=Fn,O2=class extends k2{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=xu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new xs(i)}};function P2(){return $f(ht(),le())}function $f(t,e){return t.type&4?new O2(e,t,fa(t,e)):null}var $re=new RegExp(`^(\\d+)*(${JU}|${XU})*(.*)`);var F2=()=>null;function aa(t,e){return F2(t,e)}var ca=class{},GR=new U("",{providedIn:"root",factory:()=>!1});var WR=new U(""),Tv=class{},lf=class{};function L2(t){let e=Error(`No component factory found for ${Ut(t)}.`);return e[V2]=t,e}var V2="ngComponent";var Sv=class{resolveComponentFactory(e){throw L2(e)}},Z_=class Z_{};Z_.NULL=new Sv;var or=Z_,ua=class{},dr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>j2();let t=e;return t})();function j2(){let t=le(),e=ht(),n=bi(e.index,t);return(_i(n)?n:t)[We]}var U2=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),qy={};var _S=new Set;function Si(t){_S.has(t)||(_S.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function KR(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof dt.requestAnimationFrame=="function"&&dt.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function wS(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function IS(...t){}var W=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,H2(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,B2,IS,IS);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},B2={};function L_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function $2(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{KR(()=>{t.callbackScheduled=!1,Av(t),t.isCheckStableRunning=!0,L_(t),t.isCheckStableRunning=!1})}),Av(t))}function H2(t){let e=()=>{$2(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(z2(a))return n.invokeTask(i,s,o,a);try{return ES(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bS(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return ES(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!q2(a)&&e(),bS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Av(t),L_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Av(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ES(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bS(t){t._nesting--,L_(t)}var Rv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function z2(t){return QR(t,"__ignore_ng_zone__")}function q2(t){return QR(t,"__scheduler_tick__")}function QR(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Is=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Is||{}),YR={destroy(){}};function V_(t,e){!e&&s_(V_);let n=e?.injector??P(Ce);if(!pR(n))return YR;Si("NgAfterRender");let r=n.get(Hf),i=r.handler??=new hf,s=e?.phase??Is.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ha).onDestroy(o),c=gn(n,()=>new df(s,t));return i.register(c),{destroy:o}}function Ai(t,e){!e&&s_(Ai);let n=e?.injector??P(Ce);if(!pR(n))return YR;Si("NgAfterNextRender");let r=n.get(Hf),i=r.handler??=new hf,s=e?.phase??Is.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ha).onDestroy(o),c=gn(n,()=>new df(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var df=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=P(W),this.errorHandler=P(fn,{optional:!0}),P(ca,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},hf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Is.EarlyRead]:new Set,[Is.Write]:new Set,[Is.MixedReadWrite]:new Set,[Is.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Hf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function ff(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=ev(i,a);else if(s==2){let c=a,l=e[++o];r=ev(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var pf=class extends or{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=xr(e);return new Ms(n,this.ngModule)}};function DS(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function G2(t){let e=t.toLowerCase();return e==="svg"?yA:e==="math"?sU:null}var xv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=bf(r);let i=this.injector.get(e,qy,r);return i!==qy||n===qy?i:this.parentInjector.get(e,n,r)}},Ms=class extends lf{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=DS(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return DS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=jj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof Rt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new xv(e,o):e,c=a.get(ua,null);if(c===null)throw new Q(407,!1);let l=a.get(U2,null),d=a.get(Hf,null),f=a.get(ca,null),g={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},y=c.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",S=r?YB(y,r,this.componentDef.encapsulation,a):gR(y,E,G2(E)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let V=null;S!==null&&(V=E_(S,a,!0));let z=N_(0,null,null,1,0,null,null,null,null,null,null),H=jf(null,z,null,M,null,null,g,y,a,null,V);m_(H);let ee,fe;try{let Y=this.componentDef,b,_=null;Y.findHostDirectiveDefs?(b=[],_=new Map,Y.findHostDirectiveDefs(Y,b,_),b.push(Y)):b=[Y];let w=W2(H,S),D=K2(w,S,Y,b,H,g,y);fe=c_(z,_t),S&&Z2(y,Y,S,r),n!==void 0&&X2(fe,this.ngContentSelectors,n),ee=Y2(D,Y,b,_,H,[J2]),P_(z,H,null)}finally{y_()}return new Mv(this.componentType,ee,fa(fe,H),H,fe)}finally{ye(s)}}},Mv=class extends Tv{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;O_(s[ue],s,i,e,n),this.previousInputValues.set(e,n);let o=bi(this._tNode.index,s);F_(o,1)}}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function W2(t,e){let n=t[ue],r=_t;return t[r]=e,pa(n,r,2,"#host",null)}function K2(t,e,n,r,i,s,o){let a=i[ue];Q2(r,t,e,o);let c=null;e!==null&&(c=E_(e,i[ia]));let l=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=jf(i,xR(n),null,d,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&bv(a,t,r.length-1),Bf(i,f),i[t.index]=f}function Q2(t,e,n,r){for(let i of t)e.mergedAttrs=fu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ff(e,e.mergedAttrs,!0),n!==null&&DR(r,n,e))}function Y2(t,e,n,r,i,s){let o=ht(),a=i[ue],c=mn(o,i);MR(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,g=Rs(i,a,f,o);Ii(g,i)}NR(a,i,o),c&&Ii(c,i);let l=Rs(i,a,o.directiveStart+o.componentOffset,o);if(t[St]=i[St]=l,s!==null)for(let d of s)d(l,e);return R_(a,o,i),l}function Z2(t,e,n,r){if(r)iv(t,n,["ng-version","18.0.1"]);else{let{attrs:i,classes:s}=Uj(e.selectors[0]);i&&iv(t,n,i),s&&s.length>0&&bR(t,n,s.join(" "))}}function X2(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function J2(){let t=ht();kf(le()[ue],t)}var vn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=e$;let t=e;return t})();function e$(){let t=ht();return XR(t,le())}var t$=vn,ZR=class extends t${constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fa(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){let e=v_(this._hostTNode,this._hostLView);if(VA(e)){let n=nf(e,this._hostLView),r=tf(e),i=n[ue].data[r+8];return new Es(i,n)}else return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=CS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=aa(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,oa(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!tU(e),a;if(o)a=n;else{let E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let c=o?e:new Ms(xr(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let S=(o?l:this.parentInjector).get(Rt,null);S&&(s=S)}let d=xr(c.componentType??{}),f=aa(this._lContainer,d?.id??null),g=f?.firstChild??null,y=c.create(l,i,g,s);return this.insertImpl(y.hostView,a,oa(this._hostTNode,f)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(cU(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xt],l=new ZR(c,c[Yt],c[xt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Mu(o,i,s,r),e.attachToViewContainerRef(),WS(Gy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=CS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=_u(this._lContainer,n);r&&(Zh(Gy(this._lContainer),n),Ff(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=_u(this._lContainer,n);return r&&Zh(Gy(this._lContainer),n)!=null?new xs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function CS(t){return t[Jh]}function Gy(t){return t[Jh]||(t[Jh]=[])}function XR(t,e){let n,r=e[t.index];return Or(r)?n=r:(n=kR(r,e,null,t),e[t.index]=n,Bf(e,n)),r$(n,e,t,r),new ZR(n,t,e)}function n$(t,e){let n=t[We],r=n.createComment(""),i=mn(e,t),s=S_(n,i);return cf(n,s,r,jB(n,i),!1),r}var r$=o$,i$=()=>!1;function s$(t,e,n){return i$(t,e,n)}function o$(t,e,n,r){if(t[Ts])return;let i;n.type&8?i=sr(r):i=n$(e,n),t[Ts]=i}var Nv=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},kv=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)U_(e,n).matches!==null&&this.queries[n].setDirty()}},gf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=h$(e):this.predicate=e}},Ov=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Pv=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,a$(n,s)),this.matchTNodeWithReadOption(e,n,Gh(n,e,s,!1,!1))}else r===Fn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Gh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Te||i===vn||i===Fn&&n.type&4)this.addMatch(n.index,-2);else{let s=Gh(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function a$(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function c$(t,e){return t.type&11?fa(t,e):t.type&4?$f(t,e):null}function u$(t,e,n,r){return n===-1?c$(e,t):n===-2?l$(t,e,r):Rs(t,t[ue],n,e)}function l$(t,e,n){if(n===Te)return fa(e,t);if(n===Fn)return $f(e,t);if(n===vn)return XR(e,t)}function JR(t,e,n,r){let i=e[Mr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let d=s[l];a.push(u$(e,d,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Fv(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=JR(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],d=e[-c];for(let f=At;f<d.length;f++){let g=d[f];g[Ds]===g[xt]&&Fv(g[ue],g,l,r)}if(d[sa]!==null){let f=d[sa];for(let g=0;g<f.length;g++){let y=f[g];Fv(y[ue],y,l,r)}}}}}return r}function j_(t,e){return t[Mr].queries[e].queryList}function ex(t,e,n){let r=new of((n&4)===4);return JB(t,e,r,r.destroy),(e[Mr]??=new kv).queries.push(new Nv(r))-1}function tx(t,e,n){let r=ze();return r.firstCreatePass&&(nx(r,new gf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),ex(r,le(),e)}function d$(t,e,n,r){let i=ze();if(i.firstCreatePass){let s=ht();nx(i,new gf(e,n,r),s.index),f$(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return ex(i,le(),n)}function h$(t){return t.split(",").map(e=>e.trim())}function nx(t,e,n){t.queries===null&&(t.queries=new Ov),t.queries.track(new Pv(e,n))}function f$(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function U_(t,e){return t.queries.getByIndex(e)}function rx(t,e){let n=t[ue],r=U_(n,e);return r.crossesNgTemplate?Fv(n,t,e,[]):JR(n,t,r,e)}function ix(t){return typeof t=="function"&&t[dn]!==void 0}function B_(t,e){Si("NgSignals");let n=hT(t),r=n[dn];return e?.equal&&(r.equal=e.equal),n.set=i=>ih(r,i),n.update=i=>fT(r,i),n.asReadonly=p$.bind(n),n}function p$(){let t=this[dn];if(t.readonlyFn===void 0){let e=()=>this();e[dn]=t,t.readonlyFn=e}return t.readonlyFn}function sx(t){return ix(t)&&typeof t.set=="function"}function ox(t,e){let n,r=cT(()=>{n._dirtyCounter();let i=v$(n,t);if(e&&i===void 0)throw new Q(-951,!1);return i});return n=r[dn],n._dirtyCounter=B_(0),n._flatValue=void 0,r}function g$(){return ox(!0,!1)}function m$(){return ox(!0,!0)}function y$(t,e){let n=t[dn];n._lView=le(),n._queryIndex=e,n._queryList=j_(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function v$(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[ie]&4)return e?void 0:jt;let i=j_(n,r),s=rx(n,r);return i.reset(s,QA),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}function TS(t,e){return g$()}function _$(t,e){return m$()}var zre=(TS.required=_$,TS);function w$(t){return Object.getPrototypeOf(t.prototype).constructor}function et(t){let e=w$(t.type),n=!0,r=[t];for(;e;){let i;if(Nr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Uh(t.inputs),o.inputTransforms=Uh(t.inputTransforms),o.declaredInputs=Uh(t.declaredInputs),o.outputs=Uh(t.outputs);let a=i.hostBindings;a&&C$(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&b$(t,c),l&&D$(t,l),I$(t,i),ij(t.outputs,i.outputs),Nr(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===et&&(n=!1)}}e=Object.getPrototypeOf(e)}E$(r)}function I$(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function E$(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=fu(i.hostAttrs,n=fu(n,i.hostAttrs))}}function Uh(t){return t===Jo?{}:t===jt?[]:t}function b$(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function D$(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function C$(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Fr(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ei=class{},wu=class{};var Lv=class extends Ei{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pf(this);let i=iA(e);this._bootstrapComponents=fR(i.bootstrap),this._r3Injector=WA(e,n,[{provide:Ei,useValue:this},{provide:or,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vv=class extends wu{constructor(e){super(),this.moduleType=e}create(e){return new Lv(this.moduleType,e,[])}};var mf=class extends Ei{constructor(e){super(),this.componentFactoryResolver=new pf(this),this.instance=null;let n=new pu([...e.providers,{provide:Ei,useValue:this},{provide:or,useValue:this.componentFactoryResolver}],e.parent||Cf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zf(t,e,n=null){return new mf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ga=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T$(t,e,n){return t[e]=n}function Un(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function S$(t){return(t.flags&32)===32}function A$(t,e,n,r,i,s,o,a,c){let l=e.consts,d=pa(e,t,4,o||null,a||null);k_(e,n,d,wi(l,c)),kf(e,d);let f=d.tView=N_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function yf(t,e,n,r,i,s,o,a,c,l){let d=n+_t,f=e.firstCreatePass?A$(d,e,t,r,i,s,o,a,c):e.data[d];ks(f,!1);let g=R$(e,t,f,n);Mf()&&Lf(e,t,g,f),Ii(g,t);let y=kR(g,t,g,f);return t[d]=y,Bf(t,y),s$(y,f,t),Af(f)&&x_(e,t,f),c!=null&&M_(t,f,l),f}function Bn(t,e,n,r,i,s,o,a){let c=le(),l=ze(),d=wi(l.consts,s);return yf(c,l,t,e,n,r,i,d,o,a),Bn}var R$=x$;function x$(t,e,n,r){return Nf(!0),e[We].createComment("")}function hr(t,e,n,r){let i=le(),s=Di();if(Un(i,s,e)){let o=ze(),a=Cu();p2(a,i,t,e,n,r)}return hr}function M$(t,e,n,r){return Un(t,Di(),n)?e+bu(n)+r:lr}function Bh(t,e){return t<<17|e<<2}function Ns(t){return t>>17&32767}function N$(t){return(t&2)==2}function k$(t,e){return t&131071|e<<17}function jv(t){return t|2}function la(t){return(t&131068)>>2}function Wy(t,e){return t&-131069|e<<2}function O$(t){return(t&1)===1}function Uv(t){return t|1}function P$(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ns(o),c=la(o);t[r]=n;let l=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Du(f,d)>0)&&(l=!0)}else d=n;if(i)if(c!==0){let g=Ns(t[a+1]);t[r+1]=Bh(g,a),g!==0&&(t[g+1]=Wy(t[g+1],r)),t[a+1]=k$(t[a+1],r)}else t[r+1]=Bh(a,0),a!==0&&(t[a+1]=Wy(t[a+1],r)),a=r;else t[r+1]=Bh(c,0),a===0?a=r:t[c+1]=Wy(t[c+1],r),c=r;l&&(t[r+1]=jv(t[r+1])),SS(t,d,r,!0),SS(t,d,r,!1),F$(e,d,t,r,s),o=Bh(a,c),s?e.classBindings=o:e.styleBindings=o}function F$(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Du(s,e)>=0&&(n[r+1]=Uv(n[r+1]))}function SS(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ns(i):la(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];L$(c,e)&&(a=!0,t[o+1]=r?Uv(l):jv(l)),o=r?Ns(l):la(l)}a&&(t[n+1]=r?jv(i):Uv(i))}function L$(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Du(t,e)>=0:!1}var On={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function V$(t){return t.substring(On.key,On.keyEnd)}function j$(t){return U$(t),ax(t,cx(t,0,On.textEnd))}function ax(t,e){let n=On.textEnd;return n===e?-1:(e=On.keyEnd=B$(t,On.key=e,n),cx(t,e,n))}function U$(t){On.key=0,On.keyEnd=0,On.value=0,On.valueEnd=0,On.textEnd=t.length}function cx(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function B$(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ps(t,e,n){let r=le(),i=Di();if(Un(r,i,e)){let s=ze(),o=Cu();Uf(s,o,r,t,e,r[We],n,!1)}return Ps}function Bv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";O_(t,n,s[o],o,r)}function $_(t,e,n){return lx(t,e,n,!1),$_}function Lr(t,e){return lx(t,e,null,!0),Lr}function ux(t){H$(Q$,$$,t,!0)}function $$(t,e){for(let n=j$(e);n>=0;n=ax(e,n))n_(t,V$(e),!0)}function lx(t,e,n,r){let i=le(),s=ze(),o=AA(2);if(s.firstUpdatePass&&hx(s,t,o,r),e!==lr&&Un(i,o,e)){let a=s.data[Ci()];fx(s,a,i,i[We],t,i[o+1]=Z$(e,n),r,o)}}function H$(t,e,n,r){let i=ze(),s=AA(2);i.firstUpdatePass&&hx(i,null,s,r);let o=le();if(n!==lr&&Un(o,s,n)){let a=i.data[Ci()];if(px(a,r)&&!dx(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=ev(c,n||"")),Bv(i,a,o,n,r)}else Y$(i,a,o,o[We],o[s+1],o[s+1]=K$(t,e,n),r,s)}}function dx(t,e){return e>=t.expandoStartIndex}function hx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ci()],o=dx(t,n);px(s,r)&&e===null&&!o&&(e=!1),e=z$(i,s,e,r),P$(i,s,e,n,o,r)}}function z$(t,e,n,r){let i=p_(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ky(null,t,e,n,r),n=Iu(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Ky(i,t,e,n,r),s===null){let c=q$(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Ky(null,t,e,c[1],r),c=Iu(c,e.attrs,r),G$(t,e,r,c))}else s=W$(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function q$(t,e,n){let r=n?e.classBindings:e.styleBindings;if(la(r)!==0)return t[Ns(r)]}function G$(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ns(i)]=r}function W$(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Iu(r,o,n)}return Iu(r,e.attrs,n)}function Ky(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Iu(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Iu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),n_(t,o,n?!0:e[++s]))}return t===void 0?null:t}function K$(t,e,n){if(n==null||n==="")return jt;let r=[],i=Os(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function Q$(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&n_(t,r,n)}function Y$(t,e,n,r,i,s,o,a){i===lr&&(i=jt);let c=0,l=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,y=l<s.length?s[l+1]:void 0,E=null,S;d===f?(c+=2,l+=2,g!==y&&(E=f,S=y)):f===null||d!==null&&d<f?(c+=2,E=d):(l+=2,E=f,S=y),E!==null&&fx(t,e,n,r,E,S,o,a),d=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}function fx(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],d=O$(l)?AS(c,e,n,i,la(l),o):void 0;if(!vf(d)){vf(s)||N$(l)&&(s=AS(c,null,n,i,a,o));let f=vA(Ci(),n);qB(r,o,f,i,s)}}function AS(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,g=n[i+1];g===lr&&(g=f?jt:void 0);let y=f?Vy(g,r):d===r?g:void 0;if(l&&!vf(y)&&(y=Vy(c,r)),vf(y)&&(a=y,o))return a;let E=t[i+1];i=o?Ns(E):la(E)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Vy(c,r))}return a}function vf(t){return t!==void 0}function Z$(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ut(Os(t)))),t}function px(t,e){return(t.flags&(e?8:16))!==0}var $v=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Qy(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function X$(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let l=t.at(s),d=e[s],f=Qy(s,l,s,d,n);if(f!==0){f<0&&t.updateValue(s,d),s++;continue}let g=t.at(o),y=e[c],E=Qy(o,g,c,y,n);if(E!==0){E<0&&t.updateValue(o,y),o--,c--;continue}let S=n(s,l),M=n(o,g),V=n(s,d);if(Object.is(V,M)){let z=n(c,y);Object.is(z,S)?(t.swap(s,o),t.updateValue(o,y),c--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(r??=new _f,i??=xS(t,s,o,n),Hv(t,r,s,V))t.updateValue(s,d),s++,o++;else if(i.has(V))r.set(S,t.detach(s)),o--;else{let z=t.create(s,e[s]);t.attach(s,z),s++,o++}}for(;s<=c;)RS(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&s<=o;){let d=t.at(s),f=l.value,g=Qy(s,d,s,f,n);if(g!==0)g<0&&t.updateValue(s,f),s++,l=c.next();else{r??=new _f,i??=xS(t,s,o,n);let y=n(s,f);if(Hv(t,r,s,y))t.updateValue(s,f),s++,o++,l=c.next();else if(!i.has(y))t.attach(s,t.create(s,f)),s++,o++,l=c.next();else{let E=n(s,d);r.set(E,t.detach(s)),o--}}}for(;!l.done;)RS(t,r,n,t.length,l.value),l=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function Hv(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function RS(t,e,n,r,i){if(Hv(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function xS(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var _f=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function H_(t,e){Si("NgControlFlow");let n=le(),r=Di(),i=n[r]!==lr?n[r]:-1,s=i!==-1?wf(n,_t+i):void 0,o=0;if(Un(n,r,t)){let a=ye(null);try{if(s!==void 0&&UR(s,o),t!==-1){let c=_t+t,l=wf(n,c),d=Wv(n[ue],c),f=aa(l,d.tView.ssrId),g=xu(n,d,e,{dehydratedView:f});Mu(l,g,o,oa(d,f))}}finally{ye(a)}}else if(s!==void 0){let a=jR(s,o);a!==void 0&&(a[St]=e)}}var zv=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-At}};function qre(t){return t}function Gre(t,e){return e}var qv=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Wre(t,e,n,r,i,s,o,a,c,l,d,f,g){Si("NgControlFlow");let y=le(),E=ze(),S=c!==void 0,M=le(),V=a?o.bind(M[nn][St]):o,z=new qv(S,V);M[_t+t]=z,yf(y,E,t+1,e,n,r,i,wi(E.consts,s)),S&&yf(y,E,t+2,c,l,d,f,wi(E.consts,g))}var Gv=class extends $v{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-At}at(e){return this.getLView(e)[St].$implicit}attach(e,n){let r=n[ra];this.needsIndexUpdate||=e!==this.length,Mu(this.lContainer,n,e,oa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,J$(this.lContainer,e)}create(e,n){let r=aa(this.lContainer,this.templateTNode.tView.ssrId),i=xu(this.hostLView,this.templateTNode,new zv(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Ff(e[ue],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[St].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[St].$index=e}getLView(e){return eH(this.lContainer,e)}};function Kre(t){let e=ye(null),n=Ci();try{let r=le(),i=r[ue],s=r[n],o=n+1,a=wf(r,o);if(s.liveCollection===void 0){let l=Wv(i,o);s.liveCollection=new Gv(a,r,l)}else s.liveCollection.reset();let c=s.liveCollection;if(X$(c,t,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let l=Di(),d=c.length===0;if(Un(r,l,d)){let f=n+2,g=wf(r,f);if(d){let y=Wv(i,f),E=aa(g,y.tView.ssrId),S=xu(r,y,void 0,{dehydratedView:E});Mu(g,S,0,oa(y,E))}else UR(g,0)}}}finally{ye(e)}}function wf(t,e){return t[e]}function J$(t,e){return _u(t,e)}function eH(t,e){return jR(t,e)}function Wv(t,e){return c_(t,e)}function tH(t,e,n,r,i,s){let o=e.consts,a=wi(o,i),c=pa(e,t,2,r,a);return k_(e,n,c,wi(o,s)),c.attrs!==null&&ff(c,c.attrs,!1),c.mergedAttrs!==null&&ff(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function $t(t,e,n,r){let i=le(),s=ze(),o=_t+t,a=i[We],c=s.firstCreatePass?tH(o,s,i,e,n,r):s.data[o],l=nH(s,i,c,a,e,t);i[o]=l;let d=Af(c);return ks(c,!0),DR(a,l,c),!S$(c)&&Mf()&&Lf(s,i,l,c),hU()===0&&Ii(l,i),fU(),d&&(x_(s,i,c),R_(s,c,i)),r!==null&&M_(i,c),$t}function Mt(){let t=ht();h_()?f_():(t=t.parent,ks(t,!1));let e=t;gU(e)&&mU(),pU();let n=ze();return n.firstCreatePass&&(kf(n,t),a_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&xU(e)&&Bv(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MU(e)&&Bv(n,e,le(),e.stylesWithoutHost,!1),Mt}function Ri(t,e,n,r){return $t(t,e,n,r),Mt(),Ri}var nH=(t,e,n,r,i,s)=>(Nf(!0),gR(r,i,TU()));function rH(t,e,n,r,i){let s=e.consts,o=wi(s,r),a=pa(e,t,8,"ng-container",o);o!==null&&ff(a,o,!0);let c=wi(s,i);return k_(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function gx(t,e,n){let r=le(),i=ze(),s=t+_t,o=i.firstCreatePass?rH(s,i,r,e,n):i.data[s];ks(o,!0);let a=iH(i,r,o,t);return r[s]=a,Mf()&&Lf(i,r,a,o),Ii(a,r),Af(o)&&(x_(i,r,o),R_(i,o,r)),n!=null&&M_(r,o),gx}function mx(){let t=ht(),e=ze();return h_()?f_():(t=t.parent,ks(t,!1)),e.firstCreatePass&&(kf(e,t),a_(t)&&e.queries.elementEnd(t)),mx}function z_(t,e,n){return gx(t,e,n),mx(),z_}var iH=(t,e,n,r)=>(Nf(!0),xB(e[We],""));function q_(){return le()}function qf(t,e,n){let r=le(),i=Di();if(Un(r,i,e)){let s=ze(),o=Cu();Uf(s,o,r,t,e,r[We],n,!0)}return qf}function sH(t,e,n){let r=le(),i=Di();if(Un(r,i,e)){let s=ze(),o=Cu(),a=p_(s.data),c=LR(a,o,r);Uf(s,o,r,t,e,c,n,!0)}return sH}var _s=void 0;function oH(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var aH=["en",[["a","p"],["AM","PM"],_s],[["AM","PM"],_s,_s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_s,"{1} 'at' {0}",_s],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",oH],Yy={};function G_(t){let e=cH(t),n=MS(e);if(n)return n;let r=e.split("-")[0];if(n=MS(r),n)return n;if(r==="en")return aH;throw new Q(701,!1)}function MS(t){return t in Yy||(Yy[t]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[t]),Yy[t]}var ma=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ma||{});function cH(t){return t.toLowerCase().replace(/_/g,"-")}var If="en-US";var uH=If;function lH(t){typeof t=="string"&&(uH=t.toLowerCase().replace(/_/g,"-"))}var dH=(t,e,n)=>{};function ft(t,e,n,r){let i=le(),s=ze(),o=ht();return W_(s,i,i[We],o,t,e,r),ft}function hH(t,e){let n=ht(),r=le(),i=ze(),s=p_(i.data),o=LR(s,n,r);return W_(i,r,o,n,t,e),hH}function fH(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[gu],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function W_(t,e,n,r,i,s,o){let a=Af(r),l=t.firstCreatePass&&FR(t),d=e[St],f=PR(e),g=!0;if(r.type&3||o){let S=mn(r,e),M=o?o(S):S,V=f.length,z=o?ee=>o(sr(ee[r.index])):r.index;dH(S,i,s);let H=null;if(!o&&a&&(H=fH(t,e,i,r.index)),H!==null){let ee=H.__ngLastListenerFn__||H;ee.__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,g=!1}else{s=kS(r,e,d,s);let ee=n.listen(M,i,s);f.push(s,ee),l&&l.push(i,z,V,V+1)}}else s=kS(r,e,d,s);let y=r.outputs,E;if(g&&y!==null&&(E=y[i])){let S=E.length;if(S)for(let M=0;M<S;M+=2){let V=E[M],z=E[M+1],fe=e[V][z].subscribe(s),Y=f.length;f.push(s,fe),l&&l.push(i,r.index,Y,-(Y+1))}}}function NS(t,e,n,r){let i=ye(null);try{return tr(6,e,n),n(r)!==!1}catch(s){return VR(t,s),!1}finally{tr(7,e,n),ye(i)}}function kS(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?bi(t.index,e):e;F_(o,5);let a=NS(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=NS(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function ya(t=1){return DU(t)}function pH(t,e){let n=null,r=Oj(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?JS(t,s,!0):Lj(r,s))return i}return n}function yx(t){let e=le()[nn][Yt];if(!e.projection){let n=t?t.length:1,r=e.projection=Cj(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?pH(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function vx(t,e=0,n,r,i,s){let o=le(),a=ze(),c=r?t+1:null;c!==null&&yf(o,a,c,r,i,s,null,n);let l=pa(a,_t+t,16,null,n||null);l.projection===null&&(l.projection=e),f_();let f=!o[ra]||DA();o[nn][Yt].projection[l.projection]===null&&c!==null?gH(o,a,c):f&&(l.flags&32)!==32&&HB(a,o,l)}function gH(t,e,n){let r=_t+n,i=e.data[r],s=t[r],o=aa(s,i.tView.ssrId),a=xu(t,i,void 0,{dehydratedView:o});Mu(s,a,0,oa(i,o))}function mH(t,e,n,r){d$(t,e,n,r)}function Gf(t,e,n){tx(t,e,n)}function Nu(t){let e=le(),n=ze(),r=g_();xf(r+1);let i=U_(n,r);if(t.dirty&&aU(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=rx(e,r);t.reset(s,QA),t.notifyOnChanges()}return!0}return!1}function ku(){return j_(le(),g_())}function Qre(t,e,n,r){y$(t,tx(e,n,r))}function Yre(t=1){xf(g_()+t)}function yH(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Zre(t){let e=vU();return _A(e,_t+t)}function va(t,e=""){let n=le(),r=ze(),i=t+_t,s=r.firstCreatePass?pa(r,i,1,e,null):r.data[i],o=vH(r,n,s,e,t);n[i]=o,Mf()&&Lf(r,n,o,s),ks(s,!1)}var vH=(t,e,n,r,i)=>(Nf(!0),AB(e[We],r));function _H(t){return Fs("",t,""),_H}function Fs(t,e,n){let r=le(),i=M$(r,t,e,n);return i!==lr&&v2(r,Ci(),i),Fs}function wH(t,e,n){sx(e)&&(e=e());let r=le(),i=Di();if(Un(r,i,e)){let s=ze(),o=Cu();Uf(s,o,r,t,e,r[We],n,!1)}return wH}function Xre(t,e){let n=sx(t);return n&&t.set(e),n}function IH(t,e){let n=le(),r=ze(),i=ht();return W_(r,n,n[We],i,t,e),IH}function EH(t,e,n){let r=ze();if(r.firstCreatePass){let i=Nr(t);Kv(n,r.data,r.blueprint,i,!0),Kv(e,r.data,r.blueprint,i,!1)}}function Kv(t,e,n,r,i){if(t=Vt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Kv(t[s],e,n,r,i);else{let s=ze(),o=le(),a=ht(),c=na(t)?t:Vt(t.provide),l=lA(t),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(na(t)||!t.multi){let y=new As(l,i,j),E=Xy(c,e,i?d:d+g,f);E===-1?(fv(sf(a,o),s,c),Zy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[E]=y,o[E]=y)}else{let y=Xy(c,e,d+g,f),E=Xy(c,e,d,d+g),S=y>=0&&n[y],M=E>=0&&n[E];if(i&&!M||!i&&!S){fv(sf(a,o),s,c);let V=CH(i?DH:bH,n.length,i,r,l);!i&&M&&(n[E].providerFactory=V),Zy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=_x(n[i?E:y],l,!i&&r);Zy(s,t,y>-1?y:E,V)}!i&&r&&M&&n[E].componentProviders++}}}function Zy(t,e,n,r){let i=na(e),s=Kj(e);if(i||s){let c=(s?Vt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function _x(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bH(t,e,n,r){return Qv(this.multi,[])}function DH(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Rs(n,n[ue],this.providerFactory.index,r);s=a.slice(0,o),Qv(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Qv(i,s);return s}function Qv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function CH(t,e,n,r,i){let s=new As(t,n,j);return s.multi=[],s.index=e,s.componentProviders=0,_x(s,i,r&&!n),s}function Zt(t,e=[]){return n=>{n.providersResolver=(r,i)=>EH(r,i?i(t):t,e)}}var TH=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=aA(!1,r.type),s=i.length>0?zf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(R(Rt))});let t=e;return t})();function fr(t){Si("NgStandalone"),t.getStandaloneInjector=e=>e.get(TH).getOrCreateStandaloneInjector(t)}function wx(t,e,n,r){return Ix(le(),SA(),t,e,n,r)}function SH(t,e){let n=t[e];return n===lr?void 0:n}function Ix(t,e,n,r,i,s){let o=e+n;return Un(t,o,i)?T$(t,o+1,s?r.call(s,i):r(i)):SH(t,o+1)}function Jre(t,e){let n=ze(),r,i=t+_t;n.firstCreatePass?(r=AH(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=bs(r.type,!0)),o,a=Qt(j);try{let c=rf(!1),l=s();return rf(c),yH(n,le(),i,l),l}finally{Qt(a)}}function AH(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function eie(t,e,n){let r=t+_t,i=le(),s=_A(i,r);return RH(i,r)?Ix(i,SA(),e,s.transform,n,s):s.transform(n)}function RH(t,e){return t[ue].data[e].pure}function tie(t,e){return $f(t,e)}var ar=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Ex=new ar("18.0.1"),_a=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var K_=new U(""),Ou=new U(""),Wf=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Q_||(xH(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(R(W),R(Kf),R(Ou))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Kf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Q_?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function xH(t){Q_=t}var Q_;function Ls(t){return!!t&&typeof t.then=="function"}function bx(t){return!!t&&typeof t.subscribe=="function"}var wa=new U(""),Dx=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(wa,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ls(o))r.push(o);else if(bx(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qf=new U("");function MH(){dT(()=>{throw new Q(600,!1)})}function NH(t){return t.isBoundToModule}var kH=10;function OH(t,e,n){try{let r=n();return Ls(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Vr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(KA),this.afterRenderEffectManager=P(Hf),this.zonelessEnabled=P(GR),this.externalTestViews=new Set,this.beforeRender=new J,this.afterTick=new J,this.componentTypes=[],this.components=[],this.isStable=P(ga).hasPendingTasks.pipe(de(r=>!r)),this._injector=P(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof lf;if(!this._injector.get(Dx).done){let y=!s&&rA(r),E=!1;throw new Q(405,E)}let a;s?a=r:a=this._injector.get(or).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=NH(a)?void 0:this._injector.get(Ei),l=i||a.selector,d=a.create(Ce.NULL,[],l,c),f=d.location.nativeElement,g=d.injector.get(K_,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Jy(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Q(101,!1);let i=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ye(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(ua,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<kH;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)PH(c,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>yu(c))&&(o.execute(),!this.allViews.some(({_lView:c})=>yu(c))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Jy(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Qf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Jy(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jy(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function PH(t,e,n,r){if(!n&&!yu(t))return;$R(t,e,n&&!r?0:1)}var Yv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yf=(()=>{let e=class e{compileModuleSync(r){return new Vv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=iA(r),o=fR(s.declarations).reduce((a,c)=>{let l=xr(c);return l&&a.push(new Ms(l)),a},[]);return new Yv(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FH=(()=>{let e=class e{constructor(){this.zone=P(W),this.changeDetectionScheduler=P(ca),this.applicationRef=P(Vr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LH({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new W(jH()),[{provide:W,useFactory:t},{provide:ea,multi:!0,useFactory:()=>{let n=P(FH,{optional:!0});return()=>n.initialize()}},{provide:ea,multi:!0,useFactory:()=>{let n=P(UH);return()=>{n.initialize()}}},{provide:KA,useFactory:VH},e===!0?{provide:WR,useValue:!0}:[]]}function VH(){let t=P(W),e=P(fn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function jH(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var UH=(()=>{let e=class e{constructor(){this.subscription=new ke,this.initialized=!1,this.zone=P(W),this.pendingTasks=P(ga)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var BH=(()=>{let e=class e{constructor(){this.appRef=P(Vr),this.taskService=P(ga),this.ngZone=P(W),this.zonelessEnabled=P(GR),this.disableScheduling=P(WR,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ke,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rv||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?wS:KR;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&W.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,wS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $H(){return typeof $localize<"u"&&$localize.locale||If}var Ia=new U("",{providedIn:"root",factory:()=>P(Ia,ve.Optional|ve.SkipSelf)||$H()});var Cx=new U("");var Kh=null;function HH(t=[],e){return Ce.create({name:e,providers:[{provide:Df,useValue:"platform"},{provide:Cx,useValue:new Set([()=>Kh=null])},...t]})}function zH(t=[]){if(Kh)return Kh;let e=HH(t);return Kh=e,MH(),qH(e),e}function qH(t){t.get(I_,null)?.forEach(n=>n())}function nie(){return!1}var _n=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GH;let t=e;return t})();function GH(t){return WH(ht(),le(),(t&16)===16)}function WH(t,e,n){if(Sf(t)&&!n){let r=bi(t.index,e);return new xs(r,r)}else if(t.type&47){let r=e[nn];return new xs(r,e)}return null}var Tx=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(R(Vr))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function Sx(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=zH(r),s=[LH({}),{provide:ca,useExisting:BH},...n||[]],a=new mf({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(W);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(fn,null),d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:y=>{l.handleError(y)}})});let f=()=>a.destroy(),g=i.get(Cx);return g.add(f),a.onDestroy(()=>{d.unsubscribe(),g.delete(f)}),OH(l,c,()=>{let y=a.get(Dx);return y.runInitializers(),y.donePromise.then(()=>{let E=a.get(Ia,If);lH(E||If);let S=a.get(Vr);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function wn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Y_(t){let e=ye(null);try{return t()}finally{ye(e)}}var KH=new U("",{providedIn:"root",factory:()=>P(QH)}),QH=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new Zv});let t=e;return t})(),Zv=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=P(ga),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Xv=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=pT(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(fn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Ax(t,e){Si("NgSignals"),!e?.injector&&s_(Ax);let n=e?.injector??P(Ce),r=e?.manualCleanup!==!0?n.get(ha):null,i=new Xv(n.get(KH),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(_n,null,{optional:!0});return!s||!(s._lView[ie]&8)?i.watcher.notify():(s._lView[Hh]??=[]).push(i.watcher.notify),i}function rie(t,e){let n=xr(t),r=e.elementInjector||Cf();return new Ms(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function Rx(t){let e=xr(t);if(!e)return null;let n=new Ms(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Px=null;function pr(){return Px}function Fx(t){Px??=t}var Zf=class{};var ae=new U(""),iw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(ZH),providedIn:"platform"});let t=e;return t})(),Lx=new U(""),ZH=(()=>{let e=class e extends iw{constructor(){super(),this._doc=P(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pr().getBaseHref(this._doc)}onPopState(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function sw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function xx(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function jr(t){return t&&t[0]!=="?"?"?"+t:t}var Br=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(ow),providedIn:"root"});let t=e;return t})(),Vx=new U(""),ow=(()=>{let e=class e extends Br{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return sw(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+jr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+jr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+jr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(iw),R(Vx,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),jx=(()=>{let e=class e extends Br{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=sw(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+jr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+jr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(iw),R(Vx,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),gr=(()=>{let e=class e{constructor(r){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=ez(xx(Mx(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+jr(i))}normalize(r){return e.stripTrailingSlash(JH(this._basePath,Mx(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+jr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+jr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=jr,e.joinWithSlash=sw,e.stripTrailingSlash=xx,e.\u0275fac=function(i){return new(i||e)(R(Br))},e.\u0275prov=L({token:e,factory:()=>XH(),providedIn:"root"});let t=e;return t})();function XH(){return new gr(R(Br))}function JH(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Mx(t){return t.replace(/\/index.html$/,"")}function ez(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Ux=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Ux||{});var Ur={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Pu(t,e){let n=G_(t),r=n[ma.NumberSymbols][e];if(typeof r>"u"){if(e===Ur.CurrencyDecimal)return n[ma.NumberSymbols][Ur.Decimal];if(e===Ur.CurrencyGroup)return n[ma.NumberSymbols][Ur.Group]}return r}function tz(t,e){return G_(t)[ma.NumberFormats][e]}var nz=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Nx=22,Xf=".",Fu="0",rz=";",iz=",",X_="#";function sz(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=Pu(n,Ur.Infinity);else{let l=uz(t);o&&(l=cz(l));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(s){let z=s.match(nz);if(z===null)throw new Error(`${s} is not a valid digit info`);let H=z[1],ee=z[3],fe=z[5];H!=null&&(d=J_(H)),ee!=null&&(f=J_(ee)),fe!=null?g=J_(fe):ee!=null&&f>g&&(g=f)}lz(l,f,g);let y=l.digits,E=l.integerLen,S=l.exponent,M=[];for(c=y.every(z=>!z);E<d;E++)y.unshift(0);for(;E<0;E++)y.unshift(0);E>0?M=y.splice(E,y.length):(M=y,y=[0]);let V=[];for(y.length>=e.lgSize&&V.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)V.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&V.unshift(y.join("")),a=V.join(Pu(n,r)),M.length&&(a+=Pu(n,i)+M.join("")),S&&(a+=Pu(n,Ur.Exponential)+"+"+S)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function oz(t,e,n){let r=tz(e,Ux.Decimal),i=az(r,Pu(e,Ur.MinusSign));return sz(t,i,e,Ur.Group,Ur.Decimal,n)}function az(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(rz),i=r[0],s=r[1],o=i.indexOf(Xf)!==-1?i.split(Xf):[i.substring(0,i.lastIndexOf(Fu)+1),i.substring(i.lastIndexOf(Fu)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(X_));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===Fu?n.minFrac=n.maxFrac=d+1:f===X_?n.maxFrac=d+1:n.posSuf+=f}let l=a.split(iz);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let d=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf(X_);n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function cz(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function uz(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(Xf))>-1&&(e=e.replace(Xf,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Fu;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Fu;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>Nx&&(r=r.splice(0,Nx-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function lz(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,l=e+t.integerLen,d=r.reduceRight(function(f,g,y,E){return g=g+f,E[y]=g<10?g:g-10,c&&(E[y]===0&&y>=l?E.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}function J_(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Bx(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var ew=/\s+/,kx=[],Die=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=kx,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(ew):kx}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(ew):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(ew).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(dr))},e.\u0275dir=De({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var $x=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new tw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Ox("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Ox("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(j(vn),j(Fn))},e.\u0275dir=De({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),tw=class{constructor(){this.$implicit=null,this.ngIf=null}};function Ox(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ut(e)}'.`)}var Hx=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(j(vn))},e.\u0275dir=De({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Bt]});let t=e;return t})();function dz(t,e){return new Q(2100,!1)}var Cie=(()=>{let e=class e{constructor(r){this._locale=r}transform(r,i,s){if(!hz(r))return null;s||=this._locale;try{let o=fz(r);return oz(o,s,i)}catch(o){throw dz(e,o.message)}}};e.\u0275fac=function(i){return new(i||e)(j(Ia,16))},e.\u0275pipe=eA({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function hz(t){return!(t==null||t===""||t!==t)}function fz(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Vs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),aw="browser",pz="server";function cw(t){return t===aw}function uw(t){return t===pz}var zx=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>cw(P(yn))?new nw(P(ae),window):new rw});let t=e;return t})(),nw=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=gz(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function gz(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var rw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Jf=class{};var hw=class extends Zf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},fw=class t extends hw{static makeCurrent(){Fx(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=mz();return n==null?null:yz(n)}resetBaseElement(){Lu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bx(document.cookie,e)}},Lu=null;function mz(){return Lu=Lu||document.querySelector("base"),Lu?Lu.getAttribute("href"):null}function yz(t){return new URL(t,document.baseURI).pathname}var pw=class{addToWindow(e){dt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new Q(5103,!1);return s},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=dt.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?pr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},vz=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),tp=new U(""),Kx=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(tp),R(W))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Vu=class{constructor(e){this._doc=e}},lw="ng-app-id",Qx=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uw(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${lw}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(lw),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(lw,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(Tu),R(Su,8),R(yn))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),dw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},yw=/%COMP%/g,Yx="%COMP%",_z=`_nghost-${Yx}`,wz=`_ngcontent-${Yx}`,Iz=!0,Ez=new U("",{providedIn:"root",factory:()=>Iz});function bz(t){return wz.replace(yw,t)}function Dz(t){return _z.replace(yw,t)}function Zx(t,e){return e.map(n=>n.replace(yw,t))}var qx=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=uw(c),this.defaultRenderer=new ju(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===rr.ShadowDom&&(i=pe(O({},i),{encapsulation:rr.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof np?s.applyToHost(r):s instanceof Uu&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case rr.Emulated:o=new np(l,d,i,this.appId,f,a,c,g);break;case rr.ShadowDom:return new gw(l,d,r,i,a,c,this.nonce,g);default:o=new Uu(l,d,i,f,a,c,g);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(Kx),R(Qx),R(Tu),R(Ez),R(ae),R(yn),R(W),R(Su))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),ju=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(dw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Gx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Gx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=dw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=dw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(kr.DashCase|kr.Important)?e.style.setProperty(n,r,i&kr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&kr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=pr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Gx(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gw=class extends ju{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Zx(i.id,i.styles);for(let d of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Uu=class extends ju{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Zx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},np=class extends Uu{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=bz(l),this.hostAttr=Dz(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Cz=(()=>{let e=class e extends Vu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Wx=["alt","control","meta","shift"],Tz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sz={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Az=(()=>{let e=class e extends Vu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Wx.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Tz[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Wx.forEach(a=>{if(a!==s){let c=Sz[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function qie(t,e){return Sx(O({rootComponent:t},Rz(e)))}function Rz(t){return{appProviders:[...Xx,...t?.providers??[]],platformProviders:kz}}function xz(){fw.makeCurrent()}function Mz(){return new fn}function Nz(){return tR(document),document}var kz=[{provide:yn,useValue:aw},{provide:I_,useValue:xz,multi:!0},{provide:ae,useFactory:Nz,deps:[]}];var Oz=new U(""),Pz=[{provide:Ou,useClass:pw,deps:[]},{provide:K_,useClass:Wf,deps:[W,Kf,Ou]},{provide:Wf,useClass:Wf,deps:[W,Kf,Ou]}],Xx=[{provide:Df,useValue:"root"},{provide:fn,useFactory:Mz,deps:[]},{provide:tp,useClass:Cz,multi:!0,deps:[ae,W,yn]},{provide:tp,useClass:Az,multi:!0,deps:[ae]},qx,Qx,Kx,{provide:ua,useExisting:qx},{provide:Jf,useClass:vz,deps:[]},[]],Gie=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Tu,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(R(Oz,12))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[...Xx,...Pz],imports:[Vs,Tx]});let t=e;return t})();var Jx=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Fz={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},mw=new U("HammerGestureConfig"),eM=new U("HammerLoader"),Lz=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(r){let i=new Hammer(r,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(let s in this.overrides)i.get(s).set(this.overrides[s]);return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Vz=(()=>{let e=class e extends Vu{constructor(r,i,s,o){super(r),this._config=i,this.console=s,this.loader=o,this._loaderPromise=null}supports(r){return!(!Fz.hasOwnProperty(r.toLowerCase())&&!this.isCustomEvent(r)||!window.Hammer&&!this.loader)}addEventListener(r,i,s){let o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,c=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){c=()=>{};return}a||(c=this.addEventListener(r,i,s))}).catch(()=>{c=()=>{}})),()=>{c()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(r),c=function(l){o.runGuarded(function(){s(l)})};return a.on(i,c),()=>{a.off(i,c),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(r){return this._config.events.indexOf(r)>-1}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(mw),R(_a),R(eM,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Wie=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[{provide:tp,useClass:Vz,multi:!0,deps:[ae,mw,_a,[new ct,eM]]},{provide:mw,useClass:Lz,deps:[]}]});let t=e;return t})();var nM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Uz=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;c||(y=64,o||(g=64)),r.push(n[d],n[f],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Uz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new _w;let g=s<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),f!==64){let E=l<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_w=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Bz=function(t){let e=nM(t);return rM.encodeByteArray(e,!0)},Iw=function(t){return Bz(t).replace(/\./g,"")},Ew=function(t){try{return rM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $z(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Hz=()=>$z().__FIREBASE_DEFAULTS__,zz=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ew(t[1]);return e&&JSON.parse(e)},ip=()=>{try{return Hz()||zz()||qz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iM=t=>{var e,n;return(n=(e=ip())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var bw=()=>{var t;return(t=ip())===null||t===void 0?void 0:t.config},Dw=t=>{var e;return(e=ip())===null||e===void 0?void 0:e[`_${t}`]};var rp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function Gz(){var t;let e=(t=ip())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cM(){let t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Cw(){return!Gz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ea(){try{return typeof indexedDB=="object"}catch{return!1}}function sp(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function uM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Wz="FirebaseError",Ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wz,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}},rn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Kz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ht(i,a,r)}};function Kz(t,e){return t.replace(Qz,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Qz=/\{\$([^}]+)}/g;function lM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(tM(s)&&tM(o)){if(!xi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function tM(t){return t!==null&&typeof t=="object"}function ba(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Da(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ca(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dM(t,e){let n=new ww(t,e);return n.subscribe.bind(n)}var ww=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vw),i.error===void 0&&(i.error=vw),i.complete===void 0&&(i.complete=vw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Yz(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vw(){}var Qie=4*60*60*1e3;function Be(t){return t&&t._delegate?t._delegate:t}var pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var js="[DEFAULT]";var Tw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new rp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xz(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zz(t){return t===js?void 0:t}function Xz(t){return t.instantiationMode==="EAGER"}var op=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Tw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Jz=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),eq={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},tq=we.INFO,nq={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},rq=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=nq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mi=class{constructor(e){this.name=e,this._logLevel=tq,this._logHandler=rq,this._userLogHandler=null,Jz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var iq=(t,e)=>e.some(n=>t instanceof n),hM,fM;function sq(){return hM||(hM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oq(){return fM||(fM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pM=new WeakMap,Aw=new WeakMap,gM=new WeakMap,Sw=new WeakMap,xw=new WeakMap;function aq(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($n(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pM.set(n,t)}).catch(()=>{}),xw.set(e,t),e}function cq(t){if(Aw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Aw.set(t,e)}var Rw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Aw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mM(t){Rw=t(Rw)}function uq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ap(this),e,...n);return gM.set(r,e.sort?e.sort():[e]),$n(r)}:oq().includes(t)?function(...e){return t.apply(ap(this),e),$n(pM.get(this))}:function(...e){return $n(t.apply(ap(this),e))}}function lq(t){return typeof t=="function"?uq(t):(t instanceof IDBTransaction&&cq(t),iq(t,sq())?new Proxy(t,Rw):t)}function $n(t){if(t instanceof IDBRequest)return aq(t);if(Sw.has(t))return Sw.get(t);let e=lq(t);return e!==t&&(Sw.set(t,e),xw.set(e,t)),e}var ap=t=>xw.get(t);function Us(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=$n(o);return r&&o.addEventListener("upgradeneeded",c=>{r($n(o.result),c.oldVersion,c.newVersion,$n(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function cp(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),$n(n).then(()=>{})}var dq=["get","getKey","getAll","getAllKeys","count"],hq=["put","add","delete","clear"],Mw=new Map;function yM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mw.get(e))return Mw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=hq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dq.includes(n)))return;let s=function(o,...a){return v(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Mw.set(e,s),s}mM(t=>pe(O({},t),{get:(e,n,r)=>yM(e,n)||t.get(e,n,r),has:(e,n)=>!!yM(e,n)||t.has(e,n)}));var kw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fq(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function fq(t){let e=t.getComponent();return e?.type==="VERSION"}var Ow="@firebase/app",vM="0.10.5";var Bs=new Mi("@firebase/app"),pq="@firebase/app-compat",gq="@firebase/analytics-compat",mq="@firebase/analytics",yq="@firebase/app-check-compat",vq="@firebase/app-check",_q="@firebase/auth",wq="@firebase/auth-compat",Iq="@firebase/database",Eq="@firebase/database-compat",bq="@firebase/functions",Dq="@firebase/functions-compat",Cq="@firebase/installations",Tq="@firebase/installations-compat",Sq="@firebase/messaging",Aq="@firebase/messaging-compat",Rq="@firebase/performance",xq="@firebase/performance-compat",Mq="@firebase/remote-config",Nq="@firebase/remote-config-compat",kq="@firebase/storage",Oq="@firebase/storage-compat",Pq="@firebase/firestore",Fq="@firebase/vertexai-preview",Lq="@firebase/firestore-compat",Vq="firebase",jq="10.12.2";var Pw="[DEFAULT]",Uq={[Ow]:"fire-core",[pq]:"fire-core-compat",[mq]:"fire-analytics",[gq]:"fire-analytics-compat",[vq]:"fire-app-check",[yq]:"fire-app-check-compat",[_q]:"fire-auth",[wq]:"fire-auth-compat",[Iq]:"fire-rtdb",[Eq]:"fire-rtdb-compat",[bq]:"fire-fn",[Dq]:"fire-fn-compat",[Cq]:"fire-iid",[Tq]:"fire-iid-compat",[Sq]:"fire-fcm",[Aq]:"fire-fcm-compat",[Rq]:"fire-perf",[xq]:"fire-perf-compat",[Mq]:"fire-rc",[Nq]:"fire-rc-compat",[kq]:"fire-gcs",[Oq]:"fire-gcs-compat",[Pq]:"fire-fst",[Lq]:"fire-fst-compat",[Fq]:"fire-vertex","fire-js":"fire-js",[Vq]:"fire-js-all"};var Bu=new Map,Bq=new Map,Fw=new Map;function _M(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xt(t){let e=t.name;if(Fw.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;Fw.set(e,t);for(let n of Bu.values())_M(n,t);for(let n of Bq.values())_M(n,t);return!0}function mr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t.settings!==void 0}var $q={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new rn("app","Firebase",$q);var Lw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}};var ki=jq;function Uw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Pw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=bw()),!n)throw Ni.create("no-options");let s=Bu.get(i);if(s){if(xi(n,s.options)&&xi(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}let o=new op(i);for(let c of Fw.values())o.addComponent(c);let a=new Lw(n,r,o);return Bu.set(i,a),a}function $r(t=Pw){let e=Bu.get(t);if(!e&&t===Pw&&bw())return Uw();if(!e)throw Ni.create("no-app",{appName:t});return e}function up(){return Array.from(Bu.values())}function Ve(t,e,n){var r;let i=(r=Uq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(a.join(" "));return}Xt(new pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Hq="firebase-heartbeat-database",zq=1,$u="firebase-heartbeat-store",Nw=null;function bM(){return Nw||(Nw=Us(Hq,zq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),Nw}function qq(t){return v(this,null,function*(){try{let n=(yield bM()).transaction($u),r=yield n.objectStore($u).get(DM(t));return yield n.done,r}catch(e){if(e instanceof Ht)Bs.warn(e.message);else{let n=Ni.create("idb-get",{originalErrorMessage:e?.message});Bs.warn(n.message)}}})}function wM(t,e){return v(this,null,function*(){try{let r=(yield bM()).transaction($u,"readwrite");yield r.objectStore($u).put(e,DM(t)),yield r.done}catch(n){if(n instanceof Ht)Bs.warn(n.message);else{let r=Ni.create("idb-set",{originalErrorMessage:n?.message});Bs.warn(r.message)}}})}function DM(t){return`${t.name}!${t.options.appId}`}var Gq=1024,Wq=30*24*60*60*1e3,Vw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new jw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=IM();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Wq}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return v(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=IM(),{heartbeatsToSend:r,unsentEntries:i}=Kq(this._heartbeatsCache.heartbeats),s=Iw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function IM(){return new Date().toISOString().substring(0,10)}function Kq(t,e=Gq){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),EM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),EM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var jw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Ea()?sp().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield qq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function EM(t){return Iw(JSON.stringify({version:2,heartbeats:t})).length}function Qq(t){Xt(new pt("platform-logger",e=>new kw(e),"PRIVATE")),Xt(new pt("heartbeat",e=>new Vw(e),"PRIVATE")),Ve(Ow,vM,t),Ve(Ow,vM,"esm2017"),Ve("fire-js","")}Qq("");var Yq="firebase",Zq="10.12.2";Ve(Yq,Zq,"app");var Hr=new ar("ANGULARFIRE2_VERSION"),CM=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Aa(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Hs=(t,e)=>{let n=e?[e]:up(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Sa=class{constructor(){return Hs(Xq)}},Xq="app-check";function Ta(){}var lp=class{zone;delegate;constructor(e,n=ky){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Bw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ta,{},Ta,Ta)),n.pipe(st({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Oi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new lp(Zone.current)),this.insideAngular=n.run(()=>new lp(Zone.current,hn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(W))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Jq(t){return dp().ngZone.runOutsideAngular(()=>t())}function $s(t){return dp().ngZone.run(()=>t())}function eG(t){return tG(dp())(t)}function tG(t){return function(n){return n=n.lift(new Bw(t.ngZone)),n.pipe(hi(t.outsideAngular),di(t.insideAngular))}}var nG=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),$s(()=>t.apply(void 0,r))},xe=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=$s(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ta,{},Ta,Ta))),r[s]=nG(r[s],n));let i=Jq(()=>t.apply(this,r));if(!e)if(i instanceof re){let s=dp();return i.pipe(hi(s.outsideAngular),di(s.insideAngular))}else return $s(()=>i);return i instanceof re?i.pipe(eG):i instanceof Promise?$s(()=>new Promise((s,o)=>i.then(a=>$s(()=>s(a)),a=>$s(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:$s(()=>i)};var Hn=class{constructor(e){return e}},zr=class{constructor(){return up()}};function rG(t){return t&&t.length===1?t[0]:new Hn($r())}var $w=new U("angularfire2._apps"),iG={provide:Hn,useFactory:rG,deps:[[new ct,$w]]},sG={provide:zr,deps:[[new ct,$w]]};function oG(t){return(e,n)=>{let r=n.get(yn);Ve("angularfire",Hr.full,"core"),Ve("angularfire",Hr.full,"app"),Ve("angular",Ex.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Hn(i)}}function Ose(t,...e){return Ln([iG,sG,{provide:$w,useFactory:oG(t),multi:!0,deps:[W,Ce,Oi,...e]}])}var Pse=xe($r,!0);var Fse=xe(Uw,!0);function $M(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HM=$M,zM=new rn("auth","Firebase",$M());var yp=new Mi("@firebase/auth");function aG(t,...e){yp.logLevel<=we.WARN&&yp.warn(`Auth (${ki}): ${t}`,...e)}function fp(t,...e){yp.logLevel<=we.ERROR&&yp.error(`Auth (${ki}): ${t}`,...e)}function En(t,...e){throw uI(t,...e)}function zn(t,...e){return uI(t,...e)}function cI(t,e,n){let r=Object.assign(Object.assign({},HM()),{[e]:n});return new rn("auth","Firebase",r).create(e,{appName:t.name})}function Wr(t){return cI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cG(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&En(t,"argument-error"),cI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zM.create(t,...e)}function se(t,e,...n){if(!t)throw uI(e,...n)}function qr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw fp(e),new Error(e)}function Kr(t,e){t||qr(e)}function qw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uG(){return TM()==="http:"||TM()==="https:"}function TM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function lG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uG()||oM()||"connection"in navigator)?navigator.onLine:!0}function dG(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var zs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kr(n>e,"Short delay should be less than long delay!"),this.isMobile=sM()||aM()}get(){return lG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lI(t,e){Kr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var vp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var fG=new zs(3e4,6e4);function Fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Li(s,o,a,c){return v(this,arguments,function*(t,e,n,r,i={}){return qM(t,i,()=>v(this,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let f=ba(Object.assign({key:t.config.apiKey},d)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),vp.fetch()(GM(t,t.config.apiHost,n,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},l))}))})}function qM(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},hG),e);try{let i=new Gw(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw hp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw hp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw hp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw hp(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw cI(t,d,l);En(t,d)}}catch(i){if(i instanceof Ht)throw i;En(t,"network-request-failed",{message:String(i)})}})}function Yu(s,o,a,c){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Li(t,e,n,r,i);return"mfaPendingCredential"in l&&En(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function GM(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?lI(t.config,i):`${t.config.apiScheme}://${i}`}function pG(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Gw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),fG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function hp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=zn(t,e,r);return i.customData._tokenResponse=n,i}function SM(t){return t!==void 0&&t.enterprise!==void 0}var Ww=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pG(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function gG(t,e){return v(this,null,function*(){return Li(t,"GET","/v2/recaptchaConfig",Fi(t,e))})}function mG(t,e){return v(this,null,function*(){return Li(t,"POST","/v1/accounts:delete",e)})}function WM(t,e){return v(this,null,function*(){return Li(t,"POST","/v1/accounts:lookup",e)})}function Hu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dI(t,e=!1){return v(this,null,function*(){let n=Be(t),r=yield n.getIdToken(e),i=hI(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Hu(Hw(i.auth_time)),issuedAtTime:Hu(Hw(i.iat)),expirationTime:Hu(Hw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Hw(t){return Number(t)*1e3}function hI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ew(n);return i?JSON.parse(i):(fp("Failed to decode base64 JWT payload"),null)}catch(i){return fp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function AM(t){let e=hI(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qu(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ht&&yG(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function yG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Kw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Gu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _p(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield qu(t,WM(n,{idToken:r}));se(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?KM(s.providerUserInfo):[],a=vG(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,d=c?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gu(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function fI(t){return v(this,null,function*(){let e=Be(t);yield _p(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KM(t){return t.map(e=>{var{providerId:n}=e,r=vh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _G(t,e){return v(this,null,function*(){let n=yield qM(t,{},()=>v(this,null,function*(){let r=ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=GM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function wG(t,e){return v(this,null,function*(){return Li(t,"POST","/v2/accounts:revokeToken",Fi(t,e))})}var zu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");let n=AM(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield _G(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return qr("not implemented")}};function Pi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=vh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield qu(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return dI(this,e)}reload(){return fI(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield _p(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(In(this.auth.app))return Promise.reject(Wr(this.auth));let e=yield this.getIdToken();return yield qu(this,mG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,d;let f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:H,emailVerified:ee,isAnonymous:fe,providerData:Y,stsTokenManager:b}=n;se(H&&b,e,"internal-error");let _=zu.fromJSON(this.name,b);se(typeof H=="string",e,"internal-error"),Pi(f,e.name),Pi(g,e.name),se(typeof ee=="boolean",e,"internal-error"),se(typeof fe=="boolean",e,"internal-error"),Pi(y,e.name),Pi(E,e.name),Pi(S,e.name),Pi(M,e.name),Pi(V,e.name),Pi(z,e.name);let w=new t({uid:H,auth:e,email:g,emailVerified:ee,displayName:f,isAnonymous:fe,photoURL:E,phoneNumber:y,tenantId:S,stsTokenManager:_,createdAt:V,lastLoginAt:z});return Y&&Array.isArray(Y)&&(w.providerData=Y.map(D=>Object.assign({},D))),M&&(w._redirectEventId=M),w}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new zu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield _p(s),s})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];se(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?KM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new zu;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var RM=new Map;function Gr(t){Kr(t instanceof Function,"Expected a class definition");let e=RM.get(t);return e?(Kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RM.set(t,e),e)}var IG=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Qw=IG;function pp(t,e,n){return`firebase:${t}:${e}:${n}`}var wp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=pp(this.userKey,i.apiKey,s),this.fullPersistenceKey=pp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Gr(Qw),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Gr(Qw),o=pp(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let d=yield l._get(o);if(d){let f=xa._fromJSON(e,d);l!==s&&(a=f),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function xM(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JM(e))return"Blackberry";if(eN(e))return"Webos";if(pI(e))return"Safari";if((e.includes("chrome/")||YM(e))&&!e.includes("edge/"))return"Chrome";if(XM(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function QM(t=Qe()){return/firefox\//i.test(t)}function pI(t=Qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YM(t=Qe()){return/crios\//i.test(t)}function ZM(t=Qe()){return/iemobile/i.test(t)}function XM(t=Qe()){return/android/i.test(t)}function JM(t=Qe()){return/blackberry/i.test(t)}function eN(t=Qe()){return/webos/i.test(t)}function xp(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EG(t=Qe()){var e;return xp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bG(){return cM()&&document.documentMode===10}function tN(t=Qe()){return xp(t)||XM(t)||eN(t)||JM(t)||/windows phone/i.test(t)||ZM(t)}function DG(){try{return!!(window&&window!==window.top)}catch{return!1}}function nN(t,e=[]){let n;switch(t){case"Browser":n=xM(Qe());break;case"Worker":n=`${xM(Qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ki}/${r}`}var Yw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function CG(n){return v(this,arguments,function*(t,e={}){return Li(t,"GET","/v2/passwordPolicy",Fi(t,e))})}var TG=6,Zw=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:TG,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Xw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ip(this),this.idTokenSubscription=new Ip(this),this.beforeStateQueue=new Yw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield wp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield WM(this,{idToken:e}),r=yield xa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(In(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield _p(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=dG()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(In(this.app))return Promise.reject(Wr(this));let n=e?Be(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return In(this.app)?Promise.reject(Wr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return In(this.app)?Promise.reject(Wr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Gr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield CG(this),n=new Zw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield wG(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Gr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=yield wp.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&aG(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Vi(t){return Be(t)}var Ip=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dM(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mp={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SG(t){Mp=t}function rN(t){return Mp.loadJS(t)}function AG(){return Mp.recaptchaEnterpriseScript}function RG(){return Mp.gapiScript}function iN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var xG="recaptcha-enterprise",MG="NO_RECAPTCHA",Jw=class{constructor(e){this.type=xG,this.auth=Vi(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(s){return v(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>v(this,null,function*(){gG(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ww(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;SM(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(MG)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&SM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=AG();c.length!==0&&(c+=a),rN(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function MM(t,e,n,r=!1){return v(this,null,function*(){let i=new Jw(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function eI(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield MM(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>v(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield MM(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function gI(t,e){let n=mr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(xi(s,e??{}))return i;En(i,"already-initialized")}return n.initialize({options:e})}function NG(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Gr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function mI(t,e,n){let r=Vi(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=sN(e),{host:o,port:a}=kG(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||OG()}function sN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kG(t){let e=sN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:NM(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:NM(o)}}}function NM(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function OG(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ma=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}};function PG(t,e){return v(this,null,function*(){return Li(t,"POST","/v1/accounts:signUp",e)})}function FG(t,e){return v(this,null,function*(){return Yu(t,"POST","/v1/accounts:signInWithPassword",Fi(t,e))})}function LG(t,e){return v(this,null,function*(){return Yu(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))})}function VG(t,e){return v(this,null,function*(){return Yu(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))})}var Wu=class t extends Ma{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eI(e,n,"signInWithPassword",FG);case"emailLink":return LG(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eI(e,r,"signUpPassword",PG);case"emailLink":return VG(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ra(t,e){return v(this,null,function*(){return Yu(t,"POST","/v1/accounts:signInWithIdp",Fi(t,e))})}var jG="http://localhost",Ep=class t extends Ma{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=vh(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Ra(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Ra(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Ra(e,n)}buildRequest(){let e={requestUri:jG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ba(n)}return e}};function UG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BG(t){let e=Da(Ca(t)).link,n=e?Da(Ca(e)).deep_link_id:null,r=Da(Ca(t)).deep_link_id;return(r?Da(Ca(r)).link:null)||r||n||e||t}var bp=class t{constructor(e){var n,r,i,s,o,a;let c=Da(Ca(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=UG((i=c.mode)!==null&&i!==void 0?i:null);se(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=BG(e);try{return new t(n)}catch{return null}}};var oN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Wu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=bp.parseLink(r);return se(i,"argument-error"),Wu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Ku=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Dp=class extends Ku{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var yI=(()=>{class t extends Dp{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ep._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function $G(t,e){return v(this,null,function*(){return Yu(t,"POST","/v1/accounts:signUp",Fi(t,e))})}var Na=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let s=yield xa._fromIdTokenResponse(e,r,i),o=kM(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=kM(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function kM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var tI=class t extends Ht{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function aN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?tI._fromErrorAndOperation(t,s,e,r):s})}function HG(t,e,n=!1){return v(this,null,function*(){let r=yield qu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Na._forOperation(t,"link",r)})}function zG(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(In(r.app))return Promise.reject(Wr(r));let i="reauthenticate";try{let s=yield qu(t,aN(r,i,e,t),n);se(s.idToken,r,"internal-error");let o=hI(s.idToken);se(o,r,"internal-error");let{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),Na._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&En(r,"user-mismatch"),s}})}function cN(t,e,n=!1){return v(this,null,function*(){if(In(t.app))return Promise.reject(Wr(t));let r="signIn",i=yield aN(t,r,e),s=yield Na._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function vI(t,e){return v(this,null,function*(){return cN(Vi(t),e)})}function uN(t){return v(this,null,function*(){let e=Vi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function _I(t,e,n){return v(this,null,function*(){if(In(t.app))return Promise.reject(Wr(t));let r=Vi(t),o=yield eI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$G).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&uN(t),c}),a=yield Na._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function wI(t,e,n){return In(t.app)?Promise.reject(Wr(t)):vI(Be(t),oN.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&uN(t),r}))}function II(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function EI(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function bI(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function DI(t){return Be(t).signOut()}var Cp="__sak";var Tp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cp,"1"),this.storage.removeItem(Cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function qG(){let t=Qe();return pI(t)||xp(t)}var GG=1e3,WG=10,KG=(()=>{class t extends Tp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=qG()&&DG(),this.fallbackToPolling=tN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);bG()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,WG):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},GG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Yn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Yn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Yn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),lN=KG;var QG=(()=>{class t extends Tp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),CI=QG;function YG(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var ZG=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>v(this,null,function*(){return d(r.origin,o)})),l=yield YG(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function TI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var nI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=TI("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function yr(){return window}function XG(t){yr().location.href=t}function dN(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}function JG(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function e4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t4(){return dN()?self:null}var hN="firebaseLocalStorageDb",n4=1,Sp="firebaseLocalStorage",fN="fbase_key",qs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Np(t,e){return t.transaction([Sp],e?"readwrite":"readonly").objectStore(Sp)}function r4(){let t=indexedDB.deleteDatabase(hN);return new qs(t).toPromise()}function rI(){let t=indexedDB.open(hN,n4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Sp,{keyPath:fN})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Sp)?e(r):(r.close(),yield r4(),e(yield rI()))}))})}function OM(t,e,n){return v(this,null,function*(){let r=Np(t,!0).put({[fN]:e,value:n});return new qs(r).toPromise()})}function i4(t,e){return v(this,null,function*(){let n=Np(t,!1).get(e),r=yield new qs(n).toPromise();return r===void 0?null:r.value})}function PM(t,e){let n=Np(t,!0).delete(e);return new qs(n).toPromise()}var s4=800,o4=3,a4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield rI(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>o4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return dN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=ZG._getInstance(t4()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield JG(),!this.activeServiceWorker)return;this.sender=new nI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||e4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield rI();return yield OM(n,Cp,"1"),yield PM(n,Cp),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>OM(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>i4(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>PM(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(s=>{let o=Np(s,!1).getAll();return new qs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),s4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),pN=a4;var zse=iN("rcb"),qse=new zs(3e4,6e4);function gN(t,e){return e?Gr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Qu=class extends Ma{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function c4(t){return cN(t.auth,new Qu(t),t.bypassAuthState)}function u4(t){let{auth:e,user:n}=t;return se(n,e,"internal-error"),zG(n,new Qu(t),t.bypassAuthState)}function l4(t){return v(this,null,function*(){let{auth:e,user:n}=t;return se(n,e,"internal-error"),HG(n,new Qu(t),t.bypassAuthState)})}var Ap=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c4;case"linkViaPopup":case"linkViaRedirect":return l4;case"reauthViaPopup":case"reauthViaRedirect":return u4;default:En(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var d4=new zs(2e3,1e4);function SI(t,e,n){return v(this,null,function*(){if(In(t.app))return Promise.reject(zn(t,"operation-not-supported-in-this-environment"));let r=Vi(t);cG(t,e,Ku);let i=gN(r,n);return new h4(r,"signInViaPopup",e,i).executeNotNull()})}var h4=(()=>{class t extends Ap{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let n=yield this.execute();return se(n,this.auth,"internal-error"),n})}onExecution(){return v(this,null,function*(){Kr(this.filter.length===1,"Popup operations only handle one event");let n=TI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,d4.get())};n()}}t.currentPopupAction=null;return t})(),f4="pendingRedirect",gp=new Map,iI=class t extends Ap{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=gp.get(this.auth._key());if(!e){try{let r=(yield p4(this.resolver,this.auth))?yield Yn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gp.set(this.auth._key(),e)}return this.bypassAuthState||gp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Yn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Yn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function p4(t,e){return v(this,null,function*(){let n=y4(e),r=m4(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function g4(t,e){gp.set(t._key(),e)}function m4(t){return Gr(t._redirectPersistence)}function y4(t){return pp(f4,t.config.apiKey,t.name)}function v4(t,e,n=!1){return v(this,null,function*(){if(In(t.app))return Promise.reject(Wr(t));let r=Vi(t),i=gN(r,e),o=yield new iI(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var _4=10*60*1e3,sI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_4&&this.cachedEventUids.clear(),this.cachedEventUids.has(FM(e))}saveEventToCache(e){this.cachedEventUids.add(FM(e)),this.lastProcessedEventTime=Date.now()}};function FM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function w4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mN(t);default:return!1}}function I4(n){return v(this,arguments,function*(t,e={}){return Li(t,"GET","/v1/projects",e)})}var E4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b4=/^https?/;function D4(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield I4(t);for(let n of e)try{if(C4(n))return}catch{}En(t,"unauthorized-domain")})}function C4(t){let e=qw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!b4.test(n))return!1;if(E4.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var T4=new zs(3e4,6e4);function LM(){let t=yr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function S4(t){return new Promise((e,n)=>{var r,i,s;function o(){LM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LM(),n(zn(t,"network-request-failed"))},timeout:T4.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{let a=iN("iframefcb");return yr()[a]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},rN(`${RG()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw mp=null,e})}var mp=null;function A4(t){return mp=mp||S4(t),mp}var R4=new zs(5e3,15e3),x4="__/auth/iframe",M4="emulator/auth/iframe",N4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O4(t){let e=t.config;se(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?lI(e,M4):`https://${t.config.authDomain}/${x4}`,r={apiKey:e.apiKey,appName:t.name,v:ki},i=k4.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ba(r).slice(1)}`}function P4(t){return v(this,null,function*(){let e=yield A4(t),n=yr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:O4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N4,dontclear:!0},r=>new Promise((i,s)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=zn(t,"network-request-failed"),a=yr().setTimeout(()=>{s(o)},R4.get());function c(){yr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var F4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L4=500,V4=600,j4="_blank",U4="http://localhost",Rp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function B4(t,e,n,r=L4,i=V4){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},F4),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Qe().toLowerCase();n&&(a=YM(l)?j4:n),QM(l)&&(e=e||U4,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[y,E])=>`${g}${y}=${E},`,"");if(EG(l)&&a!=="_self")return $4(e||"",a),new Rp(null);let f=window.open(e||"",a,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new Rp(f)}function $4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var H4="__/auth/handler",z4="emulator/auth/handler",q4=encodeURIComponent("fac");function VM(t,e,n,r,i,s){return v(this,null,function*(){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ki,eventId:i};if(e instanceof Ku){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",lM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof Dp){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),l=c?`#${q4}=${encodeURIComponent(c)}`:"";return`${G4(t)}?${ba(a).slice(1)}${l}`})}function G4({config:t}){return t.emulator?lI(t,z4):`https://${t.authDomain}/${H4}`}var zw="webStorageSupport",oI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CI,this._completeRedirectFn=v4,this._overrideRedirectResult=g4}_openPopup(e,n,r,i){return v(this,null,function*(){var s;Kr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield VM(e,n,r,qw(),i);return B4(e,o,TI())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let s=yield VM(e,n,r,qw(),i);return XG(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield P4(e),r=new sI(e);return n.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zw,{type:zw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[zw];o!==void 0&&n(!!o),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tN()||pI()||xp()}},yN=oI;var jM="@firebase/auth",UM="1.7.4";var aI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function W4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K4(t){Xt(new pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nN(t)},l=new Xw(r,i,s,c);return NG(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xt(new pt("auth-internal",e=>{let n=Vi(e.getProvider("auth").getImmediate());return(r=>new aI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(jM,UM,W4(t)),Ve(jM,UM,"esm2017")}var Q4=5*60,Y4=Dw("authIdTokenMaxAge")||Q4,BM=null,Z4=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y4)return;let i=n?.token;BM!==i&&(BM=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function AI(t=$r()){let e=mr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gI(t,{popupRedirectResolver:yN,persistence:[pN,lN,CI]}),r=Dw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Z4(s.toString());EI(n,o,()=>o(n.currentUser)),II(n,a=>o(a))}}let i=iM("auth");return i&&mI(n,`http://${i}`),n}function X4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SG({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",X4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K4("Browser");var vN="auth",Gs=class{constructor(e){return e}},Zu=class{constructor(){return Hs(vN)}};var RI=new U("angularfire2.auth-instances");function UW(t,e){let n=Aa(vN,t,e);return n&&new Gs(n)}function BW(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gs(r)}}var $W={provide:Zu,deps:[[new ct,RI]]},HW={provide:Gs,useFactory:UW,deps:[[new ct,RI],Hn]};function Toe(t,...e){return Ve("angularfire",Hr.full,"auth"),Ln([HW,$W,{provide:RI,useFactory:BW(t),multi:!0,deps:[W,Ce,Oi,zr,[new ct,Sa],...e]}])}var _N=xe(_I,!0);var xI=xe(AI,!0);var wN=xe(bI,!0);var IN=xe(wI,!0);var EN=xe(SI,!0);var bN=xe(DI,!0);var DN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},CN={};var ji,MI;(function(){var t;function e(b,_){function w(){}w.prototype=_.prototype,b.D=_.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(D,C,A){for(var I=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)I[Cr-2]=arguments[Cr];return _.prototype[C].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,w){w||(w=0);var D=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)D[C]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(C=0;16>C;++C)D[C]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=b.g[0],w=b.g[1],C=b.g[2];var A=b.g[3],I=_+(A^w&(C^A))+D[0]+3614090360&4294967295;_=w+(I<<7&4294967295|I>>>25),I=A+(C^_&(w^C))+D[1]+3905402710&4294967295,A=_+(I<<12&4294967295|I>>>20),I=C+(w^A&(_^w))+D[2]+606105819&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(_^C&(A^_))+D[3]+3250441966&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(A^w&(C^A))+D[4]+4118548399&4294967295,_=w+(I<<7&4294967295|I>>>25),I=A+(C^_&(w^C))+D[5]+1200080426&4294967295,A=_+(I<<12&4294967295|I>>>20),I=C+(w^A&(_^w))+D[6]+2821735955&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(_^C&(A^_))+D[7]+4249261313&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(A^w&(C^A))+D[8]+1770035416&4294967295,_=w+(I<<7&4294967295|I>>>25),I=A+(C^_&(w^C))+D[9]+2336552879&4294967295,A=_+(I<<12&4294967295|I>>>20),I=C+(w^A&(_^w))+D[10]+4294925233&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(_^C&(A^_))+D[11]+2304563134&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(A^w&(C^A))+D[12]+1804603682&4294967295,_=w+(I<<7&4294967295|I>>>25),I=A+(C^_&(w^C))+D[13]+4254626195&4294967295,A=_+(I<<12&4294967295|I>>>20),I=C+(w^A&(_^w))+D[14]+2792965006&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(_^C&(A^_))+D[15]+1236535329&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(C^A&(w^C))+D[1]+4129170786&4294967295,_=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(_^w))+D[6]+3225465664&4294967295,A=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(A^_))+D[11]+643717713&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^_&(C^A))+D[0]+3921069994&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(C^A&(w^C))+D[5]+3593408605&4294967295,_=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(_^w))+D[10]+38016083&4294967295,A=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(A^_))+D[15]+3634488961&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^_&(C^A))+D[4]+3889429448&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(C^A&(w^C))+D[9]+568446438&4294967295,_=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(_^w))+D[14]+3275163606&4294967295,A=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(A^_))+D[3]+4107603335&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^_&(C^A))+D[8]+1163531501&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(C^A&(w^C))+D[13]+2850285829&4294967295,_=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(_^w))+D[2]+4243563512&4294967295,A=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(A^_))+D[7]+1735328473&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^_&(C^A))+D[12]+2368359562&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(w^C^A)+D[5]+4294588738&4294967295,_=w+(I<<4&4294967295|I>>>28),I=A+(_^w^C)+D[8]+2272392833&4294967295,A=_+(I<<11&4294967295|I>>>21),I=C+(A^_^w)+D[11]+1839030562&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^_)+D[14]+4259657740&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(w^C^A)+D[1]+2763975236&4294967295,_=w+(I<<4&4294967295|I>>>28),I=A+(_^w^C)+D[4]+1272893353&4294967295,A=_+(I<<11&4294967295|I>>>21),I=C+(A^_^w)+D[7]+4139469664&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^_)+D[10]+3200236656&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(w^C^A)+D[13]+681279174&4294967295,_=w+(I<<4&4294967295|I>>>28),I=A+(_^w^C)+D[0]+3936430074&4294967295,A=_+(I<<11&4294967295|I>>>21),I=C+(A^_^w)+D[3]+3572445317&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^_)+D[6]+76029189&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(w^C^A)+D[9]+3654602809&4294967295,_=w+(I<<4&4294967295|I>>>28),I=A+(_^w^C)+D[12]+3873151461&4294967295,A=_+(I<<11&4294967295|I>>>21),I=C+(A^_^w)+D[15]+530742520&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^_)+D[2]+3299628645&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(C^(w|~A))+D[0]+4096336452&4294967295,_=w+(I<<6&4294967295|I>>>26),I=A+(w^(_|~C))+D[7]+1126891415&4294967295,A=_+(I<<10&4294967295|I>>>22),I=C+(_^(A|~w))+D[14]+2878612391&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~_))+D[5]+4237533241&4294967295,w=C+(I<<21&4294967295|I>>>11),I=_+(C^(w|~A))+D[12]+1700485571&4294967295,_=w+(I<<6&4294967295|I>>>26),I=A+(w^(_|~C))+D[3]+2399980690&4294967295,A=_+(I<<10&4294967295|I>>>22),I=C+(_^(A|~w))+D[10]+4293915773&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~_))+D[1]+2240044497&4294967295,w=C+(I<<21&4294967295|I>>>11),I=_+(C^(w|~A))+D[8]+1873313359&4294967295,_=w+(I<<6&4294967295|I>>>26),I=A+(w^(_|~C))+D[15]+4264355552&4294967295,A=_+(I<<10&4294967295|I>>>22),I=C+(_^(A|~w))+D[6]+2734768916&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~_))+D[13]+1309151649&4294967295,w=C+(I<<21&4294967295|I>>>11),I=_+(C^(w|~A))+D[4]+4149444226&4294967295,_=w+(I<<6&4294967295|I>>>26),I=A+(w^(_|~C))+D[11]+3174756917&4294967295,A=_+(I<<10&4294967295|I>>>22),I=C+(_^(A|~w))+D[2]+718787259&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~_))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+A&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var w=_-this.blockSize,D=this.B,C=this.h,A=0;A<_;){if(C==0)for(;A<=w;)i(this,b,A),A+=this.blockSize;if(typeof b=="string"){for(;A<_;)if(D[C++]=b.charCodeAt(A++),C==this.blockSize){i(this,D),C=0;break}}else for(;A<_;)if(D[C++]=b[A++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var w=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=w&255,w/=256;for(this.u(b),b=Array(16),_=w=0;4>_;++_)for(var D=0;32>D;D+=8)b[w++]=this.g[_]>>>D&255;return b};function s(b,_){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=_(b)}function o(b,_){this.h=_;for(var w=[],D=!0,C=b.length-1;0<=C;C--){var A=b[C]|0;D&&A==_||(w[C]=A,D=!1)}this.g=w}var a={};function c(b){return-128<=b&&128>b?s(b,function(_){return new o([_|0],0>_?-1:0)}):new o([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return M(l(-b));for(var _=[],w=1,D=0;b>=w;D++)_[D]=b/w|0,w*=4294967296;return new o(_,0)}function d(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return M(d(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),D=f,C=0;C<b.length;C+=8){var A=Math.min(8,b.length-C),I=parseInt(b.substring(C,C+A),_);8>A?(A=l(Math.pow(_,A)),D=D.j(A).add(l(I))):(D=D.j(w),D=D.add(l(I)))}return D}var f=c(0),g=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-M(this).m();for(var b=0,_=1,w=0;w<this.g.length;w++){var D=this.i(w);b+=(0<=D?D:4294967296+D)*_,_*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(S(this))return"-"+M(this).toString(b);for(var _=l(Math.pow(b,6)),w=this,D="";;){var C=ee(w,_).g;w=V(w,C.j(_));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=C,E(w))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=V(this,b),S(b)?-1:E(b)?0:1};function M(b){for(var _=b.g.length,w=[],D=0;D<_;D++)w[D]=~b.g[D];return new o(w,~b.h).add(g)}t.abs=function(){return S(this)?M(this):this},t.add=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],D=0,C=0;C<=_;C++){var A=D+(this.i(C)&65535)+(b.i(C)&65535),I=(A>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);D=I>>>16,A&=65535,I&=65535,w[C]=I<<16|A}return new o(w,w[w.length-1]&-2147483648?-1:0)};function V(b,_){return b.add(M(_))}t.j=function(b){if(E(this)||E(b))return f;if(S(this))return S(b)?M(this).j(M(b)):M(M(this).j(b));if(S(b))return M(this.j(M(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var _=this.g.length+b.g.length,w=[],D=0;D<2*_;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<b.g.length;C++){var A=this.i(D)>>>16,I=this.i(D)&65535,Cr=b.i(C)>>>16,Oc=b.i(C)&65535;w[2*D+2*C]+=I*Oc,z(w,2*D+2*C),w[2*D+2*C+1]+=A*Oc,z(w,2*D+2*C+1),w[2*D+2*C+1]+=I*Cr,z(w,2*D+2*C+1),w[2*D+2*C+2]+=A*Cr,z(w,2*D+2*C+2)}for(D=0;D<_;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=_;D<2*_;D++)w[D]=0;return new o(w,0)};function z(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function H(b,_){this.g=b,this.h=_}function ee(b,_){if(E(_))throw Error("division by zero");if(E(b))return new H(f,f);if(S(b))return _=ee(M(b),_),new H(M(_.g),M(_.h));if(S(_))return _=ee(b,M(_)),new H(M(_.g),_.h);if(30<b.g.length){if(S(b)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var w=g,D=_;0>=D.l(b);)w=fe(w),D=fe(D);var C=Y(w,1),A=Y(D,1);for(D=Y(D,2),w=Y(w,2);!E(D);){var I=A.add(D);0>=I.l(b)&&(C=C.add(w),A=I),D=Y(D,1),w=Y(w,1)}return _=V(b,C.j(_)),new H(C,_)}for(C=f;0<=b.l(_);){for(w=Math.max(1,Math.floor(b.m()/_.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=l(w),I=A.j(_);S(I)||0<I.l(b);)w-=D,A=l(w),I=A.j(_);E(A)&&(A=g),C=C.add(A),b=V(b,I)}return new H(C,b)}t.A=function(b){return ee(this,b).h},t.and=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],D=0;D<_;D++)w[D]=this.i(D)&b.i(D);return new o(w,this.h&b.h)},t.or=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],D=0;D<_;D++)w[D]=this.i(D)|b.i(D);return new o(w,this.h|b.h)},t.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],D=0;D<_;D++)w[D]=this.i(D)^b.i(D);return new o(w,this.h^b.h)};function fe(b){for(var _=b.g.length+1,w=[],D=0;D<_;D++)w[D]=b.i(D)<<1|b.i(D-1)>>>31;return new o(w,b.h)}function Y(b,_){var w=_>>5;_%=32;for(var D=b.g.length-w,C=[],A=0;A<D;A++)C[A]=0<_?b.i(A+w)>>>_|b.i(A+w+1)<<32-_:b.i(A+w);return new o(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,MI=CN.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,ji=CN.Integer=o}).apply(typeof DN<"u"?DN:typeof self<"u"?self:typeof window<"u"?window:{});var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qr={};var NI,kI,ka,OI,Xu,Op,PI,FI,LI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,p){return u==Array.prototype||u==Object.prototype||(u[h]=p.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kp=="object"&&kp];for(var h=0;h<u.length;++h){var p=u[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(u,h){if(h)e:{var p=r;u=u.split(".");for(var m=0;m<u.length-1;m++){var T=u[m];if(!(T in p))break e;p=p[T]}u=u[u.length-1],m=p[u],h=h(m),h!=m&&h!=null&&e(p,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var p=0,m=!1,T={next:function(){if(!m&&p<u.length){var N=p++;return{value:h(N,u[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function c(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function l(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,p){return u.call.apply(u.bind,arguments)}function f(u,h,p){if(!u)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),u.apply(h,T)}}return function(){return u.apply(h,arguments)}}function g(u,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(u,h){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),u.apply(this,m)}}function E(u,h){function p(){}p.prototype=h.prototype,u.aa=h.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(m,T,N){for(var $=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)$[Fe-2]=arguments[Fe];return h.prototype[T].apply(m,$)}}function S(u){let h=u.length;if(0<h){let p=Array(h);for(let m=0;m<h;m++)p[m]=u[m];return p}return[]}function M(u,h){for(let p=1;p<arguments.length;p++){let m=arguments[p];if(c(m)){let T=u.length||0,N=m.length||0;u.length=T+N;for(let $=0;$<N;$++)u[T+$]=m[$]}else u.push(m)}}class V{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function z(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var fe=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Y(u,h,p){for(let m in u)h.call(p,u[m],m,u)}function b(u,h){for(let p in u)h.call(void 0,u[p],p,u)}function _(u){let h={};for(let p in u)h[p]=u[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,h){let p,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(p in m)u[p]=m[p];for(let N=0;N<w.length;N++)p=w[N],Object.prototype.hasOwnProperty.call(m,p)&&(u[p]=m[p])}}function C(u){var h=1;u=u.split(":");let p=[];for(;0<h&&u.length;)p.push(u.shift()),h--;return u.length&&p.push(u.join(":")),p}function A(u){a.setTimeout(()=>{throw u},0)}function I(){var u=Gm;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class Cr{constructor(){this.h=this.g=null}add(h,p){let m=Oc.get();m.set(h,p),this.h?this.h.next=m:this.g=m,this.h=m}}var Oc=new V(()=>new RL,u=>u.reset());class RL{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Pc,Fc=!1,Gm=new Cr,ZC=()=>{let u=a.Promise.resolve(void 0);Pc=()=>{u.then(xL)}};var xL=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(p){A(p)}var h=Oc;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}Fc=!1};function ii(){this.s=this.s,this.C=this.C}ii.prototype.s=!1,ii.prototype.ma=function(){this.s||(this.s=!0,this.N())},ii.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function bt(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var ML=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return u}();function Lc(u,h){if(bt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,m=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(fe){e:{try{ee(h.nodeName);var T=!0;break e}catch{}T=!1}T||(h=null)}}else p=="mouseover"?h=u.fromElement:p=="mouseout"&&(h=u.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:NL[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Lc.aa.h.call(this)}}E(Lc,bt);var NL={2:"touch",3:"pen",4:"mouse"};Lc.prototype.h=function(){Lc.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Vc="closure_listenable_"+(1e6*Math.random()|0),kL=0;function OL(u,h,p,m,T){this.listener=u,this.proxy=null,this.src=h,this.type=p,this.capture=!!m,this.ha=T,this.key=++kL,this.da=this.fa=!1}function kd(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Od(u){this.src=u,this.g={},this.h=0}Od.prototype.add=function(u,h,p,m,T){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var $=Km(u,h,m,T);return-1<$?(h=u[$],p||(h.fa=!1)):(h=new OL(h,this.src,N,!!m,T),h.fa=p,u.push(h)),h};function Wm(u,h){var p=h.type;if(p in u.g){var m=u.g[p],T=Array.prototype.indexOf.call(m,h,void 0),N;(N=0<=T)&&Array.prototype.splice.call(m,T,1),N&&(kd(h),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Km(u,h,p,m){for(var T=0;T<u.length;++T){var N=u[T];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==m)return T}return-1}var Qm="closure_lm_"+(1e6*Math.random()|0),Ym={};function XC(u,h,p,m,T){if(m&&m.once)return e0(u,h,p,m,T);if(Array.isArray(h)){for(var N=0;N<h.length;N++)XC(u,h[N],p,m,T);return null}return p=ey(p),u&&u[Vc]?u.K(h,p,l(m)?!!m.capture:!!m,T):JC(u,h,p,!1,m,T)}function JC(u,h,p,m,T,N){if(!h)throw Error("Invalid event type");var $=l(T)?!!T.capture:!!T,Fe=Xm(u);if(Fe||(u[Qm]=Fe=new Od(u)),p=Fe.add(h,p,m,$,N),p.proxy)return p;if(m=PL(),p.proxy=m,m.src=u,m.listener=p,u.addEventListener)ML||(T=$),T===void 0&&(T=!1),u.addEventListener(h.toString(),m,T);else if(u.attachEvent)u.attachEvent(n0(h.toString()),m);else if(u.addListener&&u.removeListener)u.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return p}function PL(){function u(p){return h.call(u.src,u.listener,p)}let h=FL;return u}function e0(u,h,p,m,T){if(Array.isArray(h)){for(var N=0;N<h.length;N++)e0(u,h[N],p,m,T);return null}return p=ey(p),u&&u[Vc]?u.L(h,p,l(m)?!!m.capture:!!m,T):JC(u,h,p,!0,m,T)}function t0(u,h,p,m,T){if(Array.isArray(h))for(var N=0;N<h.length;N++)t0(u,h[N],p,m,T);else m=l(m)?!!m.capture:!!m,p=ey(p),u&&u[Vc]?(u=u.i,h=String(h).toString(),h in u.g&&(N=u.g[h],p=Km(N,p,m,T),-1<p&&(kd(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete u.g[h],u.h--)))):u&&(u=Xm(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Km(h,p,m,T)),(p=-1<u?h[u]:null)&&Zm(p))}function Zm(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[Vc])Wm(h.i,u);else{var p=u.type,m=u.proxy;h.removeEventListener?h.removeEventListener(p,m,u.capture):h.detachEvent?h.detachEvent(n0(p),m):h.addListener&&h.removeListener&&h.removeListener(m),(p=Xm(h))?(Wm(p,u),p.h==0&&(p.src=null,h[Qm]=null)):kd(u)}}}function n0(u){return u in Ym?Ym[u]:Ym[u]="on"+u}function FL(u,h){if(u.da)u=!0;else{h=new Lc(h,this);var p=u.listener,m=u.ha||u.src;u.fa&&Zm(u),u=p.call(m,h)}return u}function Xm(u){return u=u[Qm],u instanceof Od?u:null}var Jm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ey(u){return typeof u=="function"?u:(u[Jm]||(u[Jm]=function(h){return u.handleEvent(h)}),u[Jm])}function Dt(){ii.call(this),this.i=new Od(this),this.M=this,this.F=null}E(Dt,ii),Dt.prototype[Vc]=!0,Dt.prototype.removeEventListener=function(u,h,p,m){t0(this,u,h,p,m)};function Ot(u,h){var p,m=u.F;if(m)for(p=[];m;m=m.F)p.push(m);if(u=u.M,m=h.type||h,typeof h=="string")h=new bt(h,u);else if(h instanceof bt)h.target=h.target||u;else{var T=h;h=new bt(m,u),D(h,T)}if(T=!0,p)for(var N=p.length-1;0<=N;N--){var $=h.g=p[N];T=Pd($,m,!0,h)&&T}if($=h.g=u,T=Pd($,m,!0,h)&&T,T=Pd($,m,!1,h)&&T,p)for(N=0;N<p.length;N++)$=h.g=p[N],T=Pd($,m,!1,h)&&T}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var p=u.g[h],m=0;m<p.length;m++)kd(p[m]);delete u.g[h],u.h--}}this.F=null},Dt.prototype.K=function(u,h,p,m){return this.i.add(String(u),h,!1,p,m)},Dt.prototype.L=function(u,h,p,m){return this.i.add(String(u),h,!0,p,m)};function Pd(u,h,p,m){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var T=!0,N=0;N<h.length;++N){var $=h[N];if($&&!$.da&&$.capture==p){var Fe=$.listener,vt=$.ha||$.src;$.fa&&Wm(u.i,$),T=Fe.call(vt,m)!==!1&&T}}return T&&!m.defaultPrevented}function r0(u,h,p){if(typeof u=="function")p&&(u=g(u,p));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function i0(u){u.g=r0(()=>{u.g=null,u.i&&(u.i=!1,i0(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class LL extends ii{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:i0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jc(u){ii.call(this),this.h=u,this.g={}}E(jc,ii);var s0=[];function o0(u){Y(u.g,function(h,p){this.g.hasOwnProperty(p)&&Zm(h)},u),u.g={}}jc.prototype.N=function(){jc.aa.N.call(this),o0(this)},jc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ty=a.JSON.stringify,VL=a.JSON.parse,jL=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ny(){}ny.prototype.h=null;function a0(u){return u.h||(u.h=u.i())}function c0(){}var Uc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ry(){bt.call(this,"d")}E(ry,bt);function iy(){bt.call(this,"c")}E(iy,bt);var us={},u0=null;function Fd(){return u0=u0||new Dt}us.La="serverreachability";function l0(u){bt.call(this,us.La,u)}E(l0,bt);function Bc(u){let h=Fd();Ot(h,new l0(h))}us.STAT_EVENT="statevent";function d0(u,h){bt.call(this,us.STAT_EVENT,u),this.stat=h}E(d0,bt);function Pt(u){let h=Fd();Ot(h,new d0(h,u))}us.Ma="timingevent";function h0(u,h){bt.call(this,us.Ma,u),this.size=h}E(h0,bt);function $c(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function Hc(){this.g=!0}Hc.prototype.xa=function(){this.g=!1};function UL(u,h,p,m,T,N){u.info(function(){if(u.g)if(N)for(var $="",Fe=N.split("&"),vt=0;vt<Fe.length;vt++){var Re=Fe[vt].split("=");if(1<Re.length){var Ct=Re[0];Re=Re[1];var Tt=Ct.split("_");$=2<=Tt.length&&Tt[1]=="type"?$+(Ct+"="+Re+"&"):$+(Ct+"=redacted&")}}else $=null;else $=N;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+h+`
`+p+`
`+$})}function BL(u,h,p,m,T,N,$){u.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+h+`
`+p+`
`+N+" "+$})}function xo(u,h,p,m){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+HL(u,p)+(m?" "+m:"")})}function $L(u,h){u.info(function(){return"TIMEOUT: "+h})}Hc.prototype.info=function(){};function HL(u,h){if(!u.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var m=p[u];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var N=T[0];if(N!="noop"&&N!="stop"&&N!="close")for(var $=1;$<T.length;$++)T[$]=""}}}}return ty(p)}catch{return h}}var Ld={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},f0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sy;function Vd(){}E(Vd,ny),Vd.prototype.g=function(){return new XMLHttpRequest},Vd.prototype.i=function(){return{}},sy=new Vd;function si(u,h,p,m){this.j=u,this.i=h,this.l=p,this.R=m||1,this.U=new jc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new p0}function p0(){this.i=null,this.g="",this.h=!1}var g0={},oy={};function ay(u,h,p){u.L=1,u.v=$d(Tr(h)),u.m=p,u.P=!0,m0(u,null)}function m0(u,h){u.F=Date.now(),jd(u),u.A=Tr(u.v);var p=u.A,m=u.R;Array.isArray(m)||(m=[String(m)]),x0(p.i,"t",m),u.C=0,p=u.j.J,u.h=new p0,u.g=K0(u.j,p?h:null,!u.m),0<u.O&&(u.M=new LL(g(u.Y,u,u.g),u.O)),h=u.U,p=u.g,m=u.ca;var T="readystatechange";Array.isArray(T)||(T&&(s0[0]=T.toString()),T=s0);for(var N=0;N<T.length;N++){var $=XC(p,T[N],m||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),Bc(),UL(u.i,u.u,u.A,u.l,u.R,u.m)}si.prototype.ca=function(u){u=u.target;let h=this.M;h&&Sr(u)==3?h.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{let Tt=Sr(this.g);var h=this.g.Ba();let ko=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||L0(this.g)))){this.J||Tt!=4||h==7||(h==8||0>=ko?Bc(3):Bc(2)),cy(this);var p=this.g.Z();this.X=p;t:if(y0(this)){var m=L0(this.g);u="";var T=m.length,N=Sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),zc(this);var $="";break t}this.h.i=new a.TextDecoder}for(h=0;h<T;h++)this.h.h=!0,u+=this.h.i.decode(m[h],{stream:!(N&&h==T-1)});m.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,BL(this.i,this.u,this.A,this.l,this.R,Tt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,vt=this.g;if((Fe=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Fe)){var Re=Fe;break t}}Re=null}if(p=Re)xo(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uy(this,p);else{this.o=!1,this.s=3,Pt(12),ls(this),zc(this);break e}}if(this.P){p=!0;let xn;for(;!this.J&&this.C<$.length;)if(xn=zL(this,$),xn==oy){Tt==4&&(this.s=4,Pt(14),p=!1),xo(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==g0){this.s=4,Pt(15),xo(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else xo(this.i,this.l,xn,null),uy(this,xn);if(y0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||$.length!=0||this.h.h||(this.s=1,Pt(16),p=!1),this.o=this.o&&p,!p)xo(this.i,this.l,$,"[Invalid Chunked Response]"),ls(this),zc(this);else if(0<$.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),gy(Ct),Ct.M=!0,Pt(11))}}else xo(this.i,this.l,$,null),uy(this,$);Tt==4&&ls(this),this.o&&!this.J&&(Tt==4?z0(this.j,this):(this.o=!1,jd(this)))}else aV(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),ls(this),zc(this)}}}catch{}finally{}};function y0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zL(u,h){var p=u.C,m=h.indexOf(`
`,p);return m==-1?oy:(p=Number(h.substring(p,m)),isNaN(p)?g0:(m+=1,m+p>h.length?oy:(h=h.slice(m,m+p),u.C=m+p,h)))}si.prototype.cancel=function(){this.J=!0,ls(this)};function jd(u){u.S=Date.now()+u.I,v0(u,u.I)}function v0(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=$c(g(u.ba,u),h)}function cy(u){u.B&&(a.clearTimeout(u.B),u.B=null)}si.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?($L(this.i,this.A),this.L!=2&&(Bc(),Pt(17)),ls(this),this.s=2,zc(this)):v0(this,this.S-u)};function zc(u){u.j.G==0||u.J||z0(u.j,u)}function ls(u){cy(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,o0(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function uy(u,h){try{var p=u.j;if(p.G!=0&&(p.g==u||ly(p.h,u))){if(!u.K&&ly(p.h,u)&&p.G==3){try{var m=p.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Wd(p),qd(p);else break e;py(p),Pt(18)}}else p.za=T[1],0<p.za-p.T&&37500>T[2]&&p.F&&p.v==0&&!p.C&&(p.C=$c(g(p.Za,p),6e3));if(1>=I0(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else hs(p,11)}else if((u.K||p.g==u)&&Wd(p),!z(h))for(T=p.Da.g.parse(h),h=0;h<T.length;h++){let Re=T[h];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];let Ct=Re[3];Ct!=null&&(p.la=Ct,p.j.info("VER="+p.la));let Tt=Re[4];Tt!=null&&(p.Aa=Tt,p.j.info("SVER="+p.Aa));let ko=Re[5];ko!=null&&typeof ko=="number"&&0<ko&&(m=1.5*ko,p.L=m,p.j.info("backChannelRequestTimeoutMs_="+m)),m=p;let xn=u.g;if(xn){let Qd=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qd){var N=m.h;N.g||Qd.indexOf("spdy")==-1&&Qd.indexOf("quic")==-1&&Qd.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(dy(N,N.h),N.h=null))}if(m.D){let my=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;my&&(m.ya=my,$e(m.I,m.D,my))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),m=p;var $=u;if(m.qa=W0(m,m.J?m.ia:null,m.W),$.K){E0(m.h,$);var Fe=$,vt=m.L;vt&&(Fe.I=vt),Fe.B&&(cy(Fe),jd(Fe)),m.g=$}else $0(m);0<p.i.length&&Gd(p)}else Re[0]!="stop"&&Re[0]!="close"||hs(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?hs(p,7):fy(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}Bc(4)}catch{}}var qL=class{constructor(u,h){this.g=u,this.map=h}};function _0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function w0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function I0(u){return u.h?1:u.g?u.g.size:0}function ly(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function dy(u,h){u.g?u.g.add(h):u.h=h}function E0(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}_0.prototype.cancel=function(){if(this.i=b0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function b0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let p of u.g.values())h=h.concat(p.D);return h}return S(u.i)}function GL(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var h=[],p=u.length,m=0;m<p;m++)h.push(u[m]);return h}h=[],p=0;for(m in u)h[p++]=u[m];return h}function WL(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var h=[];u=u.length;for(var p=0;p<u;p++)h.push(p);return h}h=[],p=0;for(let m in u)h[p++]=m;return h}}}function D0(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var p=WL(u),m=GL(u),T=m.length,N=0;N<T;N++)h.call(void 0,m[N],p&&p[N],u)}var C0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KL(u,h){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var m=u[p].indexOf("="),T=null;if(0<=m){var N=u[p].substring(0,m);T=u[p].substring(m+1)}else N=u[p];h(N,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ds(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ds){this.h=u.h,Ud(this,u.j),this.o=u.o,this.g=u.g,Bd(this,u.s),this.l=u.l;var h=u.i,p=new Wc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),T0(this,p),this.m=u.m}else u&&(h=String(u).match(C0))?(this.h=!1,Ud(this,h[1]||"",!0),this.o=qc(h[2]||""),this.g=qc(h[3]||"",!0),Bd(this,h[4]),this.l=qc(h[5]||"",!0),T0(this,h[6]||"",!0),this.m=qc(h[7]||"")):(this.h=!1,this.i=new Wc(null,this.h))}ds.prototype.toString=function(){var u=[],h=this.j;h&&u.push(Gc(h,S0,!0),":");var p=this.g;return(p||h=="file")&&(u.push("//"),(h=this.o)&&u.push(Gc(h,S0,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Gc(p,p.charAt(0)=="/"?ZL:YL,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Gc(p,JL)),u.join("")};function Tr(u){return new ds(u)}function Ud(u,h,p){u.j=p?qc(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function Bd(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function T0(u,h,p){h instanceof Wc?(u.i=h,eV(u.i,u.h)):(p||(h=Gc(h,XL)),u.i=new Wc(h,u.h))}function $e(u,h,p){u.i.set(h,p)}function $d(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qc(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gc(u,h,p){return typeof u=="string"?(u=encodeURI(u).replace(h,QL),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function QL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var S0=/[#\/\?@]/g,YL=/[#\?:]/g,ZL=/[#\?]/g,XL=/[#\?@]/g,JL=/#/g;function Wc(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function oi(u){u.g||(u.g=new Map,u.h=0,u.i&&KL(u.i,function(h,p){u.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Wc.prototype,t.add=function(u,h){oi(this),this.i=null,u=Mo(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(h),this.h+=1,this};function A0(u,h){oi(u),h=Mo(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function R0(u,h){return oi(u),h=Mo(u,h),u.g.has(h)}t.forEach=function(u,h){oi(this),this.g.forEach(function(p,m){p.forEach(function(T){u.call(h,T,m,this)},this)},this)},t.na=function(){oi(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let m=0;m<h.length;m++){let T=u[m];for(let N=0;N<T.length;N++)p.push(h[m])}return p},t.V=function(u){oi(this);let h=[];if(typeof u=="string")R0(this,u)&&(h=h.concat(this.g.get(Mo(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)h=h.concat(u[p])}return h},t.set=function(u,h){return oi(this),this.i=null,u=Mo(this,u),R0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},t.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function x0(u,h,p){A0(u,h),0<p.length&&(u.i=null,u.g.set(Mo(u,h),S(p)),u.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var m=h[p];let N=encodeURIComponent(String(m)),$=this.V(m);for(m=0;m<$.length;m++){var T=N;$[m]!==""&&(T+="="+encodeURIComponent(String($[m]))),u.push(T)}}return this.i=u.join("&")};function Mo(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function eV(u,h){h&&!u.j&&(oi(u),u.i=null,u.g.forEach(function(p,m){var T=m.toLowerCase();m!=T&&(A0(this,m),x0(this,T,p))},u)),u.j=h}function tV(u,h){let p=new Hc;if(a.Image){let m=new Image;m.onload=y(ai,p,"TestLoadImage: loaded",!0,h,m),m.onerror=y(ai,p,"TestLoadImage: error",!1,h,m),m.onabort=y(ai,p,"TestLoadImage: abort",!1,h,m),m.ontimeout=y(ai,p,"TestLoadImage: timeout",!1,h,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=u}else h(!1)}function nV(u,h){let p=new Hc,m=new AbortController,T=setTimeout(()=>{m.abort(),ai(p,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:m.signal}).then(N=>{clearTimeout(T),N.ok?ai(p,"TestPingServer: ok",!0,h):ai(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(T),ai(p,"TestPingServer: error",!1,h)})}function ai(u,h,p,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(p)}catch{}}function rV(){this.g=new jL}function iV(u,h,p){let m=p||"";try{D0(u,function(T,N){let $=T;l(T)&&($=ty(T)),h.push(m+N+"="+encodeURIComponent($))})}catch(T){throw h.push(m+"type="+encodeURIComponent("_badmap")),T}}function Kc(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Kc,ny),Kc.prototype.g=function(){return new Hd(this.l,this.j)},Kc.prototype.i=function(u){return function(){return u}}({});function Hd(u,h){Dt.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Hd,Dt),t=Hd.prototype,t.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Yc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;M0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function M0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?Qc(this):Yc(this),this.readyState==3&&M0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Qc(this))},t.Qa=function(u){this.g&&(this.response=u,Qc(this))},t.ga=function(){this.g&&Qc(this)};function Qc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yc(u)}t.setRequestHeader=function(u,h){this.u.append(u,h)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=h.next();return u.join(`\r
`)};function Yc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function N0(u){let h="";return Y(u,function(p,m){h+=m,h+=":",h+=p,h+=`\r
`}),h}function hy(u,h,p){e:{for(m in p){var m=!1;break e}m=!0}m||(p=N0(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):$e(u,h,p))}function Ke(u){Dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ke,Dt);var sV=/^https?$/i,oV=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,h,p,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sy.g(),this.v=this.o?a0(this.o):a0(sy),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(N){k0(this,N);return}if(u=p||"",p=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)p.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())p.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),T=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oV,h,void 0))||m||T||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,$]of p)this.g.setRequestHeader(N,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{F0(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){k0(this,N)}};function k0(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,O0(u),zd(u)}function O0(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ot(this,"complete"),Ot(this,"abort"),zd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zd(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?P0(this):this.bb())},t.bb=function(){P0(this)};function P0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Sr(u)!=4||u.Z()!=2)){if(u.u&&Sr(u)==4)r0(u.Ea,0,u);else if(Ot(u,"readystatechange"),Sr(u)==4){u.h=!1;try{let $=u.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var m;if(m=$===0){var T=String(u.D).match(C0)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!sV.test(T?T.toLowerCase():"")}p=m}if(p)Ot(u,"complete"),Ot(u,"success");else{u.m=6;try{var N=2<Sr(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",O0(u)}}finally{zd(u)}}}}function zd(u,h){if(u.g){F0(u);let p=u.g,m=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||Ot(u,"ready");try{p.onreadystatechange=m}catch{}}}function F0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Sr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),VL(h)}};function L0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function aV(u){let h={};u=(u.g&&2<=Sr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<u.length;m++){if(z(u[m]))continue;var p=C(u[m]);let T=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[T]||[];h[T]=N,N.push(p)}b(h,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zc(u,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||h}function V0(u){this.Aa=0,this.i=[],this.j=new Hc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zc("baseRetryDelayMs",5e3,u),this.cb=Zc("retryDelaySeedMs",1e4,u),this.Wa=Zc("forwardChannelMaxRetries",2,u),this.wa=Zc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new _0(u&&u.concurrentRequestLimit),this.Da=new rV,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=V0.prototype,t.la=8,t.G=1,t.connect=function(u,h,p,m){Pt(0),this.W=u,this.H=h||{},p&&m!==void 0&&(this.H.OSID=p,this.H.OAID=m),this.F=this.X,this.I=W0(this,null,this.W),Gd(this)};function fy(u){if(j0(u),u.G==3){var h=u.U++,p=Tr(u.I);if($e(p,"SID",u.K),$e(p,"RID",h),$e(p,"TYPE","terminate"),Xc(u,p),h=new si(u,u.j,h),h.L=2,h.v=$d(Tr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=K0(h.j,null),h.g.ea(h.v)),h.F=Date.now(),jd(h)}G0(u)}function qd(u){u.g&&(gy(u),u.g.cancel(),u.g=null)}function j0(u){qd(u),u.u&&(a.clearTimeout(u.u),u.u=null),Wd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Gd(u){if(!w0(u.h)&&!u.s){u.s=!0;var h=u.Ga;Pc||ZC(),Fc||(Pc(),Fc=!0),Gm.add(h,u),u.B=0}}function cV(u,h){return I0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=$c(g(u.Ga,u,h),q0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let T=new si(this,this.j,u),N=this.o;if(this.S&&(N?(N=_(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(T.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var m=this.i[p];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=B0(this,T,h),p=Tr(this.I),$e(p,"RID",u),$e(p,"CVER",22),this.D&&$e(p,"X-HTTP-Session-Id",this.D),Xc(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(N0(N)))+"&"+h:this.m&&hy(p,this.m,N)),dy(this.h,T),this.Ua&&$e(p,"TYPE","init"),this.P?($e(p,"$req",h),$e(p,"SID","null"),T.T=!0,ay(T,p,null)):ay(T,p,h),this.G=2}}else this.G==3&&(u?U0(this,u):this.i.length==0||w0(this.h)||U0(this))};function U0(u,h){var p;h?p=h.l:p=u.U++;let m=Tr(u.I);$e(m,"SID",u.K),$e(m,"RID",p),$e(m,"AID",u.T),Xc(u,m),u.m&&u.o&&hy(m,u.m,u.o),p=new si(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),h&&(u.i=h.D.concat(u.i)),h=B0(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),dy(u.h,p),ay(p,m,h)}function Xc(u,h){u.H&&Y(u.H,function(p,m){$e(h,m,p)}),u.l&&D0({},function(p,m){$e(h,m,p)})}function B0(u,h,p){p=Math.min(u.i.length,p);var m=u.l?g(u.l.Na,u.l,u):null;e:{var T=u.i;let N=-1;for(;;){let $=["count="+p];N==-1?0<p?(N=T[0].g,$.push("ofs="+N)):N=0:$.push("ofs="+N);let Fe=!0;for(let vt=0;vt<p;vt++){let Re=T[vt].g,Ct=T[vt].map;if(Re-=N,0>Re)N=Math.max(0,T[vt].g-100),Fe=!1;else try{iV(Ct,$,"req"+Re+"_")}catch{m&&m(Ct)}}if(Fe){m=$.join("&");break e}}}return u=u.i.splice(0,p),h.D=u,m}function $0(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;Pc||ZC(),Fc||(Pc(),Fc=!0),Gm.add(h,u),u.v=0}}function py(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=$c(g(u.Fa,u),q0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,H0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=$c(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),qd(this),H0(this))};function gy(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function H0(u){u.g=new si(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Tr(u.qa);$e(h,"RID","rpc"),$e(h,"SID",u.K),$e(h,"AID",u.T),$e(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(h,"TO",u.ja),$e(h,"TYPE","xmlhttp"),Xc(u,h),u.m&&u.o&&hy(h,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=$d(Tr(h)),p.m=null,p.P=!0,m0(p,u)}t.Za=function(){this.C!=null&&(this.C=null,qd(this),py(this),Pt(19))};function Wd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function z0(u,h){var p=null;if(u.g==h){Wd(u),gy(u),u.g=null;var m=2}else if(ly(u.h,h))p=h.D,E0(u.h,h),m=1;else return;if(u.G!=0){if(h.o)if(m==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var T=u.B;m=Fd(),Ot(m,new h0(m,p)),Gd(u)}else $0(u);else if(T=h.s,T==3||T==0&&0<h.X||!(m==1&&cV(u,h)||m==2&&py(u)))switch(p&&0<p.length&&(h=u.h,h.i=h.i.concat(p)),T){case 1:hs(u,5);break;case 4:hs(u,10);break;case 3:hs(u,6);break;default:hs(u,2)}}}function q0(u,h){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*h}function hs(u,h){if(u.j.info("Error code "+h),h==2){var p=g(u.fb,u),m=u.Xa;let T=!m;m=new ds(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ud(m,"https"),$d(m),T?tV(m.toString(),p):nV(m.toString(),p)}else Pt(2);u.G=0,u.l&&u.l.sa(h),G0(u),j0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function G0(u){if(u.G=0,u.ka=[],u.l){let h=b0(u.h);(h.length!=0||u.i.length!=0)&&(M(u.ka,h),M(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function W0(u,h,p){var m=p instanceof ds?Tr(p):new ds(p);if(m.g!="")h&&(m.g=h+"."+m.g),Bd(m,m.s);else{var T=a.location;m=T.protocol,h=h?h+"."+T.hostname:T.hostname,T=+T.port;var N=new ds(null);m&&Ud(N,m),h&&(N.g=h),T&&Bd(N,T),p&&(N.l=p),m=N}return p=u.D,h=u.ya,p&&h&&$e(m,p,h),$e(m,"VER",u.la),Xc(u,m),m}function K0(u,h,p){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new Ke(new Kc({eb:p})):new Ke(u.pa),h.Ha(u.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Q0(){}t=Q0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kd(){}Kd.prototype.g=function(u,h){return new en(u,h)};function en(u,h){Dt.call(this),this.g=new V0(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!z(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!z(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new No(this)}E(en,Dt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){fy(this.g)},en.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=ty(u),u=p);h.i.push(new qL(h.Ya++,u)),h.G==3&&Gd(h)},en.prototype.N=function(){this.g.l=null,delete this.j,fy(this.g),delete this.g,en.aa.N.call(this)};function Y0(u){ry.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let p in h){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}E(Y0,ry);function Z0(){iy.call(this),this.status=1}E(Z0,iy);function No(u){this.g=u}E(No,Q0),No.prototype.ua=function(){Ot(this.g,"a")},No.prototype.ta=function(u){Ot(this.g,new Y0(u))},No.prototype.sa=function(u){Ot(this.g,new Z0)},No.prototype.ra=function(){Ot(this.g,"b")},Kd.prototype.createWebChannel=Kd.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,LI=Qr.createWebChannelTransport=function(){return new Kd},FI=Qr.getStatEventTarget=function(){return Fd()},PI=Qr.Event=us,Op=Qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ld.NO_ERROR=0,Ld.TIMEOUT=8,Ld.HTTP_ERROR=6,Xu=Qr.ErrorCode=Ld,f0.COMPLETE="complete",OI=Qr.EventType=f0,c0.EventType=Uc,Uc.OPEN="a",Uc.CLOSE="b",Uc.ERROR="c",Uc.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,ka=Qr.WebChannel=c0,kI=Qr.FetchXmlHttpFactory=Kc,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,NI=Qr.XhrIo=Ke}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});var TN="@firebase/firestore";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var cc="10.12.1";var ro=new Mi("@firebase/firestore");function Va(){return ro.logLevel}function F(t,...e){if(ro.logLevel<=we.DEBUG){let n=e.map(Lb);ro.debug(`Firestore (${cc}): ${t}`,...n)}}function nt(t,...e){if(ro.logLevel<=we.ERROR){let n=e.map(Lb);ro.error(`Firestore (${cc}): ${t}`,...n)}}function dl(t,...e){if(ro.logLevel<=we.WARN){let n=e.map(Lb);ro.warn(`Firestore (${cc}): ${t}`,...n)}}function Lb(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: `+t;throw nt(e),new Error(e)}function Z(t,e){t||G()}function K(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Ht{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Dn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var zI=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},qI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}};var GI=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z(typeof r.accessToken=="string"),new zI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Z(e===null||typeof e=="string"),new gt(e)}},WI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},KI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},QI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},YI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z(typeof n.token=="string"),this.R=n.token,new QI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function qW(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var zp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=qW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function Wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Sk(t){return t+"\0"}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var qp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends qp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},GW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=class t extends qp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return GW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new B(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Ka=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function ZI(t){return t.fields.find(e=>e.kind===2)}function Ks(t){return t.fields.filter(e=>e.kind!==2)}Ka.UNKNOWN_ID=-1;var za=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var hl=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Cn.min())}};function Ak(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Cn(i,q.empty(),e)}function Rk(t){return new Cn(t.readTime,t.key,-1)}var Cn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),q.empty(),-1)}static max(){return new t(ne.max(),q.empty(),-1)}};function Vb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var xk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Gp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ji(t){return v(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==xk)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Wp=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Dn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new to(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=jb(r.target.error);this.V.reject(new to(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new to(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new JI(n)}},Qa=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Qe())===12.2&&nt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),Qs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ea())return!1;if(t.C())return!0;let e=Qe(),n=t.S(e),r=0<n&&n<10,i=Mk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return v(this,null,function*(){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new to(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new B(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new B(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new to(e,o))},i.onupgradeneeded=s=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return v(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=Wp.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),x.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(F("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function Mk(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var XI=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Qs(this.B.delete())}},to=class extends B{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function es(t){return t.name==="IndexedDbTransactionError"}var JI=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(F("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Qs(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),Qs(this.store.add(e))}get(e){return Qs(this.store.get(e)).next(n=>(n===void 0&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),Qs(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),Qs(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new x((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,c)=>{o.push(c)}).next(()=>o)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new x((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){F("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new x((r,i)=>{n.onerror=s=>{let o=jb(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){let r=[];return new x((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new XI(a),l=n(a.primaryKey,a.value,c);if(l instanceof x){let d=l.catch(f=>(c.done(),x.reject(f)));r.push(d)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>x.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Qs(t){return new x((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=jb(r.target.error);n(i)}})}var SN=!1;function jb(t){let e=Qa.S(Qe());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new B("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SN||(SN=!0,setTimeout(()=>{throw r},0)),r}}return t}var eE=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){F("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>v(this,null,function*(){this.task=null;try{F("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){es(n)?F("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Ji(n)}yield this.X(6e4)}))}},tE=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return v(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,s=!0;return x.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return F("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(F("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=Rk(s);Vb(o,r)>0&&(r=o)}),new Cn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var sn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function zg(t){return t==null}function fl(t){return t===0&&1/t==-1/0}function Nk(t){return typeof t=="number"&&Number.isInteger(t)&&!fl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function qt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AN(e)),e=WW(t.get(n),e);return AN(e)}function WW(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function AN(t){return t+""}function vr(t){let e=t.length;if(Z(e>=2),e===2)return Z(t.charAt(0)===""&&t.charAt(1)===""),Pe.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&G(),t.charAt(o+1)){case"":let a=t.substring(s,o),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:G()}s=o+2}return new Pe(r)}var RN=["userId","batchId"];function jp(t,e){return[t,qt(e)]}function kk(t,e,n){return[t,qt(e),n]}var KW={},QW=["prefixPath","collectionGroup","readTime","documentId"],YW=["prefixPath","collectionGroup","documentId"],ZW=["collectionGroup","readTime","prefixPath","documentId"],XW=["canonicalId","targetId"],JW=["targetId","path"],e9=["path","targetId"],t9=["collectionId","parent"],n9=["indexId","uid"],r9=["uid","sequenceNumber"],i9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s9=["indexId","uid","orderedDocumentKey"],o9=["userId","collectionPath","documentId"],a9=["userId","collectionPath","largestBatchId"],c9=["userId","collectionGroup","largestBatchId"],Ok=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],u9=[...Ok,"documentOverlays"],Pk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fk=Pk,Lk=[...Fk,"indexConfiguration","indexState","indexEntries"],l9=Lk;var pl=class extends Gp{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function mt(t,e){let n=K(t);return Qa.F(n._e,e)}function xN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function po(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Vk(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qe=class t{constructor(e,n){this.comparator=e,this.root=n||wr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ha(this.root,e,this.comparator,!0)}},Ha=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var je=class t{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kp(this.data.getIterator())}getIteratorFrom(e){return new Kp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Kp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Oa(t){return t.hasNext()?t.getNext():void 0}var on=class t{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new t([])}unionWith(e){let n=new je(ut.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Qp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Qp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var d9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(Z(!!t),typeof t=="string"){let e=0,n=d9.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}function Ub(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bb(t){let e=t.mapValue.fields.__previous_value__;return Ub(e)?Bb(e):e}function gl(t){let e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var nE=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Ya=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Up={nullValue:"NULL_VALUE"};function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ub(t)?4:jk(t)?9007199254740991:10:G()}function Ir(t,e){if(t===e)return!0;let n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gl(t).isEqual(gl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Zr(i.timestampValue),a=Zr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qi(i.bytesValue).isEqual(qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?fl(o)===fl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xN(o)!==xN(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ir(o[c],a[c])))return!1;return!0}(t,e);default:return G()}}function ml(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function Gi(t,e){if(t===e)return 0;let n=io(t),r=io(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ye(s.integerValue||s.doubleValue),c=Ye(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return MN(t.timestampValue,e.timestampValue);case 4:return MN(gl(t),gl(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){let a=qi(s),c=qi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=he(a[l],c[l]);if(d!==0)return d}return he(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=he(Ye(s.latitude),Ye(o.latitude));return a!==0?a:he(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let d=Gi(a[l],c[l]);if(d)return d}return he(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Hi.mapValue&&o===Hi.mapValue)return 0;if(s===Hi.mapValue)return 1;if(o===Hi.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=he(c[f],d[f]);if(g!==0)return g;let y=Gi(a[c[f]],l[d[f]]);if(y!==0)return y}return he(c.length,d.length)}(t.mapValue,e.mapValue);default:throw G()}}function MN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=Zr(t),r=Zr(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Za(t){return rE(t)}function rE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=rE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${rE(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function yl(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function iE(t){return!!t&&"integerValue"in t}function vl(t){return!!t&&"arrayValue"in t}function NN(t){return!!t&&"nullValue"in t}function kN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bp(t){return!!t&&"mapValue"in t}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function h9(t){return"nullValue"in t?Up:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?yl(Ya.empty(),q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:G()}function f9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?yl(Ya.empty(),q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Hi:G()}function ON(t,e){let n=Gi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function PN(t,e){let n=Gi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var zt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sl(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){po(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(sl(this.value))}};function Uk(t){let e=[];return po(t.fields,(n,r)=>{let i=new ut([n]);if(Bp(r)){let s=Uk(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new on(e)}var It=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),zt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Wi=class{constructor(e,n){this.position=e,this.inclusive=n}};function FN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Gi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function LN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}var so=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function p9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Yp=class{},Ie=class t extends Yp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new aE(e,n,r):n==="array-contains"?new lE(e,r):n==="in"?new Zp(e,r):n==="not-in"?new dE(e,r):n==="array-contains-any"?new hE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cE(e,r):new uE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gi(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(Gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Oe=class t extends Yp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Xa(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Xa(t){return t.op==="and"}function sE(t){return t.op==="or"}function $b(t){return Bk(t)&&Xa(t)}function Bk(t){for(let e of t.filters)if(e instanceof Oe)return!1;return!0}function oE(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+Za(t.value);if($b(t))return t.filters.map(e=>oE(e)).join(",");{let e=t.filters.map(n=>oE(n)).join(",");return`${t.op}(${e})`}}function $k(t,e){return t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&Ir(r.value,i.value)}(t,e):t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&$k(o,i.filters[a]),!0):!1}(t,e):void G()}function Hk(t,e){let n=t.filters.concat(e);return Oe.create(n,t.op)}function zk(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(t):t instanceof Oe?function(n){return n.op.toString()+" {"+n.getFilters().map(zk).join(" ,")+"}"}(t):"Filter"}var aE=class extends Ie{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},cE=class extends Ie{constructor(e,n){super(e,"in",n),this.keys=qk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},uE=class extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=qk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function qk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var lE=class extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return vl(n)&&ml(n.arrayValue,this.value)}},Zp=class extends Ie{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ml(this.value.arrayValue,n)}},dE=class extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ml(this.value.arrayValue,n)}},hE=class extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!vl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ml(this.value.arrayValue,r))}};var fE=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function pE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fE(t,e,n,r,i,s,o)}function oo(t){let e=K(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>oE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Za(r)).join(",")),e.ue=n}return e.ue}function Pl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$k(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!LN(t.startAt,e.startAt)&&LN(t.endAt,e.endAt)}function Xp(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Jp(t,e){return t.filters.filter(n=>n instanceof Ie&&n.field.isEqual(e))}function VN(t,e,n){let r=Up,i=!0;for(let s of Jp(t,e)){let o=Up,a=!0;switch(s.op){case"<":case"<=":o=h9(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Up}ON({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];ON({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function jN(t,e,n){let r=Hi,i=!0;for(let s of Jp(t,e)){let o=Hi,a=!0;switch(s.op){case">=":case">":o=f9(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Hi}PN({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];PN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var Ki=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Gk(t,e,n,r,i,s,o,a){return new Ki(t,e,n,r,i,s,o,a)}function Fl(t){return new Ki(t)}function UN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Wk(t){return t.collectionGroup!==null}function ol(t){let e=K(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new je(ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new so(s,r))}),n.has(ut.keyField().canonicalString())||e.ce.push(new so(ut.keyField(),r))}return e.ce}function cn(t){let e=K(t);return e.le||(e.le=g9(e,ol(t))),e.le}function g9(t,e){if(t.limitType==="F")return pE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new so(i.field,s)});let n=t.endAt?new Wi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wi(t.startAt.position,t.startAt.inclusive):null;return pE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gE(t,e){let n=t.filters.concat([e]);return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eg(t,e,n){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qg(t,e){return Pl(cn(t),cn(e))&&t.limitType===e.limitType}function Kk(t){return`${oo(cn(t))}|lt:${t.limitType}`}function ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>zk(i)).join(", ")}]`),zg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Za(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Za(i)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function Ll(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ol(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=FN(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,ol(r),i)||r.endAt&&!function(o,a,c){let l=FN(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,ol(r),i))}(t,e)}function Qk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Yk(t){return(e,n)=>{let r=!1;for(let i of ol(t)){let s=m9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function m9(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Gi(c,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var Er=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Vk(this.inner)}size(){return this.innerSize}};var y9=new qe(q.comparator);function an(){return y9}var Zk=new qe(q.comparator);function rl(...t){let e=Zk;for(let n of t)e=e.insert(n.key,n);return e}function Xk(t){let e=Zk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _r(){return al()}function Jk(){return al()}function al(){return new Er(t=>t.toString(),(t,e)=>t.isEqual(e))}var v9=new qe(q.comparator),_9=new je(q.comparator);function _e(...t){let e=_9;for(let n of t)e=e.add(n);return e}var w9=new je(he);function Hb(){return w9}function eO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fl(e)?"-0":e}}function tO(t){return{integerValue:""+t}}function I9(t,e){return Nk(e)?tO(e):eO(t,e)}var Ja=class{constructor(){this._=void 0}};function E9(t,e,n){return t instanceof ao?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ub(s)&&(s=Bb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Qi?rO(t,e):t instanceof Yi?iO(t,e):function(i,s){let o=nO(i,s),a=BN(o)+BN(i.Pe);return iE(o)&&iE(i.Pe)?tO(a):eO(i.serializer,a)}(t,e)}function b9(t,e,n){return t instanceof Qi?rO(t,e):t instanceof Yi?iO(t,e):n}function nO(t,e){return t instanceof co?function(r){return iE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ao=class extends Ja{},Qi=class extends Ja{constructor(e){super(),this.elements=e}};function rO(t,e){let n=sO(e);for(let r of t.elements)n.some(i=>Ir(i,r))||n.push(r);return{arrayValue:{values:n}}}var Yi=class extends Ja{constructor(e){super(),this.elements=e}};function iO(t,e){let n=sO(e);for(let r of t.elements)n=n.filter(i=>!Ir(i,r));return{arrayValue:{values:n}}}var co=class extends Ja{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function BN(t){return Ye(t.integerValue||t.doubleValue)}function sO(t){return vl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var mE=class{constructor(e,n){this.field=e,this.transform=n}};function D9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qi&&i instanceof Qi||r instanceof Yi&&i instanceof Yi?Wa(r.elements,i.elements,Ir):r instanceof co&&i instanceof co?Ir(r.Pe,i.Pe):r instanceof ao&&i instanceof ao}(t.transform,e.transform)}var yE=class{constructor(e,n){this.version=e,this.transformResults=n}},wt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $p(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ec=class{};function oO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uo(t.key,wt.none()):new Zi(t.key,t.data,wt.none());{let n=t.data,r=zt.empty(),i=new je(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qn(t.key,r,new on(i.toArray()),wt.none())}}function C9(t,e,n){t instanceof Zi?function(i,s,o){let a=i.value.clone(),c=HN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qn?function(i,s,o){if(!$p(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=HN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(aO(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function cl(t,e,n,r){return t instanceof Zi?function(s,o,a,c){if(!$p(s.precondition,o))return a;let l=s.value.clone(),d=zN(s.fieldTransforms,c,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof qn?function(s,o,a,c){if(!$p(s.precondition,o))return a;let l=zN(s.fieldTransforms,c,o),d=o.data;return d.setAll(aO(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return $p(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function T9(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=nO(r.transform,i||null);s!=null&&(n===null&&(n=zt.empty()),n.set(r.field,s))}return n||null}function $N(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wa(r,i,(s,o)=>D9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Zi=class extends ec{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},qn=class extends ec{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function aO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function HN(t,e,n){let r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,b9(o,a,n[i]))}return r}function zN(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,E9(s,o,e))}return r}var uo=class extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},tg=class extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _l=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&C9(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=cl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=cl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=Jk();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=oO(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>$N(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>$N(n,r))}},vE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length);let i=function(){return v9}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var wl=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var _E=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ot,Se;function S9(t){switch(t){default:return G();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function cO(t){if(t===void 0)return nt("GRPC error has no .code"),k.UNKNOWN;switch(t){case ot.OK:return k.OK;case ot.CANCELLED:return k.CANCELLED;case ot.UNKNOWN:return k.UNKNOWN;case ot.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ot.INTERNAL:return k.INTERNAL;case ot.UNAVAILABLE:return k.UNAVAILABLE;case ot.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ot.NOT_FOUND:return k.NOT_FOUND;case ot.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ot.ABORTED:return k.ABORTED;case ot.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ot.DATA_LOSS:return k.DATA_LOSS;default:return G()}}(Se=ot||(ot={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var qN=null;function A9(){return new TextEncoder}var R9=new ji([4294967295,4294967295],0);function GN(t){let e=A9().encode(t),n=new MI;return n.update(e),new Uint8Array(n.digest())}function WN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ji([n,r],0),new ji([i,s],0)]}var wE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Js(`Invalid padding: ${n}`);if(r<0)throw new Js(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Js(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Js(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ji.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ji.fromNumber(r)));return i.compare(R9)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=GN(e),[r,i]=WN(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=GN(e),[r,i]=WN(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Js=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Il=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new qe(he),an(),_e())}},El=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var qa=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},ng=class{constructor(e,n){this.targetId=e,this.me=n}},rg=class{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ig=class{constructor(){this.fe=0,this.ge=QN(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new El(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=QN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Z(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},IE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=an(),this.qe=KN(),this.Qe=new qe(he)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Xp(s))if(r===0){let o=new q(s.path);this.Ue(n,o,It.newNoDocument(o,ne.min()))}else Z(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}qN?.et(function(d,f,g,y,E){var S,M,V,z,H,ee;let fe={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},Y=f.unchangedNames;return Y&&(fe.bloomFilter={applied:E===0,hashCount:(S=Y?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(z=(V=(M=Y?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&z!==void 0?z:0,padding:(ee=(H=Y?.bits)===null||H===void 0?void 0:H.padding)!==null&&ee!==void 0?ee:0,mightContain:b=>{var _;return(_=y?.mightContain(b))!==null&&_!==void 0&&_}}),fe}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=qi(r).toUint8Array()}catch(c){if(c instanceof Qp)return dl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new wE(o,i,s)}catch(c){return dl(c instanceof Js?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Xp(a.target)){let c=new q(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,It.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Il(e,n,this.Qe,this.ke,r);return this.ke=an(),this.qe=KN(),this.Qe=new qe(he),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ig,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new je(he),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ig),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function KN(){return new qe(q.comparator)}function QN(){return new qe(q.comparator)}var x9={asc:"ASCENDING",desc:"DESCENDING"},M9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N9={and:"AND",or:"OR"},EE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function bE(t,e){return t.useProto3Json||zg(e)?e:{value:e}}function tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function k9(t,e){return tc(t,e.toTimestamp())}function Gt(t){return Z(!!t),ne.fromTimestamp(function(n){let r=Zr(n);return new rt(r.seconds,r.nanos)}(t))}function zb(t,e){return DE(t,e).canonicalString()}function DE(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function lO(t){let e=Pe.fromString(t);return Z(_O(e)),e}function sg(t,e){return zb(t.databaseId,e.path)}function no(t,e){let n=lO(e);if(n.get(1)!==t.databaseId.projectId)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(fO(n))}function dO(t,e){return zb(t.databaseId,e)}function hO(t){let e=lO(t);return e.length===4?Pe.emptyPath():fO(e)}function CE(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fO(t){return Z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function YN(t,e,n){return{name:sg(t,e),fields:n.value.mapValue.fields}}function O9(t,e,n){let r=no(t,e.name),i=Gt(e.updateTime),s=e.createTime?Gt(e.createTime):ne.min(),o=new zt({mapValue:{fields:e.fields}}),a=It.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function P9(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(Z(d===void 0||typeof d=="string"),Et.fromBase64String(d||"")):(Z(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let d=l.code===void 0?k.UNKNOWN:cO(l.code);return new B(d,l.message||"")}(o);n=new rg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=no(t,r.document.name),s=Gt(r.document.updateTime),o=r.document.createTime?Gt(r.document.createTime):ne.min(),a=new zt({mapValue:{fields:r.document.fields}}),c=It.newFoundDocument(i,s,o,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new qa(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=no(t,r.document),s=r.readTime?Gt(r.readTime):ne.min(),o=It.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=no(t,r.document),s=r.removedTargetIds||[];n=new qa([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new _E(i,s),a=r.targetId;n=new ng(a,o)}}return n}function og(t,e){let n;if(e instanceof Zi)n={update:YN(t,e.key,e.value)};else if(e instanceof uo)n={delete:sg(t,e.key)};else if(e instanceof qn)n={update:YN(t,e.key,e.data),updateMask:B9(e.fieldMask)};else{if(!(e instanceof tg))return G();n={verify:sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ao)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof co)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:k9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function TE(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?wt.updateTime(Gt(s.updateTime)):s.exists!==void 0?wt.exists(s.exists):wt.none()}(e.currentDocument):wt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;if("setToServerValue"in a)Z(a.setToServerValue==="REQUEST_TIME"),c=new ao;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Qi(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new Yi(d)}else"increment"in a?c=new co(o,a.increment):G();let l=ut.fromServerFormat(a.fieldPath);return new mE(l,c)}(t,i)):[];if(e.update){e.update.name;let i=no(t,e.update.name),s=new zt({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(c){let l=c.fieldPaths||[];return new on(l.map(d=>ut.fromServerFormat(d)))}(e.updateMask);return new qn(i,s,o,n,r)}return new Zi(i,s,n,r)}if(e.delete){let i=no(t,e.delete);return new uo(i,n)}if(e.verify){let i=no(t,e.verify);return new tg(i,n)}return G()}function F9(t,e){return t&&t.length>0?(Z(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Gt(i.updateTime):Gt(s);return o.isEqual(ne.min())&&(o=Gt(s)),new yE(o,i.transformResults||[])}(n,e))):[]}function pO(t,e){return{documents:[dO(t,e.path)]}}function gO(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dO(t,i);let s=function(l){if(l.length!==0)return vO(Oe.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(g){return{field:Ua(g.field),direction:V9(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=bE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function mO(t){let e=hO(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Z(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let g=yO(f);return g instanceof Oe&&$b(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(E){return new so(Ba(E.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,zg(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){let g=!!f.before,y=f.values||[];return new Wi(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let g=!f.before,y=f.values||[];return new Wi(y,g)}(n.endAt)),Gk(e,i,o,s,a,"F",c,l)}function L9(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ba(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ba(n.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ba(n.unaryFilter.field);return Ie.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ba(n.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(Ba(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oe.create(n.compositeFilter.filters.map(r=>yO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function V9(t){return x9[t]}function j9(t){return M9[t]}function U9(t){return N9[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Ba(t){return ut.fromServerFormat(t.fieldPath)}function vO(t){return t instanceof Ie?function(n){if(n.op==="=="){if(kN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(NN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(NN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:j9(n.op),value:n.value}}}(t):t instanceof Oe?function(n){let r=n.getFilters().map(i=>vO(i));return r.length===1?r[0]:{compositeFilter:{op:U9(n.op),filters:r}}}(t):G()}function B9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _O(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var nc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=Et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ag=class{constructor(e){this.ct=e}};function $9(t,e){let n;if(e.document)n=O9(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=q.fromSegments(e.noDocument.path),i=ho(e.noDocument.readTime);n=It.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return G();{let r=q.fromSegments(e.unknownDocument.path),i=ho(e.unknownDocument.version);n=It.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new rt(i[0],i[1]);return ne.fromTimestamp(s)}(e.readTime)),n}function ZN(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:cg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:sg(s,o.key),fields:o.data.value.mapValue.fields,updateTime:tc(s,o.version.toTimestamp()),createTime:tc(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:lo(e.version)};else{if(!e.isUnknownDocument())return G();r.unknownDocument={path:n.path.toArray(),version:lo(e.version)}}return r}function cg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function lo(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ho(t){let e=new rt(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function Ys(t,e){let n=(e.baseMutations||[]).map(s=>TE(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>TE(t.ct,s)),i=rt.fromMillis(e.localWriteTimeMs);return new _l(e.batchId,i,n,r)}function il(t){let e=ho(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ho(t.lastLimboFreeSnapshotVersion):ne.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Z(s.documents.length===1),cn(Fl(hO(s.documents[0])))}(t.query):function(s){return cn(mO(s))}(t.query),new nc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Et.fromBase64String(t.resumeToken))}function wO(t,e){let n=lo(e.snapshotVersion),r=lo(e.lastLimboFreeSnapshotVersion),i;i=Xp(e.target)?pO(t.ct,e.target):gO(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:oo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function IO(t){let e=mO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}function VI(t,e){return new wl(e.largestBatchId,TE(t.ct,e.overlayMutation))}function XN(t,e){let n=e.path.lastSegment();return[t,qt(e.path.popLast()),n]}function JN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:lo(r.readTime),documentKey:qt(r.documentKey.path),largestBatchId:r.largestBatchId}}var SE=class{getBundleMetadata(e,n){return ek(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ho(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return ek(e).put(function(i){return{bundleId:i.id,createTime:lo(Gt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return tk(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:IO(s.bundledQuery),readTime:ho(s.readTime)}}(r)})}saveNamedQuery(e,n){return tk(e).put(function(i){return{name:i.name,readTime:lo(Gt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function ek(t){return mt(t,"bundles")}function tk(t){return mt(t,"namedQueries")}var ug=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return Ju(e).get(XN(this.userId,n)).next(r=>r?VI(this.serializer,r):null)}getOverlays(e,n){let r=_r();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new wl(n,o);i.push(this.ht(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(qt(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Ju(e).j("collectionPathOverlayIndex",a))}),x.waitFor(s)}getOverlaysForCollection(e,n,r){let i=_r(),s=qt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Ju(e).U("collectionPathOverlayIndex",o).next(a=>{for(let c of a){let l=VI(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=_r(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ju(e).J({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{let f=VI(this.serializer,l);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return Ju(e).put(function(i,s,o){let[a,c,l]=XN(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:og(i.ct,o.mutation)}}(this.serializer,this.userId,n))}};function Ju(t){return mt(t,"documentOverlays")}var Yr=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ye(e.integerValue));else if("doubleValue"in e){let r=Ye(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),fl(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Zr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(qi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?jk(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):G()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Yr.bt=new Yr;function H9(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function nk(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=H9(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var AE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{let i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{let i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){let n=this.Bt(e),r=nk(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){let n=this.Bt(e),r=nk(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},RE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},xE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},Zs=class{constructor(){this.Gt=new AE,this.zt=new RE(this.Gt),this.jt=new xE(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Xs=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Ui(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=rk(t.arrayValue,e.arrayValue),n!==0?n:(n=rk(t.directionalValue,e.directionalValue),n!==0?n:q.comparator(t.documentKey,e.documentKey)))}function rk(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var lg=class{constructor(e){this.Yt=new je((n,r)=>ut.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Z(e.collectionGroup===this.collectionId),this.en)return!1;let n=ZI(e);if(n!==void 0&&!this.nn(n))return!1;let r=Ks(e),i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[s];if(!this.rn(a,c)||!this.sn(this.Zt[o++],c))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new je(ut.comparator),n=[];for(let r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new za(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new za(r.field,0))}for(let r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new za(r.field,r.dir==="asc"?0:1)));return new Ka(Ka.UNKNOWN_ID,this.collectionId,n,hl.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function EO(t){var e,n;if(Z(t instanceof Ie||t instanceof Oe),t instanceof Ie){if(t instanceof Zp){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ie.create(t.field,"==",s)))||[];return Oe.create(i,"or")}return t}let r=t.filters.map(i=>EO(i));return Oe.create(r,t.op)}function z9(t){if(t.getFilters().length===0)return[];let e=kE(EO(t));return Z(bO(e)),ME(e)||NE(e)?[e]:e.getFilters()}function ME(t){return t instanceof Ie}function NE(t){return t instanceof Oe&&$b(t)}function bO(t){return ME(t)||NE(t)||function(n){if(n instanceof Oe&&sE(n)){for(let r of n.getFilters())if(!ME(r)&&!NE(r))return!1;return!0}return!1}(t)}function kE(t){if(Z(t instanceof Ie||t instanceof Oe),t instanceof Ie)return t;if(t.filters.length===1)return kE(t.filters[0]);let e=t.filters.map(r=>kE(r)),n=Oe.create(e,t.op);return n=dg(n),bO(n)?n:(Z(n instanceof Oe),Z(Xa(n)),Z(n.filters.length>1),n.filters.reduce((r,i)=>qb(r,i)))}function qb(t,e){let n;return Z(t instanceof Ie||t instanceof Oe),Z(e instanceof Ie||e instanceof Oe),n=t instanceof Ie?e instanceof Ie?function(i,s){return Oe.create([i,s],"and")}(t,e):ik(t,e):e instanceof Ie?ik(e,t):function(i,s){if(Z(i.filters.length>0&&s.filters.length>0),Xa(i)&&Xa(s))return Hk(i,s.getFilters());let o=sE(i)?i:s,a=sE(i)?s:i,c=o.filters.map(l=>qb(l,a));return Oe.create(c,"or")}(t,e),dg(n)}function ik(t,e){if(Xa(e))return Hk(e,t.getFilters());{let n=e.filters.map(r=>qb(t,r));return Oe.create(n,"or")}}function dg(t){if(Z(t instanceof Ie||t instanceof Oe),t instanceof Ie)return t;let e=t.getFilters();if(e.length===1)return dg(e[0]);if(Bk(t))return t;let n=e.map(i=>dg(i)),r=[];return n.forEach(i=>{i instanceof Ie?r.push(i):i instanceof Oe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Oe.create(r,t.op)}var OE=class{constructor(){this._n=new bl}addToCollectionParentIndex(e,n){return this._n.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Cn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Cn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},bl=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(Pe.comparator)).toArray()}};var Pp=new Uint8Array(0),PE=class{constructor(e,n){this.databaseId=n,this.an=new bl,this.un=new Er(r=>oo(r),(r,i)=>Pl(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let s={collectionId:r,parent:qt(i)};return sk(e).put(s)}return x.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[Sk(n),""],!1,!0);return sk(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(vr(o.parent))}return r})}addFieldIndex(e,n){let r=el(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=Fa(e);return s.next(a=>{o.put(JN(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=el(e),i=Fa(e),s=Pa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=el(e),r=Pa(e),i=Fa(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return x.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new lg(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=Pa(e),i=!0,s=new Map;return x.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=_e(),a=[];return x.forEach(s,(c,l)=>{F("IndexedDbIndexManager",`Using index ${function(H){return`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(ee=>`${ee.fieldPath}:${ee.kind}`).join(",")}`}(c)} to execute ${oo(n)}`);let d=function(H,ee){let fe=ZI(ee);if(fe===void 0)return null;for(let Y of Jp(H,fe.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null}(l,c),f=function(H,ee){let fe=new Map;for(let Y of Ks(ee))for(let b of Jp(H,Y.fieldPath))switch(b.op){case"==":case"in":fe.set(Y.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return fe.set(Y.fieldPath.canonicalString(),b.value),Array.from(fe.values())}return null}(l,c),g=function(H,ee){let fe=[],Y=!0;for(let b of Ks(ee)){let _=b.kind===0?VN(H,b.fieldPath,H.startAt):jN(H,b.fieldPath,H.startAt);fe.push(_.value),Y&&(Y=_.inclusive)}return new Wi(fe,Y)}(l,c),y=function(H,ee){let fe=[],Y=!0;for(let b of Ks(ee)){let _=b.kind===0?jN(H,b.fieldPath,H.endAt):VN(H,b.fieldPath,H.endAt);fe.push(_.value),Y&&(Y=_.inclusive)}return new Wi(fe,Y)}(l,c),E=this.hn(c,l,g),S=this.hn(c,l,y),M=this.Pn(c,l,f),V=this.In(c.indexId,d,E,g.inclusive,S,y.inclusive,M);return x.forEach(V,z=>r.G(z,n.limit).next(H=>{H.forEach(ee=>{let fe=q.fromSegments(ee.documentKey);o.has(fe)||(o=o.add(fe),a.push(fe))})}))}).next(()=>a)}return x.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=z9(Oe.create(e.filters,"and")).map(r=>pE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){let c=(n!=null?n.length:1)*Math.max(r.length,s.length),l=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){let g=n?this.Tn(n[f/l]):Pp,y=this.En(e,g,r[f%l],i),E=this.dn(e,g,s[f%l],o),S=a.map(M=>this.En(e,g,M,!0));d.push(...this.createRange(y,E,S))}return d}En(e,n,r,i){let s=new Xs(e,q.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){let s=new Xs(e,q.empty(),n,r);return i?s.Jt():s}ln(e,n){let r=new lg(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.cn(n);return x.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let l=new je(ut.comparator),d=!1;for(let f of c.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:l=l.add(g.field));for(let f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){let r=new Zs;for(let i of Ks(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.Ht(i.kind);Yr.bt.Pt(s,o)}return r.Wt()}Tn(e){let n=new Zs;return Yr.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let r=new Zs;return Yr.bt.Pt(yl(this.databaseId,n),r.Ht(function(s){let o=Ks(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Zs);let s=0;for(let o of Ks(e)){let a=r[s++];for(let c of i)if(this.Vn(n,o.fieldPath)&&vl(a))i=this.mn(i,o,a);else{let l=c.Ht(o.kind);Yr.bt.Pt(a,l)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let c=new Zs;c.seed(a.Wt()),Yr.bt.Pt(o,c.Ht(n.kind)),s.push(c)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=el(e),i=Fa(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{let o=[];return x.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(d,f){let g=f?new hl(f.sequenceNumber,new Cn(ho(f.readTime),new q(vr(f.documentKey)),f.largestBatchId)):hl.empty(),y=d.fields.map(([E,S])=>new za(ut.fromServerFormat(E),S));return new Ka(d.indexId,d.collectionGroup,y,g)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:he(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=el(e),s=Fa(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>x.forEach(a,c=>s.put(JN(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){let r=new Map;return x.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?x.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,c=>this.pn(e,i,c).next(l=>{let d=this.yn(s,c);return l.isEqual(d)?x.resolve():this.wn(e,s,c,l,d)}))))})}Sn(e,n,r,i){return Pa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Pa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){let i=Pa(e),s=new je(Ui);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Xs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new je(Ui),i=this.An(n,e);if(i==null)return r;let s=ZI(n);if(s!=null){let o=e.data.field(s.fieldPath);if(vl(o))for(let a of o.arrayValue.values||[])r=r.add(new Xs(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Xs(n.indexId,e.key,Pp,i));return r}wn(e,n,r,i,s){F("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(c,l,d,f,g){let y=c.getIterator(),E=l.getIterator(),S=Oa(y),M=Oa(E);for(;S||M;){let V=!1,z=!1;if(S&&M){let H=d(S,M);H<0?z=!0:H>0&&(V=!0)}else S!=null?z=!0:V=!0;V?(f(M),M=Oa(E)):z?(g(S),S=Oa(y)):(S=Oa(y),M=Oa(E))}}(i,s,Ui,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),x.waitFor(o)}gn(e){let n=1;return Fa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ui(o,a)).filter((o,a,c)=>!a||Ui(o,c[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Ui(o,e),c=Ui(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&c<0)i.push(o),i.push(o.Jt());else if(c>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Pp,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Pp,[]];s.push(IDBKeyRange.bound(a,c))}return s}Dn(e,n){return Ui(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ok)}getMinOffset(e,n){return x.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||G())).next(ok)}};function sk(t){return mt(t,"collectionParents")}function Pa(t){return mt(t,"indexEntries")}function el(t){return mt(t,"indexConfiguration")}function Fa(t){return mt(t,"indexState")}function ok(t){Z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;Vb(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Cn(e.readTime,e.documentKey,n)}var ak={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function DO(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.J({range:o},(d,f,g)=>(a++,g.delete()));s.push(c.next(()=>{Z(a===1)}));let l=[];for(let d of n.mutations){let f=kk(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return x.waitFor(s).next(()=>l)}function hg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw G();e=t.noDocument}return JSON.stringify(e).length}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(41943040,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);var fg=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Z(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=$a(e),o=Bi(e);return o.add({}).next(a=>{Z(typeof a=="number");let c=new _l(a,n,r,i),l=function(y,E,S){let M=S.baseMutations.map(z=>og(y.ct,z)),V=S.mutations.map(z=>og(y.ct,z));return{userId:E,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:M,mutations:V}}(this.serializer,this.userId,c),d=[],f=new je((g,y)=>he(g.canonicalString(),y.canonicalString()));for(let g of i){let y=kk(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(o.put(l)),d.push(s.put(y,KW))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),x.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return Bi(e).get(n).next(r=>r?(Z(r.userId===this.userId),Ys(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?x.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Bi(e).J({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(Z(a.batchId>=r),s=Ys(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Bi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).U("userMutationsIndex",n).next(r=>r.map(i=>Ys(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=jp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return $a(e).J({range:i},(o,a,c)=>{let[l,d,f]=o,g=vr(d);if(l===this.userId&&n.path.isEqual(g))return Bi(e).get(f).next(y=>{if(!y)throw G();Z(y.userId===this.userId),s.push(Ys(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(he),i=[];return n.forEach(s=>{let o=jp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=$a(e).J({range:a},(l,d,f)=>{let[g,y,E]=l,S=vr(y);g===this.userId&&s.path.isEqual(S)?r=r.add(E):f.done()});i.push(c)}),x.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=jp(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new je(he);return $a(e).J({range:o},(c,l,d)=>{let[f,g,y]=c,E=vr(g);f===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(y)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(Bi(e).get(s).next(o=>{if(o===null)throw G();Z(o.userId===this.userId),r.push(Ys(this.serializer,o))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return DO(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return x.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return $a(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let c=vr(s[1]);i.push(c)}else a.done()}).next(()=>{Z(i.length===0)})})}containsKey(e,n){return CO(e,this.userId,n)}xn(e){return TO(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function CO(t,e,n){let r=jp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return $a(t).J({range:s,H:!0},(a,c,l)=>{let[d,f,g]=a;d===e&&f===i&&(o=!0),l.done()}).next(()=>o)}function Bi(t){return mt(t,"mutations")}function $a(t){return mt(t,"documentMutations")}function TO(t){return mt(t,"mutationQueues")}var rc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var FE=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new rc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ne.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>La(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Z(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0,s=[];return La(e).J((o,a)=>{let c=il(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>x.waitFor(s)).next(()=>i)}forEachTarget(e,n){return La(e).J((r,i)=>{let s=il(i);n(s)})}Bn(e){return ck(e).get("targetGlobalKey").next(n=>(Z(n!==null),n))}kn(e,n){return ck(e).put("targetGlobalKey",n)}qn(e,n){return La(e).put(wO(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=oo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return La(e).J({range:i,index:"queryTargetsIndex"},(o,a,c)=>{let l=il(a);Pl(n,l.target)&&(s=l,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=$i(e);return n.forEach(o=>{let a=qt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),x.waitFor(i)}removeMatchingKeys(e,n,r){let i=$i(e);return x.forEach(n,s=>{let o=qt(s.path);return x.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=$i(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=$i(e),s=_e();return i.J({range:r,H:!0},(o,a,c)=>{let l=vr(o[1]),d=new q(l);s=s.add(d)}).next(()=>s)}containsKey(e,n){let r=qt(n.path),i=IDBKeyRange.bound([r],[Sk(r)],!1,!0),s=0;return $i(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],c,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,n){return La(e).get(n).next(r=>r?il(r):null)}};function La(t){return mt(t,"targets")}function ck(t){return mt(t,"targetGlobal")}function $i(t){return mt(t,"targetDocuments")}function uk([t,e],[n,r]){let i=he(t,n);return i===0?he(e,r):i}var LE=class{constructor(e){this.Kn=e,this.buffer=new je(uk),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();uk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},VE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){es(n)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Ji(n)}yield this.zn(3e5)}))}},jE=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(sn.oe);let r=new LE(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(ak)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ak):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Va()<=we.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function q9(t,e){return new jE(t,e)}var UE=class{constructor(e,n){this.db=e,this.garbageCollector=q9(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Fp(e,r)}removeReference(e,n,r){return Fp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Fp(e,n)}er(e,n){return function(i,s){let o=!1;return TO(i).Y(a=>CO(i,a,s).next(c=>(c&&(o=!0),x.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.Xn(e,(o,a)=>{if(a<=n){let c=this.er(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ne.min()),$i(e).delete(function(f){return[0,qt(f.path)]}(o))))});i.push(c)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Fp(e,n)}Xn(e,n){let r=$i(e),i,s=sn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:l})=>{o===0?(s!==sn.oe&&n(new q(vr(i)),s),s=l,i=c):s=sn.oe}).next(()=>{s!==sn.oe&&n(new q(vr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Fp(t,e){return $i(t).put(function(r,i){return{targetId:0,path:qt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var pg=class{constructor(){this.changes=new Er(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var BE=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ws(e).put(r)}removeEntry(e,n,r){return Ws(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],cg(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=It.newInvalidDocument(n);return Ws(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tl(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:It.newInvalidDocument(n)};return Ws(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(tl(n))},(i,s)=>{r={document:this.nr(n,s),size:hg(s)}}).next(()=>r)}getEntries(e,n){let r=an();return this.ir(e,n,(i,s)=>{let o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=an(),i=new qe(q.comparator);return this.ir(e,n,(s,o)=>{let a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,hg(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return x.resolve();let i=new je(hk);n.forEach(c=>i=i.add(c));let s=IDBKeyRange.bound(tl(i.first()),tl(i.last())),o=i.getIterator(),a=o.getNext();return Ws(e).J({index:"documentKeyIndex",range:s},(c,l,d)=>{let f=q.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&hk(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?d.$(tl(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),cg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ws(e).U(IDBKeyRange.bound(a,c,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let d=an();for(let f of l){let g=this.nr(q.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(Ll(n,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=an(),o=dk(n,r),a=dk(n,Cn.max());return Ws(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,l,d)=>{let f=this.nr(q.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new $E(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return lk(e).get("remoteDocumentGlobalKey").next(n=>(Z(!!n),n))}tr(e,n){return lk(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let r=$9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return It.newInvalidDocument(e)}};function SO(t){return new BE(t)}var $E=class extends pg{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Er(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new je((s,o)=>he(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){let c=ZN(this.ar.serializer,o);i=i.add(s.path.popLast());let l=hg(c);r+=l-a.size,n.push(this.ar.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){let c=ZN(this.ar.serializer,o.convertToNoDocument(ne.min()));n.push(this.ar.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),x.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function lk(t){return mt(t,"remoteDocumentGlobal")}function Ws(t){return mt(t,"remoteDocumentsV14")}function tl(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function dk(t,e){let n=e.documentKey.path.toArray();return[t,cg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hk(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=he(n[s],r[s]),i)return i;return i=he(n.length,r.length),i||(i=he(n[n.length-2],r[r.length-2]),i||he(n[n.length-1],r[r.length-1]))}var HE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var gg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&cl(r.mutation,i,on.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=_r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=rl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=_r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=an(),o=al(),a=function(){return al()}();return n.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof qn)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),cl(d.mutation,l,d.mutation.getFieldMask(),rt.now())):o.set(l.key,on.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var f;return a.set(l,new HE(d,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=al(),i=new qe((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let d=r.get(c)||on.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=Jk();d.forEach(g=>{if(!s.has(g)){let y=oO(n.get(g),r.get(g));y!==null&&f.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Wk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(_r()),a=-1,c=s;return o.next(l=>x.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?x.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,_e())).next(d=>({batchId:a,changes:Xk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=rl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=rl();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,c=>{let l=function(f,g){return new Ki(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,It.newInvalidDocument(d)))});let a=rl();return o.forEach((c,l)=>{let d=s.get(c);d!==void 0&&cl(d.mutation,l,on.empty(),rt.now()),Ll(n,l)&&(a=a.insert(c,l))}),a})}};var zE=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return x.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Gt(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:IO(i.bundledQuery),readTime:Gt(i.readTime)}}(n)),x.resolve()}};var qE=class{constructor(){this.overlays=new qe(q.comparator),this.hr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=_r();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=_r(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=_r(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=_r(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wl(n,r));let s=this.hr.get(n);s===void 0&&(s=_e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Dl=class{constructor(){this.Pr=new je(at.Ir),this.Tr=new je(at.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new at(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new at(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new q(new Pe([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new q(new Pe([])),r=new at(n,e),i=new at(n,e+1),s=_e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new at(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return q.comparator(e.key,n.key)||he(e.pr,n.pr)}static Er(e,n){return he(e.pr,n.pr)||q.comparator(e.key,n.key)}};var GE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new je(at.Ir)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new _l(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new at(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(he);return n.forEach(i=>{let s=new at(i,0),o=new at(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),x.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new at(new q(s),0),a=new je(he);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},o),x.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Z(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return x.forEach(n.mutations,i=>{let s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new at(n,0),i=this.wr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var WE=class{constructor(e){this.vr=e,this.docs=function(){return new qe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=an();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=an(),o=n.path,a=new q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Vb(Rk(d),r)<=0||(i.has(d.key)||Ll(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Fr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new KE(this)}getSize(e){return x.resolve(this.size)}},KE=class extends pg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var QE=class{constructor(e){this.persistence=e,this.Mr=new Er(n=>oo(n),Pl),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Dl,this.targetCount=0,this.Lr=rc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),x.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.qn(n),x.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Nr.containsKey(n))}};var mg=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new sn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new QE(this),this.indexManager=new OE,this.remoteDocumentCache=function(i){return new WE(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new ag(n),this.$r=new zE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new GE(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new YE(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},YE=class extends Gp{constructor(e){super(),this.currentSequenceNumber=e}},yg=class t{constructor(e){this.persistence=e,this.zr=new Dl,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw G()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),x.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Jr,r=>{let i=q.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return x.or([()=>x.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var ZE=class{constructor(e){this.serializer=e}O(e,n,r,i){let s=new Wp("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RN,{unique:!0}),c.createObjectStore("documentMutations")}(e),fk(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=x.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),fk(e)),o=o.next(()=>function(c){let l=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,l){return l.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RN,{unique:!0});let f=l.store("mutations"),g=d.map(y=>f.put(y));return x.waitFor(g)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:o9});l.createIndex("collectionPathOverlayIndex",a9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",c9,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:QW});l.createIndex("documentKeyIndex",YW),l.createIndex("collectionGroupIndex",ZW)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:n9}).createIndex("sequenceNumberIndex",r9,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:i9}).createIndex("documentKeyIndex",s9,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=hg(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>x.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>x.forEach(a,c=>{Z(c.userId===s.userId);let l=Ys(this.serializer,c);return DO(e,s.userId,l).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let c=new Pe(o),l=function(f){return[0,qt(f)]}(c);s.push(n.get(l).next(d=>d?x.resolve():(f=>n.put({targetId:0,path:qt(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>x.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:t9});let r=n.store("collectionParents"),i=new bl,s=o=>{if(i.add(o)){let a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:qt(c)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let c=new Pe(o);return s(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,c],l)=>{let d=vr(a);return s(d.popLast())}))}ri(e){let n=e.store("targets");return n.J((r,i)=>{let s=il(i),o=wO(this.serializer,s);return n.put(o)})}ii(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new q(Pe.fromString(f.document.name).popFirst(5)):f.noDocument?q.fromSegments(f.noDocument.path):f.unknownDocument?q.fromSegments(f.unknownDocument.path):G()}(o).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>x.waitFor(i))}si(e,n){let r=n.store("mutations"),i=SO(this.serializer),s=new mg(yg.Hr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(c=>{var l;let d=(l=a.get(c.userId))!==null&&l!==void 0?l:_e();Ys(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),x.forEach(a,(c,l)=>{let d=new gt(l),f=ug.lt(this.serializer,d),g=s.getIndexManager(d),y=fg.lt(d,this.serializer,g,s.referenceDelegate);return new gg(i,y,f,g).recalculateAndSaveOverlaysForDocumentKeys(new pl(n,sn.oe),c).next()})})}};function fk(t){t.createObjectStore("targetDocuments",{keyPath:JW}).createIndex("documentTargetsIndex",e9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",XW,{unique:!0}),t.createObjectStore("targetGlobal")}var jI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",XE=class t{constructor(e,n,r,i,s,o,a,c,l,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=l,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=g=>Promise.resolve(),!t.D())throw new B(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UE(this,i),this.Ti=n+"main",this.serializer=new ag(c),this.Ei=new Qa(this.Ti,this.ui,new ZE(this.serializer)),this.Qr=new FE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=SO(this.serializer),this.$r=new SE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&nt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new B(k.FAILED_PRECONDITION,jI);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new sn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>v(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>v(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>v(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Lp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(es(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return nl(e).get("owner").next(n=>x.resolve(this.Si(n)))}bi(e){return Lp(e).delete(this.clientId)}Di(){return v(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=mt(n,"clientMetadata");return r.U().next(i=>{let s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return x.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?x.resolve(!0):nl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new B(k.FAILED_PRECONDITION,jI);return!1}}return!(!this.networkEnabled||!this.inForeground)||Lp(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&F("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return v(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new pl(e,sn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Lp(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return fg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new PE(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ug.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){F("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===16?l9:c===15?Lk:c===14?Fk:c===13?Pk:c===12?u9:c===11?Ok:void G()}(this.ui),o;return this.Ei.runTransaction(e,i,s,a=>(o=new pl(a,this.kr?this.kr.next():sn.oe),n==="readwrite-primary"?this.gi(o).next(c=>!!c||this.pi(o)).next(c=>{if(!c)throw nt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new B(k.FAILED_PRECONDITION,xk);return r(o)}).next(c=>this.wi(o).next(()=>c)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return nl(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new B(k.FAILED_PRECONDITION,jI)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nl(e).put("owner",n)}static D(){return Qa.D()}yi(e){let n=nl(e);return n.get("owner").next(r=>this.Si(r)?(F("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):x.resolve())}Ci(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(nt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;Cw()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return nt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){nt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function nl(t){return mt(t,"owner")}function Lp(t){return mt(t,"clientMetadata")}function AO(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var JE=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var eb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var vg=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Cw()?8:Mk(Qe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new eb;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Va()<=we.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),x.resolve()):(Va()<=we.DEBUG&&F("QueryEngine","Query:",ja(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Va()<=we.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):x.resolve())}ji(e,n){if(UN(n))return x.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eg(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=_e(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,eg(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,i){return UN(n)||i.isEqual(ne.min())?x.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?x.resolve(null):(Va()<=we.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ja(n)),this.es(e,o,n,Ak(i,-1)).next(a=>a))})}Zi(e,n){let r=new je(Yk(e));return n.forEach((i,s)=>{Ll(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Va()<=we.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ja(n)),this.zi.getDocumentsMatchingQuery(e,n,Cn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var tb=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new qe(he),this.rs=new Er(s=>oo(s),Pl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function RO(t,e,n,r){return new tb(t,e,n,r)}function xO(t,e){return v(this,null,function*(){let n=K(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=_e();for(let l of i){o.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function G9(t,e){let n=K(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let f=l.batch,g=f.keys(),y=x.resolve();return g.forEach(E=>{y=y.next(()=>d.getEntry(c,E)).next(S=>{let M=l.docVersions.get(E);Z(M!==null),S.version.compareTo(M)<0&&(f.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),d.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MO(t){let e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function W9(t,e){let n=K(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Et.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(S,M,V){return S.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,d)&&a.push(n.Qr.updateTargetData(s,y))});let c=an(),l=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(K9(s,o,e.documentUpdates).next(d=>{c=d.cs,l=d.ls})),!r.isEqual(ne.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=i,s))}function K9(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=an();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:i}})}function Q9(t,e){let n=K(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _g(t,e){let n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new nc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function ic(t,e,n){return v(this,null,function*(){let r=K(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!es(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function wg(t,e,n){let r=K(t),i=ne.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,d){let f=K(c),g=f.rs.get(d);return g!==void 0?x.resolve(f.ns.get(g)):f.Qr.getTargetData(l,d)}(r,o,cn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:_e())).next(a=>(OO(r,Qk(e),a),{documents:a,hs:s})))}function NO(t,e){let n=K(t),r=K(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function kO(t,e){let n=K(t),r=n.ss.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,Ak(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(OO(n,e,i),i))}function OO(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}function pk(t,e){return`firestore_clients_${t}_${e}`}function gk(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function UI(t,e){return`firestore_targets_${t}_${e}`}var Ig=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new B(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(nt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},ul=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new B(r.error.code,r.error.message))),s?new t(e,r.state,i):(nt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Eg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Hb();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Nk(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(nt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},nb=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(nt("SharedClientState",`Failed to parse online state: ${e}`),null)}},Cl=class{constructor(){this.activeTargetIds=Hb()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},ll=class{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new qe(he),this.started=!1,this.ys=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=pk(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Cl),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return v(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Vs)continue;let i=this.getItem(pk(this.persistenceKey,r));if(i){let s=Eg.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let r=this.xs(n);r&&this.Os(r)}for(let r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(UI(this.persistenceKey,e));if(r){let i=ul.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(UI(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return F("SharedClientState","READ",e,n),n}setItem(e,n){F("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(F("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void nt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>v(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let r=this.$s(n.key);return this.Us(r,null)}{let r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){let r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){let r=function(s){let o=sn.oe;if(s!=null)try{let a=JSON.parse(s);Z(typeof a=="number"),o=a}catch(a){nt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==sn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){let r=this.Js(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){let i=new Ig(this.currentUser,e,n,r),s=gk(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){let n=gk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){let i=UI(this.persistenceKey,e),s=new ul(e,n,r);this.setItem(i,s.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let r=this.$s(e);return Eg.Es(r,n)}Gs(e,n){let r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Ig.Es(new gt(s),i,n)}js(e,n){let r=this.Cs.exec(e),i=Number(r[1]);return ul.Es(i,n)}xs(e){return nb.Es(e)}Js(e){return JSON.parse(e)}zs(e){return v(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=Hb();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},bg=class{constructor(){this.no=new Cl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Cl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var rb=class{io(e){}shutdown(){}};var Dg=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Vp=null;function BI(){return Vp===null?Vp=function(){return 268435456+Math.round(2147483648*Math.random())}():Vp++,"0x"+Vp.toString(16)}var Y9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ib=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Nt="WebChannelConnection",sb=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let a=BI(),c=this.vo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,c,l,i).then(d=>(F("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw dl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=Y9[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=BI();return new Promise((o,a)=>{let c=new NI;c.setWithCredentials(!0),c.listenOnce(OI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xu.NO_ERROR:let d=c.getResponseJson();F(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Xu.TIMEOUT:F(Nt,`RPC '${e}' ${s} timed out`),a(new B(k.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:let f=c.getStatus();if(F(Nt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let E=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(V)>=0?V:k.UNKNOWN}(y.status);a(new B(E,y.message))}else a(new B(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new B(k.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{F(Nt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);F(Nt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=BI(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=LI(),a=FI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new kI({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=s.join("");F(Nt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=o.createWebChannel(d,c),g=!1,y=!1,E=new ib({lo:M=>{y?F(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(g||(F(Nt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),F(Nt,`RPC '${e}' stream ${i} sending:`,M),f.send(M))},ho:()=>f.close()}),S=(M,V,z)=>{M.listen(V,H=>{try{z(H)}catch(ee){setTimeout(()=>{throw ee},0)}})};return S(f,ka.EventType.OPEN,()=>{y||(F(Nt,`RPC '${e}' stream ${i} transport opened.`),E.mo())}),S(f,ka.EventType.CLOSE,()=>{y||(y=!0,F(Nt,`RPC '${e}' stream ${i} transport closed`),E.po())}),S(f,ka.EventType.ERROR,M=>{y||(y=!0,dl(Nt,`RPC '${e}' stream ${i} transport errored:`,M),E.po(new B(k.UNAVAILABLE,"The operation could not be completed")))}),S(f,ka.EventType.MESSAGE,M=>{var V;if(!y){let z=M.data[0];Z(!!z);let H=z,ee=H.error||((V=H[0])===null||V===void 0?void 0:V.error);if(ee){F(Nt,`RPC '${e}' stream ${i} received error:`,ee);let fe=ee.status,Y=function(w){let D=ot[w];if(D!==void 0)return cO(D)}(fe),b=ee.message;Y===void 0&&(Y=k.INTERNAL,b="Unknown error status: "+fe+" with message "+ee.message),y=!0,E.po(new B(Y,b)),f.close()}else F(Nt,`RPC '${e}' stream ${i} received:`,z),E.yo(z)}}),S(a,PI.STAT_EVENT,M=>{M.stat===Op.PROXY?F(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Op.NOPROXY&&F(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}};function PO(){return typeof window<"u"?window:null}function Hp(){return typeof document<"u"?document:null}function Gg(t){return new EE(t,!0)}var Cg=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Tg=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Cg(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return v(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return v(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return v(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(nt(n.toString()),nt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new B(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>v(this,null,function*(){this.state=0,this.start()}))}c_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ob=class extends Tg{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=P9(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Gt(o.readTime):ne.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=CE(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=Xp(c)?{documents:pO(s,c)}:{query:gO(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=uO(s,o.resumeToken);let l=bE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=tc(s,o.snapshotVersion.toTimestamp());let l=bE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=L9(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=CE(this.serializer),n.removeTarget=e,this.i_(n)}},ab=class extends Tg{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=F9(e.writeResults,e.commitTime),r=Gt(e.commitTime);return this.listener.A_(r,n)}return Z(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=CE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>og(this.serializer,r))};this.i_(n)}};var cb=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,DE(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(k.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,DE(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(k.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},ub=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(nt(n),this.y_=!1):F("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var lb=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>v(this,null,function*(){go(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let l=K(c);l.M_.add(4),yield Vl(l),l.N_.set("Unknown"),l.M_.delete(4),yield Wg(l)})}(this))}))}),this.N_=new ub(r,i)}};function Wg(t){return v(this,null,function*(){if(go(t))for(let e of t.x_)yield e(!0)})}function Vl(t){return v(this,null,function*(){for(let e of t.x_)yield e(!1)})}function Kg(t,e){let n=K(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Kb(n)?Wb(n):lc(n).Xo()&&Gb(n,e))}function sc(t,e){let n=K(t),r=lc(n);n.F_.delete(e),r.Xo()&&FO(n,e),n.F_.size===0&&(r.Xo()?r.n_():go(n)&&n.N_.set("Unknown"))}function Gb(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).P_(e)}function FO(t,e){t.L_.xe(e),lc(t).I_(e)}function Wb(t){t.L_=new IE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.N_.w_()}function Kb(t){return go(t)&&!lc(t).Zo()&&t.F_.size>0}function go(t){return K(t).M_.size===0}function LO(t){t.L_=void 0}function Z9(t){return v(this,null,function*(){t.N_.set("Online")})}function X9(t){return v(this,null,function*(){t.F_.forEach((e,n)=>{Gb(t,e)})})}function J9(t,e){return v(this,null,function*(){LO(t),Kb(t)?(t.N_.D_(e),Wb(t)):t.N_.set("Unknown")})}function e6(t,e,n){return v(this,null,function*(){if(t.N_.set("Online"),e instanceof rg&&e.state===2&&e.cause)try{yield function(i,s){return v(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sg(t,r)}else if(e instanceof qa?t.L_.Ke(e):e instanceof ng?t.L_.He(e):t.L_.We(e),!n.isEqual(ne.min()))try{let r=yield MO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(l);d&&s.F_.set(l,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),FO(s,c);let f=new nc(d.target,c,l,d.sequenceNumber);Gb(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Sg(t,r)}})}function Sg(t,e,n){return v(this,null,function*(){if(!es(e))throw e;t.M_.add(1),yield Vl(t),t.N_.set("Offline"),n||(n=()=>MO(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Wg(t)}))})}function VO(t,e){return e().catch(n=>Sg(t,n,e))}function uc(t){return v(this,null,function*(){let e=K(t),n=Xi(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;t6(e);)try{let i=yield Q9(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,n6(e,i)}catch(i){yield Sg(e,i)}jO(e)&&UO(e)})}function t6(t){return go(t)&&t.v_.length<10}function n6(t,e){t.v_.push(e);let n=Xi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function jO(t){return go(t)&&!Xi(t).Zo()&&t.v_.length>0}function UO(t){Xi(t).start()}function r6(t){return v(this,null,function*(){Xi(t).V_()})}function i6(t){return v(this,null,function*(){let e=Xi(t);for(let n of t.v_)e.d_(n.mutations)})}function s6(t,e,n){return v(this,null,function*(){let r=t.v_.shift(),i=vE.from(r,e,n);yield VO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield uc(t)})}function o6(t,e){return v(this,null,function*(){e&&Xi(t).E_&&(yield function(r,i){return v(this,null,function*(){if(function(o){return S9(o)&&o!==k.ABORTED}(i.code)){let s=r.v_.shift();Xi(r).t_(),yield VO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield uc(r)}})}(t,e)),jO(t)&&UO(t)})}function mk(t,e){return v(this,null,function*(){let n=K(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=go(n);n.M_.add(3),yield Vl(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Wg(n)})}function db(t,e){return v(this,null,function*(){let n=K(t);e?(n.M_.delete(2),yield Wg(n)):e||(n.M_.add(2),yield Vl(n),n.N_.set("Unknown"))})}function lc(t){return t.B_||(t.B_=function(n,r,i){let s=K(n);return s.f_(),new ob(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Z9.bind(null,t),To:X9.bind(null,t),Ao:J9.bind(null,t),h_:e6.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.B_.t_(),Kb(t)?Wb(t):t.N_.set("Unknown")):(yield t.B_.stop(),LO(t))}))),t.B_}function Xi(t){return t.k_||(t.k_=function(n,r,i){let s=K(n);return s.f_(),new ab(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:r6.bind(null,t),Ao:o6.bind(null,t),R_:i6.bind(null,t),A_:s6.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.k_.t_(),yield uc(t)):(yield t.k_.stop(),t.v_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var hb=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Qg(t,e){if(nt("AsyncQueue",`${e}: ${t}`),es(t))return new B(k.UNAVAILABLE,`${e}: ${t}`);throw t}var Ag=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=rl(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Rg=class{constructor(){this.q_=new qe(q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):G():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},oc=class t{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Ag.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var fb=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},pb=class{constructor(){this.queries=new Er(e=>Kk(e),qg),this.onlineState="Unknown",this.z_=new Set}};function BO(t,e){return v(this,null,function*(){let n=K(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new fb,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Qg(o,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Qb(n)})}function $O(t,e){return v(this,null,function*(){let n=K(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function a6(t,e){let n=K(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Qb(n)}function c6(t,e,n){let r=K(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function Qb(t){t.z_.forEach(e=>{e.next()})}var gb,yk;(yk=gb||(gb={})).J_="default",yk.Cache="cache";var xg=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==gb.Cache}};var Mg=class{constructor(e){this.key=e}},Ng=class{constructor(e){this.key=e}},kg=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=Yk(e),this.Ta=new Ag(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new Rg,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),y=Ll(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;g&&y?g.data.isEqual(y.data)?E!==S&&(r.track({type:3,doc:y}),M=!0):this.Ra(g,y)||(r.track({type:2,doc:y}),M=!0,(c&&this.Ia(y,c)>0||l&&this.Ia(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),M=!0):g&&!y&&(r.track({type:1,doc:g}),M=!0,(c||l)&&(a=!0)),M&&(y?(o=o.add(y),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,f)=>function(y,E){let S=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return S(y)-S(E)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,l=c!==this.ha;return this.ha=c,o.length!==0||l?{snapshot:new oc(this.query,e.Ta,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Rg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Ng(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Mg(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return oc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},mb=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},yb=class{constructor(e){this.key=e,this.wa=!1}},vb=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Er(a=>Kk(a),qg),this.Da=new Map,this.Ca=new Set,this.va=new qe(q.comparator),this.Fa=new Map,this.Ma=new Dl,this.xa={},this.Oa=new Map,this.Na=rc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function u6(t,e,n=!0){return v(this,null,function*(){let r=Yg(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield HO(r,e,n,!0),i})}function l6(t,e){return v(this,null,function*(){let n=Yg(t);yield HO(n,e,!0,!1)})}function HO(t,e,n,r){return v(this,null,function*(){let i=yield _g(t.localStore,cn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield Yb(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Kg(t.remoteStore,i),a})}function Yb(t,e,n,r,i){return v(this,null,function*(){t.Ba=(f,g,y)=>function(S,M,V,z){return v(this,null,function*(){let H=M.view.da(V);H.Xi&&(H=yield wg(S.localStore,M.query,!1).then(({documents:b})=>M.view.da(b,H)));let ee=z&&z.targetChanges.get(M.targetId),fe=z&&z.targetMismatches.get(M.targetId)!=null,Y=M.view.applyChanges(H,S.isPrimaryClient,ee,fe);return _b(S,M.targetId,Y.fa),Y.snapshot})}(t,f,g,y);let s=yield wg(t.localStore,e,!0),o=new kg(e,s.hs),a=o.da(s.documents),c=El.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);_b(t,n,l.fa);let d=new mb(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function d6(t,e,n){return v(this,null,function*(){let r=K(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!qg(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ic(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sc(r.remoteStore,i.targetId),ac(r,i.targetId)}).catch(Ji))):(ac(r,i.targetId),yield ic(r.localStore,i.targetId,!0))})}function h6(t,e){return v(this,null,function*(){let n=K(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sc(n.remoteStore,r.targetId))})}function f6(t,e,n){return v(this,null,function*(){let r=eD(t);try{let i=yield function(o,a){let c=K(o),l=rt.now(),d=a.reduce((y,E)=>y.add(E.key),_e()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=an(),S=_e();return c.os.getEntries(y,d).next(M=>{E=M,E.forEach((V,z)=>{z.isValidDocument()||(S=S.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,E)).next(M=>{f=M;let V=[];for(let z of a){let H=T9(z,f.get(z.key).overlayedDocument);H!=null&&V.push(new qn(z.key,H,Uk(H.value.mapValue),wt.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,V,a)}).next(M=>{g=M;let V=M.applyToLocalDocumentSet(f,S);return c.documentOverlayCache.saveOverlays(y,M.batchId,V)})}).then(()=>({batchId:g.batchId,changes:Xk(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.xa[o.currentUser.toKey()];l||(l=new qe(he)),l=l.insert(a,c),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield ts(r,i.changes),yield uc(r.remoteStore)}catch(i){let s=Qg(i,"Failed to persist write");n.reject(s)}})}function zO(t,e){return v(this,null,function*(){let n=K(t);try{let r=yield W9(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Z(o.wa):i.removedDocuments.size>0&&(Z(o.wa),o.wa=!1))}),yield ts(n,r,e)}catch(r){yield Ji(r)}})}function vk(t,e,n){let r=K(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=K(o);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let g of f.U_)g.j_(a)&&(l=!0)}),l&&Qb(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function p6(t,e,n){return v(this,null,function*(){let r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new qe(q.comparator);o=o.insert(s,It.newNoDocument(s,ne.min()));let a=_e().add(s),c=new Il(ne.min(),new Map,new qe(he),o,a);yield zO(r,c),r.va=r.va.remove(s),r.Fa.delete(e),Jb(r)}else yield ic(r.localStore,e,!1).then(()=>ac(r,e,n)).catch(Ji)})}function g6(t,e){return v(this,null,function*(){let n=K(t),r=e.batch.batchId;try{let i=yield G9(n.localStore,e);Xb(n,r,null),Zb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ts(n,i)}catch(i){yield Ji(i)}})}function m6(t,e,n){return v(this,null,function*(){let r=K(t);try{let i=yield function(o,a){let c=K(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Z(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(r.localStore,e);Xb(r,e,n),Zb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ts(r,i)}catch(i){yield Ji(i)}})}function Zb(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Xb(t,e,n){let r=K(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function ac(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||qO(t,r)})}function qO(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(sc(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Jb(t))}function _b(t,e,n){for(let r of n)r instanceof Mg?(t.Ma.addReference(r.key,e),y6(t,r)):r instanceof Ng?(F("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||qO(t,r.key)):G()}function y6(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(F("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Jb(t))}function Jb(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new q(Pe.fromString(e)),r=t.Na.next();t.Fa.set(r,new yb(n)),t.va=t.va.insert(n,r),Kg(t.remoteStore,new nc(cn(Fl(n.path)),r,"TargetPurposeLimboResolution",sn.oe))}}function ts(t,e,n){return v(this,null,function*(){let r=K(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let d=l&&!l.fromCache;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){i.push(l);let d=JE.Ki(c.targetId,l);s.push(d)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(c,l){return v(this,null,function*(){let d=K(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>x.forEach(l,g=>x.forEach(g.qi,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>x.forEach(g.Qi,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!es(f))throw f;F("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let g=f.targetId;if(!f.fromCache){let y=d.ns.get(g),E=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(E);d.ns=d.ns.insert(g,S)}}})}(r.localStore,s))})}function v6(t,e){return v(this,null,function*(){let n=K(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield xO(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new B(k.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ts(n,r.us)}})}function _6(t,e){let n=K(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e(),s=n.Da.get(e);if(!s)return i;for(let o of s){let a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function w6(t,e){return v(this,null,function*(){let n=K(t),r=yield wg(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&_b(n,e.targetId,i.fa),i})}function I6(t,e){return v(this,null,function*(){let n=K(t);return kO(n.localStore,e).then(r=>ts(n,r))})}function E6(t,e,n,r){return v(this,null,function*(){let i=K(t),s=yield function(a,c){let l=K(a),d=K(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,c).next(g=>g?l.localDocuments.getDocuments(f,g):x.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield uc(i.remoteStore):n==="acknowledged"||n==="rejected"?(Xb(i,e,r||null),Zb(i,e),function(a,c){K(K(a).mutationQueue).Mn(c)}(i.localStore,e)):G(),yield ts(i,s)):F("SyncEngine","Cannot apply mutation batch with id: "+e)})}function b6(t,e){return v(this,null,function*(){let n=K(t);if(Yg(n),eD(n),e===!0&&n.La!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield _k(n,r.toArray());n.La=!0,yield db(n.remoteStore,!0);for(let s of i)Kg(n.remoteStore,s)}else if(e===!1&&n.La!==!1){let r=[],i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(ac(n,o),ic(n.localStore,o,!0))),sc(n.remoteStore,o)}),yield i,yield _k(n,r),function(o){let a=K(o);a.Fa.forEach((c,l)=>{sc(a.remoteStore,l)}),a.Ma.mr(),a.Fa=new Map,a.va=new qe(q.comparator)}(n),n.La=!1,yield db(n.remoteStore,!1)}})}function _k(t,e,n){return v(this,null,function*(){let r=K(t),i=[],s=[];for(let o of e){let a,c=r.Da.get(o);if(c&&c.length!==0){a=yield _g(r.localStore,cn(c[0]));for(let l of c){let d=r.ba.get(l),f=yield w6(r,d);f.snapshot&&s.push(f.snapshot)}}else{let l=yield NO(r.localStore,o);a=yield _g(r.localStore,l),yield Yb(r,GO(l),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i})}function GO(t){return Gk(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function D6(t){return function(n){return K(K(n).persistence).Bi()}(K(t).localStore)}function C6(t,e,n,r){return v(this,null,function*(){let i=K(t);if(i.La)return void F("SyncEngine","Ignoring unexpected query state notification.");let s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield kO(i.localStore,Qk(s[0])),a=Il.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Et.EMPTY_BYTE_STRING);yield ts(i,o,a);break}case"rejected":yield ic(i.localStore,e,!0),ac(i,e,r);break;default:G()}})}function T6(t,e,n){return v(this,null,function*(){let r=Yg(t);if(r.La){for(let i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){F("SyncEngine","Adding an already active target "+i);continue}let s=yield NO(r.localStore,i),o=yield _g(r.localStore,s);yield Yb(r,GO(s),o.targetId,!1,o.resumeToken),Kg(r.remoteStore,o)}for(let i of n)r.Da.has(i)&&(yield ic(r.localStore,i,!1).then(()=>{sc(r.remoteStore,i),ac(r,i)}).catch(Ji))}})}function Yg(t){let e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=p6.bind(null,e),e.Sa.h_=a6.bind(null,e.eventManager),e.Sa.ka=c6.bind(null,e.eventManager),e}function eD(t){let e=K(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=g6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m6.bind(null,e),e}var Tl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=Gg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return RO(this.persistence,new vg,e.initialUser,this.serializer)}createPersistence(e){return new mg(yg.Hr,this.serializer)}createSharedClientState(e){return new bg}terminate(){return v(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Og=class t extends Tl{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){yield Yn(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield eD(this.Qa.syncEngine),yield uc(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return RO(this.persistence,new vg,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new VE(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new tE(n,this.persistence);return new eE(e.asyncQueue,r)}createPersistence(e){let n=AO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new XE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,PO(),Hp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bg}},wb=class t extends Og{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return v(this,null,function*(){yield Yn(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof ll&&(this.sharedClientState.syncEngine={Zs:E6.bind(null,n),Xs:C6.bind(null,n),eo:T6.bind(null,n),Bi:D6.bind(null,n),Ys:I6.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(r=>v(this,null,function*(){yield b6(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=PO();if(!ll.D(n))throw new B(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=AO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ll(n,e.asyncQueue,r,e.clientId,e.initialUser)}},Sl=class{initialize(e,n){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v6.bind(null,this.syncEngine),yield db(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new pb}()}createDatastore(e){let n=Gg(e.databaseInfo.databaseId),r=function(s){return new sb(s)}(e.databaseInfo);return function(s,o,a,c){return new cb(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new lb(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vk(this.syncEngine,n,0),function(){return Dg.D()?new Dg:new rb}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,d){let f=new vb(i,s,o,a,c,l);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return v(this,null,function*(){var e;yield function(r){return v(this,null,function*(){let i=K(r);F("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Vl(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Pg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):nt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Ib=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>v(this,null,function*(){F("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Qg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $I(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield xO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function wk(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield WO(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mk(e.remoteStore,i)),t._onlineComponents=e})}function S6(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function WO(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $I(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!S6(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),yield $I(t,new Tl)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield $I(t,new Tl);return t._offlineComponents})}function KO(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield wk(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield wk(t,new Sl))),t._onlineComponents})}function A6(t){return WO(t).then(e=>e.localStore)}function R6(t){return KO(t).then(e=>e.syncEngine)}function Eb(t){return v(this,null,function*(){let e=yield KO(t),n=e.eventManager;return n.onListen=u6.bind(null,e.syncEngine),n.onUnlisten=d6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=l6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h6.bind(null,e.syncEngine),n})}function x6(t,e,n={}){let r=new Dn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,a,c,l){let d=new Pg({next:g=>{o.enqueueAndForget(()=>$O(s,f));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new B(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?l.reject(new B(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),f=new xg(Fl(a.path),d,{includeMetadataChanges:!0,ra:!0});return BO(s,f)}(yield Eb(t),t.asyncQueue,e,n,r)})),r.promise}function M6(t,e){let n=new Dn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(i,s,o){return v(this,null,function*(){try{let a=yield wg(i,s,!0),c=new kg(s,a.hs),l=c.da(a.documents),d=c.applyChanges(l,!1);o.resolve(d.snapshot)}catch(a){let c=Qg(a,`Failed to execute query '${s} against cache`);o.reject(c)}})}(yield A6(t),e,n)})),n.promise}function QO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var Ik=new Map;function YO(t,e,n){if(!n)throw new B(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N6(t,e,n,r){if(e===!0&&r===!0)throw new B(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ek(t){if(!q.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bk(t){if(q.isDocumentKey(t))throw new B(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Jt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Zg(t);throw new B(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function k6(t,e){if(e<=0)throw new B(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Fg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Al=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qI;switch(r.type){case"firstParty":return new KI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=Ik.get(n);r&&(F("ComponentProvider","Removing Datastore"),Ik.delete(n),r.terminate())}(this),Promise.resolve()}};var Xr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},kt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zi=class t extends Xr{constructor(e,n,r){super(e,n,Fl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ZO(t,e,...n){if(t=Be(t),YO("collection","path",e),t instanceof Al){let r=Pe.fromString(e,...n);return bk(r),new zi(t,null,r)}{if(!(t instanceof kt||t instanceof zi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return bk(r),new zi(t.firestore,null,r)}}function tD(t,e,...n){if(t=Be(t),arguments.length===1&&(e=zp.newId()),YO("doc","path",e),t instanceof Al){let r=Pe.fromString(e,...n);return Ek(r),new kt(t,null,new q(r))}{if(!(t instanceof kt||t instanceof zi))throw new B(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return Ek(r),new kt(t.firestore,t instanceof zi?t.converter:null,new q(r))}}var bb=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Cg(this,"async_queue_retry"),this.hu=()=>{let n=Hp();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Hp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Dn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return v(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!es(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw nt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=hb.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&G()}verifyOperationInProgress(){}du(){return v(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function Dk(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Tn=class extends Al{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new bb}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JO(this),this._firestoreClient.terminate()}};function XO(t,e,n){n||(n="(default)");let r=mr(t,"firestore");if(r.isInitialized(n)){let i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(xi(s,e))return i;throw new B(k.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new B(k.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function jl(t){return t._firestoreClient||JO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JO(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,d){return new nE(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,QO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Ib(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Rl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Et.fromBase64String(e))}catch(n){throw new B(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var fo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var xl=class{constructor(e){this._methodName=e}};var Ml=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var O6=/^__.*__$/,Db=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zi(e,this.data,n,this.fieldTransforms)}},Lg=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function eP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Cb=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return jg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(eP(this.fu)&&O6.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Tb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gg(e)}Fu(e,n,r,i=!1){return new Cb({fu:e,methodName:n,vu:r,path:ut.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ul(t){let e=t._freezeSettings(),n=Gg(t._databaseId);return new Tb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nD(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);rD("Data must be an object, but it was:",o,r);let a=rP(r,o),c,l;if(s.merge)c=new on(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let g=Sb(e,f,n);if(!o.contains(g))throw new B(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);sP(d,g)||d.push(g)}c=new on(d),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new Db(new zt(a),c,l)}var Vg=class t extends xl{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function tP(t,e,n,r){let i=t.Fu(1,e,n);rD("Data must be an object, but it was:",i,r);let s=[],o=zt.empty();po(r,(c,l)=>{let d=iD(e,c,n);l=Be(l);let f=i.Su(d);if(l instanceof Vg)s.push(d);else{let g=Bl(l,f);g!=null&&(s.push(d),o.set(d,g))}});let a=new on(s);return new Lg(o,a,i.fieldTransforms)}function nP(t,e,n,r,i,s){let o=t.Fu(1,e,n),a=[Sb(e,r,n)],c=[i];if(s.length%2!=0)throw new B(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Sb(e,s[g])),c.push(s[g+1]);let l=[],d=zt.empty();for(let g=a.length-1;g>=0;--g)if(!sP(l,a[g])){let y=a[g],E=c[g];E=Be(E);let S=o.Su(y);if(E instanceof Vg)l.push(y);else{let M=Bl(E,S);M!=null&&(l.push(y),d.set(y,M))}}let f=new on(l);return new Lg(d,f,o.fieldTransforms)}function P6(t,e,n,r=!1){return Bl(n,t.Fu(r?4:3,e))}function Bl(t,e){if(iP(t=Be(t)))return rD("Unsupported field value:",e,t),rP(t,e);if(t instanceof xl)return function(r,i){if(!eP(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=Bl(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return I9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=rt.fromDate(r);return{timestampValue:tc(i.serializer,s)}}if(r instanceof rt){let s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tc(i.serializer,s)}}if(r instanceof Ml)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rl)return{bytesValue:uO(i.serializer,r._byteString)};if(r instanceof kt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Zg(r)}`)}(t,e)}function rP(t,e){let n={};return Vk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(t,(r,i)=>{let s=Bl(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Ml||t instanceof Rl||t instanceof kt||t instanceof xl)}function rD(t,e,n){if(!iP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Zg(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Sb(t,e,n){if((e=Be(e))instanceof fo)return e._internalPath;if(typeof e=="string")return iD(t,e);throw jg("Field path arguments must be of type string or ",t,!1,void 0,n)}var F6=new RegExp("[~\\*/\\[\\]]");function iD(t,e,n){if(e.search(F6)>=0)throw jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fo(...e.split("."))._internalPath}catch{throw jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jg(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new B(k.INVALID_ARGUMENT,a+t+c)}function sP(t,e){return t.some(n=>n.isEqual(e))}var Ug=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Xg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ab=class extends Ug{data(){return super.data()}};function Xg(t,e){return typeof e=="string"?iD(t,e):e instanceof fo?e._internalPath:e._delegate._internalPath}function L6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nl=class{},kl=class extends Nl{};function oP(t,e,...n){let r=[];e instanceof Nl&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Rb).length,a=s.filter(c=>c instanceof Bg).length;if(o>1||o>0&&a>0)throw new B(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Bg=class t extends kl{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return lP(e._query,n),new Xr(e.firestore,e.converter,gE(e._query,n))}_parse(e){let n=Ul(e.firestore);return function(s,o,a,c,l,d,f){let g;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new B(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Tk(f,d);let y=[];for(let E of f)y.push(Ck(c,s,E));g={arrayValue:{values:y}}}else g=Ck(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Tk(f,d),g=P6(a,o,f,d==="in"||d==="not-in");return Ie.create(l,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function aP(t,e,n){let r=e,i=Xg("where",t);return Bg._create(i,r,n)}var Rb=class t extends Nl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oe.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)lP(o,c),o=gE(o,c)}(e._query,n),new Xr(e.firestore,e.converter,gE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var xb=class t extends kl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new so(s,o)}(e._query,this._field,this._direction);return new Xr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Ki(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function cP(t,e="asc"){let n=e,r=Xg("orderBy",t);return xb._create(r,n)}var Mb=class t extends kl{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Xr(e.firestore,e.converter,eg(e._query,this._limit,this._limitType))}};function uP(t){return k6("limit",t),Mb._create("limit",t,"F")}function Ck(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new B(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wk(e)&&n.indexOf("/")!==-1)throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Pe.fromString(n));if(!q.isDocumentKey(r))throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yl(t,new q(r))}if(n instanceof kt)return yl(t,n._key);throw new B(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zg(n)}.`)}function Tk(t,e){if(!Array.isArray(t)||t.length===0)throw new B(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lP(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Nb=class{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return po(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ml(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Bb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){let n=Zr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);Z(_O(r));let i=new Ya(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||nt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function sD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var eo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$g=class extends Ug{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Xg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ga=class extends $g{data(e={}){return super.data(e)}},Hg=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ga(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Ga(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ga(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:V6(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function V6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}function dP(t){t=Jt(t,kt);let e=Jt(t.firestore,Tn);return x6(jl(e),t._key).then(n=>yP(e,t,n))}var Ol=class extends Nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}};function hP(t){t=Jt(t,Xr);let e=Jt(t.firestore,Tn),n=jl(e),r=new Ol(e);return M6(n,t._query).then(i=>new Hg(e,r,t,i))}function fP(t,e,n){t=Jt(t,kt);let r=Jt(t.firestore,Tn),i=sD(t.converter,e,n);return $l(r,[nD(Ul(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wt.none())])}function pP(t,e,n,...r){t=Jt(t,kt);let i=Jt(t.firestore,Tn),s=Ul(i),o;return o=typeof(e=Be(e))=="string"||e instanceof fo?nP(s,"updateDoc",t._key,e,n,r):tP(s,"updateDoc",t._key,e),$l(i,[o.toMutation(t._key,wt.exists(!0))])}function gP(t){return $l(Jt(t.firestore,Tn),[new uo(t._key,wt.none())])}function mP(t,e){let n=Jt(t.firestore,Tn),r=tD(t),i=sD(t.converter,e);return $l(n,[nD(Ul(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wt.exists(!1))]).then(()=>r)}function oD(t,...e){var n,r,i;t=Be(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Dk(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Dk(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(t instanceof kt)l=Jt(t.firestore,Tn),d=Fl(t._key.path),c={next:f=>{e[o]&&e[o](yP(l,t,f))},error:e[o+1],complete:e[o+2]};else{let f=Jt(t,Xr);l=Jt(f.firestore,Tn),d=f._query;let g=new Ol(l);c={next:y=>{e[o]&&e[o](new Hg(l,g,f,y))},error:e[o+1],complete:e[o+2]},L6(t._query)}return function(g,y,E,S){let M=new Pg(S),V=new xg(y,M,E);return g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return BO(yield Eb(g),V)})),()=>{M.$a(),g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return $O(yield Eb(g),V)}))}}(jl(l),d,a,c)}function $l(t,e){return function(r,i){let s=new Dn;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return f6(yield R6(r),i,s)})),s.promise}(jl(t),e)}function yP(t,e,n){let r=n.docs.get(e._key),i=new Ol(t);return new $g(t,i,e._key,r,new eo(n.hasPendingWrites,n.fromCache),e.converter)}var kb=class{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=_P(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}};function vP(t){return new kb(t)}var Ob=class{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Sl,this._offlineComponentProvider=new Og(this._onlineComponentProvider,e?.cacheSizeBytes,this.forceOwnership)}},Pb=class{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new Sl,this._offlineComponentProvider=new wb(this._onlineComponentProvider,e?.cacheSizeBytes)}};function _P(t){return new Ob(t?.forceOwnership)}function wP(){return new Pb}var Fb=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ul(e)}set(e,n,r){this._verifyNotCommitted();let i=HI(e,this._firestore),s=sD(i.converter,n,r),o=nD(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,wt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=HI(e,this._firestore),o;return o=typeof(n=Be(n))=="string"||n instanceof fo?nP(this._dataReader,"WriteBatch.update",s._key,n,r,i):tP(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,wt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=HI(e,this._firestore);return this._mutations=this._mutations.concat(new uo(n._key,wt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new B(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function HI(t,e){if((t=Be(t)).firestore!==e)throw new B(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function IP(t){return jl(t=Jt(t,Tn)),new Fb(t,e=>$l(t,e))}(function(e,n=!0){(function(i){cc=i})(ki),Xt(new pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Tn(new GI(r.getProvider("auth-internal")),new YI(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ve(TN,"4.6.3",e),Ve(TN,"4.6.3","esm2017")})();var Jg=function(){return Jg=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jg.apply(this,arguments)};var $6={includeMetadataChanges:!1};function EP(t,e){return e===void 0&&(e=$6),new re(function(n){var r=oD(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function bP(t){return EP(t,{includeMetadataChanges:!0})}function DP(t,e){return e===void 0&&(e={}),bP(t).pipe(de(function(n){return CP(n,e)}))}function CP(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Jg(Jg({},r),(n={},n[e.idField]=t.id,n))}var mo=class{constructor(e){return e}},TP="firestore",aD=class{constructor(){return Hs(TP)}};var cD=new U("angularfire2.firestore-instances");function H6(t,e){let n=Aa(TP,t,e);return n&&new mo(n)}function z6(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new mo(r)}}var q6={provide:aD,deps:[[new ct,cD]]},G6={provide:mo,useFactory:H6,deps:[[new ct,cD],Hn]};function ace(t,...e){return Ve("angularfire",Hr.full,"fst"),Ln([G6,q6,{provide:cD,useFactory:z6(t),multi:!0,deps:[W,Ce,Oi,zr,[new ct,Zu],[new ct,Sa],...e]}])}var cce=xe(DP,!0);var uce=xe(mP,!0);var lce=xe(ZO,!0);var dce=xe(gP,!0);var SP=xe(tD,!0);var hce=xe(dP,!0);var fce=xe(hP,!0);var pce=xe(XO,!0),gce=xe(uP,!0);var mce=xe(cP,!0),yce=xe(vP,!0),vce=xe(wP,!0);var _ce=xe(oP,!0);var AP=xe(fP,!0);var wce=xe(pP,!0);var Ice=xe(aP,!0),Ece=xe(IP,!0);var MP="@firebase/installations",hD="0.6.7";var NP=1e4,kP=`w:${hD}`,OP="FIS_v2",K6="https://firebaseinstallations.googleapis.com/v1",Q6=60*60*1e3,Y6="installations",Z6="Installations";var X6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new rn(Y6,Z6,X6);function PP(t){return t instanceof Ht&&t.code.includes("request-failed")}function FP({projectId:t}){return`${K6}/projects/${t}/installations`}function LP(t){return{token:t.token,requestStatus:2,expiresIn:e3(t.expiresIn),creationTime:Date.now()}}function VP(t,e){return v(this,null,function*(){let r=(yield e.json()).error;return vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function jP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function J6(t,{refreshToken:e}){let n=jP(t);return n.append("Authorization",t3(e)),n}function UP(t){return v(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function e3(t){return Number(t.replace("s","000"))}function t3(t){return`${OP} ${t}`}function n3(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=FP(t),o=jP(t),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let c={fid:n,authVersion:OP,appId:t.appId,sdkVersion:kP},l={method:"POST",headers:o,body:JSON.stringify(c)},d=yield UP(()=>fetch(s,l));if(d.ok){let f=yield d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:LP(f.authToken)}}else throw yield VP("Create Installation",d)})}function BP(t){return new Promise(e=>{setTimeout(e,t)})}function r3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var i3=/^[cdef][\w-]{21}$/,dD="";function s3(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=o3(t);return i3.test(n)?n:dD}catch{return dD}}function o3(t){return r3(t).substr(0,22)}function tm(t){return`${t.appName}!${t.appId}`}var $P=new Map;function HP(t,e){let n=tm(t);zP(n,e),a3(n,e)}function zP(t,e){let n=$P.get(t);if(n)for(let r of n)r(e)}function a3(t,e){let n=c3();n&&n.postMessage({key:t,fid:e}),u3()}var yo=null;function c3(){return!yo&&"BroadcastChannel"in self&&(yo=new BroadcastChannel("[Firebase] FID Change"),yo.onmessage=t=>{zP(t.data.key,t.data.fid)}),yo}function u3(){$P.size===0&&yo&&(yo.close(),yo=null)}var l3="firebase-installations-database",d3=1,_o="firebase-installations-store",uD=null;function fD(){return uD||(uD=Us(l3,d3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_o)}}})),uD}function em(t,e){return v(this,null,function*(){let n=tm(t),i=(yield fD()).transaction(_o,"readwrite"),s=i.objectStore(_o),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&HP(t,e.fid),e})}function qP(t){return v(this,null,function*(){let e=tm(t),r=(yield fD()).transaction(_o,"readwrite");yield r.objectStore(_o).delete(e),yield r.done})}function nm(t,e){return v(this,null,function*(){let n=tm(t),i=(yield fD()).transaction(_o,"readwrite"),s=i.objectStore(_o),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&HP(t,a.fid),a})}function pD(t){return v(this,null,function*(){let e,n=yield nm(t.appConfig,r=>{let i=h3(r),s=f3(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===dD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function h3(t){let e=t||{fid:s3(),registrationStatus:0};return GP(e)}function f3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=p3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:g3(t)}:{installationEntry:e}}function p3(t,e){return v(this,null,function*(){try{let n=yield n3(t,e);return em(t.appConfig,n)}catch(n){throw PP(n)&&n.customData.serverCode===409?yield qP(t.appConfig):yield em(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function g3(t){return v(this,null,function*(){let e=yield RP(t.appConfig);for(;e.registrationStatus===1;)yield BP(100),e=yield RP(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield pD(t);return r||n}return e})}function RP(t){return nm(t,e=>{if(!e)throw vo.create("installation-not-found");return GP(e)})}function GP(t){return m3(t)?{fid:t.fid,registrationStatus:0}:t}function m3(t){return t.registrationStatus===1&&t.registrationTime+NP<Date.now()}function y3(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=v3(t,n),o=J6(t,n),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let c={installation:{sdkVersion:kP,appId:t.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},d=yield UP(()=>fetch(s,l));if(d.ok){let f=yield d.json();return LP(f)}else throw yield VP("Generate Auth Token",d)})}function v3(t,{fid:e}){return`${FP(t)}/${e}/authTokens:generate`}function gD(t,e=!1){return v(this,null,function*(){let n,r=yield nm(t.appConfig,s=>{if(!WP(s))throw vo.create("not-registered");let o=s.authToken;if(!e&&I3(o))return s;if(o.requestStatus===1)return n=_3(t,e),s;{if(!navigator.onLine)throw vo.create("app-offline");let a=b3(s);return n=w3(t,a),a}});return n?yield n:r.authToken})}function _3(t,e){return v(this,null,function*(){let n=yield xP(t.appConfig);for(;n.authToken.requestStatus===1;)yield BP(100),n=yield xP(t.appConfig);let r=n.authToken;return r.requestStatus===0?gD(t,e):r})}function xP(t){return nm(t,e=>{if(!WP(e))throw vo.create("not-registered");let n=e.authToken;return D3(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function w3(t,e){return v(this,null,function*(){try{let n=yield y3(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield em(t.appConfig,r),n}catch(n){if(PP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield qP(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield em(t.appConfig,r)}throw n}})}function WP(t){return t!==void 0&&t.registrationStatus===2}function I3(t){return t.requestStatus===2&&!E3(t)}function E3(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Q6}function b3(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function D3(t){return t.requestStatus===1&&t.requestTime+NP<Date.now()}function C3(t){return v(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield pD(e);return r?r.catch(console.error):gD(e).catch(console.error),n.fid})}function T3(t,e=!1){return v(this,null,function*(){let n=t;return yield S3(n),(yield gD(n,e)).token})}function S3(t){return v(this,null,function*(){let{registrationPromise:e}=yield pD(t);e&&(yield e)})}function A3(t){if(!t||!t.options)throw lD("App Configuration");if(!t.name)throw lD("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw lD(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function lD(t){return vo.create("missing-app-config-values",{valueName:t})}var KP="installations",R3="installations-internal",x3=t=>{let e=t.getProvider("app").getImmediate(),n=A3(e),r=mr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},M3=t=>{let e=t.getProvider("app").getImmediate(),n=mr(e,KP).getImmediate();return{getId:()=>C3(n),getToken:i=>T3(n,i)}};function N3(){Xt(new pt(KP,x3,"PUBLIC")),Xt(new pt(R3,M3,"PRIVATE"))}N3();Ve(MP,hD);Ve(MP,hD,"esm2017");var k3="/firebase-messaging-sw.js",O3="/firebase-cloud-messaging-push-scope",e1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",P3="https://fcmregistrations.googleapis.com/v1",t1="google.c.a.c_id",F3="google.c.a.c_l",L3="google.c.a.ts",V3="google.c.a.e";var rm=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(rm||{});function Jr(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function j3(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var mD="fcm_token_details_db",U3=5,QP="fcm_token_object_Store";function B3(t){return v(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(mD))return null;let e=null;return(yield Us(mD,U3,{upgrade:(r,i,s,o)=>v(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(QP))return;let c=o.objectStore(QP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),!!l){if(i===2){let d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Jr(d.vapidKey)}}}else if(i===3){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Jr(d.auth),p256dh:Jr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Jr(d.vapidKey)}}}else if(i===4){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Jr(d.auth),p256dh:Jr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Jr(d.vapidKey)}}}}})})).close(),yield cp(mD),yield cp("fcm_vapid_details_db"),yield cp("undefined"),$3(e)?e:null})}function $3(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var H3="firebase-messaging-database",z3=1,Hl="firebase-messaging-store",yD=null;function n1(){return yD||(yD=Us(H3,z3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hl)}}})),yD}function q3(t){return v(this,null,function*(){let e=r1(t),r=yield(yield n1()).transaction(Hl).objectStore(Hl).get(e);if(r)return r;{let i=yield B3(t.appConfig.senderId);if(i)return yield wD(t,i),i}})}function wD(t,e){return v(this,null,function*(){let n=r1(t),i=(yield n1()).transaction(Hl,"readwrite");return yield i.objectStore(Hl).put(e,n),yield i.done,e})}function r1({appConfig:t}){return t.appId}var G3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Wt=new rn("messaging","Messaging",G3);function W3(t,e){return v(this,null,function*(){let n=yield ED(t),r=i1(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(ID(t.appConfig),i)).json()}catch(o){throw Wt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Wt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Wt.create("token-subscribe-no-token");return s.token})}function K3(t,e){return v(this,null,function*(){let n=yield ED(t),r=i1(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(`${ID(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Wt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Wt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Wt.create("token-update-no-token");return s.token})}function Q3(t,e){return v(this,null,function*(){let r={method:"DELETE",headers:yield ED(t)};try{let s=yield(yield fetch(`${ID(t.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw Wt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function ID({projectId:t}){return`${P3}/projects/${t}/registrations`}function ED(n){return v(this,arguments,function*({appConfig:t,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function i1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==e1&&(i.web.applicationPubKey=r),i}var Y3=7*24*60*60*1e3;function Z3(t){return v(this,null,function*(){let e=yield J3(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Jr(e.getKey("auth")),p256dh:Jr(e.getKey("p256dh"))},r=yield q3(t.firebaseDependencies);if(r){if(e8(r.subscriptionOptions,n))return Date.now()>=r.createTime+Y3?X3(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Q3(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return YP(t.firebaseDependencies,n)}else return YP(t.firebaseDependencies,n)})}function X3(t,e){return v(this,null,function*(){try{let n=yield K3(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield wD(t.firebaseDependencies,r),n}catch(n){throw n}})}function YP(t,e){return v(this,null,function*(){let r={token:yield W3(t,e),createTime:Date.now(),subscriptionOptions:e};return yield wD(t,r),r.token})}function J3(t,e){return v(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:j3(e)})})}function e8(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function ZP(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return t8(e,t),n8(e,t),r8(e,t),e}function t8(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function n8(t,e){e.data&&(t.data=e.data)}function r8(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);let c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}function i8(t){return typeof t=="object"&&!!t&&t1 in t}s1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");s1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function s1(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function s8(t){if(!t||!t.options)throw vD("App Configuration Object");if(!t.name)throw vD("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw vD(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function vD(t){return Wt.create("missing-app-config-values",{valueName:t})}var _D=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=s8(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};function o8(t){return v(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(k3,{scope:O3}),t.swRegistration.update().catch(()=>{})}catch(e){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function a8(t,e){return v(this,null,function*(){if(!e&&!t.swRegistration&&(yield o8(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");t.swRegistration=e}})}function c8(t,e){return v(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=e1)})}function o1(t,e){return v(this,null,function*(){if(!navigator)throw Wt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Wt.create("permission-blocked");return yield c8(t,e?.vapidKey),yield a8(t,e?.serviceWorkerRegistration),Z3(t)})}function u8(t,e,n){return v(this,null,function*(){let r=l8(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[t1],message_name:n[F3],message_time:n[L3],message_device_time:Math.floor(Date.now()/1e3)})})}function l8(t){switch(t){case rm.NOTIFICATION_CLICKED:return"notification_open";case rm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function d8(t,e){return v(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===rm.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(ZP(n)):t.onMessageHandler.next(ZP(n)));let r=n.data;i8(r)&&r[V3]==="1"&&(yield u8(t,n.messageType,r))})}var XP="@firebase/messaging",JP="0.12.9";var h8=t=>{let e=new _D(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>d8(e,n)),e},f8=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:r=>o1(e,r)}};function p8(){Xt(new pt("messaging",h8,"PUBLIC")),Xt(new pt("messaging-internal",f8,"PRIVATE")),Ve(XP,JP),Ve(XP,JP,"esm2017")}function bD(){return v(this,null,function*(){try{yield sp()}catch{return!1}return typeof window<"u"&&Ea()&&uM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function a1(t=$r()){return bD().then(e=>{if(!e)throw Wt.create("unsupported-browser")},e=>{throw Wt.create("indexed-db-unsupported")}),mr(Be(t),"messaging").getImmediate()}function c1(t,e){return v(this,null,function*(){return t=Be(t),o1(t,e)})}p8();var wo=class{constructor(e){return e}},u1="messaging",DD=class{constructor(){return Hs(u1)}};var l1="__angularfire_symbol__messagingIsSupported",CD="__angularfire_symbol__messagingIsSupportedValue";globalThis[l1]||=bD().then(t=>globalThis[CD]=t).catch(()=>globalThis[CD]=!1);var im={async:()=>globalThis[l1],sync:()=>{let t=globalThis[CD];if(t===void 0)throw new Error(CM("Messaging"));return t}},TD=new U("angularfire2.messaging-instances");function g8(t,e){if(!im.sync())return null;let n=Aa(u1,t,e);return n&&new wo(n)}function m8(t){return(e,n)=>{if(!im.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new wo(r)}}var y8={provide:DD,deps:[[new ct,TD]]},v8={provide:wo,useFactory:g8,deps:[[new ct,TD],Hn]};function Wce(t,...e){return Ve("angularfire",Hr.full,"fcm"),Ln([v8,y8,{provide:wa,useValue:im.async,multi:!0},{provide:TD,useFactory:m8(t),multi:!0,deps:[W,Ce,Oi,zr,...e]}])}var Kce=im.async;var Qce=xe(a1,!0),d1=xe(c1,!0);var me="primary",sd=Symbol("RouteTitle"),MD=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function mc(t){return new MD(t)}function w8(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function I8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!br(t[n],e[n]))return!1;return!0}function br(t,e){let n=t?ND(t):void 0,r=e?ND(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!E1(t[i],e[i]))return!1;return!0}function ND(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function E1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function b1(t){return t.length>0?t[t.length-1]:null}function ss(t){return Ah(t)?t:Ls(t)?Ue(Promise.resolve(t)):te(t)}var E8={exact:C1,subset:T1},D1={exact:b8,subset:D8,ignored:()=>!0};function h1(t,e,n){return E8[n.paths](t.root,e.root,n.matrixParams)&&D1[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function b8(t,e){return br(t,e)}function C1(t,e,n){if(!Eo(t.segments,e.segments)||!am(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!C1(t.children[r],e.children[r],n))return!1;return!0}function D8(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>E1(t[n],e[n]))}function T1(t,e,n){return S1(t,e,e.segments,n)}function S1(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Eo(i,n)||e.hasChildren()||!am(i,n,r))}else if(t.segments.length===n.length){if(!Eo(t.segments,n)||!am(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!T1(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Eo(t.segments,i)||!am(t.segments,i,r)||!t.children[me]?!1:S1(t.children[me],e,s,r)}}function am(t,e,n){return e.every((r,i)=>D1[n](t[i].parameters,r.parameters))}var ns=class{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=mc(this.queryParams),this._queryParamMap}toString(){return S8.serialize(this)}},Ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cm(this)}},Io=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=mc(this.parameters),this._parameterMap}toString(){return R1(this)}};function C8(t,e){return Eo(t,e)&&t.every((n,r)=>br(n.parameters,e[r].parameters))}function Eo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function T8(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var od=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new yc,providedIn:"root"});let t=e;return t})(),yc=class{parse(e){let n=new OD(e);return new ns(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${zl(e.root,!0)}`,r=x8(e.queryParams),i=typeof e.fragment=="string"?`#${A8(e.fragment)}`:"";return`${n}${r}${i}`}},S8=new yc;function cm(t){return t.segments.map(e=>R1(e)).join("/")}function zl(t,e){if(!t.hasChildren())return cm(t);if(e){let n=t.children[me]?zl(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==me&&r.push(`${i}:${zl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=T8(t,(r,i)=>i===me?[zl(t.children[me],!1)]:[`${i}:${zl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${cm(t)}/${n[0]}`:`${cm(t)}/(${n.join("//")})`}}function A1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sm(t){return A1(t).replace(/%3B/gi,";")}function A8(t){return encodeURI(t)}function kD(t){return A1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function um(t){return decodeURIComponent(t)}function f1(t){return um(t.replace(/\+/g,"%20"))}function R1(t){return`${kD(t.path)}${R8(t.parameters)}`}function R8(t){return Object.entries(t).map(([e,n])=>`;${kD(e)}=${kD(n)}`).join("")}function x8(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${sm(n)}=${sm(i)}`).join("&"):`${sm(n)}=${sm(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var M8=/^[^\/()?;#]+/;function SD(t){let e=t.match(M8);return e?e[0]:""}var N8=/^[^\/()?;=#]+/;function k8(t){let e=t.match(N8);return e?e[0]:""}var O8=/^[^=?&#]+/;function P8(t){let e=t.match(O8);return e?e[0]:""}var F8=/^[^&#]+/;function L8(t){let e=t.match(F8);return e?e[0]:""}var OD=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Ne(e,n)),r}parseSegment(){let e=SD(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Io(um(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=k8(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=SD(this.remaining);i&&(r=i,this.capture(r))}e[um(n)]=um(r)}parseQueryParam(e){let n=P8(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=L8(this.remaining);o&&(r=o,this.capture(r))}let i=f1(n),s=f1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=SD(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[me]:new Ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function x1(t){return t.segments.length>0?new Ne([],{[me]:t}):t}function M1(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=M1(i);if(r===me&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ne(t.segments,e);return V8(n)}function V8(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Ne(t.segments.concat(e.segments),e.children)}return t}function Yl(t){return t instanceof ns}function j8(t,e,n=null,r=null){let i=N1(t);return k1(i,e,n,r)}function N1(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new Ne(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=x1(r);return e??i}function k1(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return AD(i,i,i,n,r);let s=U8(e);if(s.toRoot())return AD(i,i,new Ne([],{}),n,r);let o=B8(s,i,t),a=o.processChildren?Wl(o.segmentGroup,o.index,s.commands):P1(o.segmentGroup,o.index,s.commands);return AD(i,o.segmentGroup,a,n,r)}function lm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zl(t){return typeof t=="object"&&t!=null&&t.outlets}function AD(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;t===e?o=n:o=O1(t,e,n);let a=x1(M1(o));return new ns(a,s,i)}function O1(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=O1(s,e,n)}),new Ne(t.segments,r)}var dm=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&lm(r[0]))throw new Q(4003,!1);let i=r.find(Zl);if(i&&i!==b1(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function U8(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new dm(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new dm(n,e,r)}var fc=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function B8(t,e,n){if(t.isAbsolute)return new fc(e,!0,0);if(!n)return new fc(e,!1,NaN);if(n.parent===null)return new fc(n,!0,0);let r=lm(t.commands[0])?0:1,i=n.segments.length-1+r;return $8(n,i,t.numberOfDoubleDots)}function $8(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new fc(r,!1,i-s)}function H8(t){return Zl(t[0])?t[0].outlets:{[me]:t}}function P1(t,e,n){if(t??=new Ne([],{}),t.segments.length===0&&t.hasChildren())return Wl(t,e,n);let r=z8(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ne(t.segments.slice(0,r.pathIndex),{});return s.children[me]=new Ne(t.segments.slice(r.pathIndex),t.children),Wl(s,0,i)}else return r.match&&i.length===0?new Ne(t.segments,{}):r.match&&!t.hasChildren()?PD(t,e,n):r.match?Wl(t,0,i):PD(t,e,n)}function Wl(t,e,n){if(n.length===0)return new Ne(t.segments,{});{let r=H8(n),i={};if(Object.keys(r).some(s=>s!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let s=Wl(t.children[me],e,n);return new Ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=P1(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ne(t.segments,i)}}function z8(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Zl(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!g1(c,l,o))return s;r+=2}else{if(!g1(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function PD(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Zl(s)){let c=q8(s.outlets);return new Ne(r,c)}if(i===0&&lm(n[0])){let c=t.segments[e];r.push(new Io(c.path,p1(n[0]))),i++;continue}let o=Zl(s)?s.outlets[me]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&lm(a)?(r.push(new Io(o,p1(a))),i+=2):(r.push(new Io(o,{})),i++)}return new Ne(r,{})}function q8(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=PD(new Ne([],{}),0,r))}),e}function p1(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function g1(t,e,n){return t==n.path&&br(e,n.parameters)}var Kl="imperative",yt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(yt||{}),Sn=class{constructor(e,n){this.id=e,this.url=n}},vc=class extends Sn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=yt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Dr=class extends Sn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ln||{}),hm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(hm||{}),ei=class extends Sn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rs=class extends Sn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yt.NavigationSkipped}},Xl=class extends Sn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fm=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},FD=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},LD=class extends Sn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},VD=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jD=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},UD=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},BD=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$D=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},HD=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zD=class{constructor(e){this.snapshot=e,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qD=class{constructor(e){this.snapshot=e,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pm=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=yt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Jl=class{},_c=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var GD=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new ad(this.injector),this.attachRef=null}},ad=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new GD(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(R(Rt))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=WD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=WD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=KD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return KD(e,this._root).map(n=>n.value)}};function WD(t,e){if(t===e.value)return e;for(let n of e.children){let r=WD(t,n);if(r)return r}return null}function KD(t,e){if(t===e.value)return[e];for(let n of e.children){let r=KD(t,n);if(r.length)return r.unshift(e),r}return[]}var un=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function hc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mm=class extends gm{constructor(e,n){super(e),this.snapshot=n,rC(this,e)}toString(){return this.snapshot.toString()}};function F1(t){let e=G8(t),n=new Xe([new Io("",{})]),r=new Xe({}),i=new Xe({}),s=new Xe({}),o=new Xe(""),a=new is(n,r,s,o,i,me,t,e.root);return a.snapshot=e.root,new mm(new un(a,[]),e)}function G8(t){let e={},n={},r={},i="",s=new pc([],e,r,i,n,me,t,null,{});return new vm("",new un(s,[]))}var is=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(l=>l[sd]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>mc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>mc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ym(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&V1(i)&&(r.resolve[sd]=i.title),r}var pc=class{get title(){return this.data?.[sd]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vm=class extends gm{constructor(e,n){super(n),this.url=e,rC(this,n)}toString(){return L1(this._root)}};function rC(t,e){e.value._routerState=t,e.children.forEach(n=>rC(t,n))}function L1(t){let e=t.children.length>0?` { ${t.children.map(L1).join(", ")} } `:"";return`${t.value}${e}`}function RD(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,br(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),br(e.params,n.params)||t.paramsSubject.next(n.params),I8(e.url,n.url)||t.urlSubject.next(n.url),br(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function QD(t,e){let n=br(t.params,e.params)&&C8(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||QD(t.parent,e.parent))}function V1(t){return typeof t.title=="string"||t.title===null}var W8=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=P(ad),this.location=P(vn),this.changeDetector=P(_n),this.inputBinder=P(Em,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new YD(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=De({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bt]});let t=e;return t})(),YD=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===is?this.route:e===ad?this.childContexts:this.parent.get(e,n)}},Em=new U(""),m1=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ys([i.queryParams,i.params,i.data]).pipe(tn(([o,a,c],l)=>(c=O(O(O({},o),a),c),l===0?te(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Rx(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function K8(t,e,n){let r=ed(t,e._root,n?n._root:void 0);return new mm(r,e)}function ed(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Q8(t,e,n);return new un(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ed(t,a)),o}}let r=Y8(e.value),i=e.children.map(s=>ed(t,s));return new un(r,i)}}function Q8(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ed(t,r,i);return ed(t,r)})}function Y8(t){return new is(new Xe(t.url),new Xe(t.params),new Xe(t.queryParams),new Xe(t.fragment),new Xe(t.data),t.outlet,t.component,t)}var td=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},j1="ngNavigationCancelingError";function _m(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Yl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=U1(!1,ln.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function U1(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[j1]=!0,n.cancellationCode=e,n}function Z8(t){return B1(t)&&Yl(t.url)}function B1(t){return!!t&&t[j1]}var X8=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=cr({type:e,selectors:[["ng-component"]],standalone:!0,features:[fr],decls:1,vars:0,template:function(i,s){i&1&&Ri(0,"router-outlet")},dependencies:[W8],encapsulation:2});let t=e;return t})();function J8(t,e){return t.providers&&!t._injector&&(t._injector=zf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function iC(t){let e=t.children&&t.children.map(iC),n=e?pe(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=X8),n}function Gn(t){return t.outlet||me}function e5(t,e){let n=t.filter(r=>Gn(r)===e);return n.push(...t.filter(r=>Gn(r)!==e)),n}function cd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var t5=(t,e,n,r)=>de(i=>(new ZD(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ZD=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),RD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=hc(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=hc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=hc(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new qD(s.value.snapshot))}),e.children.length&&this.forwardEvent(new HD(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(RD(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),RD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=cd(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},wm=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},gc=class{constructor(e,n){this.component=e,this.route=n}};function n5(t,e,n){let r=t._root,i=e?e._root:null;return ql(r,i,n,[r.value])}function r5(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ic(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!jS(t)?t:e.get(t):r}function ql(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=hc(e);return t.children.forEach(o=>{i5(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ql(a,n.getContext(o),i)),i}function i5(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=s5(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new wm(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ql(t,e,a?a.children:null,r,i):ql(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new gc(a.outlet.component,o))}else o&&Ql(e,a,i),i.canActivateChecks.push(new wm(r)),s.component?ql(t,null,a?a.children:null,r,i):ql(t,null,n,r,i);return i}function s5(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Eo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(t.url,e.url)||!br(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QD(t,e)||!br(t.queryParams,e.queryParams);case"paramsChange":default:return!QD(t,e)}}function Ql(t,e,n){let r=hc(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ql(o,e.children.getContext(s),n):Ql(o,null,n):Ql(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new gc(e.outlet.component,i)):n.canDeactivateChecks.push(new gc(null,i)):n.canDeactivateChecks.push(new gc(null,i))}function ud(t){return typeof t=="function"}function o5(t){return typeof t=="boolean"}function a5(t){return t&&ud(t.canLoad)}function c5(t){return t&&ud(t.canActivate)}function u5(t){return t&&ud(t.canActivateChild)}function l5(t){return t&&ud(t.canDeactivate)}function d5(t){return t&&ud(t.canMatch)}function $1(t){return t instanceof Rr||t?.name==="EmptyError"}var om=Symbol("INITIAL_VALUE");function wc(){return tn(t=>ys(t.map(e=>e.pipe(Je(1),Nn(om)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===om)return om;if(n===!1||h5(n))return n}return!0}),He(e=>e!==om),Je(1)))}function h5(t){return Yl(t)||t instanceof td}function f5(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?te(pe(O({},n),{guardsResult:!0})):p5(o,r,i,t).pipe(Ge(a=>a&&o5(a)?g5(r,s,t,e):te(a)),de(a=>pe(O({},n),{guardsResult:a})))})}function p5(t,e,n,r){return Ue(t).pipe(Ge(i=>w5(i.component,i.route,n,e,r)),Jn(i=>i!==!0,!0))}function g5(t,e,n,r){return Ue(e).pipe(vs(i=>Xn(y5(i.route.parent,r),m5(i.route,r),_5(t,i.path,n),v5(t,i.route,n))),Jn(i=>i!==!0,!0))}function m5(t,e){return t!==null&&e&&e(new zD(t)),te(!0)}function y5(t,e){return t!==null&&e&&e(new $D(t)),te(!0)}function v5(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(s=>pi(()=>{let o=cd(e)??n,a=Ic(s,o),c=c5(a)?a.canActivate(e,t):gn(o,()=>a(e,t));return ss(c).pipe(Jn())}));return te(i).pipe(wc())}function _5(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>r5(o)).filter(o=>o!==null).map(o=>pi(()=>{let a=o.guards.map(c=>{let l=cd(o.node)??n,d=Ic(c,l),f=u5(d)?d.canActivateChild(r,t):gn(l,()=>d(r,t));return ss(f).pipe(Jn())});return te(a).pipe(wc())}));return te(s).pipe(wc())}function w5(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return te(!0);let o=s.map(a=>{let c=cd(e)??i,l=Ic(a,c),d=l5(l)?l.canDeactivate(t,e,n,r):gn(c,()=>l(t,e,n,r));return ss(d).pipe(Jn())});return te(o).pipe(wc())}function I5(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let s=i.map(o=>{let a=Ic(o,t),c=a5(a)?a.canLoad(e,n):gn(t,()=>a(e,n));return ss(c)});return te(s).pipe(wc(),H1(r))}function H1(t){return uh(st(e=>{if(typeof e!="boolean")throw _m(t,e)}),de(e=>e===!0))}function E5(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let s=i.map(o=>{let a=Ic(o,t),c=d5(a)?a.canMatch(e,n):gn(t,()=>a(e,n));return ss(c)});return te(s).pipe(wc(),H1(r))}var nd=class{constructor(e){this.segmentGroup=e||null}},rd=class extends Error{constructor(e){super(),this.urlTree=e}};function dc(t){return zo(new nd(t))}function b5(t){return zo(new Q(4e3,!1))}function D5(t){return zo(U1(!1,ln.GuardRejected))}var XD=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[me])return b5(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,params:y,data:E,title:S}=i,M=gn(s,()=>a({params:y,data:E,queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,title:S}));if(M instanceof ns)throw new rd(M);n=M}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new rd(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ns(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},JD={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C5(t,e,n,r,i){let s=sC(t,e,n);return s.matched?(r=J8(e,r),E5(r,e,n,i).pipe(de(o=>o===!0?s:O({},JD)))):te(s)}function sC(t,e,n){if(e.path==="**")return T5(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},JD):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||w8)(n,t,e);if(!i)return O({},JD);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function T5(t){return{matched:!0,parameters:t.length>0?b1(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function y1(t,e,n,r){return n.length>0&&R5(t,n,r)?{segmentGroup:new Ne(e,A5(r,new Ne(n,t.children))),slicedSegments:[]}:n.length===0&&x5(t,n,r)?{segmentGroup:new Ne(t.segments,S5(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function S5(t,e,n,r){let i={};for(let s of n)if(bm(t,e,s)&&!r[Gn(s)]){let o=new Ne([],{});i[Gn(s)]=o}return O(O({},r),i)}function A5(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&Gn(r)!==me){let i=new Ne([],{});n[Gn(r)]=i}return n}function R5(t,e,n){return n.some(r=>bm(t,e,r)&&Gn(r)!==me)}function x5(t,e,n){return n.some(r=>bm(t,e,r))}function bm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function M5(t,e,n,r){return Gn(t)!==r&&(r===me||!bm(e,n,t))?!1:sC(e,t,n).matched}function N5(t,e,n){return e.length===0&&!t.children[n]}var eC=class{};function k5(t,e,n,r,i,s,o="emptyOnly"){return new tC(t,e,n,r,i,o,s).recognize()}var O5=31,tC=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new XD(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=y1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:n,rootSnapshot:r})=>{let i=new un(r,n),s=new vm("",i),o=j8(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new pc([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(de(r=>({children:r,rootSnapshot:n})),gi(r=>{if(r instanceof rd)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nd?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(de(o=>o instanceof un?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ue(s).pipe(vs(o=>{let a=r.children[o],c=e5(n,o);return this.processSegmentGroup(e,c,a,o,i)}),Ph((o,a)=>(o.push(...a),o)),mi(null),Ly(),Ge(o=>{if(o===null)return dc(r);let a=z1(o);return P5(a),te(a)}))}processSegment(e,n,r,i,s,o,a){return Ue(n).pipe(vs(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(gi(l=>{if(l instanceof nd)return te(null);throw l}))),Jn(c=>!!c),gi(c=>{if($1(c))return N5(r,i,s)?te(new eC):dc(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return M5(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):dc(i):dc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=sC(n,i,s);if(!c)return dc(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>O5&&(this.allowRedirects=!1));let y=new pc(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,v1(i),Gn(i),i.component??i._loadedComponent??null,i,_1(i)),E=ym(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let S=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,y,e);return this.applyRedirects.lineralizeSegments(i,S).pipe(Ge(M=>this.processSegment(e,r,n,M.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=C5(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(tn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(tn(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:y}=c,E=new pc(g,f,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,v1(r),Gn(r),r.component??r._loadedComponent??null,r,_1(r)),S=ym(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data);let{segmentGroup:M,slicedSegments:V}=y1(n,g,y,l);if(V.length===0&&M.hasChildren())return this.processChildren(d,l,M,E).pipe(de(H=>new un(E,H)));if(l.length===0&&V.length===0)return te(new un(E,[]));let z=Gn(r)===s;return this.processSegment(d,l,M,V,z?me:s,!0,E).pipe(de(H=>new un(E,H instanceof un?[H]:[])))}))):dc(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):I5(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(st(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):D5(n))):te({routes:[],injector:e})}};function P5(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function F5(t){let e=t.value.routeConfig;return e&&e.path===""}function z1(t){let e=[],n=new Set;for(let r of t){if(!F5(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=z1(r.children);e.push(new un(r.value,i))}return e.filter(r=>!n.has(r))}function v1(t){return t.data||{}}function _1(t){return t.resolve||{}}function L5(t,e,n,r,i,s){return Ge(o=>k5(t,e,n,r,o.extractedUrl,i,s).pipe(de(({state:a,tree:c})=>pe(O({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function V5(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of q1(c))o.add(l);let a=0;return Ue(o).pipe(vs(c=>s.has(c)?j5(c,r,t,e):(c.data=ym(c,c.parent,t).resolve,te(void 0))),st(()=>a++),Wo(1),Ge(c=>a===o.size?te(n):Lt))})}function q1(t){let e=t.children.map(n=>q1(n)).flat();return[t,...e]}function j5(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!V1(i)&&(s[sd]=i.title),U5(s,t,e,r).pipe(de(o=>(t._resolvedData=o,t.data=ym(t,t.parent,n).resolve,null)))}function U5(t,e,n,r){let i=ND(t);if(i.length===0)return te({});let s={};return Ue(i).pipe(Ge(o=>B5(t[o],e,n,r).pipe(Jn(),st(a=>{if(a instanceof td)throw _m(new yc,a);s[o]=a}))),Wo(1),au(s),gi(o=>$1(o)?Lt:zo(o)))}function B5(t,e,n,r){let i=cd(e)??r,s=Ic(t,i),o=s.resolve?s.resolve(e,n):gn(i,()=>s(e,n));return ss(o)}function xD(t){return tn(e=>{let n=t(e);return n?Ue(n).pipe(de(()=>e)):te(e)})}var G1=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[sd]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P($5),providedIn:"root"});let t=e;return t})(),$5=(()=>{let e=class e extends G1{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(Jx))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ld=new U("",{providedIn:"root",factory:()=>({})}),id=new U(""),oC=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Yf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ss(r.loadComponent()).pipe(de(W1),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),uu(()=>{this.componentLoaders.delete(r)})),s=new ci(i,()=>new J).pipe(Uo());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=H5(i,this.compiler,r,this.onLoadEndListener).pipe(uu(()=>{this.childrenLoaders.delete(i)})),a=new ci(o,()=>new J).pipe(Uo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H5(t,e,n,r){return ss(t.loadChildren()).pipe(de(W1),Ge(i=>i instanceof wu||Array.isArray(i)?te(i):Ue(e.compileModuleAsync(i))),de(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(id,[],{optional:!0,self:!0}).flat()),{routes:o.map(iC),injector:s}}))}function z5(t){return t&&typeof t=="object"&&"default"in t}function W1(t){return z5(t)?t.default:t}var aC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(q5),providedIn:"root"});let t=e;return t})(),q5=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K1=new U(""),Q1=new U("");function G5(t,e,n){let r=t.get(Q1),i=t.get(ae);return t.get(W).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),W5(t))),{onViewTransitionCreated:c}=r;return c&&gn(t,()=>c({transition:a,from:e,to:n})),o})}function W5(t){return new Promise(e=>{Ai(e,{injector:t})})}var K5=new U(""),cC=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new J,this.transitionAbortSubject=new J,this.configLoader=P(oC),this.environmentInjector=P(Rt),this.urlSerializer=P(od),this.rootContexts=P(ad),this.location=P(gr),this.inputBindingEnabled=P(Em,{optional:!0})!==null,this.titleStrategy=P(G1),this.options=P(ld,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(aC),this.createViewTransition=P(K1,{optional:!0}),this.navigationErrorHandler=P(K5,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let r=s=>this.events.next(new UD(s)),i=s=>this.events.next(new BD(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(pe(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Xe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Kl,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(He(o=>o.id!==0),de(o=>pe(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),tn(o=>{let a=!1,c=!1;return te(o).pipe(tn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ln.SupersededByNewNavigation),Lt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?pe(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new rs(l.id,this.urlSerializer.serialize(l.rawUrl),g,hm.IgnoredSameUrlNavigation)),l.resolve(!1),Lt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return te(l).pipe(tn(g=>{let y=this.transitions?.getValue();return this.events.next(new vc(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?Lt:Promise.resolve(g)}),L5(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),st(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=pe(O({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let y=new fm(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:y,source:E,restoredState:S,extras:M}=l,V=new vc(g,this.urlSerializer.serialize(y),E,S);this.events.next(V);let z=F1(this.rootComponentType).snapshot;return this.currentTransition=o=pe(O({},l),{targetSnapshot:z,urlAfterRedirects:y,extras:pe(O({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,te(o)}else{let g="";return this.events.next(new rs(l.id,this.urlSerializer.serialize(l.extractedUrl),g,hm.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Lt}}),st(l=>{let d=new FD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),de(l=>(this.currentTransition=o=pe(O({},l),{guards:n5(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),f5(this.environmentInjector,l=>this.events.next(l)),st(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw _m(this.urlSerializer,l.guardsResult);let d=new LD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),He(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ln.GuardRejected),!1)),xD(l=>{if(l.guards.canActivateChecks.length)return te(l).pipe(st(d=>{let f=new VD(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),tn(d=>{let f=!1;return te(d).pipe(V5(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",ln.NoDataFromResolver)}}))}),st(d=>{let f=new jD(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),xD(l=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(st(y=>{f.component=y}),de(()=>{})));for(let y of f.children)g.push(...d(y));return g};return ys(d(l.targetSnapshot.root)).pipe(mi(null),Je(1))}),xD(()=>this.afterPreactivation()),tn(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?Ue(f).pipe(de(()=>o)):te(o)}),de(l=>{let d=K8(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=pe(O({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),st(()=>{this.events.next(new Jl)}),t5(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Je(1),st({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),er(this.transitionAbortSubject.pipe(st(l=>{throw l}))),uu(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",ln.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),gi(l=>{if(c=!0,B1(l))this.events.next(new ei(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Z8(l)?this.events.next(new _c(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Xl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let f=gn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof td){let{message:g,cancellationCode:y}=_m(this.urlSerializer,f);this.events.next(new ei(o.id,this.urlSerializer.serialize(o.extractedUrl),g,y)),this.events.next(new _c(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=r.errorHandler(l);o.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Lt}))}))}cancelNavigationTransition(r,i,s){let o=new ei(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Q5(t){return t!==Kl}var Y5=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(Z5),providedIn:"root"});let t=e;return t})(),nC=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Z5=(()=>{let e=class e extends nC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Y1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(X5),providedIn:"root"});let t=e;return t})(),X5=(()=>{let e=class e extends Y1{constructor(){super(...arguments),this.location=P(gr),this.urlSerializer=P(od),this.options=P(ld,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(aC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ns,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=F1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof vc)this.stateMemento=this.createStateMemento();else if(r instanceof rs)this.rawUrlTree=i.initialUrl;else if(r instanceof fm){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Jl?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ei&&(r.code===ln.GuardRejected||r.code===ln.NoDataFromResolver)?this.restoreHistory(i):r instanceof Xl?this.restoreHistory(i,!0):r instanceof Dr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Gl||{});function Z1(t,e){t.events.pipe(He(n=>n instanceof Dr||n instanceof ei||n instanceof Xl||n instanceof rs),de(n=>n instanceof Dr||n instanceof rs?Gl.COMPLETE:(n instanceof ei?n.code===ln.Redirect||n.code===ln.SupersededByNewNavigation:!1)?Gl.REDIRECTING:Gl.FAILED),He(n=>n!==Gl.REDIRECTING),Je(1)).subscribe(()=>{e()})}function J5(t){throw t}var eK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(_a),this.stateManager=P(Y1),this.options=P(ld,{optional:!0})||{},this.pendingTasks=P(ga),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(cC),this.urlSerializer=P(od),this.location=P(gr),this.urlHandlingStrategy=P(aC),this._events=new J,this.errorHandler=this.options.errorHandler||J5,this.navigated=!1,this.routeReuseStrategy=P(Y5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(id,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(Em,{optional:!0}),this.eventsSubscription=new ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ei&&i.code!==ln.Redirect&&i.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Dr)this.navigated=!0;else if(i instanceof _c){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Q5(s.source)},a);this.scheduleNavigation(c,Kl,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}rK(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Kl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(iC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let y=s?s.snapshot:this.routerState.snapshot.root;g=N1(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return k1(g,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Yl(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Kl,null,i)}navigate(r,i={skipLocationChange:!1}){return nK(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},eK):i===!1?s=O({},tK):s=i,Yl(r))return h1(this.currentUrlTree,r,s);let o=this.parseUrl(r);return h1(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((g,y)=>{c=g,l=y});let f=this.pendingTasks.add();return Z1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nK(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function rK(t){return!(t instanceof Jl)&&!(t instanceof _c)}var fue=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new J,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Dr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:hR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(j(Wn),j(is),__("tabindex"),j(dr),j(Te),j(Br))},e.\u0275dir=De({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ft("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&hr("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",wn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",wn],replaceUrl:[2,"replaceUrl","replaceUrl",wn],routerLink:"routerLink"},standalone:!0,features:[Fr,Bt]});let t=e;return t})();var Im=class{};var iK=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(He(r=>r instanceof Dr),vs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=zf(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ue(s).pipe(fi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=te(null);let o=s.pipe(Ge(a=>a===null?te(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ue([o,a]).pipe(fi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(R(Wn),R(Yf),R(Rt),R(Im),R(oC))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),X1=new U(""),sK=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=P(Rt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof vc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Dr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof rs&&r.code===hm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof pm&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Ai(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new pm(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){TR()},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function pue(t,...e){return Ln([{provide:id,multi:!0,useValue:t},[],{provide:is,useFactory:J1,deps:[Wn]},{provide:Qf,multi:!0,useFactory:eF},e.map(n=>n.\u0275providers)])}function J1(t){return t.routerState.root}function dd(t,e){return{\u0275kind:t,\u0275providers:e}}function eF(){let t=P(Ce);return e=>{let n=t.get(Vr);if(e!==n.components[0])return;let r=t.get(Wn),i=t.get(tF);t.get(uC)===1&&r.initialNavigation(),t.get(nF,null,ve.Optional)?.setUpPreloading(),t.get(X1,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var tF=new U("",{factory:()=>new J}),uC=new U("",{providedIn:"root",factory:()=>1});function oK(){return dd(2,[{provide:uC,useValue:0},{provide:wa,multi:!0,deps:[Ce],useFactory:e=>{let n=e.get(Lx,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Wn),s=e.get(tF);Z1(i,()=>{r(!0)}),e.get(cC).afterPreactivation=()=>(r(!0),s.closed?te(void 0):s),i.initialNavigation()}))}}])}function aK(){return dd(3,[{provide:wa,multi:!0,useFactory:()=>{let e=P(Wn);return()=>{e.setUpLocationChangeListener()}}},{provide:uC,useValue:2}])}var nF=new U("");function cK(t){return dd(0,[{provide:nF,useExisting:iK},{provide:Im,useExisting:t}])}function uK(){return dd(8,[m1,{provide:Em,useExisting:m1}])}function lK(t){let e=[{provide:K1,useValue:G5},{provide:Q1,useValue:O({skipNextTransition:!!t?.skipInitialTransition},t)}];return dd(9,e)}var w1=new U("ROUTER_FORROOT_GUARD"),dK=[gr,{provide:od,useClass:yc},Wn,ad,{provide:is,useFactory:J1,deps:[Wn]},oC,[]],lC=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[dK,[],{provide:id,multi:!0,useValue:r},{provide:w1,useFactory:gK,deps:[[Wn,new ct,new GS]]},{provide:ld,useValue:i||{}},i?.useHash?fK():pK(),hK(),i?.preloadingStrategy?cK(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?mK(i):[],i?.bindToComponentInputs?uK().\u0275providers:[],i?.enableViewTransitions?lK().\u0275providers:[],yK()]}}static forChild(r){return{ngModule:e,providers:[{provide:id,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(R(w1,8))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function hK(){return{provide:X1,useFactory:()=>{let t=P(zx),e=P(W),n=P(ld),r=P(cC),i=P(od);return n.scrollOffset&&t.setOffset(n.scrollOffset),new sK(i,r,t,e,n)}}}function fK(){return{provide:Br,useClass:jx}}function pK(){return{provide:Br,useClass:ow}}function gK(t){return"guarded"}function mK(t){return[t.initialNavigation==="disabled"?aK().\u0275providers:[],t.initialNavigation==="enabledBlocking"?oK().\u0275providers:[]]}var I1=new U("");function yK(){return[{provide:I1,useFactory:eF},{provide:Qf,multi:!0,useExisting:I1}]}var rF={firebaseConfig:{projectId:"angular-ledger",appId:"1:600897041606:web:5db1eba3b696fc8c1913c7",storageBucket:"angular-ledger.appspot.com",apiKey:"AIzaSyA-3fsMKzxUX3SX-A4srhXNDCmjJdaqgNw",authDomain:"angular-ledger.firebaseapp.com",messagingSenderId:"600897041606"},vapidKey:"BAdeshnI4tYW9cTtiUGJQwbpdhH0qw66jOZxNvEGrp4uDMvgc8-FYHO07wRc0LMZbgqYgqEOA0Bcz_FhJV0q904",baseUrl:"/",googleMapApiKey:"AIzaSyA-3fsMKzxUX3SX-A4srhXNDCmjJdaqgNw",apiUrl:"https://us-central1-angular-ledger.cloudfunctions.net/api"};var _ue=(()=>{let e=class e{constructor(){this.executingCounter=B_(0),this.loadingStatus$=new Xe(!1)}get loading$(){return this.loadingStatus$.asObservable()}start(){this.executingCounter.update(r=>r+1),this.executingCounter()>0&&this.loadingStatus$.next(!0)}stop(){this.executingCounter()>0&&this.executingCounter.update(r=>r-1),this.executingCounter()<=0&&this.loadingStatus$.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cue=(()=>{let e=class e{constructor(r,i,s,o,a){this.auth=r,this.messaging=i,this.firestore=s,this.ngZone=o,this.router=a,wN(this.auth,c=>{c&&(this.UserData=c,this.initFCMToken())})}get userUid(){return xI().currentUser?.uid||""}initFCMToken(){return v(this,null,function*(){try{let r=yield d1(this.messaging,{vapidKey:rF.vapidKey}),i=SP(this.firestore,`users/${this.userUid}`);yield AP(i,{fcmToken:r},{merge:!0})}catch(r){console.error("\u53D6\u5F97 FCM Token \u5931\u6557:",r)}})}getAuthFire(){return this.auth.currentUser}Register(r,i){return _N(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.sendEmailVerification(),this.router.navigate(["/signIn"])})}).catch(s=>{window.alert(s.message)})}sendEmailVerification(){throw new Error("Method not implemented.")}Login(r,i){return IN(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.router.navigate(["/"])})}).catch(s=>{window.alert(s.message)})}googleSignIn(){return this.loginWithPopup(new yI)}loginWithPopup(r){return EN(this.auth,r).then(i=>(console.log("logged in",i),i)).catch(i=>{console.log(i)})}logout(){bN(this.auth).then(()=>this.router.navigate(["/signIn"]))}isSignedIn(){return xI().currentUser!==null}};e.\u0275fac=function(i){return new(i||e)(R(Gs),R(wo),R(mo),R(W),R(Wn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _K(t){return t!=null&&`${t}`!="false"}function hd(t,e=0){return wK(t)?Number(t):e}function wK(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Ec(t){return Array.isArray(t)?t:[t]}function it(t){return t==null?"":typeof t=="string"?t:`${t}px`}function ti(t){return t instanceof Te?t.nativeElement:t}function Rue(t,e=/\s+/){let n=[];if(t!=null){let r=Array.isArray(t)?t:`${t}`.split(e);for(let i of r){let s=`${i}`.trim();s&&n.push(s)}}return n}var hC;try{hC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hC=!1}var Ze=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?cw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||hC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(R(yn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bc,iF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Fue(){if(bc)return bc;if(typeof document!="object"||!document)return bc=new Set(iF),bc;let t=document.createElement("input");return bc=new Set(iF.filter(e=>(t.setAttribute("type",e),t.type===e))),bc}var fd;function IK(){if(fd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fd=!0}))}finally{fd=fd||!1}return fd}function Dc(t){return IK()?t:!!t.capture}var bo;function sF(){if(bo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return bo=!1,bo;if("scrollBehavior"in document.documentElement.style)bo=!0;else{let t=Element.prototype.scrollTo;t?bo=!/\{\s*\[native code\]\s*\}/.test(t.toString()):bo=!1}}return bo}var dC;function EK(){if(dC==null){let t=typeof document<"u"?document.head:null;dC=!!(t&&(t.createShadowRoot||t.attachShadow))}return dC}function oF(t){if(EK()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Cc(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function An(t){return t.composedPath?t.composedPath()[0]:t.target}function pd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var bK=new U("cdk-dir-doc",{providedIn:"root",factory:DK});function DK(){return P(ae)}var CK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function TK(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?CK.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var md=(()=>{let e=class e{constructor(r){if(this.value="ltr",this.change=new Ae,r){let i=r.body?r.body.dir:null,s=r.documentElement?r.documentElement.dir:null;this.value=TK(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(R(bK,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var os=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var AK=20,cF=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this._platform=i,this._scrolled=new J,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=AK){return this._platform.isBrowser?new re(i=>{this._globalSubscription||this._addGlobalListener();let s=r>0?this._scrolled.pipe(Mh(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):te()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let s=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(He(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,r)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let s=ti(i),o=r.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return su(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(R(W),R(Ze),R(ae,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var RK=20,fC=(()=>{let e=class e{constructor(r,i,s){this._platform=r,this._change=new J,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(r.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+s,right:r.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),s=r.documentElement,o=s.getBoundingClientRect(),a=-o.top||r.body.scrollTop||i.scrollY||s.scrollTop||0,c=-o.left||r.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(r=RK){return r>0?this._change.pipe(Mh(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(R(Ze),R(W),R(ae,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),pC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[os,aF,os,aF]});let t=e;return t})();var yd=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Tc=class extends yd{constructor(e,n,r,i,s){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}},Sc=class extends yd{constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},gC=class extends yd{constructor(e){super(),this.element=e instanceof Te?e.nativeElement:e}},Ac=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Tc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Sc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof gC)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Dm=class extends Ac{constructor(e,n,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ce.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var vd=(()=>{let e=class e extends Ac{constructor(r,i,s){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ae,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,o=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),a=i.createComponent(o,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=r,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};e.\u0275fac=function(i){return new(i||e)(j(or),j(vn),j(ae))},e.\u0275dir=De({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[et]});let t=e;return t})();var Rc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function Cm(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var uF=sF(),mC=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=it(-this._previousScrollPosition.left),e.style.top=it(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,r=e.style,i=n.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),uF&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),uF&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var yC=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(He(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Tm=class{enable(){}disable(){}attach(){}};function vC(t,e){return e.some(n=>{let r=t.bottom<n.top,i=t.top>n.bottom,s=t.right<n.left,o=t.left>n.right;return r||i||s||o})}function lF(t,e){return e.some(n=>{let r=t.top<n.top,i=t.bottom>n.bottom,s=t.left<n.left,o=t.right>n.right;return r||i||s||o})}var _C=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();vC(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},MK=(()=>{let e=class e{constructor(r,i,s,o){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new Tm,this.close=a=>new yC(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new mC(this._viewportRuler,this._document),this.reposition=a=>new _C(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.\u0275fac=function(i){return new(i||e)(R(cF),R(fC),R(W),R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_d=class{constructor(e){if(this.scrollStrategy=new Tm,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let r of n)e[r]!==void 0&&(this[r]=e[r])}}};var wC=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var gF=(()=>{let e=class e{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NK=(()=>{let e=class e extends gF{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(W,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kK=(()=>{let e=class e extends gF{constructor(r,i,s){super(r),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=An(o)},this._clickListener=o=>{let a=An(o),c=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let d=l.length-1;d>-1;d--){let f=l[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(c))break;let g=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(o)):g.next(o)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(Ze),R(W,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xc=(()=>{let e=class e{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||pd()){let s=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let i=this._document.createElement("div");i.classList.add(r),pd()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(Ze))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ni=class{constructor(e,n,r,i,s,o,a,c,l,d=!1,f){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._injector=f,this._backdropElement=null,this._backdropClick=new J,this._attachments=new J,this._detachments=new J,this._locationChanges=ke.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new J,this._outsidePointerEvents=new J,this._renders=new J,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=Y_(()=>V_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Ai(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=O(O({},this._config),e),this._updateElementSize()}setDirection(e){this._config=pe(O({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=it(this._config.width),e.height=it(this._config.height),e.minWidth=it(this._config.minWidth),e.minHeight=it(this._config.minHeight),e.maxWidth=it(this._config.maxWidth),e.maxHeight=it(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){let i=Ec(n||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(er(ou(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},dF="cdk-overlay-connected-position-bounding-box",OK=/([A-Za-z%]+)$/,IC=class{get positions(){return this._preferredPositions}constructor(e,n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new J,this._resizeSubscription=ke.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(dF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,n,a),d=this._getOverlayFit(l,n,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,l,r)){s.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(s.length){let a=null,c=-1;for(let l of s){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Do(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(dF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?o:a}n.left<0&&(i-=n.left);let s;return r.originY=="center"?s=e.top+e.height/2:s=r.originY=="top"?e.top:e.bottom,n.top<0&&(s-=n.top),{x:i,y:s}}_getOverlayPoint(e,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let s;return r.overlayY=="center"?s=-n.height/2:s=r.overlayY=="top"?0:-n.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,n,r,i){let s=fF(n),{x:o,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(o+=c),l&&(a+=l);let d=0-o,f=o+s.width-r.width,g=0-a,y=a+s.height-r.height,E=this._subtractOverflows(s.width,d,f),S=this._subtractOverflows(s.height,g,y),M=E*S;return{visibleArea:M,isCompletelyWithinViewport:s.width*s.height===M,fitsInViewportVertically:S===s.height,fitsInViewportHorizontally:E==s.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,s=r.right-n.x,o=hF(this._overlayRef.getConfig().minHeight),a=hF(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||o!=null&&o<=i,l=e.fitsInViewportHorizontally||a!=null&&a<=s;return c&&l}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=fF(n),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),l=Math.max(s.left-r.left-e.x,0),d=0,f=0;return i.width<=s.width?d=l||-o:d=e.x<this._viewportMargin?s.left-r.left-e.x:0,i.height<=s.height?f=c||-a:f=e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:d,y:f},{x:e.x+d,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!PK(this._lastScrollVisibility,r)){let i=new wC(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){let r=this._viewportRect,i=this._isRtl(),s,o,a;if(n.overlayY==="top")o=e.y,s=r.height-o+this._viewportMargin;else if(n.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,s=r.height-a+this._viewportMargin;else{let y=Math.min(r.bottom-e.y+r.top,e.y),E=this._lastBoundingBoxSize.height;s=y*2,o=e.y-y,s>E&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-E/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,l=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,d,f,g;if(l)g=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)f=e.x,d=r.right-e.x;else{let y=Math.min(r.right-e.x+r.left,e.x),E=this._lastBoundingBoxSize.width;d=y*2,f=e.x-y,d>E&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-E/2)}return{top:o,left:f,bottom:a,right:g,width:d,height:s}}_setBoundingBoxStyles(e,n){let r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=it(r.height),i.top=it(r.top),i.bottom=it(r.bottom),i.width=it(r.width),i.left=it(r.left),i.right=it(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=it(s)),o&&(i.maxWidth=it(o))}this._lastBoundingBoxSize=r,Do(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Do(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Do(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();Do(r,this._getExactOverlayY(n,e,d)),Do(r,this._getExactOverlayX(n,e,d))}else r.position="static";let a="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=it(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=it(o.maxWidth):s&&(r.maxWidth="")),Do(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;i.bottom=`${o-(s.y+this._overlayRect.height)}px`}else i.top=it(s.y);return i}_getExactOverlayX(e,n,r){let i={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(s.x+this._overlayRect.width)}px`}else i.left=it(s.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:lF(e,r),isOriginOutsideView:vC(e,r),isOverlayClipped:lF(n,r),isOverlayOutsideView:vC(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Ec(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Te)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}};function Do(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function hF(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(OK);return!n||n==="px"?parseFloat(e):null}return t||null}function fF(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function PK(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var pF="cdk-global-overlay-wrapper",EC=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(pF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!o||o==="100%"||o==="100vw"),l=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,f=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",y="",E="",S="";c?S="flex-start":d==="center"?(S="center",g?E=f:y=f):g?d==="left"||d==="end"?(S="flex-end",y=f):(d==="right"||d==="start")&&(S="flex-start",E=f):d==="left"||d==="start"?(S="flex-start",y=f):(d==="right"||d==="end")&&(S="flex-end",E=f),e.position=this._cssPosition,e.marginLeft=c?"0":y,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":E,n.justifyContent=S,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(pF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},FK=(()=>{let e=class e{constructor(r,i,s,o){this._viewportRuler=r,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new EC}flexibleConnectedTo(r){return new IC(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(i){return new(i||e)(R(fC),R(ae),R(Ze),R(xc))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),LK=0,Kn=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,d,f,g,y,E){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=d,this._directionality=f,this._location=g,this._outsideClickDispatcher=y,this._animationsModuleType=E}create(r){let i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new _d(r);return a.direction=a.direction||this._directionality.value,new ni(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Rt))}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${LK++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(Vr)),new Dm(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(i){return new(i||e)(R(MK),R(xc),R(or),R(FK),R(NK),R(Ce),R(W),R(ae),R(md),R(gr),R(kK),R(Ti,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var VK=new U("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=P(Kn);return()=>t.scrollStrategies.reposition()}});function jK(t){return()=>t.scrollStrategies.reposition()}var UK={provide:VK,deps:[Kn],useFactory:jK},bC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[Kn,UK],imports:[os,Rc,pC,pC]});let t=e;return t})();var BK=(()=>{let e=class e{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[BK]});let t=e;return t})();var vF=new Set,Co,$K=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zK}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&HK(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(R(Ze),R(Su,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HK(t,e){if(!vF.has(t))try{Co||(Co=document.createElement("style"),e&&Co.setAttribute("nonce",e),Co.setAttribute("type","text/css"),document.head.appendChild(Co)),Co.sheet&&(Co.sheet.insertRule(`@media ${t} {body{ }}`,0),vF.add(t))}catch(n){console.error(n)}}function zK(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var wF=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new J}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return _F(Ec(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let s=_F(Ec(r)).map(a=>this._registerQuery(a).observable),o=ys(s);return o=Xn(o.pipe(Je(1)),o.pipe(lu(1),kh(0))),o.pipe(de(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),o={observable:new re(a=>{let c=l=>this._zone.run(()=>a.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Nn(i),de(({matches:a})=>({query:r,matches:a})),er(this._destroySubject)),mql:i};return this._queries.set(r,o),o}};e.\u0275fac=function(i){return new(i||e)(R($K),R(W))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _F(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Ple={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var wd=(()=>{let e=class e{constructor(r){this._platform=r}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return GK(r)&&getComputedStyle(r).visibility==="visible"}isTabbable(r){if(!this._platform.isBrowser)return!1;let i=qK(e7(r));if(i&&(IF(i)===-1||!this.isVisible(i)))return!1;let s=r.nodeName.toLowerCase(),o=IF(r);return r.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!XK(r)?!1:s==="audio"?r.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||r.hasAttribute("controls"):r.tabIndex>=0}isFocusable(r,i){return JK(r)&&!this.isDisabled(r)&&(i?.ignoreVisibility||this.isVisible(r))}};e.\u0275fac=function(i){return new(i||e)(R(Ze))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qK(t){try{return t.frameElement}catch{return null}}function GK(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function WK(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function KK(t){return YK(t)&&t.type=="hidden"}function QK(t){return ZK(t)&&t.hasAttribute("href")}function YK(t){return t.nodeName.toLowerCase()=="input"}function ZK(t){return t.nodeName.toLowerCase()=="a"}function DF(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function IF(t){if(!DF(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function XK(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function JK(t){return KK(t)?!1:WK(t)||QK(t)||t.hasAttribute("contenteditable")||DF(t)}function e7(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var CC=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,r,i,s=!1,o){this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(e),!!r}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?this._injector?Ai(e,{injector:this._injector}):e():this._ngZone.onStable.pipe(Je(1)).subscribe(e)}},Id=(()=>{let e=class e{constructor(r,i,s){this._checker=r,this._ngZone=i,this._injector=P(Ce),this._document=s}create(r,i=!1){return new CC(r,this._checker,this._ngZone,this._document,i,this._injector)}};e.\u0275fac=function(i){return new(i||e)(R(wd),R(W),R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rde=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(r){this.focusTrap&&(this.focusTrap.enabled=r)}constructor(r,i,s){this._elementRef=r,this._focusTrapFactory=i,this._previouslyFocusedElement=null,P(Ze).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(r){let i=r.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Cc(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(Id),j(ae))},e.\u0275dir=De({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",wn],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",wn]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Fr,Bt]});let t=e;return t})();function TC(t){return t.buttons===0||t.detail===0}function SC(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var t7=new U("cdk-input-modality-detector-options"),n7={ignoreKeys:[18,17,224,91,16]},CF=650,Mc=Dc({passive:!0,capture:!0}),r7=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(r,i,s,o){this._platform=r,this._mostRecentTarget=null,this._modality=new Xe(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=An(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<CF||(this._modality.next(TC(a)?"keyboard":"mouse"),this._mostRecentTarget=An(a))},this._onTouchstart=a=>{if(SC(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=An(a)},this._options=O(O({},n7),o),this.modalityDetected=this._modality.pipe(lu(1)),this.modalityChanged=this.modalityDetected.pipe(cu()),r.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Mc),s.addEventListener("mousedown",this._onMousedown,Mc),s.addEventListener("touchstart",this._onTouchstart,Mc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Mc),document.removeEventListener("mousedown",this._onMousedown,Mc),document.removeEventListener("touchstart",this._onTouchstart,Mc))}};e.\u0275fac=function(i){return new(i||e)(R(Ze),R(W),R(ae),R(t7,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),i7=new U("liveAnnouncerElement",{providedIn:"root",factory:s7});function s7(){return null}var o7=new U("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),a7=0,ide=(()=>{let e=class e{constructor(r,i,s,o){this._ngZone=i,this._defaultOptions=o,this._document=s,this._liveElement=r||this._createLiveElement()}announce(r,...i){let s=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),a==null&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=r,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let r="cdk-live-announcer-element",i=this._document.getElementsByClassName(r),s=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return s.classList.add(r),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${a7++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(r){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){let o=i[s],a=o.getAttribute("aria-owns");a?a.indexOf(r)===-1&&o.setAttribute("aria-owns",a+" "+r):o.setAttribute("aria-owns",r)}}};e.\u0275fac=function(i){return new(i||e)(R(i7,8),R(W),R(ae),R(o7,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Am=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Am||{}),c7=new U("cdk-focus-monitor-default-options"),Sm=Dc({passive:!0,capture:!0}),Ed=(()=>{let e=class e{constructor(r,i,s,o,a){this._ngZone=r,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new J,this._rootNodeFocusAndBlurListener=c=>{let l=An(c);for(let d=l;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=o,this._detectionMode=a?.detectionMode||Am.IMMEDIATE}monitor(r,i=!1){let s=ti(r);if(!this._platform.isBrowser||s.nodeType!==1)return te();let o=oF(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new J,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(r){let i=ti(r),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(r,i,s){let o=ti(r),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,l])=>this._originChanged(c,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((r,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===Am.EVENTUAL||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,i){r.classList.toggle("cdk-focused",!!i),r.classList.toggle("cdk-touch-focused",i==="touch"),r.classList.toggle("cdk-keyboard-focused",i==="keyboard"),r.classList.toggle("cdk-mouse-focused",i==="mouse"),r.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(r,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&i,this._detectionMode===Am.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?CF:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(r,i){let s=this._elementInfo.get(i),o=An(r);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(r,i){let s=this._elementInfo.get(i);!s||s.checkChildren&&r.relatedTarget instanceof Node&&i.contains(r.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(r,i){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(i))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let i=r.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Sm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Sm)}),this._rootNodeFocusListenerCount.set(i,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(er(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(r){let i=r.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Sm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Sm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,i,s){this._setClasses(r,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(r){let i=[];return this._elementInfo.forEach((s,o)=>{(o===r||s.checkChildren&&o.contains(r))&&i.push([o,s])}),i}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!i||i===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let o=r.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}};e.\u0275fac=function(i){return new(i||e)(R(W),R(Ze),R(r7),R(ae,8),R(c7,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sde=(()=>{let e=class e{constructor(r,i){this._elementRef=r,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Ae}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let r=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(r,r.nodeType===1&&r.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(Ed))},e.\u0275dir=De({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),To=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(To||{}),EF="cdk-high-contrast-black-on-white",bF="cdk-high-contrast-white-on-black",DC="cdk-high-contrast-active",AC=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=P(wF).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return To.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return To.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return To.BLACK_ON_WHITE}return To.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(DC,EF,bF),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===To.BLACK_ON_WHITE?r.add(DC,EF):i===To.WHITE_ON_BLACK&&r.add(DC,bF)}}};e.\u0275fac=function(i){return new(i||e)(R(Ze),R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),TF=(()=>{let e=class e{constructor(r){r._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(i){return new(i||e)(R(AC))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[yF]});let t=e;return t})();function u7(t,e){}var So=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var NC=(()=>{let e=class e extends Ac{constructor(r,i,s,o,a,c,l,d){super(),this._elementRef=r,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=l,this._focusMonitor=d,this._platform=P(Ze),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=P(_n),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),g},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let i=this._ariaLabelledByQueue.indexOf(r);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),i}attachTemplatePortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,i){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{r.removeEventListener("blur",s),r.removeEventListener("mousedown",s),r.removeAttribute("tabindex")};r.addEventListener("blur",s),r.addEventListener("mousedown",s)})),r.focus(i)}_focusByCssSelector(r,i){let s=this._elementRef.nativeElement.querySelector(r);s&&this._forceFocus(s,i)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,i=null;if(typeof r=="string"?i=this._document.querySelector(r):typeof r=="boolean"?i=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(i=r),this._config.restoreFocus&&i&&typeof i.focus=="function"){let s=Cc(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,i=Cc();return r===i||r.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Cc()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(Id),j(ae,8),j(So),j(wd),j(W),j(ni),j(Ed))},e.\u0275cmp=cr({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(i&1&&Gf(vd,7),i&2){let o;Nu(o=ku())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){i&2&&hr("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[et,fr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){i&1&&Bn(0,u7,0,0,"ng-template",0)},dependencies:[vd],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),bd=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new J,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Cm(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},l7=new U("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=P(Kn);return()=>t.scrollStrategies.block()}}),d7=new U("DialogData"),h7=new U("DefaultDialogConfig");var f7=0,kC=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,i,s,o,a,c){this._overlay=r,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this._ariaHiddenElements=new Map,this.afterAllClosed=pi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Nn(void 0))),this._scrollStrategy=c}open(r,i){let s=this._defaultOptions||new So;i=O(O({},s),i),i.id=i.id||`cdk-dialog-${f7++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=this._overlay.create(o),c=new bd(a,i),l=this._attachContainer(a,c,i);return c.containerInstance=l,this._attachDialogContent(r,c,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){xC(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){xC(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),xC(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let i=new _d({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(i.backdropClass=r.backdropClass),i}_attachContainer(r,i,s){let o=s.injector||s.viewContainerRef?.injector,a=[{provide:So,useValue:s},{provide:bd,useValue:i},{provide:ni,useValue:r}],c;s.container?typeof s.container=="function"?c=s.container:(c=s.container.type,a.push(...s.container.providers(s))):c=NC;let l=new Tc(c,s.viewContainerRef,Ce.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return r.attach(l).instance}_attachDialogContent(r,i,s,o){if(r instanceof Fn){let a=this._createInjector(o,i,s,void 0),c={$implicit:o.data,dialogRef:i};o.templateContext&&(c=O(O({},c),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new Sc(r,null,c,a))}else{let a=this._createInjector(o,i,s,this._injector),c=s.attachComponentPortal(new Tc(r,o.viewContainerRef,a,o.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(r,i,s,o){let a=r.injector||r.viewContainerRef?.injector,c=[{provide:d7,useValue:r.data},{provide:bd,useValue:i}];return r.providers&&(typeof r.providers=="function"?c.push(...r.providers(i,r,s)):c.push(...r.providers)),r.direction&&(!a||!a.get(md,null,{optional:!0}))&&c.push({provide:md,useValue:{value:r.direction,change:te()}}),Ce.create({parent:a||o,providers:c})}_removeOpenDialog(r,i){let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let i=r.parentElement.children;for(let s=i.length-1;s>-1;s--){let o=i[s];o!==r&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(i){return new(i||e)(R(Kn),R(Ce),R(h7,8),R(e,12),R(xc),R(l7))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xC(t,e){let n=t.length;for(;n--;)e(t[n])}var p7=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[kC],imports:[bC,Rc,TF,Rc]});let t=e;return t})();var Gde=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),Wde=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function g7(){return!0}var m7=new U("mat-sanity-checks",{providedIn:"root",factory:g7}),SF=(()=>{let e=class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return pd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(R(AC),R(m7,8),R(ae))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[os,os]});let t=e;return t})();var AF=class{constructor(e,n,r,i,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,n)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var RF=new U("MAT_DATE_LOCALE",{providedIn:"root",factory:y7});function y7(){return P(Ia)}var xm=class{constructor(){this._localeChanges=new J,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let r=this.isValid(e),i=this.isValid(n);return r&&i?!this.compareDate(e,n):r==i}return e==n}clampDate(e,n,r){return n&&this.compareDate(e,n)<0?n:r&&this.compareDate(e,r)>0?r:e}},v7=new U("mat-date-formats"),_7=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function OC(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}var w7=(()=>{let e=class e extends xm{constructor(r){super(),this.useUtcForDisplay=!1,this._matDateLocale=P(RF,{optional:!0}),r!==void 0&&(this._matDateLocale=r),super.setLocale(this._matDateLocale)}getYear(r){return r.getFullYear()}getMonth(r){return r.getMonth()}getDate(r){return r.getDate()}getDayOfWeek(r){return r.getDay()}getMonthNames(r){let i=new Intl.DateTimeFormat(this.locale,{month:r,timeZone:"utc"});return OC(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){let r=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return OC(31,i=>this._format(r,new Date(2017,0,i+1)))}getDayOfWeekNames(r){let i=new Intl.DateTimeFormat(this.locale,{weekday:r,timeZone:"utc"});return OC(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(r){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,r)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(r){return this.getDate(this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+1,0))}clone(r){return new Date(r.getTime())}createDate(r,i,s){let o=this._createDateWithOverflow(r,i,s);return o.getMonth()!=i,o}today(){return new Date}parse(r,i){return typeof r=="number"?new Date(r):r?new Date(Date.parse(r)):null}format(r,i){if(!this.isValid(r))throw Error("NativeDateAdapter: Cannot format invalid date.");let s=new Intl.DateTimeFormat(this.locale,pe(O({},i),{timeZone:"utc"}));return this._format(s,r)}addCalendarYears(r,i){return this.addCalendarMonths(r,i*12)}addCalendarMonths(r,i){let s=this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+i,this.getDate(r));return this.getMonth(s)!=((this.getMonth(r)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(r,i){return this._createDateWithOverflow(this.getYear(r),this.getMonth(r),this.getDate(r)+i)}toIso8601(r){return[r.getUTCFullYear(),this._2digit(r.getUTCMonth()+1),this._2digit(r.getUTCDate())].join("-")}deserialize(r){if(typeof r=="string"){if(!r)return null;if(_7.test(r)){let i=new Date(r);if(this.isValid(i))return i}}return super.deserialize(r)}isDateInstance(r){return r instanceof Date}isValid(r){return!isNaN(r.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(r,i,s){let o=new Date;return o.setFullYear(r,i,s),o.setHours(0,0,0,0),o}_2digit(r){return("00"+r).slice(-2)}_format(r,i){let s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),r.format(s)}};e.\u0275fac=function(i){return new(i||e)(R(RF,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),I7={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function Kde(t=I7){return[{provide:xm,useClass:w7},{provide:v7,useValue:t}]}var Qde=(()=>{let e=class e{isErrorState(r,i){return!!(r&&r.invalid&&(r.touched||i&&i.submitted))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Rn||{}),LC=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=Rn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},xF=Dc({passive:!0,capture:!0}),VC=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=An(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){let s=this._events.get(n);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,xF)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let s=i.get(n);s&&(s.delete(r),s.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,xF)))}},MF={enterDuration:225,exitDuration:150},E7=800,NF=Dc({passive:!0,capture:!0}),kF=["mousedown","touchstart"],OF=["mouseup","mouseleave","touchend","touchcancel"],Dd=class Dd{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ti(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=O(O({},MF),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let o=r.radius||b7(e,n,i),a=e-i.left,c=n-i.top,l=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),g=f.transitionProperty,y=f.transitionDuration,E=g==="none"||y==="0s"||y==="0s, 0s"||i.width===0&&i.height===0,S=new LC(this,d,r,E);d.style.transform="scale3d(1, 1, 1)",S.state=Rn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=S);let M=null;return!E&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let V=()=>this._finishRippleTransition(S),z=()=>this._destroyRipple(S);d.addEventListener("transitionend",V),d.addEventListener("transitioncancel",z),M={onTransitionEnd:V,onTransitionCancel:z}}),this._activeRipples.set(S,M),(E||!l)&&this._finishRippleTransition(S),S}fadeOutRipple(e){if(e.state===Rn.FADING_OUT||e.state===Rn.HIDDEN)return;let n=e.element,r=O(O({},MF),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=Rn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=ti(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,kF.forEach(r=>{Dd._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{OF.forEach(n=>{this._triggerElement.addEventListener(n,this,NF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Rn.FADING_IN?this._startFadeOutTransition(e):e.state===Rn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Rn.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Rn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=TC(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+E7;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!SC(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Rn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Rn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(kF.forEach(n=>Dd._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(OF.forEach(n=>e.removeEventListener(n,this,NF)),this._pointerUpEventsRegistered=!1))}};Dd._eventManager=new VC;var jC=Dd;function b7(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var VF=new U("mat-ripple-global-options"),D7=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,i,s,o,a){this._elementRef=r,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new jC(this,i,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:O(O(O({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,i=0,s){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,i,O(O({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,O(O({},this.rippleConfig),r))}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(W),j(Ze),j(VF,8),j(Ti,8))},e.\u0275dir=De({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){i&2&&Lr("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),Yde=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[SF,SF]});let t=e;return t})();var PF={capture:!0},FF=["focus","mousedown","mouseenter","touchstart"],PC="mat-ripple-loader-uninitialized",FC="mat-ripple-loader-class-name",LF="mat-ripple-loader-centered",Rm="mat-ripple-loader-disabled",Zde=(()=>{let e=class e{constructor(){this._document=P(ae,{optional:!0}),this._animationMode=P(Ti,{optional:!0}),this._globalRippleOptions=P(VF,{optional:!0}),this._platform=P(Ze),this._ngZone=P(W),this._hosts=new Map,this._onInteraction=r=>{let i=An(r);if(i instanceof HTMLElement){let s=i.closest(`[${PC}="${this._globalRippleOptions?.namespace??""}"]`);s&&this._createRipple(s)}},this._ngZone.runOutsideAngular(()=>{for(let r of FF)this._document?.addEventListener(r,this._onInteraction,PF)})}ngOnDestroy(){let r=this._hosts.keys();for(let i of r)this.destroyRipple(i);for(let i of FF)this._document?.removeEventListener(i,this._onInteraction,PF)}configureRipple(r,i){r.setAttribute(PC,this._globalRippleOptions?.namespace??""),(i.className||!r.hasAttribute(FC))&&r.setAttribute(FC,i.className||""),i.centered&&r.setAttribute(LF,""),i.disabled&&r.setAttribute(Rm,"")}getRipple(r){return this._hosts.get(r)||this._createRipple(r)}setDisabled(r,i){let s=this._hosts.get(r);if(s){s.disabled=i;return}i?r.setAttribute(Rm,""):r.removeAttribute(Rm)}_createRipple(r){if(!this._document)return;let i=this._hosts.get(r);if(i)return i;r.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",r.getAttribute(FC)),r.append(s);let o=new D7(new Te(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=r,o.centered=r.hasAttribute(LF),o.disabled=r.hasAttribute(Rm),this.attachRipple(r,o),o}attachRipple(r,i){r.removeAttribute(PC),this._hosts.set(r,i)}destroyRipple(r){let i=this._hosts.get(r);i&&(i.ngOnDestroy(),this._hosts.delete(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qn=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Qn||{}),ehe="*";function the(t,e){return{type:Qn.Trigger,name:t,definitions:e,options:{}}}function nhe(t,e=null){return{type:Qn.Animate,styles:e,timings:t}}function rhe(t,e=null){return{type:Qn.Group,steps:t,options:e}}function ihe(t,e=null){return{type:Qn.Sequence,steps:t,options:e}}function she(t){return{type:Qn.Style,styles:t,offset:null}}function ohe(t,e,n){return{type:Qn.State,name:t,styles:e,options:n}}function ahe(t){return{type:Qn.Keyframes,steps:t}}function che(t,e,n=null){return{type:Qn.Transition,expr:t,animation:e,options:n}}function uhe(t=null){return{type:Qn.AnimateChild,options:t}}function lhe(t,e,n=null){return{type:Qn.Query,selector:t,animation:e,options:n}}var jF=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},UF=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},dhe="!";function C7(t,e){}var Cd=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},UC="mdc-dialog--open",BF="mdc-dialog--opening",$F="mdc-dialog--closing",T7=150,S7=75,A7=(()=>{let e=class e extends NC{constructor(r,i,s,o,a,c,l,d,f){super(r,i,s,o,a,c,l,f),this._animationMode=d,this._animationStateChanged=new Ae,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?zF(this._config.enterAnimationDuration)??T7:0,this._exitAnimationDuration=this._animationsEnabled?zF(this._config.exitAnimationDuration)??S7:0,this._animationTimer=null,this._isDestroyed=!1,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(HF,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(BF,UC)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(UC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(UC),this._animationsEnabled?(this._hostElement.style.setProperty(HF,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add($F)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(r){this._actionSectionCount+=r,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(BF,$F)}_waitForAnimationToComplete(r,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._isDestroyed||(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r}))}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer),this._isDestroyed=!0}attachComponentPortal(r){let i=super.attachComponentPortal(r);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(Id),j(ae,8),j(Cd),j(wd),j(W),j(ni),j(Ti,8),j(Ed))},e.\u0275cmp=cr({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,s){i&2&&(qf("id",s._config.id),hr("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Lr("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[et,fr],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,s){i&1&&($t(0,"div",0)(1,"div",1),Bn(2,C7,0,0,"ng-template",2),Mt()())},dependencies:[vd],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let t=e;return t})(),HF="--mat-dialog-transition-duration";function zF(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?hd(t.substring(0,t.length-2)):t.endsWith("s")?hd(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Mm=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Mm||{}),BC=class{constructor(e,n,r){this._ref=e,this._containerInstance=r,this._afterOpened=new J,this._beforeClosed=new J,this._state=Mm.OPEN,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(He(i=>i.state==="opened"),Je(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(He(i=>i.state==="closed"),Je(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),ou(this.backdropClick(),this.keydownEvents().pipe(He(i=>i.keyCode===27&&!this.disableClose&&!Cm(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),R7(this,i.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(He(n=>n.state==="closing"),Je(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Mm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Mm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function R7(t,e,n){return t._closeInteractionType=e,t.close(n)}var $C=new U("MatMdcDialogData"),x7=new U("mat-mdc-dialog-default-options"),M7=new U("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=P(Kn);return()=>t.scrollStrategies.block()}});var N7=0,qF=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,i,s,o,a,c,l,d){this._overlay=r,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this.dialogConfigClass=Cd,this.afterAllClosed=pi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Nn(void 0))),this._dialog=i.get(kC),this._dialogRefConstructor=BC,this._dialogContainerType=A7,this._dialogDataToken=$C}open(r,i){let s;i=O(O({},this._defaultOptions||new Cd),i),i.id=i.id||`mat-mdc-dialog-${N7++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(r,pe(O({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:So,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(a,c,l)=>(s=new this._dialogRefConstructor(a,i,l),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=o.componentRef,s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let i=r.length;for(;i--;)r[i].close()}};e.\u0275fac=function(i){return new(i||e)(R(Kn),R(Ce),R(gr,8),R(x7,8),R(M7),R(e,12),R(xc),R(Ti,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var O7=t=>({"pb-10":t});function P7(t,e){if(t&1){let n=q_();$t(0,"button",12),ft("click",function(){l_(n);let i=ya();return d_(i.cancel())}),OA(),$t(1,"svg",13),Ri(2,"path",14),Mt(),PA(),$t(3,"span",15),va(4,"Close modal"),Mt()()}}function F7(t,e){t&1&&z_(0)}function L7(t,e){if(t&1&&Bn(0,F7,1,0,"ng-container",16),t&2){let n=ya();Ps("ngTemplateOutlet",n.contentTemplateRef)}}function V7(t,e){if(t&1){let n=q_();$t(0,"button",17),ft("click",function(){l_(n);let i=ya();return d_(i.cancel())}),va(1),Mt()}if(t&2){let n=ya();jn(),Fs(" ",n.cancelText," ")}}var GF=(()=>{let e=class e{constructor(r){if(this.data=r,this.doConfirm=w_(),this.doCancel=w_(),this.title="\u901A\u77E5",this.content="",this.okText="\u78BA\u8A8D",this.cancelText="\u53D6\u6D88",this.outsideClose=!1,this.showCrossBtn=!0,this.showCancelBtn=!0,this.btnCenter=!0,this.fullScreen=!1,this.data){let{title:i,content:s,okText:o,cancelText:a,showCrossBtn:c,outsideClose:l,showCancelBtn:d,contentTemplateRef:f,btnCenter:g,fullScreen:y,afterViewInit:E}=r;this.title=i??this.title,this.content=s??this.content,this.okText=o??this.okText,this.cancelText=a??this.cancelText,this.showCrossBtn=c??this.showCrossBtn,this.outsideClose=l??this.outsideClose,this.showCancelBtn=d??this.showCancelBtn,this.btnCenter=g??this.btnCenter,this.contentTemplateRef=f,this.fullScreen=y??this.fullScreen,this.afterViewInitEvent=E||(()=>{})}}ngOnInit(){}ngAfterViewInit(){this.afterViewInitEvent()}clickOutsideClose(){this.outsideClose&&this.cancel()}cancel(){this.doCancel.emit()}ok(){this.doConfirm.emit()}};e.\u0275fac=function(i){return new(i||e)(j($C))},e.\u0275cmp=cr({type:e,selectors:[["app-modal"]],outputs:{doConfirm:"doConfirm",doCancel:"doCancel"},standalone:!0,features:[fr],decls:15,vars:10,consts:[[1,"bg-white","dark:bg-gray-700","min-w-72","min-h-48","flex","overflow-y-auto","overflow-x-hidden","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","w-full","max-w-2xl","max-h-screen","overflow-scroll"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide","default-modal",3,"click",4,"ngIf"],[1,"p-4","md:p-5","space-y-4","text-gray-900","dark:text-white","min-h-20"],[3,"innerHTML"],[1,"flex","justify-center","items-center","p-4","md:p-5","border-t","border-gray-200","rounded-b","dark:border-gray-600"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["type","button","class","ms-3 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",3,"click",4,"ngIf"],[1,"fixed","h-full","w-full","top-0","left-0","-z-10",3,"click"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[4,"ngTemplateOutlet"],["type","button",1,"ms-3","text-gray-500","bg-white","hover:bg-gray-100","focus:ring-4","focus:outline-none","focus:ring-blue-300","rounded-lg","border","border-gray-200","text-sm","font-medium","px-5","py-2.5","hover:text-gray-900","focus:z-10","dark:bg-gray-700","dark:text-gray-300","dark:border-gray-500","dark:hover:text-white","dark:hover:bg-gray-600","dark:focus:ring-gray-600",3,"click"]],template:function(i,s){i&1&&($t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),va(5),Mt(),Bn(6,P7,5,0,"button",5),Mt(),$t(7,"div",6),Ri(8,"p",7),Bn(9,L7,1,1,"ng-container"),Mt(),$t(10,"div",8)(11,"button",9),ft("click",function(){return s.ok()}),va(12),Mt(),Bn(13,V7,2,1,"button",10),Mt()()()(),$t(14,"div",11),ft("click",function(){return s.clickOutsideClose()}),Mt()),i&2&&(jn(5),Fs(" ",s.title," "),jn(),Ps("ngIf",s.showCrossBtn&&s.showCancelBtn),jn(2),Ps("innerHTML",s.content,dR),jn(),H_(s.contentTemplateRef?9:-1),jn(),ux(wx(8,O7,s.fullScreen)),jn(2),Fs(" ",s.okText," "),jn(),Ps("ngIf",s.showCancelBtn))},dependencies:[Vs,$x,Hx]});let t=e;return t})();var $he=(()=>{let e=class e{constructor(r){this.dialog=r,this.modalQueue=[],this.currentModal$=new ru,this.executeStatus$=new J,this.executeModal()}executeModal(){this.executeStatus$.subscribe(()=>{this.modalQueue.length>0&&this.currentModal$.next(this.modalQueue[0])})}openConfirm(r){let i=Date.now();this.pushModalConfig(i);let s=o=>{let a={data:O({},o)};return o.fullScreen?O({maxWidth:"100vw",width:"100%"},a):a};return this.modalQueue.length===1&&this.executeStatus$.next(!0),new Promise(o=>{this.currentModal$.subscribe(a=>{if(a===i){let c=this.dialog.open(GF,s(r));o(c),c.componentInstance.doConfirm.subscribe(()=>{r.onOk&&r.onOk(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)}),c.componentInstance.doCancel.subscribe(()=>{r.onCancel&&r.onCancel(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)})}})})}pushModalConfig(r){this.modalQueue.push(r)}cleanQueue(){let r=this.modalQueue[0];this.modalQueue=[r]}};e.\u0275fac=function(i){return new(i||e)(R(qF))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nL=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(j(dr),j(Te))},e.\u0275dir=De({type:e});let t=e;return t})(),Md=(()=>{let e=class e extends nL{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,features:[et]});let t=e;return t})(),Ro=new U(""),j7={provide:Ro,useExisting:pn(()=>U7),multi:!0},U7=(()=>{let e=class e extends Md{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&ft("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Zt([j7]),et]});let t=e;return t})(),B7={provide:Ro,useExisting:pn(()=>rL),multi:!0};function $7(){let t=pr()?pr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var H7=new U(""),rL=(()=>{let e=class e extends nL{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!$7())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(j(dr),j(Te),j(H7,8))},e.\u0275dir=De({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ft("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Zt([B7]),et]});let t=e;return t})();function as(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function iL(t){return t!=null&&typeof t.length=="number"}var $m=new U(""),Hm=new U(""),z7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,WF=class{static min(e){return q7(e)}static max(e){return G7(e)}static required(e){return W7(e)}static requiredTrue(e){return K7(e)}static email(e){return Q7(e)}static minLength(e){return Y7(e)}static maxLength(e){return Z7(e)}static pattern(e){return X7(e)}static nullValidator(e){return sL(e)}static compose(e){return dL(e)}static composeAsync(e){return hL(e)}};function q7(t){return e=>{if(as(e.value)||as(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function G7(t){return e=>{if(as(e.value)||as(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function W7(t){return as(t.value)?{required:!0}:null}function K7(t){return t.value===!0?null:{required:!0}}function Q7(t){return as(t.value)||z7.test(t.value)?null:{email:!0}}function Y7(t){return e=>as(e.value)||!iL(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Z7(t){return e=>iL(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function X7(t){if(!t)return sL;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(as(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function sL(t){return null}function oL(t){return t!=null}function aL(t){return Ls(t)?Ue(t):t}function cL(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function uL(t,e){return e.map(n=>n(t))}function J7(t){return!t.validate}function lL(t){return t.map(e=>J7(e)?e:n=>e.validate(n))}function dL(t){if(!t)return null;let e=t.filter(oL);return e.length==0?null:function(n){return cL(uL(n,e))}}function GC(t){return t!=null?dL(lL(t)):null}function hL(t){if(!t)return null;let e=t.filter(oL);return e.length==0?null:function(n){let r=uL(n,e).map(aL);return Py(r).pipe(de(cL))}}function WC(t){return t!=null?hL(lL(t)):null}function KF(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function fL(t){return t._rawValidators}function pL(t){return t._rawAsyncValidators}function HC(t){return t?Array.isArray(t)?t:[t]:[]}function km(t,e){return Array.isArray(t)?t.includes(e):t===e}function QF(t,e){let n=HC(e);return HC(t).forEach(i=>{km(n,i)||n.push(i)}),n}function YF(t,e){return HC(e).filter(n=>!km(t,n))}var Om=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=GC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=WC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ri=class extends Om{get formDirective(){return null}get path(){return null}},Ao=class extends Om{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pm=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},eQ={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ofe=pe(O({},eQ),{"[class.ng-submitted]":"isSubmitted"}),afe=(()=>{let e=class e extends Pm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(Ao,2))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Lr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[et]});let t=e;return t})(),cfe=(()=>{let e=class e extends Pm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(ri,10))},e.\u0275dir=De({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Lr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[et]});let t=e;return t})();var Td="VALID",Nm="INVALID",Nc="PENDING",Sd="DISABLED",cs=class{},Fm=class extends cs{constructor(e,n){super(),this.value=e,this.source=n}},Rd=class extends cs{constructor(e,n){super(),this.pristine=e,this.source=n}},xd=class extends cs{constructor(e,n){super(),this.touched=e,this.source=n}},kc=class extends cs{constructor(e,n){super(),this.status=e,this.source=n}},zC=class extends cs{constructor(e){super(),this.source=e}},qC=class extends cs{constructor(e){super(),this.source=e}};function gL(t){return(zm(t)?t.validators:t)||null}function tQ(t){return Array.isArray(t)?GC(t):t||null}function mL(t,e){return(zm(e)?e.asyncValidators:t)||null}function nQ(t){return Array.isArray(t)?WC(t):t||null}function zm(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function rQ(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function iQ(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var Lm=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new J,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Td}get invalid(){return this.status===Nm}get pending(){return this.status==Nc}get disabled(){return this.status===Sd}get enabled(){return this.status!==Sd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YF(e,this._rawAsyncValidators))}hasValidator(e){return km(this._rawValidators,e)}hasAsyncValidator(e){return km(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new xd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new xd(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Rd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Rd(!0,r))}markAsPending(e={}){this.status=Nc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Sd,this.errors=null,this._forEachChild(i=>{i.disable(pe(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fm(this.value,r)),this._events.next(new kc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Td,this._forEachChild(r=>{r.enable(pe(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Td||this.status===Nc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fm(this.value,n)),this._events.next(new kc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sd:Td}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Nc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=aL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new kc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?Sd:this.errors?Nm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nc)?Nc:this._anyControlsHaveStatus(Nm)?Nm:Td}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Rd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new xd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=tQ(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=nQ(this._rawAsyncValidators)}},Vm=class extends Lm{constructor(e,n,r){super(gL(n),mL(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){iQ(this,!0,e),Object.keys(e).forEach(r=>{rQ(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Nd=new U("CallSetDisabledState",{providedIn:"root",factory:()=>qm}),qm="always";function yL(t,e){return[...e.path,t]}function jm(t,e,n=qm){KC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),oQ(t,e),cQ(t,e),aQ(t,e),sQ(t,e)}function ZF(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Bm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Um(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function sQ(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function KC(t,e){let n=fL(t);e.validator!==null?t.setValidators(KF(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=pL(t);e.asyncValidator!==null?t.setAsyncValidators(KF(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Um(e._rawValidators,i),Um(e._rawAsyncValidators,i)}function Bm(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=fL(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=pL(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Um(e._rawValidators,r),Um(e._rawAsyncValidators,r),n}function oQ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&vL(t,e)})}function aQ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&vL(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function vL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function cQ(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function _L(t,e){t==null,KC(t,e)}function uQ(t,e){return Bm(t,e)}function wL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function lQ(t){return Object.getPrototypeOf(t.constructor)===Md}function IL(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function EL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===rL?n=s:lQ(s)?r=s:i=s}),i||r||n||null}function dQ(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var hQ={provide:ri,useExisting:pn(()=>fQ)},Ad=Promise.resolve(),fQ=(()=>{let e=class e extends ri{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ae,this.form=new Vm({},GC(r),WC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ad.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),jm(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ad.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ad.then(()=>{let i=this._findContainer(r.path),s=new Vm({});_L(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ad.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ad.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,IL(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(j($m,10),j(Hm,10),j(Nd,8))},e.\u0275dir=De({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&ft("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zt([hQ]),et]});let t=e;return t})();function XF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function JF(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var bL=class extends Lm{constructor(e=null,n,r){super(gL(n),mL(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(JF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){JF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var pQ=t=>t instanceof bL;var gQ={provide:Ao,useExisting:pn(()=>mQ)},eL=Promise.resolve(),mQ=(()=>{let e=class e extends Ao{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new bL,this._registered=!1,this.name="",this.update=new Ae,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=EL(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),wL(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){jm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){eL.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&wn(i);eL.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?yL(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(j(ri,9),j($m,10),j(Hm,10),j(Ro,10),j(_n,8),j(Nd,8))},e.\u0275dir=De({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zt([gQ]),et,Bt]});let t=e;return t})();var yQ={provide:Ro,useExisting:pn(()=>vQ),multi:!0},vQ=(()=>{let e=class e extends Md{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&ft("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Zt([yQ]),et]});let t=e;return t})();var DL=new U("");var _Q={provide:ri,useExisting:pn(()=>wQ)},wQ=(()=>{let e=class e extends ri{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return jm(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){ZF(r.control||null,r,!1),dQ(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,IL(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new zC(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new qC(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(ZF(i||null,r),pQ(s)&&(jm(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);_L(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&uQ(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){KC(this.form,this),this._oldForm&&Bm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(j($m,10),j(Hm,10),j(Nd,8))},e.\u0275dir=De({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&ft("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zt([_Q]),et,Bt]});let t=e;return t})();var IQ={provide:Ao,useExisting:pn(()=>EQ)},EQ=(()=>{let e=class e extends Ao{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=EL(this,o)}ngOnChanges(r){this._added||this._setUpControl(),wL(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return yL(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(ri,13),j($m,10),j(Hm,10),j(Ro,10),j(DL,8))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zt([IQ]),et,Bt]});let t=e;return t})(),bQ={provide:Ro,useExisting:pn(()=>TL),multi:!0};function CL(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function DQ(t){return t.split(":")[0]}var TL=(()=>{let e=class e extends Md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=CL(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=DQ(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&ft("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zt([bQ]),et]});let t=e;return t})(),lfe=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(CL(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(dr),j(TL,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),CQ={provide:Ro,useExisting:pn(()=>SL),multi:!0};function tL(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function TQ(t){return t.split(":")[0]}var SL=(()=>{let e=class e extends Md{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let l=a[c],d=this._getOptionValue(l.value);s.push(d)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let d=this._getOptionValue(l.value);s.push(d)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=TQ(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&ft("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zt([CQ]),et]});let t=e;return t})(),dfe=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(tL(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(tL(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(dr),j(SL,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var AL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var QC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Nd,useValue:r.callSetDisabledState??qm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[AL]});let t=e;return t})(),YC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:DL,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Nd,useValue:r.callSetDisabledState??qm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[AL]});let t=e;return t})();var SQ=[Vs,QC,YC,lC],yfe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[SQ,Vs,QC,YC,lC]});let t=e;return t})();export{O as a,pe as b,AQ as c,RQ as d,xQ as e,v as f,ke as g,re as h,J as i,Xe as j,ET as k,Lt as l,xZ as m,te as n,zo as o,de as p,Xn as q,pi as r,su as s,QV as t,ou as u,YV as v,He as w,Je as x,XV as y,tj as z,Nn as A,tn as B,er as C,st as D,Q as E,pn as F,L as G,Ee as H,U as I,lj as J,R as K,P as L,ct as M,GS as N,cr as O,be as P,De as Q,Ln as R,zj as S,Rt as T,Bt as U,l_ as V,d_ as W,OA as X,PA as Y,Vn as Z,__ as _,Ce as $,w_ as aa,Ure as ba,Te as ca,Ae as da,yn as ea,Ti as fa,jn as ga,j as ha,TR as ia,Fn as ja,ua as ka,W as la,Ai as ma,vn as na,B_ as oa,zre as pa,et as qa,Fr as ra,Bn as sa,hr as ta,Ps as ua,$_ as va,Lr as wa,ux as xa,H_ as ya,qre as za,Gre as Aa,Wre as Ba,Kre as Ca,$t as Da,Mt as Ea,Ri as Fa,q_ as Ga,qf as Ha,sH as Ia,ft as Ja,hH as Ka,ya as La,yx as Ma,vx as Na,mH as Oa,Gf as Pa,Nu as Qa,ku as Ra,Qre as Sa,Yre as Ta,Zre as Ua,va as Va,_H as Wa,Fs as Xa,wH as Ya,Xre as Za,IH as _a,Zt as $a,fr as ab,wx as bb,Jre as cb,eie as db,tie as eb,wa as fb,Vr as gb,nie as hb,_n as ib,wn as jb,Ax as kb,rie as lb,ae as mb,Vx as nb,Die as ob,$x as pb,Cie as qb,Vs as rb,cw as sb,qx as tb,qie as ub,Gie as vb,Wie as wb,Ose as xb,Pse as yb,Fse as zb,Gs as Ab,Toe as Bb,xI as Cb,wN as Db,rt as Eb,mo as Fb,ace as Gb,cce as Hb,uce as Ib,lce as Jb,dce as Kb,SP as Lb,hce as Mb,fce as Nb,pce as Ob,gce as Pb,mce as Qb,yce as Rb,vce as Sb,_ce as Tb,AP as Ub,wce as Vb,Ice as Wb,Ece as Xb,Wce as Yb,Qce as Zb,Qn as _b,ehe as $b,the as ac,nhe as bc,rhe as cc,ihe as dc,she as ec,ohe as fc,ahe as gc,che as hc,uhe as ic,lhe as jc,jF as kc,UF as lc,dhe as mc,is as nc,W8 as oc,Wn as pc,fue as qc,pue as rc,lC as sc,rF as tc,_ue as uc,Cue as vc,_K as wc,hd as xc,Ec as yc,ti as zc,Rue as Ac,Ze as Bc,Fue as Cc,Dc,oF as Ec,Cc as Fc,An as Gc,md as Hc,cF as Ic,fC as Jc,aF as Kc,Tc as Lc,Sc as Mc,Ac as Nc,vd as Oc,Rc as Pc,Cm as Qc,_d as Rc,ni as Sc,IC as Tc,Kn as Uc,bC as Vc,yF as Wc,wF as Xc,Ple as Yc,wd as Zc,Id as _c,rde as $c,TC as ad,SC as bd,ide as cd,Ed as dd,sde as ed,TF as fd,So as gd,NC as hd,kC as id,p7 as jd,Gde as kd,Wde as ld,SF as md,AF as nd,xm as od,v7 as pd,w7 as qd,Kde as rd,Qde as sd,Yde as td,Zde as ud,$he as vd,Ro as wd,U7 as xd,rL as yd,$m as zd,WF as Ad,ri as Bd,Ao as Cd,afe as Dd,cfe as Ed,Vm as Fd,fQ as Gd,bL as Hd,mQ as Id,vQ as Jd,wQ as Kd,EQ as Ld,TL as Md,lfe as Nd,dfe as Od,QC as Pd,yfe as Qd};
