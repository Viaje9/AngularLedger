var WF=Object.create;var ey=Object.defineProperty,KF=Object.defineProperties,QF=Object.getOwnPropertyDescriptor,YF=Object.getOwnPropertyDescriptors,ZF=Object.getOwnPropertyNames,Bd=Object.getOwnPropertySymbols,b0=Object.getPrototypeOf,ty=Object.prototype.hasOwnProperty,D0=Object.prototype.propertyIsEnumerable,XF=Reflect.get;var E0=(t,e,n)=>e in t?ey(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||={})ty.call(e,n)&&E0(t,n,e[n]);if(Bd)for(var n of Bd(e))D0.call(e,n)&&E0(t,n,e[n]);return t},pe=(t,e)=>KF(t,YF(e));var V5=(t,e)=>{var n={};for(var r in t)ty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Bd)for(var r of Bd(t))e.indexOf(r)<0&&D0.call(t,r)&&(n[r]=t[r]);return n};var j5=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var JF=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ZF(e))!ty.call(t,i)&&i!==n&&ey(t,i,{get:()=>e[i],enumerable:!(r=QF(e,i))||r.enumerable});return t};var U5=(t,e,n)=>(n=t!=null?WF(b0(t)):{},JF(e||!t||!t.__esModule?ey(n,"default",{value:t,enumerable:!0}):n,t));var zn=(t,e,n)=>XF(b0(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function C0(t,e){return Object.is(t,e)}var lt=null,Bc=!1,$d=1,an=Symbol("SIGNAL");function ye(t){let e=lt;return lt=t,e}function eL(){return Bc}var Hc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function zd(t){if(Bc)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(t);let e=lt.nextProducerIndex++;if(Do(lt),e<lt.producerNode.length&&lt.producerNode[e]!==t&&$c(lt)){let n=lt.producerNode[e];Kd(n,lt.producerIndexOfThis[e])}lt.producerNode[e]!==t&&(lt.producerNode[e]=t,lt.producerIndexOfThis[e]=$c(lt)?x0(t,lt,e):0),lt.producerLastReadVersion[e]=t.version}function tL(){$d++}function T0(t){if(!($c(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===$d)){if(!t.producerMustRecompute(t)&&!Wd(t)){t.dirty=!1,t.lastCleanEpoch=$d;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=$d}}function S0(t){if(t.liveConsumerNode===void 0)return;let e=Bc;Bc=!0;try{for(let n of t.liveConsumerNode)n.dirty||R0(n)}finally{Bc=e}}function A0(){return lt?.consumerAllowSignalWrites!==!1}function R0(t){t.dirty=!0,S0(t),t.consumerMarkedDirty?.(t)}function qd(t){return t&&(t.nextProducerIndex=0),ye(t)}function Gd(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if($c(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Kd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Wd(t){Do(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(T0(n),r!==n.version))return!0}return!1}function sy(t){if(Do(t),$c(t))for(let e=0;e<t.producerNode.length;e++)Kd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function x0(t,e,n){if(M0(t),Do(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=x0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Kd(t,e){if(M0(t),Do(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Kd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Do(i),i.producerIndexOfThis[r]=e}}function $c(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Do(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function M0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function N0(t){let e=Object.create(nL);e.computation=t;let n=()=>{if(T0(e),zd(e),e.value===Hd)throw e.error;return e.value};return n[an]=e,n}var ny=Symbol("UNSET"),ry=Symbol("COMPUTING"),Hd=Symbol("ERRORED"),nL=pe(P({},Hc),{value:ny,dirty:!0,error:null,equal:C0,producerMustRecompute(t){return t.value===ny||t.value===ry},producerRecomputeValue(t){if(t.value===ry)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ry;let n=qd(t),r;try{r=t.computation()}catch(i){r=Hd,t.error=i}finally{Gd(t,n)}if(e!==ny&&e!==Hd&&r!==Hd&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function rL(){throw new Error}var O0=rL;function P0(){O0()}function k0(t){O0=t}var iL=null;function F0(t){let e=Object.create(oy);e.value=t;let n=()=>(zd(e),e.value);return n[an]=e,n}function Qd(t,e){A0()||P0(),t.equal(t.value,e)||(t.value=e,sL(t))}function L0(t,e){A0()||P0(),Qd(t,e(t.value))}var oy=pe(P({},Hc),{equal:C0,value:void 0});function sL(t){t.version++,tL(),S0(t),iL?.()}function V0(t,e,n){let r=Object.create(oL);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function o(c){s(c)||(sy(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=iy)}let a=()=>{if(r.fn===null)return;if(eL())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Wd(r))return;r.hasRun=!0;let c=qd(r);try{r.cleanupFn(),r.cleanupFn=iy,r.fn(i)}finally{Gd(r,c)}};return r.ref={notify:()=>R0(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[an]:r},r.ref}var iy=()=>{},oL=pe(P({},Hc),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:iy});function J(t){return typeof t=="function"}function Co(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Yd=Co(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function as(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(s){e=s instanceof Yd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{j0(s)}catch(o){e=e??[],o instanceof Yd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)j0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&as(n,e)}remove(e){let{_finalizers:n}=this;n&&as(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var ay=Ne.EMPTY;function Zd(t){return t instanceof Ne||t&&"closed"in t&&J(t.remove)&&J(t.add)&&J(t.unsubscribe)}function j0(t){J(t)?t():t.unsubscribe()}var An={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var To={setTimeout(t,e,...n){let{delegate:r}=To;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=To;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Xd(t){To.setTimeout(()=>{let{onUnhandledError:e}=An;if(e)e(t);else throw t})}function Er(){}var U0=cy("C",void 0,void 0);function B0(t){return cy("E",void 0,t)}function $0(t){return cy("N",t,void 0)}function cy(t,e,n){return{kind:t,value:e,error:n}}var cs=null;function So(t){if(An.useDeprecatedSynchronousErrorHandling){let e=!cs;if(e&&(cs={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=cs;if(cs=null,n)throw r}}else t()}function H0(t){An.useDeprecatedSynchronousErrorHandling&&cs&&(cs.errorThrown=!0,cs.error=t)}var ls=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Zd(e)&&e.add(this)):this.destination=lL}static create(e,n,r){return new br(e,n,r)}next(e){this.isStopped?uy($0(e),this):this._next(e)}error(e){this.isStopped?uy(B0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?uy(U0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},aL=Function.prototype.bind;function ly(t,e){return aL.call(t,e)}var dy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Jd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Jd(r)}else Jd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Jd(n)}}},br=class extends ls{constructor(e,n,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&An.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ly(e.next,s),error:e.error&&ly(e.error,s),complete:e.complete&&ly(e.complete,s)}):i=e}this.destination=new dy(i)}};function Jd(t){An.useDeprecatedSynchronousErrorHandling?H0(t):Xd(t)}function cL(t){throw t}function uy(t,e){let{onStoppedNotification:n}=An;n&&To.setTimeout(()=>n(t,e))}var lL={closed:!0,next:Er,error:cL,complete:Er};var Ao=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(t){return t}function eh(...t){return hy(t)}function hy(t){return t.length===0?kt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=dL(n)?n:new br(n,r,i);return So(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=z0(r),new r((i,s)=>{let o=new br({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ao](){return this}pipe(...n){return hy(n)(this)}toPromise(n){return n=z0(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function z0(t){var e;return(e=t??An.Promise)!==null&&e!==void 0?e:Promise}function uL(t){return t&&J(t.next)&&J(t.error)&&J(t.complete)}function dL(t){return t&&t instanceof ls||uL(t)&&Zd(t)}function fy(t){return J(t?.lift)}function oe(t){return e=>{if(fy(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new py(t,e,n,r,i)}var py=class extends ls{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ro(){return oe((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ni=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return Ro()(this)}};var xo={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=xo;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(s=>{n=void 0,t(s)});return new Ne(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=xo;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=xo;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var q0=Co(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Z=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new th(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new q0}next(n){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){So(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?ay:(this.currentObservers=null,s.push(n),new Ne(()=>{this.currentObservers=null,as(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new th(e,n),t})(),th=class extends Z{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ay}};var Ze=class extends Z{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var zc={now(){return(zc.delegate||Date).now()},delegate:void 0};var us=class extends Z{constructor(e=1/0,n=1/0,r=zc){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var nh=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var qc={setInterval(t,e,...n){let{delegate:r}=qc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=qc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ri=class extends nh{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return qc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&qc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,as(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Mo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Mo.now=zc.now;var ii=class extends Mo{constructor(e,n=Mo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var cn=new ii(ri),my=cn;var rh=class extends ri{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ih=class extends ii{};var gy=new ih(rh);var sh=class extends ri{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=xo.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(xo.cancelAnimationFrame(n),e._scheduled=void 0)}};var oh=class extends ii{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var G0=new oh(sh);var Ft=new re(t=>t.complete());function ah(t){return t&&J(t.schedule)}function yy(t){return t[t.length-1]}function ch(t){return J(yy(t))?t.pop():void 0}function qn(t){return ah(yy(t))?t.pop():void 0}function W0(t,e){return typeof yy(t)=="number"?t.pop():e}function lh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function U7(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Q0(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function K0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ds(t){return this instanceof ds?(this.v=t,this):new ds(t)}function Y0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(m){r[m]&&(i[m]=function(y){return new Promise(function(E,S){s.push([m,y,E,S])>1||a(m,y)})})}function a(m,y){try{c(r[m](y))}catch(E){f(s[0][3],E)}}function c(m){m.value instanceof ds?Promise.resolve(m.value.v).then(u,d):f(s[0][2],m)}function u(m){a("next",m)}function d(m){a("throw",m)}function f(m,y){m(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Z0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof K0=="function"?K0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var No=t=>t&&typeof t.length=="number"&&typeof t!="function";function uh(t){return J(t?.then)}function dh(t){return J(t[Ao])}function hh(t){return Symbol.asyncIterator&&J(t?.[Symbol.asyncIterator])}function fh(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hL(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ph=hL();function mh(t){return J(t?.[ph])}function gh(t){return Y0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ds(n.read());if(i)return yield ds(void 0);yield yield ds(r)}}finally{n.releaseLock()}})}function yh(t){return J(t?.getReader)}function Se(t){if(t instanceof re)return t;if(t!=null){if(dh(t))return fL(t);if(No(t))return pL(t);if(uh(t))return mL(t);if(hh(t))return X0(t);if(mh(t))return gL(t);if(yh(t))return yL(t)}throw fh(t)}function fL(t){return new re(e=>{let n=t[Ao]();if(J(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pL(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function mL(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Xd)})}function gL(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function X0(t){return new re(e=>{vL(t,e).catch(n=>e.error(n))})}function yL(t){return X0(gh(t))}function vL(t,e){var n,r,i,s;return Q0(this,void 0,void 0,function*(){try{for(n=Z0(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function qt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function si(t,e=0){return oe((n,r)=>{n.subscribe(ae(r,i=>qt(r,t,()=>r.next(i),e),()=>qt(r,t,()=>r.complete(),e),i=>qt(r,t,()=>r.error(i),e)))})}function oi(t,e=0){return oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function J0(t,e){return Se(t).pipe(oi(e),si(e))}function eT(t,e){return Se(t).pipe(oi(e),si(e))}function tT(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function nT(t,e){return new re(n=>{let r;return qt(n,e,()=>{r=t[ph](),qt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function vh(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{qt(n,e,()=>{let r=t[Symbol.asyncIterator]();qt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function rT(t,e){return vh(gh(t),e)}function iT(t,e){if(t!=null){if(dh(t))return J0(t,e);if(No(t))return tT(t,e);if(uh(t))return eT(t,e);if(hh(t))return vh(t,e);if(mh(t))return nT(t,e);if(yh(t))return rT(t,e)}throw fh(t)}function je(t,e){return e?iT(t,e):Se(t)}function te(...t){let e=qn(t);return je(t,e)}function Oo(t,e){let n=J(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function _h(t){return!!t&&(t instanceof re||J(t.lift)&&J(t.subscribe))}var Dr=Co(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function sT(t){return t instanceof Date&&!isNaN(t)}function de(t,e){return oe((n,r)=>{let i=0;n.subscribe(ae(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:_L}=Array;function wL(t,e){return _L(e)?t(...e):t(e)}function Po(t){return de(e=>wL(t,e))}var{isArray:IL}=Array,{getPrototypeOf:EL,prototype:bL,keys:DL}=Object;function wh(t){if(t.length===1){let e=t[0];if(IL(e))return{args:e,keys:null};if(CL(e)){let n=DL(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function CL(t){return t&&typeof t=="object"&&EL(t)===bL}function Ih(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function hs(...t){let e=qn(t),n=ch(t),{args:r,keys:i}=wh(t);if(r.length===0)return je([],e);let s=new re(TL(r,e,i?o=>Ih(i,o):kt));return n?s.pipe(Po(n)):s}function TL(t,e,n=kt){return r=>{oT(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)oT(e,()=>{let u=je(t[c],e),d=!1;u.subscribe(ae(r,f=>{s[c]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function oT(t,e,n){t?qt(n,t,e):e()}function aT(t,e,n,r,i,s,o,a){let c=[],u=0,d=0,f=!1,m=()=>{f&&!c.length&&!u&&e.complete()},y=S=>u<r?E(S):c.push(S),E=S=>{s&&e.next(S),u++;let M=!1;Se(n(S,d++)).subscribe(ae(e,V=>{i?.(V),s?y(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<r;){let V=c.shift();o?qt(e,o,()=>E(V)):E(V)}m()}catch(V){e.error(V)}}))};return t.subscribe(ae(e,y,()=>{f=!0,m()})),()=>{a?.()}}function ze(t,e,n=1/0){return J(e)?ze((r,i)=>de((s,o)=>e(r,s,i,o))(Se(t(r,i))),n):(typeof e=="number"&&(n=e),oe((r,i)=>aT(r,i,t,n)))}function ai(t=1/0){return ze(kt,t)}function cT(){return ai(1)}function Gn(...t){return cT()(je(t,qn(t)))}function ci(t){return new re(e=>{Se(t()).subscribe(e)})}function vy(...t){let e=ch(t),{args:n,keys:r}=wh(t),i=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let d=0;d<o;d++){let f=!1;Se(n[d]).subscribe(ae(s,m=>{f||(f=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(r?Ih(r,a):a),s.complete())}))}});return e?i.pipe(Po(e)):i}var SL=["addListener","removeListener"],AL=["addEventListener","removeEventListener"],RL=["on","off"];function Gc(t,e,n,r){if(J(n)&&(r=n,n=void 0),r)return Gc(t,e,n).pipe(Po(r));let[i,s]=NL(t)?AL.map(o=>a=>t[o](e,a,n)):xL(t)?SL.map(lT(t,e)):ML(t)?RL.map(lT(t,e)):[];if(!i&&No(t))return ze(o=>Gc(o,e,n))(Se(t));if(!i)throw new TypeError("Invalid event target");return new re(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function lT(t,e){return n=>r=>t[n](e,r)}function xL(t){return J(t.addListener)&&J(t.removeListener)}function ML(t){return J(t.on)&&J(t.off)}function NL(t){return J(t.addEventListener)&&J(t.removeEventListener)}function ko(t=0,e,n=my){let r=-1;return e!=null&&(ah(e)?n=e:r=e),new re(i=>{let s=sT(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function OL(t=0,e=cn){return t<0&&(t=0),ko(t,t,e)}function Wc(...t){let e=qn(t),n=W0(t,1/0),r=t;return r.length?r.length===1?Se(r[0]):ai(n)(je(r,e)):Ft}var PL=new re(Er);function Be(t,e){return oe((n,r)=>{let i=0;n.subscribe(ae(r,s=>t.call(e,s,i++)&&r.next(s)))})}function uT(t){return oe((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let u=i;i=null,n.next(u)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(ae(n,u=>{r=!0,i=u,s||Se(t(u)).subscribe(s=ae(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function Eh(t,e=cn){return uT(()=>ko(t,e))}function li(t){return oe((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ae(n,void 0,void 0,o=>{s=Se(t(o,li(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dT(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(ae(o,d=>{let f=u++;c=a?t(c,d,f):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function fs(t,e){return J(e)?ze(t,e,1):ze(t,1)}function hT(t){return new re(e=>t.subscribe(e))}var kL={connector:()=>new Z};function bh(t,e=kL){let{connector:n}=e;return oe((r,i)=>{let s=n();Se(t(hT(s))).subscribe(i),i.add(r.subscribe(s))})}function Dh(t,e=cn){return oe((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=s;s=null,r.next(u)}};function c(){let u=o+t,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}n.subscribe(ae(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function ui(t){return oe((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Xe(t){return t<=0?()=>Ft:oe((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function fT(){return oe((t,e)=>{t.subscribe(ae(e,Er))})}function Kc(t){return de(()=>t)}function _y(t,e){return e?n=>Gn(e.pipe(Xe(1),fT()),n.pipe(_y(t))):ze((n,r)=>Se(t(n,r)).pipe(Xe(1),Kc(n)))}function FL(t,e=cn){let n=ko(t,e);return _y(()=>n)}function Qc(t,e=kt){return t=t??LL,oe((n,r)=>{let i,s=!0;n.subscribe(ae(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function LL(t,e){return t===e}function Ch(t=VL){return oe((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function VL(){return new Dr}function Yc(t){return oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Wn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Be((i,s)=>t(i,s,r)):kt,Xe(1),n?ui(e):Ch(()=>new Dr))}function Fo(t){return t<=0?()=>Ft:oe((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Be((i,s)=>t(i,s,r)):kt,Fo(1),n?ui(e):Ch(()=>new Dr))}function pT(t,e){let n=J(t)?t:()=>t;return J(e)?bh(e,{connector:n}):r=>new ni(r,n)}function jL(t){return t?e=>bh(t)(e):e=>pT(new Z)(e)}function Th(t,e){return oe(dT(t,e,arguments.length>=2,!0))}function mT(t={}){let{connector:e=()=>new Z,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,u=0,d=!1,f=!1,m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),o=c=void 0,d=f=!1},E=()=>{let S=o;y(),S?.unsubscribe()};return oe((S,M)=>{u++,!f&&!d&&m();let V=c=c??e();M.add(()=>{u--,u===0&&!f&&!d&&(a=Iy(E,i))}),V.subscribe(M),!o&&u>0&&(o=new br({next:B=>V.next(B),error:B=>{f=!0,m(),a=Iy(y,n,B),V.error(B)},complete:()=>{d=!0,m(),a=Iy(y,r),V.complete()}}),Se(S).subscribe(o))})(s)}}function Iy(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new br({next:()=>{r.unsubscribe(),t()}});return Se(e(...n)).subscribe(r)}function gT(t,e,n){let r,i=!1;return t&&typeof t=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t:r=t??1/0,mT({connector:()=>new us(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Zc(t){return Be((e,n)=>t<=n)}function Rn(...t){let e=qn(t);return oe((n,r)=>{(e?Gn(t,n,e):Gn(t,n)).subscribe(r)})}function Zt(t,e){return oe((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ae(r,c=>{i?.unsubscribe();let u=0,d=s++;Se(t(c,d)).subscribe(i=ae(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Kn(t){return oe((e,n)=>{Se(t).subscribe(ae(n,()=>n.complete(),Er)),!n.closed&&e.subscribe(n)})}function it(t,e,n){let r=J(t)||e||n?{next:t,error:e,complete:n}:t;return r?oe((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ae(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):kt}var oS="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Lv(e,n)),this.code=e}};function Lv(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var aS=Symbol("InputSignalNode#UNSET"),UL=pe(P({},oy),{transformFn:void 0,applyValueToInputSignal(t,e){Qd(t,e)}});function cS(t,e){let n=Object.create(UL);n.value=t,n.transformFn=e?.transform;function r(){if(zd(n),n.value===aS)throw new Q(-950,!1);return n.value}return r[an]=n,r}function ll(t){return{toString:t}.toString()}var Sh="__parameters__";function BL(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function lS(t,e,n){return ll(()=>{let r=BL(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,d){let f=c.hasOwnProperty(Sh)?c[Sh]:Object.defineProperty(c,Sh,{value:[]})[Sh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ut=globalThis;function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function $L(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Vy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var HL=Le({__forward_ref__:Le});function un(t){return t.__forward_ref__=un,t.toString=function(){return jt(this())},t}function Lt(t){return uS(t)?t():t}function uS(t){return typeof t=="function"&&t.hasOwnProperty(HL)&&t.__forward_ref__===un}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ee(t){return{providers:t.providers||[],imports:t.imports||[]}}function ff(t){return yT(t,hS)||yT(t,fS)}function dS(t){return ff(t)!==null}function yT(t,e){return t.hasOwnProperty(e)?t[e]:null}function zL(t){let e=t&&(t[hS]||t[fS]);return e||null}function vT(t){return t&&(t.hasOwnProperty(_T)||t.hasOwnProperty(qL))?t[_T]:null}var hS=Le({\u0275prov:Le}),_T=Le({\u0275inj:Le}),fS=Le({ngInjectableDef:Le}),qL=Le({ngInjectorDef:Le}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pS(t){return t&&!!t.\u0275providers}var GL=Le({\u0275cmp:Le}),WL=Le({\u0275dir:Le}),KL=Le({\u0275pipe:Le}),QL=Le({\u0275mod:Le}),Uh=Le({\u0275fac:Le}),Xc=Le({__NG_ELEMENT_ID__:Le}),wT=Le({__NG_ENV_ID__:Le});function ul(t){return typeof t=="string"?t:t==null?"":String(t)}function YL(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ul(t)}function ZL(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function Vv(t,e){throw new Q(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),jy;function mS(){return jy}function Gt(t){let e=jy;return jy=t,e}function gS(t,e,n){let r=ff(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;Vv(t,"Injector")}var XL={},Jc=XL,Uy="__NG_DI_FLAG__",Bh="ngTempTokenPath",JL="ngTokenPath",eV=/\n/gm,tV="\u0275",IT="__source",Uo;function nV(){return Uo}function di(t){let e=Uo;return Uo=t,e}function rV(t,e=ve.Default){if(Uo===void 0)throw new Q(-203,!1);return Uo===null?gS(t,void 0,e):Uo.get(t,e&ve.Optional?null:void 0,e)}function R(t,e=ve.Default){return(mS()||rV)(Lt(t),e)}function k(t,e=ve.Default){return R(t,pf(e))}function pf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function By(t){let e=[];for(let n=0;n<t.length;n++){let r=Lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,s=ve.Default;for(let o=0;o<r.length;o++){let a=r[o],c=iV(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function yS(t,e){return t[Uy]=e,t.prototype[Uy]=e,t}function iV(t){return t[Uy]}function sV(t,e,n,r){let i=t[Bh];throw e[IT]&&i.unshift(e[IT]),t.message=oV(`
`+t.message,i,n,r),t[JL]=i,t[Bh]=null,t}function oV(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==tV?t.slice(2):t;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(eV,`
  `)}`}var Rt=yS(lS("Optional"),8);var vS=yS(lS("SkipSelf"),4);function vs(t,e){let n=t.hasOwnProperty(Uh);return n?t[Uh]:null}function aV(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function cV(t){return t.flat(Number.POSITIVE_INFINITY)}function jv(t,e){t.forEach(n=>Array.isArray(n)?jv(n,e):e(n))}function _S(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $h(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function lV(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function uV(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function Uv(t,e,n){let r=dl(t,e);return r>=0?t[r|1]=n:(r=~r,uV(t,r,e,n)),r}function Ey(t,e){let n=dl(t,e);if(n>=0)return t[n|1]}function dl(t,e){return dV(t,e,1)}function dV(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var $o={},Vt=[],Ho=new $(""),wS=new $("",-1),IS=new $(""),Hh=class{get(e,n=Jc){if(n===Jc){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return n}},ES=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ES||{}),Zn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Zn||{}),zo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(zo||{});function hV(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function $y(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];fV(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function bS(t){return t===3||t===4||t===6}function fV(t){return t.charCodeAt(0)===64}function el(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ET(t,n,i,null,e[++r]):ET(t,n,i,null,null))}}return t}function ET(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var DS="ng-template";function pV(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hV(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Bv(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Bv(t){return t.type===4&&t.value!==DS}function mV(t,e,n){let r=t.type===4&&!n?DS:t.value;return e===r}function gV(t,e,n){let r=4,i=t.attrs,s=i!==null?_V(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!xn(r)&&!xn(c))return!1;if(o&&xn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!mV(t,c,n)||c===""&&e.length===1){if(xn(r))return!1;o=!0}}else if(r&8){if(i===null||!pV(t,i,c,n)){if(xn(r))return!1;o=!0}}else{let u=e[++a],d=yV(c,i,Bv(t),n);if(d===-1){if(xn(r))return!1;o=!0;continue}if(u!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&u!==f){if(xn(r))return!1;o=!0}}}}return xn(r)||o}function xn(t){return(t&1)===0}function yV(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return wV(e,t)}function CS(t,e,n=!1){for(let r=0;r<e.length;r++)if(gV(t,e[r],n))return!0;return!1}function vV(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function _V(t){for(let e=0;e<t.length;e++){let n=t[e];if(bS(n))return e}return t.length}function wV(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function IV(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function bT(t,e){return t?":not("+e.trim()+")":e}function EV(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!xn(o)&&(e+=bT(s,i),i=""),r=o,s=s||!xn(r);n++}return i!==""&&(e+=bT(s,i)),e}function bV(t){return t.map(EV).join(",")}function DV(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!xn(i))break;i=s}r++}return{attrs:e,classes:n}}function nr(t){return ll(()=>{let e=MS(t),n=pe(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ES.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Zn.Emulated,styles:t.styles||Vt,_:null,schemas:t.schemas||null,tView:null,id:""});NS(n);let r=t.dependencies;return n.directiveDefs=CT(r,!1),n.pipeDefs=CT(r,!0),n.id=SV(n),n})}function CV(t){return Cr(t)||SS(t)}function TV(t){return t!==null}function be(t){return ll(()=>({type:t.type,bootstrap:t.bootstrap||Vt,declarations:t.declarations||Vt,imports:t.imports||Vt,exports:t.exports||Vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function DT(t,e){if(t==null)return $o;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=zo.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==zo.None?[r,a]:r,e[s]=o):n[s]=r}return n}function De(t){return ll(()=>{let e=MS(t);return NS(e),e})}function TS(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Cr(t){return t[GL]||null}function SS(t){return t[WL]||null}function AS(t){return t[KL]||null}function RS(t){let e=Cr(t)||SS(t)||AS(t);return e!==null?e.standalone:!1}function xS(t,e){let n=t[QL]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function MS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$o,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Vt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DT(t.inputs,e),outputs:DT(t.outputs),debugInfo:null}}function NS(t){t.features?.forEach(e=>e(t))}function CT(t,e){if(!t)return null;let n=e?AS:CV;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(TV)}function SV(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Rr(t){return{\u0275providers:t}}function AV(...t){return{\u0275providers:OS(!0,t),\u0275fromNgModule:!0}}function OS(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return jv(e,o=>{let a=o;Hy(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&PS(i,s),n}function PS(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];$v(i,s=>{e(s,r)})}}function Hy(t,e,n,r){if(t=Lt(t),!t)return!1;let i=null,s=vT(t),o=!s&&Cr(t);if(!s&&!o){let c=t.ngModule;if(s=vT(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)Hy(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{jv(s.imports,d=>{Hy(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&PS(u,e)}if(!a){let u=vs(i)||(()=>new i);e({provide:i,useFactory:u,deps:Vt},i),e({provide:IS,useValue:i,multi:!0},i),e({provide:Ho,useValue:()=>R(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;$v(c,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function $v(t,e){for(let n of t)pS(n)&&(n=n.\u0275providers),Array.isArray(n)?$v(n,e):e(n)}var RV=Le({provide:String,useValue:Le});function kS(t){return t!==null&&typeof t=="object"&&RV in t}function xV(t){return!!(t&&t.useExisting)}function MV(t){return!!(t&&t.useFactory)}function qo(t){return typeof t=="function"}function NV(t){return!!t.useClass}var mf=new $(""),Oh={},OV={},by;function gf(){return by===void 0&&(by=new Hh),by}var St=class{},tl=class extends St{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,qy(e,o=>this.processProvider(o)),this.records.set(wS,Lo(void 0,this)),i.has("environment")&&this.records.set(St,Lo(void 0,this));let s=this.records.get(mf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(IS,Vt,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=di(this),r=Gt(void 0),i;try{return e()}finally{di(n),Gt(r)}}get(e,n=Jc,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(wT))return e[wT](this);r=pf(r);let i,s=di(this),o=Gt(void 0);try{if(!(r&ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=VV(e)&&ff(e);u&&this.injectableDefInScope(u)?c=Lo(zy(e),Oh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ve.Self?gf():this.parent;return n=r&ve.Optional&&n===Jc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Bh]=a[Bh]||[]).unshift(jt(e)),s)throw a;return sV(a,e,"R3InjectorError",this.source)}else throw a}finally{Gt(o),di(s)}}resolveInjectorInitializers(){let e=ye(null),n=di(this),r=Gt(void 0),i;try{let s=this.get(Ho,Vt,ve.Self);for(let o of s)o()}finally{di(n),Gt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Lt(e);let n=qo(e)?e:Lt(e&&e.provide),r=kV(e);if(!qo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Lo(void 0,Oh,!0),i.factory=()=>By(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===Oh&&(n.value=OV,n.value=n.factory()),typeof n.value=="object"&&n.value&&LV(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function zy(t){let e=ff(t),n=e!==null?e.factory:vs(t);if(n!==null)return n;if(t instanceof $)throw new Q(204,!1);if(t instanceof Function)return PV(t);throw new Q(204,!1)}function PV(t){if(t.length>0)throw new Q(204,!1);let n=zL(t);return n!==null?()=>n.factory(t):()=>new t}function kV(t){if(kS(t))return Lo(void 0,t.useValue);{let e=FS(t);return Lo(e,Oh)}}function FS(t,e,n){let r;if(qo(t)){let i=Lt(t);return vs(i)||zy(i)}else if(kS(t))r=()=>Lt(t.useValue);else if(MV(t))r=()=>t.useFactory(...By(t.deps||[]));else if(xV(t))r=()=>R(Lt(t.useExisting));else{let i=Lt(t&&(t.useClass||t.provide));if(FV(t))r=()=>new i(...By(t.deps));else return vs(i)||zy(i)}return r}function Lo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function FV(t){return!!t.deps}function LV(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function VV(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function qy(t,e){for(let n of t)Array.isArray(n)?qy(n,e):n&&pS(n)?qy(n.\u0275providers,e):e(n)}function dn(t,e){t instanceof tl&&t.assertNotDestroyed();let n,r=di(t),i=Gt(void 0);try{return e()}finally{di(r),Gt(i)}}function LS(){return mS()!==void 0||nV()!=null}function Hv(t){if(!LS())throw new Q(-203,!1)}function jV(t){return typeof t=="function"}var rr=0,le=1,ie=2,At=3,Nn=4,Wt=5,Go=6,nl=7,Ct=8,Wo=9,Xn=10,qe=11,rl=12,TT=13,ea=14,Xt=15,_s=16,Vo=17,Tr=18,yf=19,VS=20,hi=21,Ph=22,ws=23,yt=25,zv=1;var Is=7,zh=8,Ko=9,Tt=10,qh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(qh||{});function fi(t){return Array.isArray(t)&&typeof t[zv]=="object"}function xr(t){return Array.isArray(t)&&t[zv]===!0}function qv(t){return(t.flags&4)!==0}function vf(t){return t.componentOffset>-1}function _f(t){return(t.flags&1)===1}function Sr(t){return!!t.template}function Gy(t){return(t[ie]&512)!==0}var Wy=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function jS(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ut(){return US}function US(t){return t.type.prototype.ngOnChanges&&(t.setInput=BV),UV}Ut.ngInherit=!0;function UV(){let t=$S(this),e=t?.current;if(e){let n=t.previous;if(n===$o)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function BV(t,e,n,r,i){let s=this.declaredInputs[r],o=$S(t)||$V(t,{previous:$o,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new Wy(u&&u.currentValue,n,c===$o),jS(t,e,i,n)}var BS="__ngSimpleChanges__";function $S(t){return t[BS]||null}function $V(t,e){return t[BS]=e}var ST=null;var Qn=function(t,e,n){ST?.(t,e,n)},HS="svg",HV="math";function Jn(t){for(;Array.isArray(t);)t=t[rr];return t}function zV(t){for(;Array.isArray(t);){if(typeof t[zv]=="object")return t;t=t[rr]}return null}function zS(t,e){return Jn(e[t])}function hn(t,e){return Jn(e[t.index])}function Gv(t,e){return t.data[e]}function qS(t,e){return t[e]}function yi(t,e){let n=e[t];return fi(n)?n:n[rr]}function qV(t){return(t[ie]&4)===4}function Wv(t){return(t[ie]&128)===128}function GV(t){return xr(t[At])}function pi(t,e){return e==null?null:t[e]}function GS(t){t[Vo]=0}function WV(t){t[ie]&1024||(t[ie]|=1024,Wv(t)&&wf(t))}function KV(t,e){for(;t>0;)e=e[ea],t--;return e}function il(t){return!!(t[ie]&9216||t[ws]?.dirty)}function Ky(t){t[Xn].changeDetectionScheduler?.notify(7),t[ie]&64&&(t[ie]|=1024),il(t)&&wf(t)}function wf(t){t[Xn].changeDetectionScheduler?.notify(0);let e=sl(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Wv(e)));)e=sl(e)}function WS(t,e){if((t[ie]&256)===256)throw new Q(911,!1);t[hi]===null&&(t[hi]=[]),t[hi].push(e)}function QV(t,e){if(t[hi]===null)return;let n=t[hi].indexOf(e);n!==-1&&t[hi].splice(n,1)}function sl(t){let e=t[At];return xr(e)?e[At]:e}var me={lFrame:rA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var KS=!1;function YV(){return me.lFrame.elementDepthCount}function ZV(){me.lFrame.elementDepthCount++}function XV(){me.lFrame.elementDepthCount--}function QS(){return me.bindingsEnabled}function YS(){return me.skipHydrationRootTNode!==null}function JV(t){return me.skipHydrationRootTNode===t}function ej(){me.skipHydrationRootTNode=null}function ue(){return me.lFrame.lView}function $e(){return me.lFrame.tView}function Kv(t){return me.lFrame.contextLView=t,t[Ct]}function Qv(t){return me.lFrame.contextLView=null,t}function dt(){let t=ZS();for(;t!==null&&t.type===64;)t=t.parent;return t}function ZS(){return me.lFrame.currentTNode}function tj(){let t=me.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function As(t,e){let n=me.lFrame;n.currentTNode=t,n.isParent=e}function Yv(){return me.lFrame.isParent}function Zv(){me.lFrame.isParent=!1}function nj(){return me.lFrame.contextLView}function XS(){return KS}function AT(t){KS=t}function JS(){let t=me.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rj(t){return me.lFrame.bindingIndex=t}function vi(){return me.lFrame.bindingIndex++}function eA(t){let e=me.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ij(){return me.lFrame.inI18n}function sj(t,e){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=t,Qy(e)}function oj(){return me.lFrame.currentDirectiveIndex}function Qy(t){me.lFrame.currentDirectiveIndex=t}function Xv(t){let e=me.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Jv(){return me.lFrame.currentQueryIndex}function If(t){me.lFrame.currentQueryIndex=t}function aj(t){let e=t[le];return e.type===2?e.declTNode:e.type===1?t[Wt]:null}function tA(t,e,n){if(n&ve.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=aj(s),i===null||(s=s[ea],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=me.lFrame=nA();return r.currentTNode=e,r.lView=t,!0}function e_(t){let e=nA(),n=t[le];me.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function nA(){let t=me.lFrame,e=t===null?null:t.child;return e===null?rA(t):e}function rA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function iA(){let t=me.lFrame;return me.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var sA=iA;function t_(){let t=iA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cj(t){return(me.lFrame.contextLView=KV(t,me.lFrame.contextLView))[Ct]}function _i(){return me.lFrame.selectedIndex}function Es(t){me.lFrame.selectedIndex=t}function hl(){let t=me.lFrame;return Gv(t.tView,t.selectedIndex)}function oA(){me.lFrame.currentNamespace=HS}function aA(){lj()}function lj(){me.lFrame.currentNamespace=null}function uj(){return me.lFrame.currentNamespace}var cA=!0;function Ef(){return cA}function bf(t){cA=t}function dj(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=US(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Df(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function kh(t,e,n){lA(t,e,3,n)}function Fh(t,e,n,r){(t[ie]&3)===n&&lA(t,e,n,r)}function Dy(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function lA(t,e,n,r){let i=r!==void 0?t[Vo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Vo]+=65536),(a<s||s==-1)&&(hj(t,n,e,c),t[Vo]=(t[Vo]&4294901760)+c+2),c++}function RT(t,e){Qn(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),Qn(5,t,e)}}function hj(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ie]>>14<t[Vo]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,RT(a,s)):RT(a,s)}var Bo=-1,bs=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function fj(t){return t instanceof bs}function pj(t){return(t.flags&8)!==0}function mj(t){return(t.flags&16)!==0}function uA(t){return t!==Bo}function Gh(t){return t&32767}function gj(t){return t>>16}function Wh(t,e){let n=gj(t),r=e;for(;n>0;)r=r[ea],n--;return r}var Yy=!0;function Kh(t){let e=Yy;return Yy=t,e}var yj=256,dA=yj-1,hA=5,vj=0,Yn={};function _j(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xc)&&(r=n[Xc]),r==null&&(r=n[Xc]=vj++);let i=r&dA,s=1<<i;e.data[t+(i>>hA)]|=s}function Qh(t,e){let n=fA(t,e);if(n!==-1)return n;let r=e[le];r.firstCreatePass&&(t.injectorIndex=e.length,Cy(r.data,t),Cy(e,null),Cy(r.blueprint,null));let i=n_(t,e),s=t.injectorIndex;if(uA(i)){let o=Gh(i),a=Wh(i,e),c=a[le].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Cy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function n_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=vA(i),r===null)return Bo;if(n++,i=i[ea],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Bo}function Zy(t,e,n){_j(t,e,n)}function wj(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(bS(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function pA(t,e,n){if(n&ve.Optional||t!==void 0)return t;Vv(e,"NodeInjector")}function mA(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[Wo],s=Gt(void 0);try{return i?i.get(e,r,n&ve.Optional):gS(e,r,n&ve.Optional)}finally{Gt(s)}}return pA(r,e,n)}function gA(t,e,n,r=ve.Default,i){if(t!==null){if(e[ie]&2048&&!(r&ve.Self)){let o=Dj(t,e,n,r,Yn);if(o!==Yn)return o}let s=yA(t,e,n,r,Yn);if(s!==Yn)return s}return mA(e,n,r,i)}function yA(t,e,n,r,i){let s=Ej(n);if(typeof s=="function"){if(!tA(e,t,r))return r&ve.Host?pA(i,n,r):mA(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ve.Optional))Vv(n);else return o}finally{sA()}}else if(typeof s=="number"){let o=null,a=fA(t,e),c=Bo,u=r&ve.Host?e[Xt][Wt]:null;for((a===-1||r&ve.SkipSelf)&&(c=a===-1?n_(t,e):e[a+8],c===Bo||!MT(r,!1)?a=-1:(o=e[le],a=Gh(c),e=Wh(c,e)));a!==-1;){let d=e[le];if(xT(s,a,d.data)){let f=Ij(a,e,n,o,r,u);if(f!==Yn)return f}c=e[a+8],c!==Bo&&MT(r,e[le].data[a+8]===u)&&xT(s,a,e)?(o=d,a=Gh(c),e=Wh(c,e)):a=-1}}return i}function Ij(t,e,n,r,i,s){let o=e[le],a=o.data[t+8],c=r==null?vf(a)&&Yy:r!=o&&(a.type&3)!==0,u=i&ve.Host&&s===a,d=Lh(a,o,n,c,u);return d!==null?Ds(e,o,d,a):Yn}function Lh(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,d=s>>20,f=r?a:a+d,m=i?a+d:u;for(let y=f;y<m;y++){let E=o[y];if(y<c&&n===E||y>=c&&E.type===n)return y}if(i){let y=o[c];if(y&&Sr(y)&&y.type===n)return c}return null}function Ds(t,e,n,r){let i=t[n],s=e.data;if(fj(i)){let o=i;o.resolving&&ZL(YL(s[n]));let a=Kh(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Gt(o.injectImpl):null,d=tA(t,r,ve.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&dj(n,s[n],e)}finally{u!==null&&Gt(u),Kh(a),o.resolving=!1,sA()}}return i}function Ej(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Xc)?t[Xc]:void 0;return typeof e=="number"?e>=0?e&dA:bj:e}function xT(t,e,n){let r=1<<t;return!!(n[e+(t>>hA)]&r)}function MT(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var ys=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return gA(this._tNode,this._lView,e,pf(r),n)}};function bj(){return new ys(dt(),ue())}function Pn(t){return ll(()=>{let e=t.prototype.constructor,n=e[Uh]||Xy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Uh]||Xy(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Xy(t){return uS(t)?()=>{let e=Xy(Lt(t));return e&&e()}:vs(t)}function Dj(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ie]&2048&&!(o[ie]&512);){let a=yA(s,o,n,r|ve.Self,Yn);if(a!==Yn)return a;let c=s.parent;if(!c){let u=o[VS];if(u){let d=u.get(n,Yn,r);if(d!==Yn)return d}c=vA(o),o=o[ea]}s=c}return i}function vA(t){let e=t[le],n=e.type;return n===2?e.declTNode:n===1?t[Wt]:null}function r_(t){return wj(dt(),t)}function NT(t,e=null,n=null,r){let i=_A(t,e,n,r);return i.resolveInjectorInitializers(),i}function _A(t,e=null,n=null,r,i=new Set){let s=[n||Vt,AV(t)];return r=r||(typeof t=="object"?void 0:jt(t)),new tl(s,e||gf(),r||null,i)}var ms=class ms{static create(e,n){if(Array.isArray(e))return NT({name:""},n,e,"");{let r=e.name??"";return NT({name:r},e.parent,e.providers,r)}}};ms.THROW_IF_NOT_FOUND=Jc,ms.NULL=new Hh,ms.\u0275prov=L({token:ms,providedIn:"any",factory:()=>R(wS)}),ms.__NG_ELEMENT_ID__=-1;var xe=ms;var Cj=new $("");Cj.__NG_ELEMENT_ID__=t=>{let e=dt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new Q(204,!1)};var Tj="ngOriginalError";function Ty(t){return t[Tj]}var ln=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ty(e);for(;n&&Ty(n);)n=Ty(n);return n||null}},wA=new $("",{providedIn:"root",factory:()=>k(ln).handleError.bind(void 0)}),ta=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Sj,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Jy=class extends ta{constructor(e){super(),this._lView=e}onDestroy(e){return WS(this._lView,e),()=>QV(this._lView,e)}};function Sj(){return new Jy(ue())}var ev=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=k(ln,{optional:!0}),this.destroyRef=k(ta),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Q(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new Q(953,!1);if(this.listeners===null)return;let n=ye(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ye(n)}}};function i_(t){return new ev}function OT(t,e){return cS(t,e)}function Aj(t){return cS(aS,t)}var ste=(OT.required=Aj,OT);function Rj(){return na(dt(),ue())}function na(t,e){return new Ce(hn(t,e))}var Ce=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=Rj;let t=e;return t})();function IA(t){return t instanceof Ce?t.nativeElement:t}var tv=class extends Z{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,LS()&&(this.destroyRef=k(ta,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Sy(s),i&&(i=Sy(i)),o&&(o=Sy(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ne&&e.add(a),a}};function Sy(t){return e=>{setTimeout(t,void 0,e)}}var Ae=tv;function xj(){return this._results[Symbol.iterator]()}var Yh=class t{get changes(){return this._changes??=new Ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=xj)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=cV(e);(this._changesDetected=!aV(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function EA(t){return(t.flags&128)===128}var bA=new Map,Mj=0;function Nj(){return Mj++}function Oj(t){bA.set(t[yf],t)}function Pj(t){bA.delete(t[yf])}var PT="__ngContext__";function mi(t,e){fi(e)?(t[PT]=e[yf],Oj(e)):t[PT]=e}function DA(t){return TA(t[rl])}function CA(t){return TA(t[Nn])}function TA(t){for(;t!==null&&!xr(t);)t=t[Nn];return t}var nv;function SA(t){nv=t}function AA(){if(nv!==void 0)return nv;if(typeof document<"u")return document;throw new Q(210,!1)}var fl=new $("",{providedIn:"root",factory:()=>kj}),kj="ng",s_=new $(""),fn=new $("",{providedIn:"platform",factory:()=>"unknown"});var wi=new $(""),pl=new $("",{providedIn:"root",factory:()=>AA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Fj="h",Lj="b";var Vj=()=>null;function o_(t,e,n=!1){return Vj(t,e,n)}var RA=!1,jj=new $("",{providedIn:"root",factory:()=>RA});var Ah;function Uj(){if(Ah===void 0&&(Ah=null,ut.trustedTypes))try{Ah=ut.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ah}function Cf(t){return Uj()?.createHTML(t)||t}var Rh;function xA(){if(Rh===void 0&&(Rh=null,ut.trustedTypes))try{Rh=ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rh}function kT(t){return xA()?.createHTML(t)||t}function FT(t){return xA()?.createScriptURL(t)||t}var Zh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oS})`}};function Rs(t){return t instanceof Zh?t.changingThisBreaksApplicationSecurity:t}function Tf(t,e){let n=Bj(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${oS})`)}return n===e}function Bj(t){return t instanceof Zh&&t.getTypeName()||null}function $j(t){let e=new iv(t);return Hj()?new rv(e):e}var rv=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Cf(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},iv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Cf(e),n}};function Hj(){try{return!!new window.DOMParser().parseFromString(Cf(""),"text/html")}catch{return!1}}var zj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function a_(t){return t=String(t),t.match(zj)?t:"unsafe:"+t}function Mr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function ml(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var MA=Mr("area,br,col,hr,img,wbr"),NA=Mr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),OA=Mr("rp,rt"),qj=ml(OA,NA),Gj=ml(NA,Mr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wj=ml(OA,Mr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),LT=ml(MA,Gj,Wj,qj),PA=Mr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kj=Mr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qj=Mr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Yj=ml(PA,Kj,Qj),Zj=Mr("script,style,template"),sv=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=eU(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=Jj(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=VT(e).toLowerCase();if(!LT.hasOwnProperty(n))return this.sanitizedSomething=!0,!Zj.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!Yj.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;PA[a]&&(c=a_(c)),this.buf.push(" ",o,'="',jT(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=VT(e).toLowerCase();LT.hasOwnProperty(n)&&!MA.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(jT(e))}};function Xj(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Jj(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw kA(e);return e}function eU(t){let e=t.firstChild;if(e&&Xj(t,e))throw kA(e);return e}function VT(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function kA(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var tU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nU=/([^\#-~ |!])/g;function jT(t){return t.replace(/&/g,"&amp;").replace(tU,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(nU,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var xh;function FA(t,e){let n=null;try{xh=xh||$j(t);let r=e?String(e):"";n=xh.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=xh.getInertBodyElement(r)}while(r!==s);let a=new sv().sanitizeChildren(UT(n)||n);return Cf(a)}finally{if(n){let r=UT(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function UT(t){return"content"in t&&rU(t)?t.content:null}function rU(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var gl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gl||{});function LA(t){let e=c_();return e?kT(e.sanitize(gl.HTML,t)||""):Tf(t,"HTML")?kT(Rs(t)):FA(AA(),ul(t))}function iU(t){let e=c_();return e?e.sanitize(gl.URL,t)||"":Tf(t,"URL")?Rs(t):a_(ul(t))}function sU(t){let e=c_();if(e)return FT(e.sanitize(gl.RESOURCE_URL,t)||"");if(Tf(t,"ResourceURL"))return FT(Rs(t));throw new Q(904,!1)}function oU(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?sU:iU}function VA(t,e,n){return oU(e,n)(t)}function c_(){let t=ue();return t&&t[Xn].sanitizer}var aU=/^>|^->|<!--|-->|--!>|<!-$/g,cU=/(<|>)/g,lU="\u200B$1\u200B";function uU(t){return t.replace(aU,e=>e.replace(cU,lU))}function jA(t){return t instanceof Function?t():t}function UA(t){return(t??k(xe)).get(fn)==="browser"}var Ar=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ar||{}),dU;function l_(t,e){return dU(t,e)}function jo(t,e,n,r,i){if(r!=null){let s,o=!1;xr(r)?s=r:fi(r)&&(o=!0,r=r[rr]);let a=Jn(r);t===0&&n!==null?i==null?qA(e,n,a):Xh(e,n,a,i||null,!0):t===1&&n!==null?Xh(e,n,a,i||null,!0):t===2?TU(e,a,o):t===3&&e.destroyNode(a),s!=null&&AU(e,t,s,n,i)}}function hU(t,e){return t.createText(e)}function fU(t,e,n){t.setValue(e,n)}function pU(t,e){return t.createComment(uU(e))}function BA(t,e,n){return t.createElement(e,n)}function mU(t,e){$A(t,e),e[rr]=null,e[Wt]=null}function gU(t,e,n,r,i,s){r[rr]=i,r[Wt]=e,Rf(t,r,n,1,i,s)}function $A(t,e){e[Xn].changeDetectionScheduler?.notify(8),Rf(t,e,e[qe],2,null,null)}function yU(t){let e=t[rl];if(!e)return Ay(t[le],t);for(;e;){let n=null;if(fi(e))n=e[rl];else{let r=e[Tt];r&&(n=r)}if(!n){for(;e&&!e[Nn]&&e!==t;)fi(e)&&Ay(e[le],e),e=e[At];e===null&&(e=t),fi(e)&&Ay(e[le],e),n=e&&e[Nn]}e=n}}function vU(t,e,n,r){let i=Tt+r,s=n.length;r>0&&(n[i-1][Nn]=e),r<s-Tt?(e[Nn]=n[i],_S(n,Tt+r,e)):(n.push(e),e[Nn]=null),e[At]=n;let o=e[_s];o!==null&&n!==o&&HA(o,e);let a=e[Tr];a!==null&&a.insertView(t),Ky(e),e[ie]|=128}function HA(t,e){let n=t[Ko],r=e[At];if(fi(r))t[ie]|=qh.HasTransplantedViews;else{let i=r[At][Xt];e[Xt]!==i&&(t[ie]|=qh.HasTransplantedViews)}n===null?t[Ko]=[e]:n.push(e)}function u_(t,e){let n=t[Ko],r=n.indexOf(e);n.splice(r,1)}function ol(t,e){if(t.length<=Tt)return;let n=Tt+e,r=t[n];if(r){let i=r[_s];i!==null&&i!==t&&u_(i,r),e>0&&(t[n-1][Nn]=r[Nn]);let s=$h(t,Tt+e);mU(r[le],r);let o=s[Tr];o!==null&&o.detachView(s[le]),r[At]=null,r[Nn]=null,r[ie]&=-129}return r}function Sf(t,e){if(!(e[ie]&256)){let n=e[qe];n.destroyNode&&Rf(t,e,n,3,null,null),yU(e)}}function Ay(t,e){if(e[ie]&256)return;let n=ye(null);try{e[ie]&=-129,e[ie]|=256,e[ws]&&sy(e[ws]),wU(t,e),_U(t,e),e[le].type===1&&e[qe].destroy();let r=e[_s];if(r!==null&&xr(e[At])){r!==e[At]&&u_(r,e);let i=e[Tr];i!==null&&i.detachView(t)}Pj(e)}finally{ye(n)}}function _U(t,e){let n=t.cleanup,r=e[nl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[nl]=null);let i=e[hi];if(i!==null){e[hi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function wU(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof bs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];Qn(4,a,c);try{c.call(a)}finally{Qn(5,a,c)}}else{Qn(4,i,s);try{s.call(i)}finally{Qn(5,i,s)}}}}}function zA(t,e,n){return IU(t,e.parent,n)}function IU(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[rr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Zn.None||s===Zn.Emulated)return null}return hn(r,n)}}function Xh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function qA(t,e,n){t.appendChild(e,n)}function BT(t,e,n,r,i){r!==null?Xh(t,e,n,r,i):qA(t,e,n)}function EU(t,e,n,r){t.removeChild(e,n,r)}function d_(t,e){return t.parentNode(e)}function bU(t,e){return t.nextSibling(e)}function GA(t,e,n){return CU(t,e,n)}function DU(t,e,n){return t.type&40?hn(t,n):null}var CU=DU,$T;function Af(t,e,n,r){let i=zA(t,r,e),s=e[qe],o=r.parent||e[Wt],a=GA(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)BT(s,i,n[c],a,!1);else BT(s,i,n,a,!1);$T!==void 0&&$T(s,r,e,n,i)}function Vh(t,e){if(e!==null){let n=e.type;if(n&3)return hn(e,t);if(n&4)return ov(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Vh(t,r);{let i=t[e.index];return xr(i)?ov(-1,i):Jn(i)}}else{if(n&32)return l_(e,t)()||Jn(t[e.index]);{let r=WA(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=sl(t[Xt]);return Vh(i,r)}else return Vh(t,e.next)}}}return null}function WA(t,e){if(e!==null){let r=t[Xt][Wt],i=e.projection;return r.projection[i]}return null}function ov(t,e){let n=Tt+t+1;if(n<e.length){let r=e[n],i=r[le].firstChild;if(i!==null)return Vh(r,i)}return e[Is]}function TU(t,e,n){let r=d_(t,e);r&&EU(t,r,e,n)}function h_(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&mi(Jn(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)h_(t,e,n.child,r,i,s,!1),jo(e,t,i,a,s);else if(c&32){let u=l_(n,r),d;for(;d=u();)jo(e,t,i,d,s);jo(e,t,i,a,s)}else c&16?KA(t,e,r,n,i,s):jo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Rf(t,e,n,r,i,s){h_(n,r,t.firstChild,e,i,s,!1)}function SU(t,e,n){let r=e[qe],i=zA(t,n,e),s=n.parent||e[Wt],o=GA(s,n,e);KA(r,0,e,n,i,o)}function KA(t,e,n,r,i,s){let o=n[Xt],c=o[Wt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];jo(e,t,i,d,s)}else{let u=c,d=o[At];EA(r)&&(u.flags|=128),h_(t,e,u,d,i,s,!0)}}function AU(t,e,n,r,i){let s=n[Is],o=Jn(n);s!==o&&jo(e,t,r,s,i);for(let a=Tt;a<n.length;a++){let c=n[a];Rf(c[le],c,t,e,r,s)}}function RU(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Ar.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Ar.Important),t.setStyle(n,r,i,s))}}function xU(t,e,n){t.setAttribute(e,"style",n)}function QA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function YA(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&$y(t,e,r),i!==null&&QA(t,e,i),s!==null&&xU(t,e,s)}var ir={};function kn(t=1){ZA($e(),ue(),_i()+t,!1)}function ZA(t,e,n,r){if(!r)if((e[ie]&3)===3){let s=t.preOrderCheckHooks;s!==null&&kh(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Fh(e,s,0,n)}Es(n)}function j(t,e=ve.Default){let n=ue();if(n===null)return R(t,e);let r=dt();return gA(r,n,Lt(t),e)}function XA(){let t="invalid";throw new Error(t)}function JA(t,e,n,r,i,s){let o=ye(null);try{let a=null;i&zo.SignalBased&&(a=e[r][an]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&zo.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):jS(e,a,r,s)}finally{ye(o)}}function MU(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Es(~i);else{let s=i,o=n[++r],a=n[++r];sj(o,s);let c=e[s];a(2,c)}}}finally{Es(-1)}}function xf(t,e,n,r,i,s,o,a,c,u,d){let f=e.blueprint.slice();return f[rr]=i,f[ie]=r|4|128|8|64,(u!==null||t&&t[ie]&2048)&&(f[ie]|=2048),GS(f),f[At]=f[ea]=t,f[Ct]=n,f[Xn]=o||t&&t[Xn],f[qe]=a||t&&t[qe],f[Wo]=c||t&&t[Wo]||null,f[Wt]=s,f[yf]=Nj(),f[Go]=d,f[VS]=u,f[Xt]=e.type==2?t[Xt]:f,f}function ra(t,e,n,r,i){let s=t.data[e];if(s===null)s=NU(t,e,n,r,i),ij()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=tj();s.injectorIndex=o===null?-1:o.injectorIndex}return As(s,!0),s}function NU(t,e,n,r,i){let s=ZS(),o=Yv(),a=o?s:s&&s.parent,c=t.data[e]=VU(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function eR(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function tR(t,e,n,r,i){let s=_i(),o=r&2;try{Es(-1),o&&e.length>yt&&ZA(t,e,yt,!1),Qn(o?2:0,i),n(r,i)}finally{Es(s),Qn(o?3:1,i)}}function f_(t,e,n){if(qv(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ye(r)}}}function p_(t,e,n){QS()&&(zU(t,e,n,hn(n,e)),(n.flags&64)===64&&iR(t,e,n))}function m_(t,e,n=hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function nR(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=g_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function g_(t,e,n,r,i,s,o,a,c,u,d){let f=yt+r,m=f+i,y=OU(f,m),E=typeof u=="function"?u():u;return y[le]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function OU(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ir);return n}function PU(t,e,n,r){let s=r.get(jj,RA)||n===Zn.ShadowDom,o=t.selectRootElement(e,s);return kU(o),o}function kU(t){FU(t)}var FU=()=>null;function LU(t,e,n,r){let i=aR(e);i.push(n),t.firstCreatePass&&cR(t).push(r,i.length-1)}function VU(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return YS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function HT(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=zo.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?zT(r,n,u,a,c):zT(r,n,u,a)}return r}function zT(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function jU(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let d=r;d<i;d++){let f=s[d],m=n?n.get(f):null,y=m?m.inputs:null,E=m?m.outputs:null;c=HT(0,f.inputs,d,c,y),u=HT(1,f.outputs,d,u,E);let S=c!==null&&o!==null&&!Bv(e)?tB(c,d,o):null;a.push(S)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function UU(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Mf(t,e,n,r,i,s,o,a){let c=hn(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(v_(t,n,d,r,i),vf(e)&&BU(n,e.index)):e.type&3?(r=UU(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function BU(t,e){let n=yi(e,t);n[ie]&16||(n[ie]|=64)}function y_(t,e,n,r){if(QS()){let i=r===null?null:{"":-1},s=GU(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&rR(t,e,n,o,i,a),i&&WU(n,r,i)}n.mergedAttrs=el(n.mergedAttrs,n.attrs)}function rR(t,e,n,r,i,s){for(let u=0;u<r.length;u++)Zy(Qh(n,e),t,r[u].type);QU(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=eR(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=el(n.mergedAttrs,d.hostAttrs),YU(t,n,e,c,d),KU(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}jU(t,n,s)}function $U(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;HU(o)!=a&&o.push(a),o.push(n,r,s)}}function HU(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zU(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;vf(n)&&ZU(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Qh(n,e),mi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Ds(e,t,a,n);if(mi(u,e),o!==null&&eB(e,a-i,u,c,n,o),Sr(c)){let d=yi(n.index,e);d[Ct]=Ds(e,t,a,n)}}}function iR(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=oj();try{Es(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];Qy(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&qU(c,u)}}finally{Es(-1),Qy(o)}}function qU(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function GU(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(CS(e,o.selectors,!1))if(r||(r=[]),Sr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;av(t,e,c)}else r.unshift(o),av(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function av(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function WU(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Q(-301,!1);r.push(e[i],s)}}}function KU(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Sr(e)&&(n[""]=t)}}function QU(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function YU(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=vs(i.type,!0)),o=new bs(s,Sr(i),j);t.blueprint[r]=o,n[r]=o,$U(t,e,r,eR(t,n,i.hostVars,ir),i)}function ZU(t,e,n){let r=hn(e,t),i=nR(n),s=t[Xn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Nf(t,xf(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function XU(t,e,n,r,i,s){let o=hn(t,e);JU(e[qe],o,s,t.value,n,r,i)}function JU(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?ul(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function eB(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],d=o[a++],f=o[a++];JA(r,n,c,u,d,f)}}function tB(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function sR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function oR(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];If(s),a.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function Nf(t,e){return t[rl]?t[TT][Nn]=e:t[rl]=e,t[TT]=e,e}function cv(t,e,n){If(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function aR(t){return t[nl]||(t[nl]=[])}function cR(t){return t.cleanup||(t.cleanup=[])}function lR(t,e,n){return(t===null||Sr(t))&&(n=zV(n[e.index])),n[qe]}function uR(t,e){let n=t[Wo],r=n?n.get(ln,null):null;r&&r.handleError(e)}function v_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],d=t.data[o];JA(d,u,r,a,c,i)}}function nB(t,e,n){let r=zS(e,t);fU(t[qe],r,n)}function rB(t,e){let n=yi(e,t),r=n[le];iB(r,n);let i=n[rr];i!==null&&n[Go]===null&&(n[Go]=o_(i,n[Wo])),__(r,n,n[Ct])}function iB(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function __(t,e,n){e_(e);try{let r=t.viewQuery;r!==null&&cv(1,r,n);let i=t.template;i!==null&&tR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Tr]?.finishViewCreation(t),t.staticContentQueries&&oR(t,e),t.staticViewQueries&&cv(2,t.viewQuery,n);let s=t.components;s!==null&&sB(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,t_()}}function sB(t,e){for(let n=0;n<e.length;n++)rB(t,e[n])}function yl(t,e,n,r){let i=ye(null);try{let s=e.tView,a=t[ie]&4096?4096:16,c=xf(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[_s]=u;let d=t[Tr];return d!==null&&(c[Tr]=d.createEmbeddedView(s)),__(s,c,n),c}finally{ye(i)}}function dR(t,e){let n=Tt+e;if(n<t.length)return t[n]}function Qo(t,e){return!e||e.firstChild===null||EA(t)}function vl(t,e,n,r=!0){let i=e[le];if(vU(i,e,t,n),r){let o=ov(n,t),a=e[qe],c=d_(a,t[Is]);c!==null&&gU(i,t[Wt],a,e,c,o)}let s=e[Go];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function hR(t,e){let n=ol(t,e);return n!==void 0&&Sf(n[le],n),n}function Jh(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Jn(s)),xr(s)&&oB(s,r);let o=n.type;if(o&8)Jh(t,e,n.child,r);else if(o&32){let a=l_(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=WA(e,n);if(Array.isArray(a))r.push(...a);else{let c=sl(e[Xt]);Jh(c[le],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function oB(t,e){for(let n=Tt;n<t.length;n++){let r=t[n],i=r[le].firstChild;i!==null&&Jh(r[le],r,i,e)}t[Is]!==t[rr]&&e.push(t[Is])}var fR=[];function aB(t){return t[ws]??cB(t)}function cB(t){let e=fR.pop()??Object.create(uB);return e.lView=t,e}function lB(t){t.lView[ws]!==t&&(t.lView=null,fR.push(t))}var uB=pe(P({},Hc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{wf(t.lView)},consumerOnSignalRead(){this.lView[ws]=this}}),dB=100;function pR(t,e=!0,n=0){let r=t[Xn],i=r.rendererFactory,s=!1;s||i.begin?.();try{hB(t,n)}catch(o){throw e&&uR(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function hB(t,e){let n=XS();try{AT(!0),lv(t,e);let r=0;for(;il(t);){if(r===dB)throw new Q(103,!1);r++,lv(t,1)}}finally{AT(n)}}function fB(t,e,n,r){let i=e[ie];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Xn].inlineEffectRunner?.flush(),e_(e);let a=null,c=null;!s&&pB(t)&&(c=aB(e),a=qd(c));try{GS(e),rj(t.bindingStartIndex),n!==null&&tR(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let m=t.preOrderCheckHooks;m!==null&&kh(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Fh(e,m,0,null),Dy(e,0)}if(o||mB(e),mR(e,0),t.contentQueries!==null&&oR(t,e),!s)if(u){let m=t.contentCheckHooks;m!==null&&kh(e,m)}else{let m=t.contentHooks;m!==null&&Fh(e,m,1),Dy(e,1)}MU(t,e);let d=t.components;d!==null&&yR(e,d,0);let f=t.viewQuery;if(f!==null&&cv(2,f,r),!s)if(u){let m=t.viewCheckHooks;m!==null&&kh(e,m)}else{let m=t.viewHooks;m!==null&&Fh(e,m,2),Dy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ph]){for(let m of e[Ph])m();e[Ph]=null}s||(e[ie]&=-73)}catch(u){throw s||wf(e),u}finally{c!==null&&(Gd(c,a),lB(c)),t_()}}function pB(t){return t.type!==2}function mR(t,e){for(let n=DA(t);n!==null;n=CA(n))for(let r=Tt;r<n.length;r++){let i=n[r];gR(i,e)}}function mB(t){for(let e=DA(t);e!==null;e=CA(e)){if(!(e[ie]&qh.HasTransplantedViews))continue;let n=e[Ko];for(let r=0;r<n.length;r++){let i=n[r];WV(i)}}}function gB(t,e,n){let r=yi(e,t);gR(r,n)}function gR(t,e){Wv(t)&&lv(t,e)}function lv(t,e){let r=t[le],i=t[ie],s=t[ws],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Wd(s)),o||=!1,s&&(s.dirty=!1),t[ie]&=-9217,o)fB(r,t,r.template,t[Ct]);else if(i&8192){mR(t,1);let a=r.components;a!==null&&yR(t,a,1)}}function yR(t,e,n){for(let r=0;r<e.length;r++)gB(t,e[r],n)}function w_(t,e){let n=XS()?64:1088;for(t[Xn].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=sl(t);if(Gy(t)&&!r)return t;t=r}return null}var Cs=class{get rootNodes(){let e=this._lView,n=e[le];return Jh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(xr(e)){let n=e[zh],r=n?n.indexOf(this):-1;r>-1&&(ol(e,r),$h(n,r))}this._attachedToViewContainer=!1}Sf(this._lView[le],this._lView)}onDestroy(e){WS(this._lView,e)}markForCheck(){w_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Ky(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,pR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Gy(this._lView),n=this._lView[_s];n!==null&&!e&&u_(n,this._lView),$A(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=Gy(this._lView),r=this._lView[_s];r!==null&&!n&&HA(r,this._lView),Ky(this._lView)}},On=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_B;let t=e;return t})(),yB=On,vB=class extends yB{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=yl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Cs(i)}};function _B(){return Of(dt(),ue())}function Of(t,e){return t.type&4?new vB(e,t,na(t,e)):null}var ate=new RegExp(`^(\\d+)*(${Lj}|${Fj})*(.*)`);var wB=()=>null;function Yo(t,e){return wB(t,e)}var Zo=class{},vR=new $("",{providedIn:"root",factory:()=>!1});var _R=new $(""),uv=class{},ef=class{};function IB(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[EB]=t,e}var EB="ngComponent";var dv=class{resolveComponentFactory(e){throw IB(e)}},k_=class k_{};k_.NULL=new dv;var er=k_,Xo=class{},sr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>bB();let t=e;return t})();function bB(){let t=ue(),e=dt(),n=yi(e.index,t);return(fi(n)?n:t)[qe]}var DB=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ry={};var qT=new Set;function Ii(t){qT.has(t)||(qT.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function wR(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof ut.requestAnimationFrame=="function"&&ut.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function GT(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function WT(...t){}var K=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,SB(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,CB,WT,WT);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},CB={};function I_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function TB(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{wR(()=>{t.callbackScheduled=!1,hv(t),t.isCheckStableRunning=!0,I_(t),t.isCheckStableRunning=!1})}),hv(t))}function SB(t){let e=()=>{TB(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(AB(a))return n.invokeTask(i,s,o,a);try{return KT(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),QT(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return KT(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!RB(a)&&e(),QT(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,hv(t),I_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function hv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function KT(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QT(t){t._nesting--,I_(t)}var fv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function AB(t){return IR(t,"__ignore_ng_zone__")}function RB(t){return IR(t,"__scheduler_tick__")}function IR(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var gs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(gs||{}),ER={destroy(){}};function E_(t,e){!e&&Hv(E_);let n=e?.injector??k(xe);if(!UA(n))return ER;Ii("NgAfterRender");let r=n.get(Pf),i=r.handler??=new nf,s=e?.phase??gs.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ta).onDestroy(o),c=dn(n,()=>new tf(s,t));return i.register(c),{destroy:o}}function Ei(t,e){!e&&Hv(Ei);let n=e?.injector??k(xe);if(!UA(n))return ER;Ii("NgAfterNextRender");let r=n.get(Pf),i=r.handler??=new nf,s=e?.phase??gs.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ta).onDestroy(o),c=dn(n,()=>new tf(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var tf=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(K),this.errorHandler=k(ln,{optional:!0}),k(Zo,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},nf=class{constructor(){this.executingCallbacks=!1,this.buckets={[gs.EarlyRead]:new Set,[gs.Write]:new Set,[gs.MixedReadWrite]:new Set,[gs.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Pf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function rf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Vy(i,a);else if(s==2){let c=a,u=e[++o];r=Vy(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var sf=class extends er{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cr(e);return new Ts(n,this.ngModule)}};function YT(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function xB(t){let e=t.toLowerCase();return e==="svg"?HS:e==="math"?HV:null}var pv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=pf(r);let i=this.injector.get(e,Ry,r);return i!==Ry||n===Ry?i:this.parentInjector.get(e,n,r)}},Ts=class extends ef{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=YT(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return YT(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=bV(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof St?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new pv(e,o):e,c=a.get(Xo,null);if(c===null)throw new Q(407,!1);let u=a.get(DB,null),d=a.get(Pf,null),f=a.get(Zo,null),m={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},y=c.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",S=r?PU(y,r,this.componentDef.encapsulation,a):BA(y,E,xB(E)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let V=null;S!==null&&(V=o_(S,a,!0));let B=g_(0,null,null,1,0,null,null,null,null,null,null),z=xf(null,B,null,M,null,null,m,y,a,null,V);e_(z);let ee,fe;try{let Y=this.componentDef,b,v=null;Y.findHostDirectiveDefs?(b=[],v=new Map,Y.findHostDirectiveDefs(Y,b,v),b.push(Y)):b=[Y];let w=MB(z,S),D=NB(w,S,Y,b,z,m,y);fe=Gv(B,yt),S&&kB(y,Y,S,r),n!==void 0&&FB(fe,this.ngContentSelectors,n),ee=PB(D,Y,b,v,z,[LB]),__(B,z,null)}finally{t_()}return new mv(this.componentType,ee,na(fe,z),z,fe)}finally{ye(s)}}},mv=class extends uv{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Cs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;v_(s[le],s,i,e,n),this.previousInputValues.set(e,n);let o=yi(this._tNode.index,s);w_(o,1)}}get injector(){return new ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function MB(t,e){let n=t[le],r=yt;return t[r]=e,ra(n,r,2,"#host",null)}function NB(t,e,n,r,i,s,o){let a=i[le];OB(r,t,e,o);let c=null;e!==null&&(c=o_(e,i[Wo]));let u=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=xf(i,nR(n),null,d,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&av(a,t,r.length-1),Nf(i,f),i[t.index]=f}function OB(t,e,n,r){for(let i of t)e.mergedAttrs=el(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(rf(e,e.mergedAttrs,!0),n!==null&&YA(r,n,e))}function PB(t,e,n,r,i,s){let o=dt(),a=i[le],c=hn(o,i);rR(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,m=Ds(i,a,f,o);mi(m,i)}iR(a,i,o),c&&mi(c,i);let u=Ds(i,a,o.directiveStart+o.componentOffset,o);if(t[Ct]=i[Ct]=u,s!==null)for(let d of s)d(u,e);return f_(a,o,i),u}function kB(t,e,n,r){if(r)$y(t,n,["ng-version","18.0.1"]);else{let{attrs:i,classes:s}=DV(e.selectors[0]);i&&$y(t,n,i),s&&s.length>0&&QA(t,n,s.join(" "))}}function FB(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function LB(){let t=dt();Df(ue()[le],t)}var pn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VB;let t=e;return t})();function VB(){let t=dt();return DR(t,ue())}var jB=pn,bR=class extends jB{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new ys(this._hostTNode,this._hostLView)}get parentInjector(){let e=n_(this._hostTNode,this._hostLView);if(uA(e)){let n=Wh(e,this._hostLView),r=Gh(e),i=n[le].data[r+8];return new ys(i,n)}else return new ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ZT(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Yo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Qo(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!jV(e),a;if(o)a=n;else{let E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let c=o?e:new Ts(Cr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let S=(o?u:this.parentInjector).get(St,null);S&&(s=S)}let d=Cr(c.componentType??{}),f=Yo(this._lContainer,d?.id??null),m=f?.firstChild??null,y=c.create(u,i,m,s);return this.insertImpl(y.hostView,a,Qo(this._hostTNode,f)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(GV(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[At],u=new bR(c,c[Wt],c[At]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return vl(o,i,s,r),e.attachToViewContainerRef(),_S(xy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ZT(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ol(this._lContainer,n);r&&($h(xy(this._lContainer),n),Sf(r[le],r))}detach(e){let n=this._adjustIndex(e,-1),r=ol(this._lContainer,n);return r&&$h(xy(this._lContainer),n)!=null?new Cs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ZT(t){return t[zh]}function xy(t){return t[zh]||(t[zh]=[])}function DR(t,e){let n,r=e[t.index];return xr(r)?n=r:(n=sR(r,e,null,t),e[t.index]=n,Nf(e,n)),BB(n,e,t,r),new bR(n,t,e)}function UB(t,e){let n=t[qe],r=n.createComment(""),i=hn(e,t),s=d_(n,i);return Xh(n,s,r,bU(n,i),!1),r}var BB=zB,$B=()=>!1;function HB(t,e,n){return $B(t,e,n)}function zB(t,e,n,r){if(t[Is])return;let i;n.type&8?i=Jn(r):i=UB(e,n),t[Is]=i}var gv=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},yv=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)D_(e,n).matches!==null&&this.queries[n].setDirty()}},of=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=YB(e):this.predicate=e}},vv=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},_v=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,qB(n,s)),this.matchTNodeWithReadOption(e,n,Lh(n,e,s,!1,!1))}else r===On?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Lh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ce||i===pn||i===On&&n.type&4)this.addMatch(n.index,-2);else{let s=Lh(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function qB(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function GB(t,e){return t.type&11?na(t,e):t.type&4?Of(t,e):null}function WB(t,e,n,r){return n===-1?GB(e,t):n===-2?KB(t,e,r):Ds(t,t[le],n,e)}function KB(t,e,n){if(n===Ce)return na(e,t);if(n===On)return Of(e,t);if(n===pn)return DR(e,t)}function CR(t,e,n,r){let i=e[Tr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let d=s[u];a.push(WB(e,d,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function wv(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=CR(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],d=e[-c];for(let f=Tt;f<d.length;f++){let m=d[f];m[_s]===m[At]&&wv(m[le],m,u,r)}if(d[Ko]!==null){let f=d[Ko];for(let m=0;m<f.length;m++){let y=f[m];wv(y[le],y,u,r)}}}}}return r}function b_(t,e){return t[Tr].queries[e].queryList}function TR(t,e,n){let r=new Yh((n&4)===4);return LU(t,e,r,r.destroy),(e[Tr]??=new yv).queries.push(new gv(r))-1}function SR(t,e,n){let r=$e();return r.firstCreatePass&&(AR(r,new of(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),TR(r,ue(),e)}function QB(t,e,n,r){let i=$e();if(i.firstCreatePass){let s=dt();AR(i,new of(e,n,r),s.index),ZB(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return TR(i,ue(),n)}function YB(t){return t.split(",").map(e=>e.trim())}function AR(t,e,n){t.queries===null&&(t.queries=new vv),t.queries.track(new _v(e,n))}function ZB(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function D_(t,e){return t.queries.getByIndex(e)}function RR(t,e){let n=t[le],r=D_(n,e);return r.crossesNgTemplate?wv(n,t,e,[]):CR(n,t,r,e)}function xR(t){return typeof t=="function"&&t[an]!==void 0}function C_(t,e){Ii("NgSignals");let n=F0(t),r=n[an];return e?.equal&&(r.equal=e.equal),n.set=i=>Qd(r,i),n.update=i=>L0(r,i),n.asReadonly=XB.bind(n),n}function XB(){let t=this[an];if(t.readonlyFn===void 0){let e=()=>this();e[an]=t,t.readonlyFn=e}return t.readonlyFn}function MR(t){return xR(t)&&typeof t.set=="function"}function NR(t,e){let n,r=N0(()=>{n._dirtyCounter();let i=n2(n,t);if(e&&i===void 0)throw new Q(-951,!1);return i});return n=r[an],n._dirtyCounter=C_(0),n._flatValue=void 0,r}function JB(){return NR(!0,!1)}function e2(){return NR(!0,!0)}function t2(t,e){let n=t[an];n._lView=ue(),n._queryIndex=e,n._queryList=b_(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function n2(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[ie]&4)return e?void 0:Vt;let i=b_(n,r),s=RR(n,r);return i.reset(s,IA),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}function XT(t,e){return JB()}function r2(t,e){return e2()}var lte=(XT.required=r2,XT);function i2(t){return Object.getPrototypeOf(t.prototype).constructor}function Je(t){let e=i2(t.type),n=!0,r=[t];for(;e;){let i;if(Sr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Mh(t.inputs),o.inputTransforms=Mh(t.inputTransforms),o.declaredInputs=Mh(t.declaredInputs),o.outputs=Mh(t.outputs);let a=i.hostBindings;a&&l2(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&a2(t,c),u&&c2(t,u),s2(t,i),$L(t.outputs,i.outputs),Sr(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Je&&(n=!1)}}e=Object.getPrototypeOf(e)}o2(r)}function s2(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function o2(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=el(i.hostAttrs,n=el(n,i.hostAttrs))}}function Mh(t){return t===$o?{}:t===Vt?[]:t}function a2(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function c2(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function l2(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Nr(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var gi=class{},al=class{};var Iv=class extends gi{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sf(this);let i=xS(e);this._bootstrapComponents=jA(i.bootstrap),this._r3Injector=_A(e,n,[{provide:gi,useValue:this},{provide:er,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ev=class extends al{constructor(e){super(),this.moduleType=e}create(e){return new Iv(this.moduleType,e,[])}};var af=class extends gi{constructor(e){super(),this.componentFactoryResolver=new sf(this),this.instance=null;let n=new tl([...e.providers,{provide:gi,useValue:this},{provide:er,useValue:this.componentFactoryResolver}],e.parent||gf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kf(t,e,n=null){return new af({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ia=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function u2(t,e,n){return t[e]=n}function Fn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function d2(t){return(t.flags&32)===32}function h2(t,e,n,r,i,s,o,a,c){let u=e.consts,d=ra(e,t,4,o||null,a||null);y_(e,n,d,pi(u,c)),Df(e,d);let f=d.tView=g_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function cf(t,e,n,r,i,s,o,a,c,u){let d=n+yt,f=e.firstCreatePass?h2(d,e,t,r,i,s,o,a,c):e.data[d];As(f,!1);let m=f2(e,t,f,n);Ef()&&Af(e,t,m,f),mi(m,t);let y=sR(m,t,m,f);return t[d]=y,Nf(t,y),HB(y,f,t),_f(f)&&p_(e,t,f),c!=null&&m_(t,f,u),f}function Ln(t,e,n,r,i,s,o,a){let c=ue(),u=$e(),d=pi(u.consts,s);return cf(c,u,t,e,n,r,i,d,o,a),Ln}var f2=p2;function p2(t,e,n,r){return bf(!0),e[qe].createComment("")}function or(t,e,n,r){let i=ue(),s=vi();if(Fn(i,s,e)){let o=$e(),a=hl();XU(a,i,t,e,n,r)}return or}function m2(t,e,n,r){return Fn(t,vi(),n)?e+ul(n)+r:ir}function Nh(t,e){return t<<17|e<<2}function Ss(t){return t>>17&32767}function g2(t){return(t&2)==2}function y2(t,e){return t&131071|e<<17}function bv(t){return t|2}function Jo(t){return(t&131068)>>2}function My(t,e){return t&-131069|e<<2}function v2(t){return(t&1)===1}function Dv(t){return t|1}function _2(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ss(o),c=Jo(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||dl(f,d)>0)&&(u=!0)}else d=n;if(i)if(c!==0){let m=Ss(t[a+1]);t[r+1]=Nh(m,a),m!==0&&(t[m+1]=My(t[m+1],r)),t[a+1]=y2(t[a+1],r)}else t[r+1]=Nh(a,0),a!==0&&(t[a+1]=My(t[a+1],r)),a=r;else t[r+1]=Nh(c,0),a===0?a=r:t[c+1]=My(t[c+1],r),c=r;u&&(t[r+1]=bv(t[r+1])),JT(t,d,r,!0),JT(t,d,r,!1),w2(e,d,t,r,s),o=Nh(a,c),s?e.classBindings=o:e.styleBindings=o}function w2(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&dl(s,e)>=0&&(n[r+1]=Dv(n[r+1]))}function JT(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ss(i):Jo(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];I2(c,e)&&(a=!0,t[o+1]=r?Dv(u):bv(u)),o=r?Ss(u):Jo(u)}a&&(t[n+1]=r?bv(i):Dv(i))}function I2(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?dl(t,e)>=0:!1}var Mn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function E2(t){return t.substring(Mn.key,Mn.keyEnd)}function b2(t){return D2(t),OR(t,PR(t,0,Mn.textEnd))}function OR(t,e){let n=Mn.textEnd;return n===e?-1:(e=Mn.keyEnd=C2(t,Mn.key=e,n),PR(t,e,n))}function D2(t){Mn.key=0,Mn.keyEnd=0,Mn.value=0,Mn.valueEnd=0,Mn.textEnd=t.length}function PR(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function C2(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function xs(t,e,n){let r=ue(),i=vi();if(Fn(r,i,e)){let s=$e(),o=hl();Mf(s,o,r,t,e,r[qe],n,!1)}return xs}function Cv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";v_(t,n,s[o],o,r)}function T_(t,e,n){return FR(t,e,n,!1),T_}function Or(t,e){return FR(t,e,null,!0),Or}function kR(t){S2(O2,T2,t,!0)}function T2(t,e){for(let n=b2(e);n>=0;n=OR(e,n))Uv(t,E2(e),!0)}function FR(t,e,n,r){let i=ue(),s=$e(),o=eA(2);if(s.firstUpdatePass&&VR(s,t,o,r),e!==ir&&Fn(i,o,e)){let a=s.data[_i()];jR(s,a,i,i[qe],t,i[o+1]=k2(e,n),r,o)}}function S2(t,e,n,r){let i=$e(),s=eA(2);i.firstUpdatePass&&VR(i,null,s,r);let o=ue();if(n!==ir&&Fn(o,s,n)){let a=i.data[_i()];if(UR(a,r)&&!LR(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Vy(c,n||"")),Cv(i,a,o,n,r)}else P2(i,a,o,o[qe],o[s+1],o[s+1]=N2(t,e,n),r,s)}}function LR(t,e){return e>=t.expandoStartIndex}function VR(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[_i()],o=LR(t,n);UR(s,r)&&e===null&&!o&&(e=!1),e=A2(i,s,e,r),_2(i,s,e,n,o,r)}}function A2(t,e,n,r){let i=Xv(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ny(null,t,e,n,r),n=cl(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Ny(i,t,e,n,r),s===null){let c=R2(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Ny(null,t,e,c[1],r),c=cl(c,e.attrs,r),x2(t,e,r,c))}else s=M2(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function R2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Jo(r)!==0)return t[Ss(r)]}function x2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ss(i)]=r}function M2(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=cl(r,o,n)}return cl(r,e.attrs,n)}function Ny(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=cl(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function cl(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Uv(t,o,n?!0:e[++s]))}return t===void 0?null:t}function N2(t,e,n){if(n==null||n==="")return Vt;let r=[],i=Rs(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function O2(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Uv(t,r,n)}function P2(t,e,n,r,i,s,o,a){i===ir&&(i=Vt);let c=0,u=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let m=c<i.length?i[c+1]:void 0,y=u<s.length?s[u+1]:void 0,E=null,S;d===f?(c+=2,u+=2,m!==y&&(E=f,S=y)):f===null||d!==null&&d<f?(c+=2,E=d):(u+=2,E=f,S=y),E!==null&&jR(t,e,n,r,E,S,o,a),d=c<i.length?i[c]:null,f=u<s.length?s[u]:null}}function jR(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],d=v2(u)?eS(c,e,n,i,Jo(u),o):void 0;if(!lf(d)){lf(s)||g2(u)&&(s=eS(c,null,n,i,a,o));let f=zS(_i(),n);RU(r,o,f,i,s)}}function eS(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),d=u?c[1]:c,f=d===null,m=n[i+1];m===ir&&(m=f?Vt:void 0);let y=f?Ey(m,r):d===r?m:void 0;if(u&&!lf(y)&&(y=Ey(c,r)),lf(y)&&(a=y,o))return a;let E=t[i+1];i=o?Ss(E):Jo(E)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=Ey(c,r))}return a}function lf(t){return t!==void 0}function k2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(Rs(t)))),t}function UR(t,e){return(t.flags&(e?8:16))!==0}var Tv=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Oy(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function F2(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let u=t.at(s),d=e[s],f=Oy(s,u,s,d,n);if(f!==0){f<0&&t.updateValue(s,d),s++;continue}let m=t.at(o),y=e[c],E=Oy(o,m,c,y,n);if(E!==0){E<0&&t.updateValue(o,y),o--,c--;continue}let S=n(s,u),M=n(o,m),V=n(s,d);if(Object.is(V,M)){let B=n(c,y);Object.is(B,S)?(t.swap(s,o),t.updateValue(o,y),c--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(r??=new uf,i??=nS(t,s,o,n),Sv(t,r,s,V))t.updateValue(s,d),s++,o++;else if(i.has(V))r.set(S,t.detach(s)),o--;else{let B=t.create(s,e[s]);t.attach(s,B),s++,o++}}for(;s<=c;)tS(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&s<=o;){let d=t.at(s),f=u.value,m=Oy(s,d,s,f,n);if(m!==0)m<0&&t.updateValue(s,f),s++,u=c.next();else{r??=new uf,i??=nS(t,s,o,n);let y=n(s,f);if(Sv(t,r,s,y))t.updateValue(s,f),s++,o++,u=c.next();else if(!i.has(y))t.attach(s,t.create(s,f)),s++,o++,u=c.next();else{let E=n(s,d);r.set(E,t.detach(s)),o--}}}for(;!u.done;)tS(t,r,n,t.length,u.value),u=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function Sv(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function tS(t,e,n,r,i){if(Sv(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function nS(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var uf=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function S_(t,e){Ii("NgControlFlow");let n=ue(),r=vi(),i=n[r]!==ir?n[r]:-1,s=i!==-1?df(n,yt+i):void 0,o=0;if(Fn(n,r,t)){let a=ye(null);try{if(s!==void 0&&hR(s,o),t!==-1){let c=yt+t,u=df(n,c),d=Mv(n[le],c),f=Yo(u,d.tView.ssrId),m=yl(n,d,e,{dehydratedView:f});vl(u,m,o,Qo(d,f))}}finally{ye(a)}}else if(s!==void 0){let a=dR(s,o);a!==void 0&&(a[Ct]=e)}}var Av=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Tt}};function ute(t){return t}function dte(t,e){return e}var Rv=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function hte(t,e,n,r,i,s,o,a,c,u,d,f,m){Ii("NgControlFlow");let y=ue(),E=$e(),S=c!==void 0,M=ue(),V=a?o.bind(M[Xt][Ct]):o,B=new Rv(S,V);M[yt+t]=B,cf(y,E,t+1,e,n,r,i,pi(E.consts,s)),S&&cf(y,E,t+2,c,u,d,f,pi(E.consts,m))}var xv=class extends Tv{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Tt}at(e){return this.getLView(e)[Ct].$implicit}attach(e,n){let r=n[Go];this.needsIndexUpdate||=e!==this.length,vl(this.lContainer,n,e,Qo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,L2(this.lContainer,e)}create(e,n){let r=Yo(this.lContainer,this.templateTNode.tView.ssrId),i=yl(this.hostLView,this.templateTNode,new Av(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Sf(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[Ct].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ct].$index=e}getLView(e){return V2(this.lContainer,e)}};function fte(t){let e=ye(null),n=_i();try{let r=ue(),i=r[le],s=r[n],o=n+1,a=df(r,o);if(s.liveCollection===void 0){let u=Mv(i,o);s.liveCollection=new xv(a,r,u)}else s.liveCollection.reset();let c=s.liveCollection;if(F2(c,t,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let u=vi(),d=c.length===0;if(Fn(r,u,d)){let f=n+2,m=df(r,f);if(d){let y=Mv(i,f),E=Yo(m,y.tView.ssrId),S=yl(r,y,void 0,{dehydratedView:E});vl(m,S,0,Qo(y,E))}else hR(m,0)}}}finally{ye(e)}}function df(t,e){return t[e]}function L2(t,e){return ol(t,e)}function V2(t,e){return dR(t,e)}function Mv(t,e){return Gv(t,e)}function j2(t,e,n,r,i,s){let o=e.consts,a=pi(o,i),c=ra(e,t,2,r,a);return y_(e,n,c,pi(o,s)),c.attrs!==null&&rf(c,c.attrs,!1),c.mergedAttrs!==null&&rf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Bt(t,e,n,r){let i=ue(),s=$e(),o=yt+t,a=i[qe],c=s.firstCreatePass?j2(o,s,i,e,n,r):s.data[o],u=U2(s,i,c,a,e,t);i[o]=u;let d=_f(c);return As(c,!0),YA(a,u,c),!d2(c)&&Ef()&&Af(s,i,u,c),YV()===0&&mi(u,i),ZV(),d&&(p_(s,i,c),f_(s,c,i)),r!==null&&m_(i,c),Bt}function xt(){let t=dt();Yv()?Zv():(t=t.parent,As(t,!1));let e=t;JV(e)&&ej(),XV();let n=$e();return n.firstCreatePass&&(Df(n,t),qv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&pj(e)&&Cv(n,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mj(e)&&Cv(n,e,ue(),e.stylesWithoutHost,!1),xt}function bi(t,e,n,r){return Bt(t,e,n,r),xt(),bi}var U2=(t,e,n,r,i,s)=>(bf(!0),BA(r,i,uj()));function B2(t,e,n,r,i){let s=e.consts,o=pi(s,r),a=ra(e,t,8,"ng-container",o);o!==null&&rf(a,o,!0);let c=pi(s,i);return y_(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function BR(t,e,n){let r=ue(),i=$e(),s=t+yt,o=i.firstCreatePass?B2(s,i,r,e,n):i.data[s];As(o,!0);let a=$2(i,r,o,t);return r[s]=a,Ef()&&Af(i,r,a,o),mi(a,r),_f(o)&&(p_(i,r,o),f_(i,o,r)),n!=null&&m_(r,o),BR}function $R(){let t=dt(),e=$e();return Yv()?Zv():(t=t.parent,As(t,!1)),e.firstCreatePass&&(Df(e,t),qv(t)&&e.queries.elementEnd(t)),$R}function A_(t,e,n){return BR(t,e,n),$R(),A_}var $2=(t,e,n,r)=>(bf(!0),pU(e[qe],""));function R_(){return ue()}function Ff(t,e,n){let r=ue(),i=vi();if(Fn(r,i,e)){let s=$e(),o=hl();Mf(s,o,r,t,e,r[qe],n,!0)}return Ff}function H2(t,e,n){let r=ue(),i=vi();if(Fn(r,i,e)){let s=$e(),o=hl(),a=Xv(s.data),c=lR(a,o,r);Mf(s,o,r,t,e,c,n,!0)}return H2}var ps=void 0;function z2(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var q2=["en",[["a","p"],["AM","PM"],ps],[["AM","PM"],ps,ps],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ps,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ps,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ps,"{1} 'at' {0}",ps],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",z2],Py={};function x_(t){let e=G2(t),n=rS(e);if(n)return n;let r=e.split("-")[0];if(n=rS(r),n)return n;if(r==="en")return q2;throw new Q(701,!1)}function rS(t){return t in Py||(Py[t]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[t]),Py[t]}var sa=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(sa||{});function G2(t){return t.toLowerCase().replace(/_/g,"-")}var hf="en-US";var W2=hf;function K2(t){typeof t=="string"&&(W2=t.toLowerCase().replace(/_/g,"-"))}var Q2=(t,e,n)=>{};function ht(t,e,n,r){let i=ue(),s=$e(),o=dt();return M_(s,i,i[qe],o,t,e,r),ht}function Y2(t,e){let n=dt(),r=ue(),i=$e(),s=Xv(i.data),o=lR(s,n,r);return M_(i,r,o,n,t,e),Y2}function Z2(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[nl],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function M_(t,e,n,r,i,s,o){let a=_f(r),u=t.firstCreatePass&&cR(t),d=e[Ct],f=aR(e),m=!0;if(r.type&3||o){let S=hn(r,e),M=o?o(S):S,V=f.length,B=o?ee=>o(Jn(ee[r.index])):r.index;Q2(S,i,s);let z=null;if(!o&&a&&(z=Z2(t,e,i,r.index)),z!==null){let ee=z.__ngLastListenerFn__||z;ee.__ngNextListenerFn__=s,z.__ngLastListenerFn__=s,m=!1}else{s=sS(r,e,d,s);let ee=n.listen(M,i,s);f.push(s,ee),u&&u.push(i,B,V,V+1)}}else s=sS(r,e,d,s);let y=r.outputs,E;if(m&&y!==null&&(E=y[i])){let S=E.length;if(S)for(let M=0;M<S;M+=2){let V=E[M],B=E[M+1],fe=e[V][B].subscribe(s),Y=f.length;f.push(s,fe),u&&u.push(i,r.index,Y,-(Y+1))}}}function iS(t,e,n,r){let i=ye(null);try{return Qn(6,e,n),n(r)!==!1}catch(s){return uR(t,s),!1}finally{Qn(7,e,n),ye(i)}}function sS(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?yi(t.index,e):e;w_(o,5);let a=iS(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=iS(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function oa(t=1){return cj(t)}function X2(t,e){let n=null,r=vV(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?CS(t,s,!0):IV(r,s))return i}return n}function HR(t){let e=ue()[Xt][Wt];if(!e.projection){let n=t?t.length:1,r=e.projection=lV(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?X2(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function zR(t,e=0,n,r,i,s){let o=ue(),a=$e(),c=r?t+1:null;c!==null&&cf(o,a,c,r,i,s,null,n);let u=ra(a,yt+t,16,null,n||null);u.projection===null&&(u.projection=e),Zv();let f=!o[Go]||YS();o[Xt][Wt].projection[u.projection]===null&&c!==null?J2(o,a,c):f&&(u.flags&32)!==32&&SU(a,o,u)}function J2(t,e,n){let r=yt+n,i=e.data[r],s=t[r],o=Yo(s,i.tView.ssrId),a=yl(t,i,void 0,{dehydratedView:o});vl(s,a,0,Qo(i,o))}function e$(t,e,n,r){QB(t,e,n,r)}function Lf(t,e,n){SR(t,e,n)}function _l(t){let e=ue(),n=$e(),r=Jv();If(r+1);let i=D_(n,r);if(t.dirty&&qV(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=RR(e,r);t.reset(s,IA),t.notifyOnChanges()}return!0}return!1}function wl(){return b_(ue(),Jv())}function pte(t,e,n,r){t2(t,SR(e,n,r))}function mte(t=1){If(Jv()+t)}function t$(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function gte(t){let e=nj();return qS(e,yt+t)}function aa(t,e=""){let n=ue(),r=$e(),i=t+yt,s=r.firstCreatePass?ra(r,i,1,e,null):r.data[i],o=n$(r,n,s,e,t);n[i]=o,Ef()&&Af(r,n,o,s),As(s,!1)}var n$=(t,e,n,r,i)=>(bf(!0),hU(e[qe],r));function r$(t){return Ms("",t,""),r$}function Ms(t,e,n){let r=ue(),i=m2(r,t,e,n);return i!==ir&&nB(r,_i(),i),Ms}function i$(t,e,n){MR(e)&&(e=e());let r=ue(),i=vi();if(Fn(r,i,e)){let s=$e(),o=hl();Mf(s,o,r,t,e,r[qe],n,!1)}return i$}function yte(t,e){let n=MR(t);return n&&t.set(e),n}function s$(t,e){let n=ue(),r=$e(),i=dt();return M_(r,n,n[qe],i,t,e),s$}function o$(t,e,n){let r=$e();if(r.firstCreatePass){let i=Sr(t);Nv(n,r.data,r.blueprint,i,!0),Nv(e,r.data,r.blueprint,i,!1)}}function Nv(t,e,n,r,i){if(t=Lt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Nv(t[s],e,n,r,i);else{let s=$e(),o=ue(),a=dt(),c=qo(t)?t:Lt(t.provide),u=FS(t),d=a.providerIndexes&1048575,f=a.directiveStart,m=a.providerIndexes>>20;if(qo(t)||!t.multi){let y=new bs(u,i,j),E=Fy(c,e,i?d:d+m,f);E===-1?(Zy(Qh(a,o),s,c),ky(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[E]=y,o[E]=y)}else{let y=Fy(c,e,d+m,f),E=Fy(c,e,d,d+m),S=y>=0&&n[y],M=E>=0&&n[E];if(i&&!M||!i&&!S){Zy(Qh(a,o),s,c);let V=l$(i?c$:a$,n.length,i,r,u);!i&&M&&(n[E].providerFactory=V),ky(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=qR(n[i?E:y],u,!i&&r);ky(s,t,y>-1?y:E,V)}!i&&r&&M&&n[E].componentProviders++}}}function ky(t,e,n,r){let i=qo(e),s=NV(e);if(i||s){let c=(s?Lt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,c]):u[d+1].push(r,c)}else u.push(n,c)}}}function qR(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Fy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function a$(t,e,n,r){return Ov(this.multi,[])}function c$(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Ds(n,n[le],this.providerFactory.index,r);s=a.slice(0,o),Ov(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Ov(i,s);return s}function Ov(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function l$(t,e,n,r,i){let s=new bs(t,n,j);return s.multi=[],s.index=e,s.componentProviders=0,qR(s,i,r&&!n),s}function Kt(t,e=[]){return n=>{n.providersResolver=(r,i)=>o$(r,i?i(t):t,e)}}var u$=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=OS(!1,r.type),s=i.length>0?kf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(R(St))});let t=e;return t})();function ar(t){Ii("NgStandalone"),t.getStandaloneInjector=e=>e.get(u$).getOrCreateStandaloneInjector(t)}function GR(t,e,n,r){return WR(ue(),JS(),t,e,n,r)}function d$(t,e){let n=t[e];return n===ir?void 0:n}function WR(t,e,n,r,i,s){let o=e+n;return Fn(t,o,i)?u2(t,o+1,s?r.call(s,i):r(i)):d$(t,o+1)}function vte(t,e){let n=$e(),r,i=t+yt;n.firstCreatePass?(r=h$(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=vs(r.type,!0)),o,a=Gt(j);try{let c=Kh(!1),u=s();return Kh(c),t$(n,ue(),i,u),u}finally{Gt(a)}}function h$(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function _te(t,e,n){let r=t+yt,i=ue(),s=qS(i,r);return f$(i,r)?WR(i,JS(),e,s.transform,n,s):s.transform(n)}function f$(t,e){return t[le].data[e].pure}function wte(t,e){return Of(t,e)}var tr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},KR=new tr("18.0.1"),ca=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var N_=new $(""),Il=new $(""),Vf=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,O_||(p$(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(R(K),R(jf),R(Il))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),jf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return O_?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function p$(t){O_=t}var O_;function Ns(t){return!!t&&typeof t.then=="function"}function QR(t){return!!t&&typeof t.subscribe=="function"}var Uf=new $(""),YR=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(Uf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ns(o))r.push(o);else if(QR(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bf=new $("");function m$(){k0(()=>{throw new Q(600,!1)})}function g$(t){return t.isBoundToModule}var y$=10;function v$(t,e,n){try{let r=n();return Ns(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Pr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(wA),this.afterRenderEffectManager=k(Pf),this.zonelessEnabled=k(vR),this.externalTestViews=new Set,this.beforeRender=new Z,this.afterTick=new Z,this.componentTypes=[],this.components=[],this.isStable=k(ia).hasPendingTasks.pipe(de(r=>!r)),this._injector=k(St)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ef;if(!this._injector.get(YR).done){let y=!s&&RS(r),E=!1;throw new Q(405,E)}let a;s?a=r:a=this._injector.get(er).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=g$(a)?void 0:this._injector.get(gi),u=i||a.selector,d=a.create(xe.NULL,[],u,c),f=d.location.nativeElement,m=d.injector.get(N_,null);return m?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),Ly(this.components,d),m?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Q(101,!1);let i=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ye(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(Xo,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<y$;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:u}of this._views)_$(c,u,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>il(c))&&(o.execute(),!this.allViews.some(({_lView:c})=>il(c))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ly(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Bf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ly(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ly(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _$(t,e,n,r){if(!n&&!il(t))return;pR(t,e,n&&!r?0:1)}var Pv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},$f=(()=>{let e=class e{compileModuleSync(r){return new Ev(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=xS(r),o=jA(s.declarations).reduce((a,c)=>{let u=Cr(c);return u&&a.push(new Ts(u)),a},[]);return new Pv(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var w$=(()=>{let e=class e{constructor(){this.zone=k(K),this.changeDetectionScheduler=k(Zo),this.applicationRef=k(Pr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function I$({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new K(b$()),[{provide:K,useFactory:t},{provide:Ho,multi:!0,useFactory:()=>{let n=k(w$,{optional:!0});return()=>n.initialize()}},{provide:Ho,multi:!0,useFactory:()=>{let n=k(D$);return()=>{n.initialize()}}},{provide:wA,useFactory:E$},e===!0?{provide:_R,useValue:!0}:[]]}function E$(){let t=k(K),e=k(ln);return n=>t.runOutsideAngular(()=>e.handleError(n))}function b$(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var D$=(()=>{let e=class e{constructor(){this.subscription=new Ne,this.initialized=!1,this.zone=k(K),this.pendingTasks=k(ia)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{K.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{K.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var C$=(()=>{let e=class e{constructor(){this.appRef=k(Pr),this.taskService=k(ia),this.ngZone=k(K),this.zonelessEnabled=k(vR),this.disableScheduling=k(_R,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ne,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fv||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?GT:wR;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&K.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,GT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function T$(){return typeof $localize<"u"&&$localize.locale||hf}var la=new $("",{providedIn:"root",factory:()=>k(la,ve.Optional|ve.SkipSelf)||T$()});var ZR=new $("");var jh=null;function S$(t=[],e){return xe.create({name:e,providers:[{provide:mf,useValue:"platform"},{provide:ZR,useValue:new Set([()=>jh=null])},...t]})}function A$(t=[]){if(jh)return jh;let e=S$(t);return jh=e,m$(),R$(e),e}function R$(t){t.get(s_,null)?.forEach(n=>n())}function Ite(){return!1}var mn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=x$;let t=e;return t})();function x$(t){return M$(dt(),ue(),(t&16)===16)}function M$(t,e,n){if(vf(t)&&!n){let r=yi(t.index,e);return new Cs(r,r)}else if(t.type&47){let r=e[Xt];return new Cs(r,e)}return null}var XR=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(R(Pr))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function JR(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=A$(r),s=[I$({}),{provide:Zo,useExisting:C$},...n||[]],a=new af({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(K);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(ln,null),d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:y=>{u.handleError(y)}})});let f=()=>a.destroy(),m=i.get(ZR);return m.add(f),a.onDestroy(()=>{d.unsubscribe(),m.delete(f)}),v$(u,c,()=>{let y=a.get(YR);return y.runInitializers(),y.donePromise.then(()=>{let E=a.get(la,hf);K2(E||hf);let S=a.get(Pr);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function gn(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function P_(t){let e=ye(null);try{return t()}finally{ye(e)}}var N$=new $("",{providedIn:"root",factory:()=>k(O$)}),O$=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new kv});let t=e;return t})(),kv=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=k(ia),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Fv=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=V0(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(ln,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function ex(t,e){Ii("NgSignals"),!e?.injector&&Hv(ex);let n=e?.injector??k(xe),r=e?.manualCleanup!==!0?n.get(ta):null,i=new Fv(n.get(N$),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(mn,null,{optional:!0});return!s||!(s._lView[ie]&8)?i.watcher.notify():(s._lView[Ph]??=[]).push(i.watcher.notify),i}function Ete(t,e){let n=Cr(t),r=e.elementInjector||gf();return new Ts(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function tx(t){let e=Cr(t);if(!e)return null;let n=new Ts(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ax=null;function cr(){return ax}function cx(t){ax??=t}var Hf=class{};var ce=new $(""),$_=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(k$),providedIn:"platform"});let t=e;return t})(),lx=new $(""),k$=(()=>{let e=class e extends $_{constructor(){super(),this._doc=k(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(r){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=cr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function H_(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function nx(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function kr(t){return t&&t[0]!=="?"?"?"+t:t}var Lr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(z_),providedIn:"root"});let t=e;return t})(),ux=new $(""),z_=(()=>{let e=class e extends Lr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return H_(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+kr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+kr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+kr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R($_),R(ux,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dx=(()=>{let e=class e extends Lr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=H_(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+kr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+kr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R($_),R(ux,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),lr=(()=>{let e=class e{constructor(r){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=V$(nx(rx(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+kr(i))}normalize(r){return e.stripTrailingSlash(L$(this._basePath,rx(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+kr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=kr,e.joinWithSlash=H_,e.stripTrailingSlash=nx,e.\u0275fac=function(i){return new(i||e)(R(Lr))},e.\u0275prov=L({token:e,factory:()=>F$(),providedIn:"root"});let t=e;return t})();function F$(){return new lr(R(Lr))}function L$(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function rx(t){return t.replace(/\/index.html$/,"")}function V$(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var hx=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(hx||{});var Fr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function El(t,e){let n=x_(t),r=n[sa.NumberSymbols][e];if(typeof r>"u"){if(e===Fr.CurrencyDecimal)return n[sa.NumberSymbols][Fr.Decimal];if(e===Fr.CurrencyGroup)return n[sa.NumberSymbols][Fr.Group]}return r}function j$(t,e){return x_(t)[sa.NumberFormats][e]}var U$=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ix=22,zf=".",bl="0",B$=";",$$=",",F_="#";function H$(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=El(n,Fr.Infinity);else{let u=W$(t);o&&(u=G$(u));let d=e.minInt,f=e.minFrac,m=e.maxFrac;if(s){let B=s.match(U$);if(B===null)throw new Error(`${s} is not a valid digit info`);let z=B[1],ee=B[3],fe=B[5];z!=null&&(d=L_(z)),ee!=null&&(f=L_(ee)),fe!=null?m=L_(fe):ee!=null&&f>m&&(m=f)}K$(u,f,m);let y=u.digits,E=u.integerLen,S=u.exponent,M=[];for(c=y.every(B=>!B);E<d;E++)y.unshift(0);for(;E<0;E++)y.unshift(0);E>0?M=y.splice(E,y.length):(M=y,y=[0]);let V=[];for(y.length>=e.lgSize&&V.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)V.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&V.unshift(y.join("")),a=V.join(El(n,r)),M.length&&(a+=El(n,i)+M.join("")),S&&(a+=El(n,Fr.Exponential)+"+"+S)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function z$(t,e,n){let r=j$(e,hx.Decimal),i=q$(r,El(e,Fr.MinusSign));return H$(t,i,e,Fr.Group,Fr.Decimal,n)}function q$(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(B$),i=r[0],s=r[1],o=i.indexOf(zf)!==-1?i.split(zf):[i.substring(0,i.lastIndexOf(bl)+1),i.substring(i.lastIndexOf(bl)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(F_));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===bl?n.minFrac=n.maxFrac=d+1:f===F_?n.maxFrac=d+1:n.posSuf+=f}let u=a.split($$);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){let d=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf(F_);n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function G$(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function W$(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(zf))>-1&&(e=e.replace(zf,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===bl;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===bl;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>ix&&(r=r.splice(0,ix-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function K$(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,u=e+t.integerLen,d=r.reduceRight(function(f,m,y,E){return m=m+f,E[y]=m<10?m:m-10,c&&(E[y]===0&&y>=u?E.pop():c=!1),m>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}function L_(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function fx(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var V_=/\s+/,sx=[],Hte=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=sx,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(V_):sx}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(V_):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(V_).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(sr))},e.\u0275dir=De({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var px=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new j_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){ox("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){ox("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(j(pn),j(On))},e.\u0275dir=De({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),j_=class{constructor(){this.$implicit=null,this.ngIf=null}};function ox(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${jt(e)}'.`)}var mx=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(j(pn))},e.\u0275dir=De({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ut]});let t=e;return t})();function Q$(t,e){return new Q(2100,!1)}var zte=(()=>{let e=class e{constructor(r){this._locale=r}transform(r,i,s){if(!Y$(r))return null;s||=this._locale;try{let o=Z$(r);return z$(o,s,i)}catch(o){throw Q$(e,o.message)}}};e.\u0275fac=function(i){return new(i||e)(j(la,16))},e.\u0275pipe=TS({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function Y$(t){return!(t==null||t===""||t!==t)}function Z$(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Os=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),q_="browser",X$="server";function G_(t){return t===q_}function W_(t){return t===X$}var gx=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>G_(k(fn))?new U_(k(ce),window):new B_});let t=e;return t})(),U_=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=J$(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function J$(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var B_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},qf=class{};var Y_=class extends Hf{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Z_=class t extends Y_{static makeCurrent(){cx(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=eH();return n==null?null:tH(n)}resetBaseElement(){Dl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fx(document.cookie,e)}},Dl=null;function eH(){return Dl=Dl||document.querySelector("base"),Dl?Dl.getAttribute("href"):null}function tH(t){return new URL(t,document.baseURI).pathname}var X_=class{addToWindow(e){ut.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new Q(5103,!1);return s},ut.getAllAngularTestabilities=()=>e.getAllTestabilities(),ut.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=ut.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};ut.frameworkStabilizers||(ut.frameworkStabilizers=[]),ut.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?cr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},nH=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Wf=new $(""),wx=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(Wf),R(K))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Cl=class{constructor(e){this._doc=e}},K_="ng-app-id",Ix=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=W_(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${K_}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(K_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(K_,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(fl),R(pl,8),R(fn))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Q_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tw=/%COMP%/g,Ex="%COMP%",rH=`_nghost-${Ex}`,iH=`_ngcontent-${Ex}`,sH=!0,oH=new $("",{providedIn:"root",factory:()=>sH});function aH(t){return iH.replace(tw,t)}function cH(t){return rH.replace(tw,t)}function bx(t,e){return e.map(n=>n.replace(tw,t))}var yx=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=W_(c),this.defaultRenderer=new Tl(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Zn.ShadowDom&&(i=pe(P({},i),{encapsulation:Zn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Kf?s.applyToHost(r):s instanceof Sl&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case Zn.Emulated:o=new Kf(u,d,i,this.appId,f,a,c,m);break;case Zn.ShadowDom:return new J_(u,d,r,i,a,c,this.nonce,m);default:o=new Sl(u,d,i,f,a,c,m);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(wx),R(Ix),R(fl),R(oH),R(ce),R(fn),R(K),R(pl))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Tl=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Q_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Q_[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Q_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ar.DashCase|Ar.Important)?e.style.setProperty(n,r,i&Ar.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ar.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=cr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function vx(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var J_=class extends Tl{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=bx(i.id,i.styles);for(let d of u){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Sl=class extends Tl{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?bx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Kf=class extends Sl{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=aH(u),this.hostAttr=cH(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},lH=(()=>{let e=class e extends Cl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),_x=["alt","control","meta","shift"],uH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},hH=(()=>{let e=class e extends Cl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),_x.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=uH[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),_x.forEach(a=>{if(a!==s){let c=dH[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function une(t,e){return JR(P({rootComponent:t},fH(e)))}function fH(t){return{appProviders:[...Dx,...t?.providers??[]],platformProviders:yH}}function pH(){Z_.makeCurrent()}function mH(){return new ln}function gH(){return SA(document),document}var yH=[{provide:fn,useValue:q_},{provide:s_,useValue:pH,multi:!0},{provide:ce,useFactory:gH,deps:[]}];var vH=new $(""),_H=[{provide:Il,useClass:X_,deps:[]},{provide:N_,useClass:Vf,deps:[K,jf,Il]},{provide:Vf,useClass:Vf,deps:[K,jf,Il]}],Dx=[{provide:mf,useValue:"root"},{provide:ln,useFactory:mH,deps:[]},{provide:Wf,useClass:lH,multi:!0,deps:[ce,K,fn]},{provide:Wf,useClass:hH,multi:!0,deps:[ce]},yx,Ix,wx,{provide:Xo,useExisting:yx},{provide:qf,useClass:nH,deps:[]},[]],dne=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:fl,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(R(vH,12))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[...Dx,..._H],imports:[Os,XR]});let t=e;return t})();var Cx=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var wH={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},ew=new $("HammerGestureConfig"),Tx=new $("HammerLoader"),IH=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(r){let i=new Hammer(r,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(let s in this.overrides)i.get(s).set(this.overrides[s]);return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),EH=(()=>{let e=class e extends Cl{constructor(r,i,s,o){super(r),this._config=i,this.console=s,this.loader=o,this._loaderPromise=null}supports(r){return!(!wH.hasOwnProperty(r.toLowerCase())&&!this.isCustomEvent(r)||!window.Hammer&&!this.loader)}addEventListener(r,i,s){let o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,c=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){c=()=>{};return}a||(c=this.addEventListener(r,i,s))}).catch(()=>{c=()=>{}})),()=>{c()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(r),c=function(u){o.runGuarded(function(){s(u)})};return a.on(i,c),()=>{a.off(i,c),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(r){return this._config.events.indexOf(r)>-1}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(ew),R(ca),R(Tx,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),hne=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[{provide:Wf,useClass:EH,multi:!0,deps:[ce,ew,ca,[new Rt,Tx]]},{provide:ew,useClass:IH,deps:[]}]});let t=e;return t})();var ge="primary",Hl=Symbol("RouteTitle"),ow=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ma(t){return new ow(t)}function DH(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function CH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ur(t[n],e[n]))return!1;return!0}function ur(t,e){let n=t?aw(t):void 0,r=e?aw(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Lx(t[i],e[i]))return!1;return!0}function aw(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Lx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Vx(t){return t.length>0?t[t.length-1]:null}function Si(t){return _h(t)?t:Ns(t)?je(Promise.resolve(t)):te(t)}var TH={exact:Ux,subset:Bx},jx={exact:SH,subset:AH,ignored:()=>!0};function Sx(t,e,n){return TH[n.paths](t.root,e.root,n.matrixParams)&&jx[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function SH(t,e){return ur(t,e)}function Ux(t,e,n){if(!ks(t.segments,e.segments)||!Zf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Ux(t.children[r],e.children[r],n))return!1;return!0}function AH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Lx(t[n],e[n]))}function Bx(t,e,n){return $x(t,e,e.segments,n)}function $x(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ks(i,n)||e.hasChildren()||!Zf(i,n,r))}else if(t.segments.length===n.length){if(!ks(t.segments,n)||!Zf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Bx(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ks(t.segments,i)||!Zf(t.segments,i,r)||!t.children[ge]?!1:$x(t.children[ge],e,s,r)}}function Zf(t,e,n){return e.every((r,i)=>jx[n](t[i].parameters,r.parameters))}var Di=class{constructor(e=new Me([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ma(this.queryParams),this._queryParamMap}toString(){return MH.serialize(this)}},Me=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xf(this)}},Ps=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ma(this.parameters),this._parameterMap}toString(){return zx(this)}};function RH(t,e){return ks(t,e)&&t.every((n,r)=>ur(n.parameters,e[r].parameters))}function ks(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function xH(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ge&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ge&&(n=n.concat(e(i,r)))}),n}var zl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new ga,providedIn:"root"});let t=e;return t})(),ga=class{parse(e){let n=new lw(e);return new Di(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Al(e.root,!0)}`,r=PH(e.queryParams),i=typeof e.fragment=="string"?`#${NH(e.fragment)}`:"";return`${n}${r}${i}`}},MH=new ga;function Xf(t){return t.segments.map(e=>zx(e)).join("/")}function Al(t,e){if(!t.hasChildren())return Xf(t);if(e){let n=t.children[ge]?Al(t.children[ge],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ge&&r.push(`${i}:${Al(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=xH(t,(r,i)=>i===ge?[Al(t.children[ge],!1)]:[`${i}:${Al(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ge]!=null?`${Xf(t)}/${n[0]}`:`${Xf(t)}/(${n.join("//")})`}}function Hx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qf(t){return Hx(t).replace(/%3B/gi,";")}function NH(t){return encodeURI(t)}function cw(t){return Hx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jf(t){return decodeURIComponent(t)}function Ax(t){return Jf(t.replace(/\+/g,"%20"))}function zx(t){return`${cw(t.path)}${OH(t.parameters)}`}function OH(t){return Object.entries(t).map(([e,n])=>`;${cw(e)}=${cw(n)}`).join("")}function PH(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Qf(n)}=${Qf(i)}`).join("&"):`${Qf(n)}=${Qf(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var kH=/^[^\/()?;#]+/;function nw(t){let e=t.match(kH);return e?e[0]:""}var FH=/^[^\/()?;=#]+/;function LH(t){let e=t.match(FH);return e?e[0]:""}var VH=/^[^=?&#]+/;function jH(t){let e=t.match(VH);return e?e[0]:""}var UH=/^[^&#]+/;function BH(t){let e=t.match(UH);return e?e[0]:""}var lw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ge]=new Me(e,n)),r}parseSegment(){let e=nw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Ps(Jf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=LH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=nw(this.remaining);i&&(r=i,this.capture(r))}e[Jf(n)]=Jf(r)}parseQueryParam(e){let n=jH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=BH(this.remaining);o&&(r=o,this.capture(r))}let i=Ax(n),s=Ax(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nw(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ge);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ge]:new Me([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function qx(t){return t.segments.length>0?new Me([],{[ge]:t}):t}function Gx(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Gx(i);if(r===ge&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Me(t.segments,e);return $H(n)}function $H(t){if(t.numberOfChildren===1&&t.children[ge]){let e=t.children[ge];return new Me(t.segments.concat(e.segments),e.children)}return t}function Pl(t){return t instanceof Di}function HH(t,e,n=null,r=null){let i=Wx(t);return Kx(i,e,n,r)}function Wx(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new Me(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=qx(r);return e??i}function Kx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rw(i,i,i,n,r);let s=zH(e);if(s.toRoot())return rw(i,i,new Me([],{}),n,r);let o=qH(s,i,t),a=o.processChildren?Ml(o.segmentGroup,o.index,s.commands):Yx(o.segmentGroup,o.index,s.commands);return rw(i,o.segmentGroup,a,n,r)}function ep(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kl(t){return typeof t=="object"&&t!=null&&t.outlets}function rw(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=Qx(t,e,n);let a=qx(Gx(o));return new Di(a,s,i)}function Qx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Qx(s,e,n)}),new Me(t.segments,r)}var tp=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ep(r[0]))throw new Q(4003,!1);let i=r.find(kl);if(i&&i!==Vx(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function zH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new tp(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new tp(n,e,r)}var ha=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function qH(t,e,n){if(t.isAbsolute)return new ha(e,!0,0);if(!n)return new ha(e,!1,NaN);if(n.parent===null)return new ha(n,!0,0);let r=ep(t.commands[0])?0:1,i=n.segments.length-1+r;return GH(n,i,t.numberOfDoubleDots)}function GH(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new ha(r,!1,i-s)}function WH(t){return kl(t[0])?t[0].outlets:{[ge]:t}}function Yx(t,e,n){if(t??=new Me([],{}),t.segments.length===0&&t.hasChildren())return Ml(t,e,n);let r=KH(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Me(t.segments.slice(0,r.pathIndex),{});return s.children[ge]=new Me(t.segments.slice(r.pathIndex),t.children),Ml(s,0,i)}else return r.match&&i.length===0?new Me(t.segments,{}):r.match&&!t.hasChildren()?uw(t,e,n):r.match?Ml(t,0,i):uw(t,e,n)}function Ml(t,e,n){if(n.length===0)return new Me(t.segments,{});{let r=WH(n),i={};if(Object.keys(r).some(s=>s!==ge)&&t.children[ge]&&t.numberOfChildren===1&&t.children[ge].segments.length===0){let s=Ml(t.children[ge],e,n);return new Me(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Yx(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Me(t.segments,i)}}function KH(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(kl(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!xx(c,u,o))return s;r+=2}else{if(!xx(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function uw(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(kl(s)){let c=QH(s.outlets);return new Me(r,c)}if(i===0&&ep(n[0])){let c=t.segments[e];r.push(new Ps(c.path,Rx(n[0]))),i++;continue}let o=kl(s)?s.outlets[ge]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ep(a)?(r.push(new Ps(o,Rx(a))),i+=2):(r.push(new Ps(o,{})),i++)}return new Me(r,{})}function QH(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=uw(new Me([],{}),0,r))}),e}function Rx(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function xx(t,e,n){return t==n.path&&ur(e,n.parameters)}var Nl="imperative",ft=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ft||{}),yn=class{constructor(e,n){this.id=e,this.url=n}},ya=class extends yn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dr=class extends yn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(en||{}),np=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(np||{}),Vr=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ci=class extends yn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ft.NavigationSkipped}},Fl=class extends yn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},rp=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dw=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hw=class extends yn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fw=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pw=class extends yn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mw=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gw=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},yw=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vw=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_w=class{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ww=class{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ip=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ll=class{},va=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var Iw=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new ql(this.injector),this.attachRef=null}},ql=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Iw(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(R(St))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ew(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ew(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=bw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bw(e,this._root).map(n=>n.value)}};function Ew(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ew(t,n);if(r)return r}return null}function bw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=bw(t,n);if(r.length)return r.unshift(e),r}return[]}var Jt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function da(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var op=class extends sp{constructor(e,n){super(e),this.snapshot=n,Nw(this,e)}toString(){return this.snapshot.toString()}};function Zx(t){let e=YH(t),n=new Ze([new Ps("",{})]),r=new Ze({}),i=new Ze({}),s=new Ze({}),o=new Ze(""),a=new Ti(n,r,s,o,i,ge,t,e.root);return a.snapshot=e.root,new op(new Jt(a,[]),e)}function YH(t){let e={},n={},r={},i="",s=new fa([],e,r,i,n,ge,t,null,{});return new cp("",new Jt(s,[]))}var Ti=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(u=>u[Hl]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>ma(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>ma(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ap(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),i?.data),t._resolvedData)}:r={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},i&&Jx(i)&&(r.resolve[Hl]=i.title),r}var fa=class{get title(){return this.data?.[Hl]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ma(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ma(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},cp=class extends sp{constructor(e,n){super(n),this.url=e,Nw(this,n)}toString(){return Xx(this._root)}};function Nw(t,e){e.value._routerState=t,e.children.forEach(n=>Nw(t,n))}function Xx(t){let e=t.children.length>0?` { ${t.children.map(Xx).join(", ")} } `:"";return`${t.value}${e}`}function iw(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ur(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ur(e.params,n.params)||t.paramsSubject.next(n.params),CH(e.url,n.url)||t.urlSubject.next(n.url),ur(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Dw(t,e){let n=ur(t.params,e.params)&&RH(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Dw(t.parent,e.parent))}function Jx(t){return typeof t.title=="string"||t.title===null}var ZH=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ge,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=k(ql),this.location=k(pn),this.changeDetector=k(mn),this.inputBinder=k(hp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Cw(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=De({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ut]});let t=e;return t})(),Cw=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ti?this.route:e===ql?this.childContexts:this.parent.get(e,n)}},hp=new $(""),Mx=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=hs([i.queryParams,i.params,i.data]).pipe(Zt(([o,a,c],u)=>(c=P(P(P({},o),a),c),u===0?te(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=tx(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function XH(t,e,n){let r=Vl(t,e._root,n?n._root:void 0);return new op(r,e)}function Vl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=JH(t,e,n);return new Jt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Vl(t,a)),o}}let r=ez(e.value),i=e.children.map(s=>Vl(t,s));return new Jt(r,i)}}function JH(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Vl(t,r,i);return Vl(t,r)})}function ez(t){return new Ti(new Ze(t.url),new Ze(t.params),new Ze(t.queryParams),new Ze(t.fragment),new Ze(t.data),t.outlet,t.component,t)}var jl=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},eM="ngNavigationCancelingError";function lp(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Pl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tM(!1,en.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function tM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[eM]=!0,n.cancellationCode=e,n}function tz(t){return nM(t)&&Pl(t.url)}function nM(t){return!!t&&t[eM]}var nz=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nr({type:e,selectors:[["ng-component"]],standalone:!0,features:[ar],decls:1,vars:0,template:function(i,s){i&1&&bi(0,"router-outlet")},dependencies:[ZH],encapsulation:2});let t=e;return t})();function rz(t,e){return t.providers&&!t._injector&&(t._injector=kf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ow(t){let e=t.children&&t.children.map(Ow),n=e?pe(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ge&&(n.component=nz),n}function Vn(t){return t.outlet||ge}function iz(t,e){let n=t.filter(r=>Vn(r)===e);return n.push(...t.filter(r=>Vn(r)!==e)),n}function Gl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var sz=(t,e,n,r)=>de(i=>(new Tw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Tw=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),iw(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=da(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=da(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=da(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=da(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ww(s.value.snapshot))}),e.children.length&&this.forwardEvent(new vw(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(iw(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),iw(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Gl(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},up=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},pa=class{constructor(e,n){this.component=e,this.route=n}};function oz(t,e,n){let r=t._root,i=e?e._root:null;return Rl(r,i,n,[r.value])}function az(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function wa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!dS(t)?t:e.get(t):r}function Rl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=da(e);return t.children.forEach(o=>{cz(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ol(a,n.getContext(o),i)),i}function cz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=lz(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new up(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Rl(t,e,a?a.children:null,r,i):Rl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new pa(a.outlet.component,o))}else o&&Ol(e,a,i),i.canActivateChecks.push(new up(r)),s.component?Rl(t,null,a?a.children:null,r,i):Rl(t,null,n,r,i);return i}function lz(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ks(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ks(t.url,e.url)||!ur(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dw(t,e)||!ur(t.queryParams,e.queryParams);case"paramsChange":default:return!Dw(t,e)}}function Ol(t,e,n){let r=da(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ol(o,e.children.getContext(s),n):Ol(o,null,n):Ol(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new pa(e.outlet.component,i)):n.canDeactivateChecks.push(new pa(null,i)):n.canDeactivateChecks.push(new pa(null,i))}function Wl(t){return typeof t=="function"}function uz(t){return typeof t=="boolean"}function dz(t){return t&&Wl(t.canLoad)}function hz(t){return t&&Wl(t.canActivate)}function fz(t){return t&&Wl(t.canActivateChild)}function pz(t){return t&&Wl(t.canDeactivate)}function mz(t){return t&&Wl(t.canMatch)}function rM(t){return t instanceof Dr||t?.name==="EmptyError"}var Yf=Symbol("INITIAL_VALUE");function _a(){return Zt(t=>hs(t.map(e=>e.pipe(Xe(1),Rn(Yf)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===Yf)return Yf;if(n===!1||gz(n))return n}return!0}),Be(e=>e!==Yf),Xe(1)))}function gz(t){return Pl(t)||t instanceof jl}function yz(t,e){return ze(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?te(pe(P({},n),{guardsResult:!0})):vz(o,r,i,t).pipe(ze(a=>a&&uz(a)?_z(r,s,t,e):te(a)),de(a=>pe(P({},n),{guardsResult:a})))})}function vz(t,e,n,r){return je(t).pipe(ze(i=>Dz(i.component,i.route,n,e,r)),Wn(i=>i!==!0,!0))}function _z(t,e,n,r){return je(e).pipe(fs(i=>Gn(Iz(i.route.parent,r),wz(i.route,r),bz(t,i.path,n),Ez(t,i.route,n))),Wn(i=>i!==!0,!0))}function wz(t,e){return t!==null&&e&&e(new _w(t)),te(!0)}function Iz(t,e){return t!==null&&e&&e(new yw(t)),te(!0)}function Ez(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(s=>ci(()=>{let o=Gl(e)??n,a=wa(s,o),c=hz(a)?a.canActivate(e,t):dn(o,()=>a(e,t));return Si(c).pipe(Wn())}));return te(i).pipe(_a())}function bz(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>az(o)).filter(o=>o!==null).map(o=>ci(()=>{let a=o.guards.map(c=>{let u=Gl(o.node)??n,d=wa(c,u),f=fz(d)?d.canActivateChild(r,t):dn(u,()=>d(r,t));return Si(f).pipe(Wn())});return te(a).pipe(_a())}));return te(s).pipe(_a())}function Dz(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return te(!0);let o=s.map(a=>{let c=Gl(e)??i,u=wa(a,c),d=pz(u)?u.canDeactivate(t,e,n,r):dn(c,()=>u(t,e,n,r));return Si(d).pipe(Wn())});return te(o).pipe(_a())}function Cz(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let s=i.map(o=>{let a=wa(o,t),c=dz(a)?a.canLoad(e,n):dn(t,()=>a(e,n));return Si(c)});return te(s).pipe(_a(),iM(r))}function iM(t){return eh(it(e=>{if(typeof e!="boolean")throw lp(t,e)}),de(e=>e===!0))}function Tz(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let s=i.map(o=>{let a=wa(o,t),c=mz(a)?a.canMatch(e,n):dn(t,()=>a(e,n));return Si(c)});return te(s).pipe(_a(),iM(r))}var Ul=class{constructor(e){this.segmentGroup=e||null}},Bl=class extends Error{constructor(e){super(),this.urlTree=e}};function ua(t){return Oo(new Ul(t))}function Sz(t){return Oo(new Q(4e3,!1))}function Az(t){return Oo(tM(!1,en.GuardRejected))}var Sw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[ge])return Sz(`${e.redirectTo}`);i=i.children[ge]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,params:y,data:E,title:S}=i,M=dn(s,()=>a({params:y,data:E,queryParams:c,fragment:u,routeConfig:d,url:f,outlet:m,title:S}));if(M instanceof Di)throw new Bl(M);n=M}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Bl(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Di(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Me(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Aw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rz(t,e,n,r,i){let s=Pw(t,e,n);return s.matched?(r=rz(e,r),Tz(r,e,n,i).pipe(de(o=>o===!0?s:P({},Aw)))):te(s)}function Pw(t,e,n){if(e.path==="**")return xz(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},Aw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||DH)(n,t,e);if(!i)return P({},Aw);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?P(P({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function xz(t){return{matched:!0,parameters:t.length>0?Vx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Nx(t,e,n,r){return n.length>0&&Oz(t,n,r)?{segmentGroup:new Me(e,Nz(r,new Me(n,t.children))),slicedSegments:[]}:n.length===0&&Pz(t,n,r)?{segmentGroup:new Me(t.segments,Mz(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Me(t.segments,t.children),slicedSegments:n}}function Mz(t,e,n,r){let i={};for(let s of n)if(fp(t,e,s)&&!r[Vn(s)]){let o=new Me([],{});i[Vn(s)]=o}return P(P({},r),i)}function Nz(t,e){let n={};n[ge]=e;for(let r of t)if(r.path===""&&Vn(r)!==ge){let i=new Me([],{});n[Vn(r)]=i}return n}function Oz(t,e,n){return n.some(r=>fp(t,e,r)&&Vn(r)!==ge)}function Pz(t,e,n){return n.some(r=>fp(t,e,r))}function fp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kz(t,e,n,r){return Vn(t)!==r&&(r===ge||!fp(e,n,t))?!1:Pw(e,t,n).matched}function Fz(t,e,n){return e.length===0&&!t.children[n]}var Rw=class{};function Lz(t,e,n,r,i,s,o="emptyOnly"){return new xw(t,e,n,r,i,o,s).recognize()}var Vz=31,xw=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Sw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=Nx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:n,rootSnapshot:r})=>{let i=new Jt(r,n),s=new cp("",i),o=HH(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new fa([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ge,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ge,n).pipe(de(r=>({children:r,rootSnapshot:n})),li(r=>{if(r instanceof Bl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ul?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(de(o=>o instanceof Jt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return je(s).pipe(fs(o=>{let a=r.children[o],c=iz(n,o);return this.processSegmentGroup(e,c,a,o,i)}),Th((o,a)=>(o.push(...a),o)),ui(null),wy(),ze(o=>{if(o===null)return ua(r);let a=sM(o);return jz(a),te(a)}))}processSegment(e,n,r,i,s,o,a){return je(n).pipe(fs(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(li(u=>{if(u instanceof Ul)return te(null);throw u}))),Wn(c=>!!c),li(c=>{if(rM(c))return Fz(r,i,s)?te(new Rw):ua(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return kz(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):ua(i):ua(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:f,remainingSegments:m}=Pw(n,i,s);if(!c)return ua(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Vz&&(this.allowRedirects=!1));let y=new fa(s,u,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Ox(i),Vn(i),i.component??i._loadedComponent??null,i,Px(i)),E=ap(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let S=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,y,e);return this.applyRedirects.lineralizeSegments(i,S).pipe(ze(M=>this.processSegment(e,r,n,M.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=Rz(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Zt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Zt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:m,remainingSegments:y}=c,E=new fa(m,f,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Ox(r),Vn(r),r.component??r._loadedComponent??null,r,Px(r)),S=ap(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data);let{segmentGroup:M,slicedSegments:V}=Nx(n,m,y,u);if(V.length===0&&M.hasChildren())return this.processChildren(d,u,M,E).pipe(de(z=>new Jt(E,z)));if(u.length===0&&V.length===0)return te(new Jt(E,[]));let B=Vn(r)===s;return this.processSegment(d,u,M,V,B?ge:s,!0,E).pipe(de(z=>new Jt(E,z instanceof Jt?[z]:[])))}))):ua(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):Cz(e,n,r,this.urlSerializer).pipe(ze(i=>i?this.configLoader.loadChildren(e,n).pipe(it(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Az(n))):te({routes:[],injector:e})}};function jz(t){t.sort((e,n)=>e.value.outlet===ge?-1:n.value.outlet===ge?1:e.value.outlet.localeCompare(n.value.outlet))}function Uz(t){let e=t.value.routeConfig;return e&&e.path===""}function sM(t){let e=[],n=new Set;for(let r of t){if(!Uz(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=sM(r.children);e.push(new Jt(r.value,i))}return e.filter(r=>!n.has(r))}function Ox(t){return t.data||{}}function Px(t){return t.resolve||{}}function Bz(t,e,n,r,i,s){return ze(o=>Lz(t,e,n,r,o.extractedUrl,i,s).pipe(de(({state:a,tree:c})=>pe(P({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function $z(t,e){return ze(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of oM(c))o.add(u);let a=0;return je(o).pipe(fs(c=>s.has(c)?Hz(c,r,t,e):(c.data=ap(c,c.parent,t).resolve,te(void 0))),it(()=>a++),Fo(1),ze(c=>a===o.size?te(n):Ft))})}function oM(t){let e=t.children.map(n=>oM(n)).flat();return[t,...e]}function Hz(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Jx(i)&&(s[Hl]=i.title),zz(s,t,e,r).pipe(de(o=>(t._resolvedData=o,t.data=ap(t,t.parent,n).resolve,null)))}function zz(t,e,n,r){let i=aw(t);if(i.length===0)return te({});let s={};return je(i).pipe(ze(o=>qz(t[o],e,n,r).pipe(Wn(),it(a=>{if(a instanceof jl)throw lp(new ga,a);s[o]=a}))),Fo(1),Kc(s),li(o=>rM(o)?Ft:Oo(o)))}function qz(t,e,n,r){let i=Gl(e)??r,s=wa(t,i),o=s.resolve?s.resolve(e,n):dn(i,()=>s(e,n));return Si(o)}function sw(t){return Zt(e=>{let n=t(e);return n?je(n).pipe(de(()=>e)):te(e)})}var aM=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===ge);return i}getResolvedTitleForRoute(r){return r.data[Hl]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(Gz),providedIn:"root"});let t=e;return t})(),Gz=(()=>{let e=class e extends aM{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(Cx))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kl=new $("",{providedIn:"root",factory:()=>({})}),$l=new $(""),kw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k($f)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Si(r.loadComponent()).pipe(de(cM),it(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Yc(()=>{this.componentLoaders.delete(r)})),s=new ni(i,()=>new Z).pipe(Ro());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Wz(i,this.compiler,r,this.onLoadEndListener).pipe(Yc(()=>{this.childrenLoaders.delete(i)})),a=new ni(o,()=>new Z).pipe(Ro());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Wz(t,e,n,r){return Si(t.loadChildren()).pipe(de(cM),ze(i=>i instanceof al||Array.isArray(i)?te(i):je(e.compileModuleAsync(i))),de(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get($l,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ow),injector:s}}))}function Kz(t){return t&&typeof t=="object"&&"default"in t}function cM(t){return Kz(t)?t.default:t}var Fw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(Qz),providedIn:"root"});let t=e;return t})(),Qz=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lM=new $(""),uM=new $("");function Yz(t,e,n){let r=t.get(uM),i=t.get(ce);return t.get(K).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),Zz(t))),{onViewTransitionCreated:c}=r;return c&&dn(t,()=>c({transition:a,from:e,to:n})),o})}function Zz(t){return new Promise(e=>{Ei(e,{injector:t})})}var Xz=new $(""),Lw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Z,this.transitionAbortSubject=new Z,this.configLoader=k(kw),this.environmentInjector=k(St),this.urlSerializer=k(zl),this.rootContexts=k(ql),this.location=k(lr),this.inputBindingEnabled=k(hp,{optional:!0})!==null,this.titleStrategy=k(aM),this.options=k(Kl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Fw),this.createViewTransition=k(lM,{optional:!0}),this.navigationErrorHandler=k(Xz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let r=s=>this.events.next(new mw(s)),i=s=>this.events.next(new gw(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(pe(P(P({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ze({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Nl,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Be(o=>o.id!==0),de(o=>pe(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Zt(o=>{let a=!1,c=!1;return te(o).pipe(Zt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),Ft;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?pe(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let m="";return this.events.next(new Ci(u.id,this.urlSerializer.serialize(u.rawUrl),m,np.IgnoredSameUrlNavigation)),u.resolve(!1),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return te(u).pipe(Zt(m=>{let y=this.transitions?.getValue();return this.events.next(new ya(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Ft:Promise.resolve(m)}),Bz(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),it(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=pe(P({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new rp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:y,source:E,restoredState:S,extras:M}=u,V=new ya(m,this.urlSerializer.serialize(y),E,S);this.events.next(V);let B=Zx(this.rootComponentType).snapshot;return this.currentTransition=o=pe(P({},u),{targetSnapshot:B,urlAfterRedirects:y,extras:pe(P({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,te(o)}else{let m="";return this.events.next(new Ci(u.id,this.urlSerializer.serialize(u.extractedUrl),m,np.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ft}}),it(u=>{let d=new dw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),de(u=>(this.currentTransition=o=pe(P({},u),{guards:oz(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),yz(this.environmentInjector,u=>this.events.next(u)),it(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw lp(this.urlSerializer,u.guardsResult);let d=new hw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Be(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",en.GuardRejected),!1)),sw(u=>{if(u.guards.canActivateChecks.length)return te(u).pipe(it(d=>{let f=new fw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),Zt(d=>{let f=!1;return te(d).pipe($z(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",en.NoDataFromResolver)}}))}),it(d=>{let f=new pw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),sw(u=>{let d=f=>{let m=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(f.routeConfig).pipe(it(y=>{f.component=y}),de(()=>{})));for(let y of f.children)m.push(...d(y));return m};return hs(d(u.targetSnapshot.root)).pipe(ui(null),Xe(1))}),sw(()=>this.afterPreactivation()),Zt(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return f?je(f).pipe(de(()=>o)):te(o)}),de(u=>{let d=XH(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=pe(P({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),it(()=>{this.events.next(new Ll)}),sz(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Xe(1),it({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Kn(this.transitionAbortSubject.pipe(it(u=>{throw u}))),Yc(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),li(u=>{if(c=!0,nM(u))this.events.next(new Vr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),tz(u)?this.events.next(new va(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Fl(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let f=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof jl){let{message:m,cancellationCode:y}=lp(this.urlSerializer,f);this.events.next(new Vr(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new va(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let m=r.errorHandler(u);o.resolve(!!m)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Ft}))}))}cancelNavigationTransition(r,i,s){let o=new Vr(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jz(t){return t!==Nl}var eq=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(tq),providedIn:"root"});let t=e;return t})(),Mw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tq=(()=>{let e=class e extends Mw{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>k(nq),providedIn:"root"});let t=e;return t})(),nq=(()=>{let e=class e extends dM{constructor(){super(...arguments),this.location=k(lr),this.urlSerializer=k(zl),this.options=k(Kl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Fw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Di,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Zx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ya)this.stateMemento=this.createStateMemento();else if(r instanceof Ci)this.rawUrlTree=i.initialUrl;else if(r instanceof rp){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Ll?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Vr&&(r.code===en.GuardRejected||r.code===en.NoDataFromResolver)?this.restoreHistory(i):r instanceof Fl?this.restoreHistory(i,!0):r instanceof dr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=P(P({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=P(P({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(xl||{});function hM(t,e){t.events.pipe(Be(n=>n instanceof dr||n instanceof Vr||n instanceof Fl||n instanceof Ci),de(n=>n instanceof dr||n instanceof Ci?xl.COMPLETE:(n instanceof Vr?n.code===en.Redirect||n.code===en.SupersededByNewNavigation:!1)?xl.REDIRECTING:xl.FAILED),Be(n=>n!==xl.REDIRECTING),Xe(1)).subscribe(()=>{e()})}function rq(t){throw t}var iq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(ca),this.stateManager=k(dM),this.options=k(Kl,{optional:!0})||{},this.pendingTasks=k(ia),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(Lw),this.urlSerializer=k(zl),this.location=k(lr),this.urlHandlingStrategy=k(Fw),this._events=new Z,this.errorHandler=this.options.errorHandler||rq,this.navigated=!1,this.routeReuseStrategy=k(eq),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k($l,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(hp,{optional:!0}),this.eventsSubscription=new Ne,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Vr&&i.code!==en.Redirect&&i.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof dr)this.navigated=!0;else if(i instanceof va){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u=P({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Jz(s.source)},a);this.scheduleNavigation(c,Nl,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}aq(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Nl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=P({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ow),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let m;try{let y=s?s.snapshot:this.routerState.snapshot.root;m=Wx(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return Kx(m,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Pl(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Nl,null,i)}navigate(r,i={skipLocationChange:!1}){return oq(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=P({},iq):i===!1?s=P({},sq):s=i,Pl(r))return Sx(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Sx(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((m,y)=>{c=m,u=y});let f=this.pendingTasks.add();return hM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function aq(t){return!(t instanceof Ll)&&!(t instanceof va)}var xne=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Z,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof dr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:VA(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(j(jn),j(Ti),r_("tabindex"),j(sr),j(Ce),j(Lr))},e.\u0275dir=De({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ht("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&or("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",gn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",gn],replaceUrl:[2,"replaceUrl","replaceUrl",gn],routerLink:"routerLink"},standalone:!0,features:[Nr,Ut]});let t=e;return t})();var dp=class{};var cq=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Be(r=>r instanceof dr),fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=kf(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return je(s).pipe(ai())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=te(null);let o=s.pipe(ze(a=>a===null?te(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return je([o,a]).pipe(ai())}else return o})}};e.\u0275fac=function(i){return new(i||e)(R(jn),R($f),R(St),R(dp),R(kw))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fM=new $(""),lq=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(St),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ya?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof dr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Ci&&r.code===np.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof ip&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Ei(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new ip(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){XA()},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function Mne(t,...e){return Rr([{provide:$l,multi:!0,useValue:t},[],{provide:Ti,useFactory:pM,deps:[jn]},{provide:Bf,multi:!0,useFactory:mM},e.map(n=>n.\u0275providers)])}function pM(t){return t.routerState.root}function Ql(t,e){return{\u0275kind:t,\u0275providers:e}}function mM(){let t=k(xe);return e=>{let n=t.get(Pr);if(e!==n.components[0])return;let r=t.get(jn),i=t.get(gM);t.get(Vw)===1&&r.initialNavigation(),t.get(yM,null,ve.Optional)?.setUpPreloading(),t.get(fM,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var gM=new $("",{factory:()=>new Z}),Vw=new $("",{providedIn:"root",factory:()=>1});function uq(){return Ql(2,[{provide:Vw,useValue:0},{provide:Uf,multi:!0,deps:[xe],useFactory:e=>{let n=e.get(lx,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(jn),s=e.get(gM);hM(i,()=>{r(!0)}),e.get(Lw).afterPreactivation=()=>(r(!0),s.closed?te(void 0):s),i.initialNavigation()}))}}])}function dq(){return Ql(3,[{provide:Uf,multi:!0,useFactory:()=>{let e=k(jn);return()=>{e.setUpLocationChangeListener()}}},{provide:Vw,useValue:2}])}var yM=new $("");function hq(t){return Ql(0,[{provide:yM,useExisting:cq},{provide:dp,useExisting:t}])}function fq(){return Ql(8,[Mx,{provide:hp,useExisting:Mx}])}function pq(t){let e=[{provide:lM,useValue:Yz},{provide:uM,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ql(9,e)}var kx=new $("ROUTER_FORROOT_GUARD"),mq=[lr,{provide:zl,useClass:ga},jn,ql,{provide:Ti,useFactory:pM,deps:[jn]},kw,[]],jw=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[mq,[],{provide:$l,multi:!0,useValue:r},{provide:kx,useFactory:_q,deps:[[jn,new Rt,new vS]]},{provide:Kl,useValue:i||{}},i?.useHash?yq():vq(),gq(),i?.preloadingStrategy?hq(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?wq(i):[],i?.bindToComponentInputs?fq().\u0275providers:[],i?.enableViewTransitions?pq().\u0275providers:[],Iq()]}}static forChild(r){return{ngModule:e,providers:[{provide:$l,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(R(kx,8))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function gq(){return{provide:fM,useFactory:()=>{let t=k(gx),e=k(K),n=k(Kl),r=k(Lw),i=k(zl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new lq(i,r,t,e,n)}}}function yq(){return{provide:Lr,useClass:dx}}function vq(){return{provide:Lr,useClass:z_}}function _q(t){return"guarded"}function wq(t){return[t.initialNavigation==="disabled"?dq().\u0275providers:[],t.initialNavigation==="enabledBlocking"?uq().\u0275providers:[]]}var Fx=new $("");function Iq(){return[{provide:Fx,useFactory:mM},{provide:Bf,multi:!0,useExisting:Fx}]}var kne=(()=>{let e=class e{constructor(){this.executingCounter=C_(0),this.loadingStatus$=new Ze(!1)}get loading$(){return this.loadingStatus$.asObservable()}start(){this.executingCounter.update(r=>r+1),this.executingCounter()>0&&this.loadingStatus$.next(!0)}stop(){this.executingCounter()>0&&this.executingCounter.update(r=>r-1),this.executingCounter()<=0&&this.loadingStatus$.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _M=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bq=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(m=64)),r.push(n[d],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_M(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new Bw;let m=s<<2|a>>4;if(r.push(m),u!==64){let y=a<<4&240|u>>2;if(r.push(y),f!==64){let E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Bw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Dq=function(t){let e=_M(t);return wM.encodeByteArray(e,!0)},Hw=function(t){return Dq(t).replace(/\./g,"")},zw=function(t){try{return wM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Tq=()=>Cq().__FIREBASE_DEFAULTS__,Sq=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Aq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&zw(t[1]);return e&&JSON.parse(e)},mp=()=>{try{return Tq()||Sq()||Aq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IM=t=>{var e,n;return(n=(e=mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var qw=()=>{var t;return(t=mp())===null||t===void 0?void 0:t.config},Gw=t=>{var e;return(e=mp())===null||e===void 0?void 0:e[`_${t}`]};var pp=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function Rq(){var t;let e=(t=mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CM(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Ww(){return!Rq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gp(){try{return typeof indexedDB=="object"}catch{return!1}}function TM(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var xq="FirebaseError",tn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xq,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}},jr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Mq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new tn(i,a,r)}};function Mq(t,e){return t.replace(Nq,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Nq=/\{\$([^}]+)}/g;function SM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ai(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(vM(s)&&vM(o)){if(!Ai(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function vM(t){return t!==null&&typeof t=="object"}function Ia(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ea(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ba(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function AM(t,e){let n=new $w(t,e);return n.subscribe.bind(n)}var $w=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Oq(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Uw),i.error===void 0&&(i.error=Uw),i.complete===void 0&&(i.complete=Uw);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Oq(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uw(){}var Lne=4*60*60*1e3;function Ge(t){return t&&t._delegate?t._delegate:t}var vn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Fs="[DEFAULT]";var Kw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new pp;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kq(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Pq(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Pq(t){return t===Fs?void 0:t}function kq(t){return t.instantiationMode==="EAGER"}var yp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Kw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Fq=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),Lq={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Vq=we.INFO,jq={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Uq=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=jq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ri=class{constructor(e){this.name=e,this._logLevel=Vq,this._logHandler=Uq,this._userLogHandler=null,Fq.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var Bq=(t,e)=>e.some(n=>t instanceof n),RM,xM;function $q(){return RM||(RM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hq(){return xM||(xM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var MM=new WeakMap,Yw=new WeakMap,NM=new WeakMap,Qw=new WeakMap,Xw=new WeakMap;function zq(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MM.set(n,t)}).catch(()=>{}),Xw.set(e,t),e}function qq(t){if(Yw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yw.set(t,e)}var Zw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OM(t){Zw=t(Zw)}function Gq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(vp(this),e,...n);return NM.set(r,e.sort?e.sort():[e]),hr(r)}:Hq().includes(t)?function(...e){return t.apply(vp(this),e),hr(MM.get(this))}:function(...e){return hr(t.apply(vp(this),e))}}function Wq(t){return typeof t=="function"?Gq(t):(t instanceof IDBTransaction&&qq(t),Bq(t,$q())?new Proxy(t,Zw):t)}function hr(t){if(t instanceof IDBRequest)return zq(t);if(Qw.has(t))return Qw.get(t);let e=Wq(t);return e!==t&&(Qw.set(t,e),Xw.set(e,t)),e}var vp=t=>Xw.get(t);function kM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=hr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(hr(o.result),c.oldVersion,c.newVersion,hr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Kq=["get","getKey","getAll","getAllKeys","count"],Qq=["put","add","delete","clear"],Jw=new Map;function PM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jw.get(e))return Jw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Qq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Kq.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Jw.set(e,s),s}OM(t=>pe(P({},t),{get:(e,n,r)=>PM(e,n)||t.get(e,n,r),has:(e,n)=>!!PM(e,n)||t.has(e,n)}));var tI=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yq(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Yq(t){let e=t.getComponent();return e?.type==="VERSION"}var nI="@firebase/app",FM="0.10.5";var Ls=new Ri("@firebase/app"),Zq="@firebase/app-compat",Xq="@firebase/analytics-compat",Jq="@firebase/analytics",eG="@firebase/app-check-compat",tG="@firebase/app-check",nG="@firebase/auth",rG="@firebase/auth-compat",iG="@firebase/database",sG="@firebase/database-compat",oG="@firebase/functions",aG="@firebase/functions-compat",cG="@firebase/installations",lG="@firebase/installations-compat",uG="@firebase/messaging",dG="@firebase/messaging-compat",hG="@firebase/performance",fG="@firebase/performance-compat",pG="@firebase/remote-config",mG="@firebase/remote-config-compat",gG="@firebase/storage",yG="@firebase/storage-compat",vG="@firebase/firestore",_G="@firebase/vertexai-preview",wG="@firebase/firestore-compat",IG="firebase",EG="10.12.2";var rI="[DEFAULT]",bG={[nI]:"fire-core",[Zq]:"fire-core-compat",[Jq]:"fire-analytics",[Xq]:"fire-analytics-compat",[tG]:"fire-app-check",[eG]:"fire-app-check-compat",[nG]:"fire-auth",[rG]:"fire-auth-compat",[iG]:"fire-rtdb",[sG]:"fire-rtdb-compat",[oG]:"fire-fn",[aG]:"fire-fn-compat",[cG]:"fire-iid",[lG]:"fire-iid-compat",[uG]:"fire-fcm",[dG]:"fire-fcm-compat",[hG]:"fire-perf",[fG]:"fire-perf-compat",[pG]:"fire-rc",[mG]:"fire-rc-compat",[gG]:"fire-gcs",[yG]:"fire-gcs-compat",[vG]:"fire-fst",[wG]:"fire-fst-compat",[_G]:"fire-vertex","fire-js":"fire-js",[IG]:"fire-js-all"};var Yl=new Map,DG=new Map,iI=new Map;function LM(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mi(t){let e=t.name;if(iI.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;iI.set(e,t);for(let n of Yl.values())LM(n,t);for(let n of DG.values())LM(n,t);return!0}function Xl(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t.settings!==void 0}var CG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new jr("app","Firebase",CG);var sI=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}};var Ni=EG;function cI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:rI,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xi.create("bad-app-name",{appName:String(i)});if(n||(n=qw()),!n)throw xi.create("no-options");let s=Yl.get(i);if(s){if(Ai(n,s.options)&&Ai(r,s.config))return s;throw xi.create("duplicate-app",{appName:i})}let o=new yp(i);for(let c of iI.values())o.addComponent(c);let a=new sI(n,r,o);return Yl.set(i,a),a}function Da(t=rI){let e=Yl.get(t);if(!e&&t===rI&&qw())return cI();if(!e)throw xi.create("no-app",{appName:t});return e}function _p(){return Array.from(Yl.values())}function at(t,e,n){var r;let i=(r=bG[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(a.join(" "));return}Mi(new vn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var TG="firebase-heartbeat-database",SG=1,Zl="firebase-heartbeat-store",eI=null;function BM(){return eI||(eI=kM(TG,SG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),eI}function AG(t){return _(this,null,function*(){try{let n=(yield BM()).transaction(Zl),r=yield n.objectStore(Zl).get($M(t));return yield n.done,r}catch(e){if(e instanceof tn)Ls.warn(e.message);else{let n=xi.create("idb-get",{originalErrorMessage:e?.message});Ls.warn(n.message)}}})}function VM(t,e){return _(this,null,function*(){try{let r=(yield BM()).transaction(Zl,"readwrite");yield r.objectStore(Zl).put(e,$M(t)),yield r.done}catch(n){if(n instanceof tn)Ls.warn(n.message);else{let r=xi.create("idb-set",{originalErrorMessage:n?.message});Ls.warn(r.message)}}})}function $M(t){return`${t.name}!${t.options.appId}`}var RG=1024,xG=30*24*60*60*1e3,oI=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new aI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jM();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=xG}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return _(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=jM(),{heartbeatsToSend:r,unsentEntries:i}=MG(this._heartbeatsCache.heartbeats),s=Hw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function jM(){return new Date().toISOString().substring(0,10)}function MG(t,e=RG){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var aI=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return gp()?TM().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield AG(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return VM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function UM(t){return Hw(JSON.stringify({version:2,heartbeats:t})).length}function NG(t){Mi(new vn("platform-logger",e=>new tI(e),"PRIVATE")),Mi(new vn("heartbeat",e=>new oI(e),"PRIVATE")),at(nI,FM,t),at(nI,FM,"esm2017"),at("fire-js","")}NG("");var OG="firebase",PG="10.12.2";at(OG,PG,"app");var js=new tr("ANGULARFIRE2_VERSION");function Ip(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Jl=(t,e)=>{let n=e?[e]:_p(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Ta=class{constructor(){return Jl(kG)}},kG="app-check";function Ca(){}var wp=class{zone;delegate;constructor(e,n=gy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},lI=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),n.pipe(it({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Sa=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new wp(Zone.current)),this.insideAngular=n.run(()=>new wp(Zone.current,cn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(K))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ep(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function FG(t){return Ep().ngZone.runOutsideAngular(()=>t())}function Vs(t){return Ep().ngZone.run(()=>t())}function LG(t){return VG(Ep())(t)}function VG(t){return function(n){return n=n.lift(new lI(t.ngZone)),n.pipe(oi(t.outsideAngular),si(t.insideAngular))}}var jG=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Vs(()=>t.apply(void 0,r))},Pe=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Vs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca))),r[s]=jG(r[s],n));let i=FG(()=>t.apply(this,r));if(!e)if(i instanceof re){let s=Ep();return i.pipe(oi(s.outsideAngular),si(s.insideAngular))}else return Vs(()=>i);return i instanceof re?i.pipe(LG):i instanceof Promise?Vs(()=>new Promise((s,o)=>i.then(a=>Vs(()=>s(a)),a=>Vs(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Vs(()=>i)};var Ur=class{constructor(e){return e}},Us=class{constructor(){return _p()}};function UG(t){return t&&t.length===1?t[0]:new Ur(Da())}var uI=new $("angularfire2._apps"),BG={provide:Ur,useFactory:UG,deps:[[new Rt,uI]]},$G={provide:Us,deps:[[new Rt,uI]]};function HG(t){return(e,n)=>{let r=n.get(fn);at("angularfire",js.full,"core"),at("angularfire",js.full,"app"),at("angular",KR.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ur(i)}}function Ere(t,...e){return Rr([BG,$G,{provide:uI,useFactory:HG(t),multi:!0,deps:[K,xe,Sa,...e]}])}var bre=Pe(Da,!0);var Dre=Pe(cI,!0);function sN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var oN=sN,aN=new jr("auth","Firebase",sN());var Ap=new Ri("@firebase/auth");function zG(t,...e){Ap.logLevel<=we.WARN&&Ap.warn(`Auth (${Ni}): ${t}`,...e)}function Dp(t,...e){Ap.logLevel<=we.ERROR&&Ap.error(`Auth (${Ni}): ${t}`,...e)}function wn(t,...e){throw MI(t,...e)}function Un(t,...e){return MI(t,...e)}function xI(t,e,n){let r=Object.assign(Object.assign({},oN()),{[e]:n});return new jr("auth","Firebase",r).create(e,{appName:t.name})}function Hr(t){return xI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qG(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&wn(t,"argument-error"),xI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function MI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aN.create(t,...e)}function se(t,e,...n){if(!t)throw MI(e,...n)}function Br(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Dp(e),new Error(e)}function zr(t,e){t||Br(e)}function fI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GG(){return HM()==="http:"||HM()==="https:"}function HM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function WG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GG()||bM()||"connection"in navigator)?navigator.onLine:!0}function KG(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Bs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,zr(n>e,"Short delay should be less than long delay!"),this.isMobile=EM()||DM()}get(){return WG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function NI(t,e){zr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Rp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var QG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var YG=new Bs(3e4,6e4);function Pi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ki(s,o,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return cN(t,i,()=>_(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let f=Ia(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),Rp.fetch()(lN(t,t.config.apiHost,n,f),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))})}function cN(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},QG),e);try{let i=new pI(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw bp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw bp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw bp(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw xI(t,d,u);wn(t,d)}}catch(i){if(i instanceof tn)throw i;wn(t,"network-request-failed",{message:String(i)})}})}function au(s,o,a,c){return _(this,arguments,function*(t,e,n,r,i={}){let u=yield ki(t,e,n,r,i);return"mfaPendingCredential"in u&&wn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function lN(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?NI(t.config,i):`${t.config.apiScheme}://${i}`}function ZG(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var pI=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Un(this.auth,"network-request-failed")),YG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function bp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Un(t,e,r);return i.customData._tokenResponse=n,i}function zM(t){return t!==void 0&&t.enterprise!==void 0}var mI=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ZG(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function XG(t,e){return _(this,null,function*(){return ki(t,"GET","/v2/recaptchaConfig",Pi(t,e))})}function JG(t,e){return _(this,null,function*(){return ki(t,"POST","/v1/accounts:delete",e)})}function uN(t,e){return _(this,null,function*(){return ki(t,"POST","/v1/accounts:lookup",e)})}function eu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function OI(t,e=!1){return _(this,null,function*(){let n=Ge(t),r=yield n.getIdToken(e),i=PI(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:eu(dI(i.auth_time)),issuedAtTime:eu(dI(i.iat)),expirationTime:eu(dI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function dI(t){return Number(t)*1e3}function PI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dp("JWT malformed, contained fewer than 3 sections"),null;try{let i=zw(n);return i?JSON.parse(i):(Dp("Failed to decode base64 JWT payload"),null)}catch(i){return Dp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qM(t){let e=PI(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nu(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof tn&&e4(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function e4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var gI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ru=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xp(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield nu(t,uN(n,{idToken:r}));se(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?dN(s.providerUserInfo):[],a=t4(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ru(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function kI(t){return _(this,null,function*(){let e=Ge(t);yield xp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function t4(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dN(t){return t.map(e=>{var{providerId:n}=e,r=lh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function n4(t,e){return _(this,null,function*(){let n=yield cN(t,{},()=>_(this,null,function*(){let r=Ia({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=lN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rp.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function r4(t,e){return _(this,null,function*(){return ki(t,"POST","/v2/accounts:revokeToken",Pi(t,e))})}var tu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");let n=qM(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield n4(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Br("not implemented")}};function Oi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ra=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ru(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield nu(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return OI(this,e)}reload(){return kI(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield xp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(_n(this.auth.app))return Promise.reject(Hr(this.auth));let e=yield this.getIdToken();return yield nu(this,JG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;let f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,V=(u=n.createdAt)!==null&&u!==void 0?u:void 0,B=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:z,emailVerified:ee,isAnonymous:fe,providerData:Y,stsTokenManager:b}=n;se(z&&b,e,"internal-error");let v=tu.fromJSON(this.name,b);se(typeof z=="string",e,"internal-error"),Oi(f,e.name),Oi(m,e.name),se(typeof ee=="boolean",e,"internal-error"),se(typeof fe=="boolean",e,"internal-error"),Oi(y,e.name),Oi(E,e.name),Oi(S,e.name),Oi(M,e.name),Oi(V,e.name),Oi(B,e.name);let w=new t({uid:z,auth:e,email:m,emailVerified:ee,displayName:f,isAnonymous:fe,photoURL:E,phoneNumber:y,tenantId:S,stsTokenManager:v,createdAt:V,lastLoginAt:B});return Y&&Array.isArray(Y)&&(w.providerData=Y.map(D=>Object.assign({},D))),M&&(w._redirectEventId=M),w}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new tu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xp(s),s})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];se(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?dN(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new tu;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ru(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var GM=new Map;function $r(t){zr(t instanceof Function,"Expected a class definition");let e=GM.get(t);return e?(zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GM.set(t,e),e)}var i4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),yI=i4;function Cp(t,e,n){return`firebase:${t}:${e}:${n}`}var Mp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Cp(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ra._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t($r(yI),e,r);let i=(yield Promise.all(n.map(u=>_(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||$r(yI),o=Cp(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let f=Ra._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>_(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function WM(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gN(e))return"Blackberry";if(yN(e))return"Webos";if(FI(e))return"Safari";if((e.includes("chrome/")||fN(e))&&!e.includes("edge/"))return"Chrome";if(mN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function hN(t=Ke()){return/firefox\//i.test(t)}function FI(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fN(t=Ke()){return/crios\//i.test(t)}function pN(t=Ke()){return/iemobile/i.test(t)}function mN(t=Ke()){return/android/i.test(t)}function gN(t=Ke()){return/blackberry/i.test(t)}function yN(t=Ke()){return/webos/i.test(t)}function Bp(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function s4(t=Ke()){var e;return Bp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o4(){return CM()&&document.documentMode===10}function vN(t=Ke()){return Bp(t)||mN(t)||yN(t)||gN(t)||/windows phone/i.test(t)||pN(t)}function a4(){try{return!!(window&&window!==window.top)}catch{return!1}}function _N(t,e=[]){let n;switch(t){case"Browser":n=WM(Ke());break;case"Worker":n=`${WM(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ni}/${r}`}var vI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function c4(n){return _(this,arguments,function*(t,e={}){return ki(t,"GET","/v2/passwordPolicy",Pi(t,e))})}var l4=6,_I=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:l4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var wI=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Np(this),this.idTokenSubscription=new Np(this),this.beforeStateQueue=new vI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Mp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield uN(this,{idToken:e}),r=yield Ra._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(_n(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield xp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=KG()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(_n(this.app))return Promise.reject(Hr(this));let n=e?Ge(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return _n(this.app)?Promise.reject(Hr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return _n(this.app)?Promise.reject(Hr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence($r(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield c4(this),n=new _I(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield r4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&$r(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=yield Mp.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_N(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&zG(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Fi(t){return Ge(t)}var Np=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AM(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $p={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u4(t){$p=t}function wN(t){return $p.loadJS(t)}function d4(){return $p.recaptchaEnterpriseScript}function h4(){return $p.gapiScript}function IN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var f4="recaptcha-enterprise",p4="NO_RECAPTCHA",II=class{constructor(e){this.type=f4,this.auth=Fi(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>_(this,null,function*(){XG(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new mI(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;zM(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(p4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&zM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=d4();c.length!==0&&(c+=a),wN(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function KM(t,e,n,r=!1){return _(this,null,function*(){let i=new II(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function EI(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield KM(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield KM(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function LI(t,e){let n=Xl(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ai(s,e??{}))return i;wn(i,"already-initialized")}return n.initialize({options:e})}function m4(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map($r);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function VI(t,e,n){let r=Fi(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=EN(e),{host:o,port:a}=g4(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||y4()}function EN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function g4(t){let e=EN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:QM(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:QM(o)}}}function QM(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function y4(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var xa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}};function v4(t,e){return _(this,null,function*(){return ki(t,"POST","/v1/accounts:signUp",e)})}function _4(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithPassword",Pi(t,e))})}function w4(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))})}function I4(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithEmailLink",Pi(t,e))})}var iu=class t extends xa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EI(e,n,"signInWithPassword",_4);case"emailLink":return w4(e,{email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return EI(e,r,"signUpPassword",v4);case"emailLink":return I4(e,{idToken:n,email:this._email,oobCode:this._password});default:wn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Aa(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signInWithIdp",Pi(t,e))})}var E4="http://localhost",Op=class t extends xa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=lh(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Aa(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Aa(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Aa(e,n)}buildRequest(){let e={requestUri:E4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ia(n)}return e}};function b4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D4(t){let e=Ea(ba(t)).link,n=e?Ea(ba(e)).deep_link_id:null,r=Ea(ba(t)).deep_link_id;return(r?Ea(ba(r)).link:null)||r||n||e||t}var Pp=class t{constructor(e){var n,r,i,s,o,a;let c=Ea(ba(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=b4((i=c.mode)!==null&&i!==void 0?i:null);se(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=D4(e);try{return new t(n)}catch{return null}}};var bN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return iu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Pp.parseLink(r);return se(i,"argument-error"),iu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),su=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var kp=class extends su{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var jI=(()=>{class t extends kp{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Op._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function C4(t,e){return _(this,null,function*(){return au(t,"POST","/v1/accounts:signUp",Pi(t,e))})}var Ma=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield Ra._fromIdTokenResponse(e,r,i),o=YM(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=YM(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function YM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var bI=class t extends tn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function DN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?bI._fromErrorAndOperation(t,s,e,r):s})}function T4(t,e,n=!1){return _(this,null,function*(){let r=yield nu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ma._forOperation(t,"link",r)})}function S4(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(_n(r.app))return Promise.reject(Hr(r));let i="reauthenticate";try{let s=yield nu(t,DN(r,i,e,t),n);se(s.idToken,r,"internal-error");let o=PI(s.idToken);se(o,r,"internal-error");let{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),Ma._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&wn(r,"user-mismatch"),s}})}function CN(t,e,n=!1){return _(this,null,function*(){if(_n(t.app))return Promise.reject(Hr(t));let r="signIn",i=yield DN(t,r,e),s=yield Ma._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function UI(t,e){return _(this,null,function*(){return CN(Fi(t),e)})}function TN(t){return _(this,null,function*(){let e=Fi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function BI(t,e,n){return _(this,null,function*(){if(_n(t.app))return Promise.reject(Hr(t));let r=Fi(t),o=yield EI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C4).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&TN(t),c}),a=yield Ma._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function $I(t,e,n){return _n(t.app)?Promise.reject(Hr(t)):UI(Ge(t),bN.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&TN(t),r}))}function HI(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function zI(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function qI(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function GI(t){return Ge(t).signOut()}var Fp="__sak";var Lp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fp,"1"),this.storage.removeItem(Fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function A4(){let t=Ke();return FI(t)||Bp(t)}var R4=1e3,x4=10,M4=(()=>{class t extends Lp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A4()&&a4(),this.fallbackToPolling=vN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);o4()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,x4):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},R4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield zn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield zn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield zn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),SN=M4;var N4=(()=>{class t extends Lp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),WI=N4;function O4(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var P4=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>_(this,null,function*(){return d(r.origin,o)})),u=yield O4(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function KI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var DI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=KI("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function fr(){return window}function k4(t){fr().location.href=t}function AN(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}function F4(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function L4(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V4(){return AN()?self:null}var RN="firebaseLocalStorageDb",j4=1,Vp="firebaseLocalStorage",xN="fbase_key",$s=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Hp(t,e){return t.transaction([Vp],e?"readwrite":"readonly").objectStore(Vp)}function U4(){let t=indexedDB.deleteDatabase(RN);return new $s(t).toPromise()}function CI(){let t=indexedDB.open(RN,j4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Vp,{keyPath:xN})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Vp)?e(r):(r.close(),yield U4(),e(yield CI()))}))})}function ZM(t,e,n){return _(this,null,function*(){let r=Hp(t,!0).put({[xN]:e,value:n});return new $s(r).toPromise()})}function B4(t,e){return _(this,null,function*(){let n=Hp(t,!1).get(e),r=yield new $s(n).toPromise();return r===void 0?null:r.value})}function XM(t,e){let n=Hp(t,!0).delete(e);return new $s(n).toPromise()}var $4=800,H4=3,z4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield CI(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>H4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return AN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=P4._getInstance(V4()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield F4(),!this.activeServiceWorker)return;this.sender=new DI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||L4()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield CI();return yield ZM(n,Fp,"1"),yield XM(n,Fp),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>ZM(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>B4(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>XM(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=Hp(s,!1).getAll();return new $s(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),$4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),MN=z4;var Nre=IN("rcb"),Ore=new Bs(3e4,6e4);function NN(t,e){return e?$r(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ou=class extends xa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Aa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Aa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Aa(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function q4(t){return CN(t.auth,new ou(t),t.bypassAuthState)}function G4(t){let{auth:e,user:n}=t;return se(n,e,"internal-error"),S4(n,new ou(t),t.bypassAuthState)}function W4(t){return _(this,null,function*(){let{auth:e,user:n}=t;return se(n,e,"internal-error"),T4(n,new ou(t),t.bypassAuthState)})}var jp=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q4;case"linkViaPopup":case"linkViaRedirect":return W4;case"reauthViaPopup":case"reauthViaRedirect":return G4;default:wn(this.auth,"internal-error")}}resolve(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var K4=new Bs(2e3,1e4);function QI(t,e,n){return _(this,null,function*(){if(_n(t.app))return Promise.reject(Un(t,"operation-not-supported-in-this-environment"));let r=Fi(t);qG(t,e,su);let i=NN(r,n);return new Q4(r,"signInViaPopup",e,i).executeNotNull()})}var Q4=(()=>{class t extends jp{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return se(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){zr(this.filter.length===1,"Popup operations only handle one event");let n=KI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,K4.get())};n()}}t.currentPopupAction=null;return t})(),Y4="pendingRedirect",Tp=new Map,TI=class t extends jp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Tp.get(this.auth._key());if(!e){try{let r=(yield Z4(this.resolver,this.auth))?yield zn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tp.set(this.auth._key(),e)}return this.bypassAuthState||Tp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return zn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,zn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function Z4(t,e){return _(this,null,function*(){let n=eW(e),r=J4(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function X4(t,e){Tp.set(t._key(),e)}function J4(t){return $r(t._redirectPersistence)}function eW(t){return Cp(Y4,t.config.apiKey,t.name)}function tW(t,e,n=!1){return _(this,null,function*(){if(_n(t.app))return Promise.reject(Hr(t));let r=Fi(t),i=NN(r,e),o=yield new TI(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var nW=10*60*1e3,SI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ON(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nW&&this.cachedEventUids.clear(),this.cachedEventUids.has(JM(e))}saveEventToCache(e){this.cachedEventUids.add(JM(e)),this.lastProcessedEventTime=Date.now()}};function JM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ON({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ON(t);default:return!1}}function iW(n){return _(this,arguments,function*(t,e={}){return ki(t,"GET","/v1/projects",e)})}var sW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oW=/^https?/;function aW(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield iW(t);for(let n of e)try{if(cW(n))return}catch{}wn(t,"unauthorized-domain")})}function cW(t){let e=fI(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oW.test(n))return!1;if(sW.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var lW=new Bs(3e4,6e4);function eN(){let t=fr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uW(t){return new Promise((e,n)=>{var r,i,s;function o(){eN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eN(),n(Un(t,"network-request-failed"))},timeout:lW.get()})}if(!((i=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fr().gapi)===null||s===void 0)&&s.load)o();else{let a=IN("iframefcb");return fr()[a]=()=>{gapi.load?o():n(Un(t,"network-request-failed"))},wN(`${h4()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Sp=null,e})}var Sp=null;function dW(t){return Sp=Sp||uW(t),Sp}var hW=new Bs(5e3,15e3),fW="__/auth/iframe",pW="emulator/auth/iframe",mW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yW(t){let e=t.config;se(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?NI(e,pW):`https://${t.config.authDomain}/${fW}`,r={apiKey:e.apiKey,appName:t.name,v:Ni},i=gW.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ia(r).slice(1)}`}function vW(t){return _(this,null,function*(){let e=yield dW(t),n=fr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:yW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mW,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Un(t,"network-request-failed"),a=fr().setTimeout(()=>{s(o)},hW.get());function c(){fr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var _W={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wW=500,IW=600,EW="_blank",bW="http://localhost",Up=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function DW(t,e,n,r=wW,i=IW){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},_W),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ke().toLowerCase();n&&(a=fN(u)?EW:n),hN(u)&&(e=e||bW,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[y,E])=>`${m}${y}=${E},`,"");if(s4(u)&&a!=="_self")return CW(e||"",a),new Up(null);let f=window.open(e||"",a,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new Up(f)}function CW(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var TW="__/auth/handler",SW="emulator/auth/handler",AW=encodeURIComponent("fac");function tN(t,e,n,r,i,s){return _(this,null,function*(){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ni,eventId:i};if(e instanceof su){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",SM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof kp){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${AW}=${encodeURIComponent(c)}`:"";return`${RW(t)}?${Ia(a).slice(1)}${u}`})}function RW({config:t}){return t.emulator?NI(t,SW):`https://${t.authDomain}/${TW}`}var hI="webStorageSupport",AI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WI,this._completeRedirectFn=tW,this._overrideRedirectResult=X4}_openPopup(e,n,r,i){return _(this,null,function*(){var s;zr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield tN(e,n,r,fI(),i);return DW(e,o,KI())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield tN(e,n,r,fI(),i);return k4(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield vW(e),r=new SI(e);return n.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hI,{type:hI},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[hI];o!==void 0&&n(!!o),wn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vN()||FI()||Bp()}},PN=AI;var nN="@firebase/auth",rN="1.7.4";var RI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function xW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MW(t){Mi(new vn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_N(t)},u=new wI(r,i,s,c);return m4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mi(new vn("auth-internal",e=>{let n=Fi(e.getProvider("auth").getImmediate());return(r=>new RI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),at(nN,rN,xW(t)),at(nN,rN,"esm2017")}var NW=5*60,OW=Gw("authIdTokenMaxAge")||NW,iN=null,PW=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>OW)return;let i=n?.token;iN!==i&&(iN=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function YI(t=Da()){let e=Xl(t,"auth");if(e.isInitialized())return e.getImmediate();let n=LI(t,{popupRedirectResolver:PN,persistence:[MN,SN,WI]}),r=Gw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=PW(s.toString());zI(n,o,()=>o(n.currentUser)),HI(n,a=>o(a))}}let i=IM("auth");return i&&VI(n,`http://${i}`),n}function kW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}u4({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Un("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MW("Browser");var kN="auth",Hs=class{constructor(e){return e}},cu=class{constructor(){return Jl(kN)}};var ZI=new $("angularfire2.auth-instances");function b9(t,e){let n=Ip(kN,t,e);return n&&new Hs(n)}function D9(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Hs(r)}}var C9={provide:cu,deps:[[new Rt,ZI]]},T9={provide:Hs,useFactory:b9,deps:[[new Rt,ZI],Ur]};function pie(t,...e){return at("angularfire",js.full,"auth"),Rr([T9,C9,{provide:ZI,useFactory:D9(t),multi:!0,deps:[K,xe,Sa,Us,[new Rt,Ta],...e]}])}var FN=Pe(BI,!0);var XI=Pe(YI,!0);var LN=Pe(qI,!0);var VN=Pe($I,!0);var jN=Pe(QI,!0);var UN=Pe(GI,!0);var yie=(()=>{let e=class e{constructor(r,i,s){this.auth=r,this.ngZone=i,this.router=s,LN(this.auth,o=>{o&&(this.UserData=o)})}get userUid(){return XI().currentUser?.uid||""}getAuthFire(){return this.auth.currentUser}Register(r,i){return FN(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.sendEmailVerification(),this.router.navigate(["/signIn"])})}).catch(s=>{window.alert(s.message)})}sendEmailVerification(){throw new Error("Method not implemented.")}Login(r,i){return VN(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.router.navigate(["/"])})}).catch(s=>{window.alert(s.message)})}googleSignIn(){return this.loginWithPopup(new jI)}loginWithPopup(r){return jN(this.auth,r).then(i=>(console.log("logged in",i),i)).catch(i=>{console.log(i)})}logout(){UN(this.auth).then(()=>this.router.navigate(["/signIn"]))}isSignedIn(){return XI().currentUser!==null}};e.\u0275fac=function(i){return new(i||e)(R(Hs),R(K),R(jn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var BN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$N={};var Li,JI;(function(){var t;function e(b,v){function w(){}w.prototype=v.prototype,b.D=v.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(D,C,A){for(var I=Array(arguments.length-2),_r=2;_r<arguments.length;_r++)I[_r-2]=arguments[_r];return v.prototype[C].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,v,w){w||(w=0);var D=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)D[C]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(C=0;16>C;++C)D[C]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;v=b.g[0],w=b.g[1],C=b.g[2];var A=b.g[3],I=v+(A^w&(C^A))+D[0]+3614090360&4294967295;v=w+(I<<7&4294967295|I>>>25),I=A+(C^v&(w^C))+D[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(w^A&(v^w))+D[2]+606105819&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(v^C&(A^v))+D[3]+3250441966&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(A^w&(C^A))+D[4]+4118548399&4294967295,v=w+(I<<7&4294967295|I>>>25),I=A+(C^v&(w^C))+D[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(w^A&(v^w))+D[6]+2821735955&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(v^C&(A^v))+D[7]+4249261313&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(A^w&(C^A))+D[8]+1770035416&4294967295,v=w+(I<<7&4294967295|I>>>25),I=A+(C^v&(w^C))+D[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(w^A&(v^w))+D[10]+4294925233&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(v^C&(A^v))+D[11]+2304563134&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(A^w&(C^A))+D[12]+1804603682&4294967295,v=w+(I<<7&4294967295|I>>>25),I=A+(C^v&(w^C))+D[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=C+(w^A&(v^w))+D[14]+2792965006&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(v^C&(A^v))+D[15]+1236535329&4294967295,w=C+(I<<22&4294967295|I>>>10),I=v+(C^A&(w^C))+D[1]+4129170786&4294967295,v=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(v^w))+D[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(A^v))+D[11]+643717713&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^v&(C^A))+D[0]+3921069994&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(C^A&(w^C))+D[5]+3593408605&4294967295,v=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(v^w))+D[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(A^v))+D[15]+3634488961&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^v&(C^A))+D[4]+3889429448&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(C^A&(w^C))+D[9]+568446438&4294967295,v=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(v^w))+D[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(A^v))+D[3]+4107603335&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^v&(C^A))+D[8]+1163531501&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(C^A&(w^C))+D[13]+2850285829&4294967295,v=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(v^w))+D[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=C+(v^w&(A^v))+D[7]+1735328473&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^v&(C^A))+D[12]+2368359562&4294967295,w=C+(I<<20&4294967295|I>>>12),I=v+(w^C^A)+D[5]+4294588738&4294967295,v=w+(I<<4&4294967295|I>>>28),I=A+(v^w^C)+D[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^w)+D[11]+1839030562&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^v)+D[14]+4259657740&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(w^C^A)+D[1]+2763975236&4294967295,v=w+(I<<4&4294967295|I>>>28),I=A+(v^w^C)+D[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^w)+D[7]+4139469664&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^v)+D[10]+3200236656&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(w^C^A)+D[13]+681279174&4294967295,v=w+(I<<4&4294967295|I>>>28),I=A+(v^w^C)+D[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^w)+D[3]+3572445317&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^v)+D[6]+76029189&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(w^C^A)+D[9]+3654602809&4294967295,v=w+(I<<4&4294967295|I>>>28),I=A+(v^w^C)+D[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=C+(A^v^w)+D[15]+530742520&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^v)+D[2]+3299628645&4294967295,w=C+(I<<23&4294967295|I>>>9),I=v+(C^(w|~A))+D[0]+4096336452&4294967295,v=w+(I<<6&4294967295|I>>>26),I=A+(w^(v|~C))+D[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~w))+D[14]+2878612391&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~v))+D[5]+4237533241&4294967295,w=C+(I<<21&4294967295|I>>>11),I=v+(C^(w|~A))+D[12]+1700485571&4294967295,v=w+(I<<6&4294967295|I>>>26),I=A+(w^(v|~C))+D[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~w))+D[10]+4293915773&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~v))+D[1]+2240044497&4294967295,w=C+(I<<21&4294967295|I>>>11),I=v+(C^(w|~A))+D[8]+1873313359&4294967295,v=w+(I<<6&4294967295|I>>>26),I=A+(w^(v|~C))+D[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~w))+D[6]+2734768916&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~v))+D[13]+1309151649&4294967295,w=C+(I<<21&4294967295|I>>>11),I=v+(C^(w|~A))+D[4]+4149444226&4294967295,v=w+(I<<6&4294967295|I>>>26),I=A+(w^(v|~C))+D[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=C+(v^(A|~w))+D[2]+718787259&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~v))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+v&4294967295,b.g[1]=b.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+A&4294967295}r.prototype.u=function(b,v){v===void 0&&(v=b.length);for(var w=v-this.blockSize,D=this.B,C=this.h,A=0;A<v;){if(C==0)for(;A<=w;)i(this,b,A),A+=this.blockSize;if(typeof b=="string"){for(;A<v;)if(D[C++]=b.charCodeAt(A++),C==this.blockSize){i(this,D),C=0;break}}else for(;A<v;)if(D[C++]=b[A++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var v=1;v<b.length-8;++v)b[v]=0;var w=8*this.o;for(v=b.length-8;v<b.length;++v)b[v]=w&255,w/=256;for(this.u(b),b=Array(16),v=w=0;4>v;++v)for(var D=0;32>D;D+=8)b[w++]=this.g[v]>>>D&255;return b};function s(b,v){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=v(b)}function o(b,v){this.h=v;for(var w=[],D=!0,C=b.length-1;0<=C;C--){var A=b[C]|0;D&&A==v||(w[C]=A,D=!1)}this.g=w}var a={};function c(b){return-128<=b&&128>b?s(b,function(v){return new o([v|0],0>v?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return M(u(-b));for(var v=[],w=1,D=0;b>=w;D++)v[D]=b/w|0,w*=4294967296;return new o(v,0)}function d(b,v){if(b.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(b.charAt(0)=="-")return M(d(b.substring(1),v));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(v,8)),D=f,C=0;C<b.length;C+=8){var A=Math.min(8,b.length-C),I=parseInt(b.substring(C,C+A),v);8>A?(A=u(Math.pow(v,A)),D=D.j(A).add(u(I))):(D=D.j(w),D=D.add(u(I)))}return D}var f=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-M(this).m();for(var b=0,v=1,w=0;w<this.g.length;w++){var D=this.i(w);b+=(0<=D?D:4294967296+D)*v,v*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(S(this))return"-"+M(this).toString(b);for(var v=u(Math.pow(b,6)),w=this,D="";;){var C=ee(w,v).g;w=V(w,C.j(v));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=C,E(w))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(var v=0;v<b.g.length;v++)if(b.g[v]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=V(this,b),S(b)?-1:E(b)?0:1};function M(b){for(var v=b.g.length,w=[],D=0;D<v;D++)w[D]=~b.g[D];return new o(w,~b.h).add(m)}t.abs=function(){return S(this)?M(this):this},t.add=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0,C=0;C<=v;C++){var A=D+(this.i(C)&65535)+(b.i(C)&65535),I=(A>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);D=I>>>16,A&=65535,I&=65535,w[C]=I<<16|A}return new o(w,w[w.length-1]&-2147483648?-1:0)};function V(b,v){return b.add(M(v))}t.j=function(b){if(E(this)||E(b))return f;if(S(this))return S(b)?M(this).j(M(b)):M(M(this).j(b));if(S(b))return M(this.j(M(b)));if(0>this.l(y)&&0>b.l(y))return u(this.m()*b.m());for(var v=this.g.length+b.g.length,w=[],D=0;D<2*v;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<b.g.length;C++){var A=this.i(D)>>>16,I=this.i(D)&65535,_r=b.i(C)>>>16,Ec=b.i(C)&65535;w[2*D+2*C]+=I*Ec,B(w,2*D+2*C),w[2*D+2*C+1]+=A*Ec,B(w,2*D+2*C+1),w[2*D+2*C+1]+=I*_r,B(w,2*D+2*C+1),w[2*D+2*C+2]+=A*_r,B(w,2*D+2*C+2)}for(D=0;D<v;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=v;D<2*v;D++)w[D]=0;return new o(w,0)};function B(b,v){for(;(b[v]&65535)!=b[v];)b[v+1]+=b[v]>>>16,b[v]&=65535,v++}function z(b,v){this.g=b,this.h=v}function ee(b,v){if(E(v))throw Error("division by zero");if(E(b))return new z(f,f);if(S(b))return v=ee(M(b),v),new z(M(v.g),M(v.h));if(S(v))return v=ee(b,M(v)),new z(M(v.g),v.h);if(30<b.g.length){if(S(b)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var w=m,D=v;0>=D.l(b);)w=fe(w),D=fe(D);var C=Y(w,1),A=Y(D,1);for(D=Y(D,2),w=Y(w,2);!E(D);){var I=A.add(D);0>=I.l(b)&&(C=C.add(w),A=I),D=Y(D,1),w=Y(w,1)}return v=V(b,C.j(v)),new z(C,v)}for(C=f;0<=b.l(v);){for(w=Math.max(1,Math.floor(b.m()/v.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=u(w),I=A.j(v);S(I)||0<I.l(b);)w-=D,A=u(w),I=A.j(v);E(A)&&(A=m),C=C.add(A),b=V(b,I)}return new z(C,b)}t.A=function(b){return ee(this,b).h},t.and=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)&b.i(D);return new o(w,this.h&b.h)},t.or=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)|b.i(D);return new o(w,this.h|b.h)},t.xor=function(b){for(var v=Math.max(this.g.length,b.g.length),w=[],D=0;D<v;D++)w[D]=this.i(D)^b.i(D);return new o(w,this.h^b.h)};function fe(b){for(var v=b.g.length+1,w=[],D=0;D<v;D++)w[D]=b.i(D)<<1|b.i(D-1)>>>31;return new o(w,b.h)}function Y(b,v){var w=v>>5;v%=32;for(var D=b.g.length-w,C=[],A=0;A<D;A++)C[A]=0<v?b.i(A+w)>>>v|b.i(A+w+1)<<32-v:b.i(A+w);return new o(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JI=$N.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Li=$N.Integer=o}).apply(typeof BN<"u"?BN:typeof self<"u"?self:typeof window<"u"?window:{});var zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={};var eE,tE,Na,nE,lu,qp,rE,iE,sE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,p){return l==Array.prototype||l==Object.prototype||(l[h]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof zp=="object"&&zp];for(var h=0;h<l.length;++h){var p=l[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,h){if(h)e:{var p=r;l=l.split(".");for(var g=0;g<l.length-1;g++){var T=l[g];if(!(T in p))break e;p=p[T]}l=l[l.length-1],g=p[l],h=h(g),h!=g&&h!=null&&e(p,l,{configurable:!0,writable:!0,value:h})}}function s(l,h){l instanceof String&&(l+="");var p=0,g=!1,T={next:function(){if(!g&&p<l.length){var N=p++;return{value:h(N,l[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(l){return l||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,p){return l.call.apply(l.bind,arguments)}function f(l,h,p){if(!l)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),l.apply(h,T)}}return function(){return l.apply(h,arguments)}}function m(l,h,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function y(l,h){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),l.apply(this,g)}}function E(l,h){function p(){}p.prototype=h.prototype,l.aa=h.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(g,T,N){for(var H=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)H[Fe-2]=arguments[Fe];return h.prototype[T].apply(g,H)}}function S(l){let h=l.length;if(0<h){let p=Array(h);for(let g=0;g<h;g++)p[g]=l[g];return p}return[]}function M(l,h){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(c(g)){let T=l.length||0,N=g.length||0;l.length=T+N;for(let H=0;H<N;H++)l[T+H]=g[H]}else l.push(g)}}class V{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function B(l){return/^[\s\xa0]*$/.test(l)}function z(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function ee(l){return ee[" "](l),l}ee[" "]=function(){};var fe=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Y(l,h,p){for(let g in l)h.call(p,l[g],g,l)}function b(l,h){for(let p in l)h.call(void 0,l[p],p,l)}function v(l){let h={};for(let p in l)h[p]=l[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(l,h){let p,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(p in g)l[p]=g[p];for(let N=0;N<w.length;N++)p=w[N],Object.prototype.hasOwnProperty.call(g,p)&&(l[p]=g[p])}}function C(l){var h=1;l=l.split(":");let p=[];for(;0<h&&l.length;)p.push(l.shift()),h--;return l.length&&p.push(l.join(":")),p}function A(l){a.setTimeout(()=>{throw l},0)}function I(){var l=Rg;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class _r{constructor(){this.h=this.g=null}add(h,p){let g=Ec.get();g.set(h,p),this.h?this.h.next=g:this.g=g,this.h=g}}var Ec=new V(()=>new fF,l=>l.reset());class fF{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let bc,Dc=!1,Rg=new _r,IC=()=>{let l=a.Promise.resolve(void 0);bc=()=>{l.then(pF)}};var pF=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(p){A(p)}var h=Ec;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Dc=!1};function Xr(){this.s=this.s,this.C=this.C}Xr.prototype.s=!1,Xr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Xr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var mF=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return l}();function Cc(l,h){if(It.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,g=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(fe){e:{try{ee(h.nodeName);var T=!0;break e}catch{}T=!1}T||(h=null)}}else p=="mouseover"?h=l.fromElement:p=="mouseout"&&(h=l.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:gF[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Cc.aa.h.call(this)}}E(Cc,It);var gF={2:"touch",3:"pen",4:"mouse"};Cc.prototype.h=function(){Cc.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Tc="closure_listenable_"+(1e6*Math.random()|0),yF=0;function vF(l,h,p,g,T){this.listener=l,this.proxy=null,this.src=h,this.type=p,this.capture=!!g,this.ha=T,this.key=++yF,this.da=this.fa=!1}function Dd(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Cd(l){this.src=l,this.g={},this.h=0}Cd.prototype.add=function(l,h,p,g,T){var N=l.toString();l=this.g[N],l||(l=this.g[N]=[],this.h++);var H=Mg(l,h,g,T);return-1<H?(h=l[H],p||(h.fa=!1)):(h=new vF(h,this.src,N,!!g,T),h.fa=p,l.push(h)),h};function xg(l,h){var p=h.type;if(p in l.g){var g=l.g[p],T=Array.prototype.indexOf.call(g,h,void 0),N;(N=0<=T)&&Array.prototype.splice.call(g,T,1),N&&(Dd(h),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Mg(l,h,p,g){for(var T=0;T<l.length;++T){var N=l[T];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==g)return T}return-1}var Ng="closure_lm_"+(1e6*Math.random()|0),Og={};function EC(l,h,p,g,T){if(g&&g.once)return DC(l,h,p,g,T);if(Array.isArray(h)){for(var N=0;N<h.length;N++)EC(l,h[N],p,g,T);return null}return p=Lg(p),l&&l[Tc]?l.K(h,p,u(g)?!!g.capture:!!g,T):bC(l,h,p,!1,g,T)}function bC(l,h,p,g,T,N){if(!h)throw Error("Invalid event type");var H=u(T)?!!T.capture:!!T,Fe=kg(l);if(Fe||(l[Ng]=Fe=new Cd(l)),p=Fe.add(h,p,g,H,N),p.proxy)return p;if(g=_F(),p.proxy=g,g.src=l,g.listener=p,l.addEventListener)mF||(T=H),T===void 0&&(T=!1),l.addEventListener(h.toString(),g,T);else if(l.attachEvent)l.attachEvent(TC(h.toString()),g);else if(l.addListener&&l.removeListener)l.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _F(){function l(p){return h.call(l.src,l.listener,p)}let h=wF;return l}function DC(l,h,p,g,T){if(Array.isArray(h)){for(var N=0;N<h.length;N++)DC(l,h[N],p,g,T);return null}return p=Lg(p),l&&l[Tc]?l.L(h,p,u(g)?!!g.capture:!!g,T):bC(l,h,p,!0,g,T)}function CC(l,h,p,g,T){if(Array.isArray(h))for(var N=0;N<h.length;N++)CC(l,h[N],p,g,T);else g=u(g)?!!g.capture:!!g,p=Lg(p),l&&l[Tc]?(l=l.i,h=String(h).toString(),h in l.g&&(N=l.g[h],p=Mg(N,p,g,T),-1<p&&(Dd(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete l.g[h],l.h--)))):l&&(l=kg(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Mg(h,p,g,T)),(p=-1<l?h[l]:null)&&Pg(p))}function Pg(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Tc])xg(h.i,l);else{var p=l.type,g=l.proxy;h.removeEventListener?h.removeEventListener(p,g,l.capture):h.detachEvent?h.detachEvent(TC(p),g):h.addListener&&h.removeListener&&h.removeListener(g),(p=kg(h))?(xg(p,l),p.h==0&&(p.src=null,h[Ng]=null)):Dd(l)}}}function TC(l){return l in Og?Og[l]:Og[l]="on"+l}function wF(l,h){if(l.da)l=!0;else{h=new Cc(h,this);var p=l.listener,g=l.ha||l.src;l.fa&&Pg(l),l=p.call(g,h)}return l}function kg(l){return l=l[Ng],l instanceof Cd?l:null}var Fg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lg(l){return typeof l=="function"?l:(l[Fg]||(l[Fg]=function(h){return l.handleEvent(h)}),l[Fg])}function Et(){Xr.call(this),this.i=new Cd(this),this.M=this,this.F=null}E(Et,Xr),Et.prototype[Tc]=!0,Et.prototype.removeEventListener=function(l,h,p,g){CC(this,l,h,p,g)};function Ot(l,h){var p,g=l.F;if(g)for(p=[];g;g=g.F)p.push(g);if(l=l.M,g=h.type||h,typeof h=="string")h=new It(h,l);else if(h instanceof It)h.target=h.target||l;else{var T=h;h=new It(g,l),D(h,T)}if(T=!0,p)for(var N=p.length-1;0<=N;N--){var H=h.g=p[N];T=Td(H,g,!0,h)&&T}if(H=h.g=l,T=Td(H,g,!0,h)&&T,T=Td(H,g,!1,h)&&T,p)for(N=0;N<p.length;N++)H=h.g=p[N],T=Td(H,g,!1,h)&&T}Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var p=l.g[h],g=0;g<p.length;g++)Dd(p[g]);delete l.g[h],l.h--}}this.F=null},Et.prototype.K=function(l,h,p,g){return this.i.add(String(l),h,!1,p,g)},Et.prototype.L=function(l,h,p,g){return this.i.add(String(l),h,!0,p,g)};function Td(l,h,p,g){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var T=!0,N=0;N<h.length;++N){var H=h[N];if(H&&!H.da&&H.capture==p){var Fe=H.listener,gt=H.ha||H.src;H.fa&&xg(l.i,H),T=Fe.call(gt,g)!==!1&&T}}return T&&!g.defaultPrevented}function SC(l,h,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function AC(l){l.g=SC(()=>{l.g=null,l.i&&(l.i=!1,AC(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class IF extends Xr{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:AC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sc(l){Xr.call(this),this.h=l,this.g={}}E(Sc,Xr);var RC=[];function xC(l){Y(l.g,function(h,p){this.g.hasOwnProperty(p)&&Pg(h)},l),l.g={}}Sc.prototype.N=function(){Sc.aa.N.call(this),xC(this)},Sc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vg=a.JSON.stringify,EF=a.JSON.parse,bF=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function jg(){}jg.prototype.h=null;function MC(l){return l.h||(l.h=l.i())}function NC(){}var Ac={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ug(){It.call(this,"d")}E(Ug,It);function Bg(){It.call(this,"c")}E(Bg,It);var rs={},OC=null;function Sd(){return OC=OC||new Et}rs.La="serverreachability";function PC(l){It.call(this,rs.La,l)}E(PC,It);function Rc(l){let h=Sd();Ot(h,new PC(h))}rs.STAT_EVENT="statevent";function kC(l,h){It.call(this,rs.STAT_EVENT,l),this.stat=h}E(kC,It);function Pt(l){let h=Sd();Ot(h,new kC(h,l))}rs.Ma="timingevent";function FC(l,h){It.call(this,rs.Ma,l),this.size=h}E(FC,It);function xc(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Mc(){this.g=!0}Mc.prototype.xa=function(){this.g=!1};function DF(l,h,p,g,T,N){l.info(function(){if(l.g)if(N)for(var H="",Fe=N.split("&"),gt=0;gt<Fe.length;gt++){var Re=Fe[gt].split("=");if(1<Re.length){var bt=Re[0];Re=Re[1];var Dt=bt.split("_");H=2<=Dt.length&&Dt[1]=="type"?H+(bt+"="+Re+"&"):H+(bt+"=redacted&")}}else H=null;else H=N;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+h+`
`+p+`
`+H})}function CF(l,h,p,g,T,N,H){l.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+h+`
`+p+`
`+N+" "+H})}function wo(l,h,p,g){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+SF(l,p)+(g?" "+g:"")})}function TF(l,h){l.info(function(){return"TIMEOUT: "+h})}Mc.prototype.info=function(){};function SF(l,h){if(!l.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var g=p[l];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var N=T[0];if(N!="noop"&&N!="stop"&&N!="close")for(var H=1;H<T.length;H++)T[H]=""}}}}return Vg(p)}catch{return h}}var Ad={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},LC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$g;function Rd(){}E(Rd,jg),Rd.prototype.g=function(){return new XMLHttpRequest},Rd.prototype.i=function(){return{}},$g=new Rd;function Jr(l,h,p,g){this.j=l,this.i=h,this.l=p,this.R=g||1,this.U=new Sc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new VC}function VC(){this.i=null,this.g="",this.h=!1}var jC={},Hg={};function zg(l,h,p){l.L=1,l.v=Od(wr(h)),l.m=p,l.P=!0,UC(l,null)}function UC(l,h){l.F=Date.now(),xd(l),l.A=wr(l.v);var p=l.A,g=l.R;Array.isArray(g)||(g=[String(g)]),e0(p.i,"t",g),l.C=0,p=l.j.J,l.h=new VC,l.g=v0(l.j,p?h:null,!l.m),0<l.O&&(l.M=new IF(m(l.Y,l,l.g),l.O)),h=l.U,p=l.g,g=l.ca;var T="readystatechange";Array.isArray(T)||(T&&(RC[0]=T.toString()),T=RC);for(var N=0;N<T.length;N++){var H=EC(p,T[N],g||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Rc(),DF(l.i,l.u,l.A,l.l,l.R,l.m)}Jr.prototype.ca=function(l){l=l.target;let h=this.M;h&&Ir(l)==3?h.j():this.Y(l)},Jr.prototype.Y=function(l){try{if(l==this.g)e:{let Dt=Ir(this.g);var h=this.g.Ba();let bo=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||a0(this.g)))){this.J||Dt!=4||h==7||(h==8||0>=bo?Rc(3):Rc(2)),qg(this);var p=this.g.Z();this.X=p;t:if(BC(this)){var g=a0(this.g);l="";var T=g.length,N=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){is(this),Nc(this);var H="";break t}this.h.i=new a.TextDecoder}for(h=0;h<T;h++)this.h.h=!0,l+=this.h.i.decode(g[h],{stream:!(N&&h==T-1)});g.length=0,this.h.g+=l,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=p==200,CF(this.i,this.u,this.A,this.l,this.R,Dt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,gt=this.g;if((Fe=gt.g?gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Fe)){var Re=Fe;break t}}Re=null}if(p=Re)wo(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gg(this,p);else{this.o=!1,this.s=3,Pt(12),is(this),Nc(this);break e}}if(this.P){p=!0;let Sn;for(;!this.J&&this.C<H.length;)if(Sn=AF(this,H),Sn==Hg){Dt==4&&(this.s=4,Pt(14),p=!1),wo(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==jC){this.s=4,Pt(15),wo(this.i,this.l,H,"[Invalid Chunk]"),p=!1;break}else wo(this.i,this.l,Sn,null),Gg(this,Sn);if(BC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||H.length!=0||this.h.h||(this.s=1,Pt(16),p=!1),this.o=this.o&&p,!p)wo(this.i,this.l,H,"[Invalid Chunked Response]"),is(this),Nc(this);else if(0<H.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),Xg(bt),bt.M=!0,Pt(11))}}else wo(this.i,this.l,H,null),Gg(this,H);Dt==4&&is(this),this.o&&!this.J&&(Dt==4?p0(this.j,this):(this.o=!1,xd(this)))}else qF(this.g),p==400&&0<H.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),is(this),Nc(this)}}}catch{}finally{}};function BC(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function AF(l,h){var p=l.C,g=h.indexOf(`
`,p);return g==-1?Hg:(p=Number(h.substring(p,g)),isNaN(p)?jC:(g+=1,g+p>h.length?Hg:(h=h.slice(g,g+p),l.C=g+p,h)))}Jr.prototype.cancel=function(){this.J=!0,is(this)};function xd(l){l.S=Date.now()+l.I,$C(l,l.I)}function $C(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=xc(m(l.ba,l),h)}function qg(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Jr.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(TF(this.i,this.A),this.L!=2&&(Rc(),Pt(17)),is(this),this.s=2,Nc(this)):$C(this,this.S-l)};function Nc(l){l.j.G==0||l.J||p0(l.j,l)}function is(l){qg(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,xC(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Gg(l,h){try{var p=l.j;if(p.G!=0&&(p.g==l||Wg(p.h,l))){if(!l.K&&Wg(p.h,l)&&p.G==3){try{var g=p.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Vd(p),Fd(p);else break e;Zg(p),Pt(18)}}else p.za=T[1],0<p.za-p.T&&37500>T[2]&&p.F&&p.v==0&&!p.C&&(p.C=xc(m(p.Za,p),6e3));if(1>=qC(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else os(p,11)}else if((l.K||p.g==l)&&Vd(p),!B(h))for(T=p.Da.g.parse(h),h=0;h<T.length;h++){let Re=T[h];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];let bt=Re[3];bt!=null&&(p.la=bt,p.j.info("VER="+p.la));let Dt=Re[4];Dt!=null&&(p.Aa=Dt,p.j.info("SVER="+p.Aa));let bo=Re[5];bo!=null&&typeof bo=="number"&&0<bo&&(g=1.5*bo,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let Sn=l.g;if(Sn){let Ud=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ud){var N=g.h;N.g||Ud.indexOf("spdy")==-1&&Ud.indexOf("quic")==-1&&Ud.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Kg(N,N.h),N.h=null))}if(g.D){let Jg=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jg&&(g.ya=Jg,Ue(g.I,g.D,Jg))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var H=l;if(g.qa=y0(g,g.J?g.ia:null,g.W),H.K){GC(g.h,H);var Fe=H,gt=g.L;gt&&(Fe.I=gt),Fe.B&&(qg(Fe),xd(Fe)),g.g=H}else h0(g);0<p.i.length&&Ld(p)}else Re[0]!="stop"&&Re[0]!="close"||os(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?os(p,7):Yg(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}Rc(4)}catch{}}var RF=class{constructor(l,h){this.g=l,this.map=h}};function HC(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zC(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function qC(l){return l.h?1:l.g?l.g.size:0}function Wg(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Kg(l,h){l.g?l.g.add(h):l.h=h}function GC(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}HC.prototype.cancel=function(){if(this.i=WC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function WC(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let p of l.g.values())h=h.concat(p.D);return h}return S(l.i)}function xF(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],p=l.length,g=0;g<p;g++)h.push(l[g]);return h}h=[],p=0;for(g in l)h[p++]=l[g];return h}function MF(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var p=0;p<l;p++)h.push(p);return h}h=[],p=0;for(let g in l)h[p++]=g;return h}}}function KC(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var p=MF(l),g=xF(l),T=g.length,N=0;N<T;N++)h.call(void 0,g[N],p&&p[N],l)}var QC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NF(l,h){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var g=l[p].indexOf("="),T=null;if(0<=g){var N=l[p].substring(0,g);T=l[p].substring(g+1)}else N=l[p];h(N,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ss(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ss){this.h=l.h,Md(this,l.j),this.o=l.o,this.g=l.g,Nd(this,l.s),this.l=l.l;var h=l.i,p=new kc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),YC(this,p),this.m=l.m}else l&&(h=String(l).match(QC))?(this.h=!1,Md(this,h[1]||"",!0),this.o=Oc(h[2]||""),this.g=Oc(h[3]||"",!0),Nd(this,h[4]),this.l=Oc(h[5]||"",!0),YC(this,h[6]||"",!0),this.m=Oc(h[7]||"")):(this.h=!1,this.i=new kc(null,this.h))}ss.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Pc(h,ZC,!0),":");var p=this.g;return(p||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Pc(h,ZC,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Pc(p,p.charAt(0)=="/"?kF:PF,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Pc(p,LF)),l.join("")};function wr(l){return new ss(l)}function Md(l,h,p){l.j=p?Oc(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Nd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function YC(l,h,p){h instanceof kc?(l.i=h,VF(l.i,l.h)):(p||(h=Pc(h,FF)),l.i=new kc(h,l.h))}function Ue(l,h,p){l.i.set(h,p)}function Od(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Oc(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pc(l,h,p){return typeof l=="string"?(l=encodeURI(l).replace(h,OF),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function OF(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var ZC=/[#\/\?@]/g,PF=/[#\?:]/g,kF=/[#\?]/g,FF=/[#\?@]/g,LF=/#/g;function kc(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ei(l){l.g||(l.g=new Map,l.h=0,l.i&&NF(l.i,function(h,p){l.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=kc.prototype,t.add=function(l,h){ei(this),this.i=null,l=Io(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(h),this.h+=1,this};function XC(l,h){ei(l),h=Io(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function JC(l,h){return ei(l),h=Io(l,h),l.g.has(h)}t.forEach=function(l,h){ei(this),this.g.forEach(function(p,g){p.forEach(function(T){l.call(h,T,g,this)},this)},this)},t.na=function(){ei(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let g=0;g<h.length;g++){let T=l[g];for(let N=0;N<T.length;N++)p.push(h[g])}return p},t.V=function(l){ei(this);let h=[];if(typeof l=="string")JC(this,l)&&(h=h.concat(this.g.get(Io(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)h=h.concat(l[p])}return h},t.set=function(l,h){return ei(this),this.i=null,l=Io(this,l),JC(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function e0(l,h,p){XC(l,h),0<p.length&&(l.i=null,l.g.set(Io(l,h),S(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var g=h[p];let N=encodeURIComponent(String(g)),H=this.V(g);for(g=0;g<H.length;g++){var T=N;H[g]!==""&&(T+="="+encodeURIComponent(String(H[g]))),l.push(T)}}return this.i=l.join("&")};function Io(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function VF(l,h){h&&!l.j&&(ei(l),l.i=null,l.g.forEach(function(p,g){var T=g.toLowerCase();g!=T&&(XC(this,g),e0(this,T,p))},l)),l.j=h}function jF(l,h){let p=new Mc;if(a.Image){let g=new Image;g.onload=y(ti,p,"TestLoadImage: loaded",!0,h,g),g.onerror=y(ti,p,"TestLoadImage: error",!1,h,g),g.onabort=y(ti,p,"TestLoadImage: abort",!1,h,g),g.ontimeout=y(ti,p,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=l}else h(!1)}function UF(l,h){let p=new Mc,g=new AbortController,T=setTimeout(()=>{g.abort(),ti(p,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:g.signal}).then(N=>{clearTimeout(T),N.ok?ti(p,"TestPingServer: ok",!0,h):ti(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(T),ti(p,"TestPingServer: error",!1,h)})}function ti(l,h,p,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(p)}catch{}}function BF(){this.g=new bF}function $F(l,h,p){let g=p||"";try{KC(l,function(T,N){let H=T;u(T)&&(H=Vg(T)),h.push(g+N+"="+encodeURIComponent(H))})}catch(T){throw h.push(g+"type="+encodeURIComponent("_badmap")),T}}function Fc(l){this.l=l.Ub||null,this.j=l.eb||!1}E(Fc,jg),Fc.prototype.g=function(){return new Pd(this.l,this.j)},Fc.prototype.i=function(l){return function(){return l}}({});function Pd(l,h){Et.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Pd,Et),t=Pd.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Vc(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lc(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Vc(this)),this.g&&(this.readyState=3,Vc(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;t0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function t0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Lc(this):Vc(this),this.readyState==3&&t0(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Lc(this))},t.Qa=function(l){this.g&&(this.response=l,Lc(this))},t.ga=function(){this.g&&Lc(this)};function Lc(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Vc(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=h.next();return l.join(`\r
`)};function Vc(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function n0(l){let h="";return Y(l,function(p,g){h+=g,h+=":",h+=p,h+=`\r
`}),h}function Qg(l,h,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=n0(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):Ue(l,h,p))}function We(l){Et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(We,Et);var HF=/^https?$/i,zF=["POST","PUT"];t=We.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$g.g(),this.v=this.o?MC(this.o):MC($g),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(N){r0(this,N);return}if(l=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)p.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())p.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),T=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zF,h,void 0))||g||T||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,H]of p)this.g.setRequestHeader(N,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{o0(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){r0(this,N)}};function r0(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,i0(l),kd(l)}function i0(l){l.A||(l.A=!0,Ot(l,"complete"),Ot(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ot(this,"complete"),Ot(this,"abort"),kd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kd(this,!0)),We.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?s0(this):this.bb())},t.bb=function(){s0(this)};function s0(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Ir(l)!=4||l.Z()!=2)){if(l.u&&Ir(l)==4)SC(l.Ea,0,l);else if(Ot(l,"readystatechange"),Ir(l)==4){l.h=!1;try{let H=l.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var g;if(g=H===0){var T=String(l.D).match(QC)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!HF.test(T?T.toLowerCase():"")}p=g}if(p)Ot(l,"complete"),Ot(l,"success");else{l.m=6;try{var N=2<Ir(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",i0(l)}}finally{kd(l)}}}}function kd(l,h){if(l.g){o0(l);let p=l.g,g=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Ot(l,"ready");try{p.onreadystatechange=g}catch{}}}function o0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ir(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),EF(h)}};function a0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function qF(l){let h={};l=(l.g&&2<=Ir(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<l.length;g++){if(B(l[g]))continue;var p=C(l[g]);let T=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[T]||[];h[T]=N,N.push(p)}b(h,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jc(l,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||h}function c0(l){this.Aa=0,this.i=[],this.j=new Mc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jc("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jc("baseRetryDelayMs",5e3,l),this.cb=jc("retryDelaySeedMs",1e4,l),this.Wa=jc("forwardChannelMaxRetries",2,l),this.wa=jc("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new HC(l&&l.concurrentRequestLimit),this.Da=new BF,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=c0.prototype,t.la=8,t.G=1,t.connect=function(l,h,p,g){Pt(0),this.W=l,this.H=h||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=y0(this,null,this.W),Ld(this)};function Yg(l){if(l0(l),l.G==3){var h=l.U++,p=wr(l.I);if(Ue(p,"SID",l.K),Ue(p,"RID",h),Ue(p,"TYPE","terminate"),Uc(l,p),h=new Jr(l,l.j,h),h.L=2,h.v=Od(wr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=v0(h.j,null),h.g.ea(h.v)),h.F=Date.now(),xd(h)}g0(l)}function Fd(l){l.g&&(Xg(l),l.g.cancel(),l.g=null)}function l0(l){Fd(l),l.u&&(a.clearTimeout(l.u),l.u=null),Vd(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ld(l){if(!zC(l.h)&&!l.s){l.s=!0;var h=l.Ga;bc||IC(),Dc||(bc(),Dc=!0),Rg.add(h,l),l.B=0}}function GF(l,h){return qC(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=xc(m(l.Ga,l,h),m0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let T=new Jr(this,this.j,l),N=this.o;if(this.S&&(N?(N=v(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(T.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=d0(this,T,h),p=wr(this.I),Ue(p,"RID",l),Ue(p,"CVER",22),this.D&&Ue(p,"X-HTTP-Session-Id",this.D),Uc(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(n0(N)))+"&"+h:this.m&&Qg(p,this.m,N)),Kg(this.h,T),this.Ua&&Ue(p,"TYPE","init"),this.P?(Ue(p,"$req",h),Ue(p,"SID","null"),T.T=!0,zg(T,p,null)):zg(T,p,h),this.G=2}}else this.G==3&&(l?u0(this,l):this.i.length==0||zC(this.h)||u0(this))};function u0(l,h){var p;h?p=h.l:p=l.U++;let g=wr(l.I);Ue(g,"SID",l.K),Ue(g,"RID",p),Ue(g,"AID",l.T),Uc(l,g),l.m&&l.o&&Qg(g,l.m,l.o),p=new Jr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),h&&(l.i=h.D.concat(l.i)),h=d0(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Kg(l.h,p),zg(p,g,h)}function Uc(l,h){l.H&&Y(l.H,function(p,g){Ue(h,g,p)}),l.l&&KC({},function(p,g){Ue(h,g,p)})}function d0(l,h,p){p=Math.min(l.i.length,p);var g=l.l?m(l.l.Na,l.l,l):null;e:{var T=l.i;let N=-1;for(;;){let H=["count="+p];N==-1?0<p?(N=T[0].g,H.push("ofs="+N)):N=0:H.push("ofs="+N);let Fe=!0;for(let gt=0;gt<p;gt++){let Re=T[gt].g,bt=T[gt].map;if(Re-=N,0>Re)N=Math.max(0,T[gt].g-100),Fe=!1;else try{$F(bt,H,"req"+Re+"_")}catch{g&&g(bt)}}if(Fe){g=H.join("&");break e}}}return l=l.i.splice(0,p),h.D=l,g}function h0(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;bc||IC(),Dc||(bc(),Dc=!0),Rg.add(h,l),l.v=0}}function Zg(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=xc(m(l.Fa,l),m0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,f0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=xc(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),Fd(this),f0(this))};function Xg(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function f0(l){l.g=new Jr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=wr(l.qa);Ue(h,"RID","rpc"),Ue(h,"SID",l.K),Ue(h,"AID",l.T),Ue(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(h,"TO",l.ja),Ue(h,"TYPE","xmlhttp"),Uc(l,h),l.m&&l.o&&Qg(h,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Od(wr(h)),p.m=null,p.P=!0,UC(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Fd(this),Zg(this),Pt(19))};function Vd(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function p0(l,h){var p=null;if(l.g==h){Vd(l),Xg(l),l.g=null;var g=2}else if(Wg(l.h,h))p=h.D,GC(l.h,h),g=1;else return;if(l.G!=0){if(h.o)if(g==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var T=l.B;g=Sd(),Ot(g,new FC(g,p)),Ld(l)}else h0(l);else if(T=h.s,T==3||T==0&&0<h.X||!(g==1&&GF(l,h)||g==2&&Zg(l)))switch(p&&0<p.length&&(h=l.h,h.i=h.i.concat(p)),T){case 1:os(l,5);break;case 4:os(l,10);break;case 3:os(l,6);break;default:os(l,2)}}}function m0(l,h){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*h}function os(l,h){if(l.j.info("Error code "+h),h==2){var p=m(l.fb,l),g=l.Xa;let T=!g;g=new ss(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Md(g,"https"),Od(g),T?jF(g.toString(),p):UF(g.toString(),p)}else Pt(2);l.G=0,l.l&&l.l.sa(h),g0(l),l0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function g0(l){if(l.G=0,l.ka=[],l.l){let h=WC(l.h);(h.length!=0||l.i.length!=0)&&(M(l.ka,h),M(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function y0(l,h,p){var g=p instanceof ss?wr(p):new ss(p);if(g.g!="")h&&(g.g=h+"."+g.g),Nd(g,g.s);else{var T=a.location;g=T.protocol,h=h?h+"."+T.hostname:T.hostname,T=+T.port;var N=new ss(null);g&&Md(N,g),h&&(N.g=h),T&&Nd(N,T),p&&(N.l=p),g=N}return p=l.D,h=l.ya,p&&h&&Ue(g,p,h),Ue(g,"VER",l.la),Uc(l,g),g}function v0(l,h,p){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new We(new Fc({eb:p})):new We(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _0(){}t=_0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jd(){}jd.prototype.g=function(l,h){return new Yt(l,h)};function Yt(l,h){Et.call(this),this.g=new c0(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!B(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!B(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Eo(this)}E(Yt,Et),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Yg(this.g)},Yt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Vg(l),l=p);h.i.push(new RF(h.Ya++,l)),h.G==3&&Ld(h)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Yg(this.g),delete this.g,Yt.aa.N.call(this)};function w0(l){Ug.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let p in h){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}E(w0,Ug);function I0(){Bg.call(this),this.status=1}E(I0,Bg);function Eo(l){this.g=l}E(Eo,_0),Eo.prototype.ua=function(){Ot(this.g,"a")},Eo.prototype.ta=function(l){Ot(this.g,new w0(l))},Eo.prototype.sa=function(l){Ot(this.g,new I0)},Eo.prototype.ra=function(){Ot(this.g,"b")},jd.prototype.createWebChannel=jd.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,sE=qr.createWebChannelTransport=function(){return new jd},iE=qr.getStatEventTarget=function(){return Sd()},rE=qr.Event=rs,qp=qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ad.NO_ERROR=0,Ad.TIMEOUT=8,Ad.HTTP_ERROR=6,lu=qr.ErrorCode=Ad,LC.COMPLETE="complete",nE=qr.EventType=LC,NC.EventType=Ac,Ac.OPEN="a",Ac.CLOSE="b",Ac.ERROR="c",Ac.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Na=qr.WebChannel=NC,tE=qr.FetchXmlHttpFactory=Fc,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,eE=qr.XhrIo=We}).apply(typeof zp<"u"?zp:typeof self<"u"?self:typeof window<"u"?window:{});var HN="@firebase/firestore";var pt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");var ac="10.12.1";var eo=new Ri("@firebase/firestore");function La(){return eo.logLevel}function F(t,...e){if(eo.logLevel<=we.DEBUG){let n=e.map(oD);eo.debug(`Firestore (${ac}): ${t}`,...n)}}function tt(t,...e){if(eo.logLevel<=we.ERROR){let n=e.map(oD);eo.error(`Firestore (${ac}): ${t}`,...n)}}function Eu(t,...e){if(eo.logLevel<=we.WARN){let n=e.map(oD);eo.warn(`Firestore (${ac}): ${t}`,...n)}}function oD(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: `+t;throw tt(e),new Error(e)}function X(t,e){t||G()}function W(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends tn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var En=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var hE=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},fE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}};var pE=class{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new En;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new En,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>_(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new En)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(X(typeof r.accessToken=="string"),new hE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new pt(e)}},mE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gE=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(X(typeof n.token=="string"),this.R=n.token,new yE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function A9(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var tm=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=A9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function Ga(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function zO(t){return t+"\0"}var nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var nm=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends nm{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},R9=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ct=class t extends nm{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return R9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var Wa=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function _E(t){return t.fields.find(e=>e.kind===2)}function qs(t){return t.fields.filter(e=>e.kind!==2)}Wa.UNKNOWN_ID=-1;var Ha=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var bu=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,bn.min())}};function qO(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new nt(n+1,0):new nt(n,r));return new bn(i,q.empty(),e)}function GO(t){return new bn(t.readTime,t.key,-1)}var bn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),q.empty(),-1)}static max(){return new t(ne.max(),q.empty(),-1)}};function aD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var WO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Zi(t){return _(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==WO)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var im=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new En,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Xs(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=cD(r.target.error);this.V.reject(new Xs(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Xs(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new IE(n)}},Ka=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Ke())===12.2&&tt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),Gs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!gp())return!1;if(t.C())return!0;let e=Ke(),n=t.S(e),r=0<n&&n<10,i=KO(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return _(this,null,function*(){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Xs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new U(O.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new U(O.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Xs(e,o))},i.onupgradeneeded=s=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return _(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=im.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),x.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(F("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function KO(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var wE=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Gs(this.B.delete())}},Xs=class extends U{constructor(e,n){super(O.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Xi(t){return t.name==="IndexedDbTransactionError"}var IE=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(F("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gs(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),Gs(this.store.add(e))}get(e){return Gs(this.store.get(e)).next(n=>(n===void 0&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),Gs(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),Gs(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new x((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,c)=>{o.push(c)}).next(()=>o)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new x((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){F("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new x((r,i)=>{n.onerror=s=>{let o=cD(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){let r=[];return new x((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new wE(a),u=n(a.primaryKey,a.value,c);if(u instanceof x){let d=u.catch(f=>(c.done(),x.reject(f)));r.push(d)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>x.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Gs(t){return new x((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=cD(r.target.error);n(i)}})}var zN=!1;function cD(t){let e=Ka.S(Ke());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new U("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zN||(zN=!0,setTimeout(()=>{throw r},0)),r}}return t}var EE=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){F("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>_(this,null,function*(){this.task=null;try{F("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){Xi(n)?F("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Zi(n)}yield this.X(6e4)}))}},bE=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return _(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,s=!0;return x.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return F("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(F("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=GO(s);aD(o,r)>0&&(r=o)}),new bn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var nn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Xm(t){return t==null}function Du(t){return t===0&&1/t==-1/0}function QO(t){return typeof t=="number"&&Number.isInteger(t)&&!Du(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ht(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qN(e)),e=x9(t.get(n),e);return qN(e)}function x9(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function qN(t){return t+""}function pr(t){let e=t.length;if(X(e>=2),e===2)return X(t.charAt(0)===""&&t.charAt(1)===""),ke.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&G(),t.charAt(o+1)){case"":let a=t.substring(s,o),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:G()}s=o+2}return new ke(r)}var GN=["userId","batchId"];function Yp(t,e){return[t,Ht(e)]}function YO(t,e,n){return[t,Ht(e),n]}var M9={},N9=["prefixPath","collectionGroup","readTime","documentId"],O9=["prefixPath","collectionGroup","documentId"],P9=["collectionGroup","readTime","prefixPath","documentId"],k9=["canonicalId","targetId"],F9=["targetId","path"],L9=["path","targetId"],V9=["collectionId","parent"],j9=["indexId","uid"],U9=["uid","sequenceNumber"],B9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$9=["indexId","uid","orderedDocumentKey"],H9=["userId","collectionPath","documentId"],z9=["userId","collectionPath","largestBatchId"],q9=["userId","collectionGroup","largestBatchId"],ZO=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],G9=[...ZO,"documentOverlays"],XO=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JO=XO,eP=[...JO,"indexConfiguration","indexState","indexEntries"],W9=eP;var Cu=class extends rm{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function mt(t,e){let n=W(t);return Ka.F(n._e,e)}function WN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function uo(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||gr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $a(this.root,e,this.comparator,!1)}getReverseIterator(){return new $a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $a(this.root,e,this.comparator,!0)}},$a=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},gr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};gr.EMPTY=null,gr.RED=!0,gr.BLACK=!1;gr.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new gr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ve=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sm(this.data.getIterator())}getIteratorFrom(e){return new sm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},sm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Oa(t){return t.hasNext()?t.getNext():void 0}var rn=class t{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ve(ct.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var om=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new om("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var K9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(X(!!t),typeof t=="string"){let e=0,n=K9.exec(t);if(X(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hi(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}function lD(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uD(t){let e=t.mapValue.fields.__previous_value__;return lD(e)?uD(e):e}function Tu(t){let e=Wr(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var DE=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},Qa=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Bi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zp={nullValue:"NULL_VALUE"};function to(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lD(t)?4:nP(t)?9007199254740991:10:G()}function yr(t,e){if(t===e)return!0;let n=to(t);if(n!==to(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tu(t).isEqual(Tu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Wr(i.timestampValue),a=Wr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Hi(i.bytesValue).isEqual(Hi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?Du(o)===Du(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ga(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(WN(o)!==WN(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!yr(o[c],a[c])))return!1;return!0}(t,e);default:return G()}}function Su(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function zi(t,e){if(t===e)return 0;let n=to(t),r=to(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Qe(s.integerValue||s.doubleValue),c=Qe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return KN(t.timestampValue,e.timestampValue);case 4:return KN(Tu(t),Tu(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Hi(s),c=Hi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=he(a[u],c[u]);if(d!==0)return d}return he(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=he(Qe(s.latitude),Qe(o.latitude));return a!==0?a:he(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let d=zi(a[u],c[u]);if(d)return d}return he(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Bi.mapValue&&o===Bi.mapValue)return 0;if(s===Bi.mapValue)return 1;if(o===Bi.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let m=he(c[f],d[f]);if(m!==0)return m;let y=zi(a[c[f]],u[d[f]]);if(y!==0)return y}return he(c.length,d.length)}(t.mapValue,e.mapValue);default:throw G()}}function KN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=Wr(t),r=Wr(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Ya(t){return CE(t)}function CE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Wr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=CE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${CE(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function Au(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function TE(t){return!!t&&"integerValue"in t}function Ru(t){return!!t&&"arrayValue"in t}function QN(t){return!!t&&"nullValue"in t}function YN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xp(t){return!!t&&"mapValue"in t}function gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return uo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Q9(t){return"nullValue"in t?Zp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Au(Qa.empty(),q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:G()}function Y9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Au(Qa.empty(),q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Bi:G()}function ZN(t,e){let n=zi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function XN(t,e){let n=zi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var $t=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Xp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){uo(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(gu(this.value))}};function rP(t){let e=[];return uo(t.fields,(n,r)=>{let i=new ct([n]);if(Xp(r)){let s=rP(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new rn(e)}var _t=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var qi=class{constructor(e,n){this.position=e,this.inclusive=n}};function JN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=zi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}var no=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Z9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var am=class{},Ie=class t extends am{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RE(e,n,r):n==="array-contains"?new NE(e,r):n==="in"?new cm(e,r):n==="not-in"?new OE(e,r):n==="array-contains-any"?new PE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xE(e,r):new ME(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zi(n,this.value)):n!==null&&to(this.value)===to(n)&&this.matchesComparison(zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Oe=class t extends am{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Za(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Za(t){return t.op==="and"}function SE(t){return t.op==="or"}function dD(t){return iP(t)&&Za(t)}function iP(t){for(let e of t.filters)if(e instanceof Oe)return!1;return!0}function AE(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+Ya(t.value);if(dD(t))return t.filters.map(e=>AE(e)).join(",");{let e=t.filters.map(n=>AE(n)).join(",");return`${t.op}(${e})`}}function sP(t,e){return t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&sP(o,i.filters[a]),!0):!1}(t,e):void G()}function oP(t,e){let n=t.filters.concat(e);return Oe.create(n,t.op)}function aP(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Ya(n.value)}`}(t):t instanceof Oe?function(n){return n.op.toString()+" {"+n.getFilters().map(aP).join(" ,")+"}"}(t):"Filter"}var RE=class extends Ie{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},xE=class extends Ie{constructor(e,n){super(e,"in",n),this.keys=cP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ME=class extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=cP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function cP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var NE=class extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Ru(n)&&Su(n.arrayValue,this.value)}},cm=class extends Ie{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Su(this.value.arrayValue,n)}},OE=class extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Su(this.value.arrayValue,n)}},PE=class extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Ru(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Su(this.value.arrayValue,r))}};var kE=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function FE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new kE(t,e,n,r,i,s,o)}function ro(t){let e=W(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>AE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Xm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ya(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ya(r)).join(",")),e.ue=n}return e.ue}function Ku(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Z9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eO(t.startAt,e.startAt)&&eO(t.endAt,e.endAt)}function lm(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function um(t,e){return t.filters.filter(n=>n instanceof Ie&&n.field.isEqual(e))}function tO(t,e,n){let r=Zp,i=!0;for(let s of um(t,e)){let o=Zp,a=!0;switch(s.op){case"<":case"<=":o=Q9(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Zp}ZN({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];ZN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function nO(t,e,n){let r=Bi,i=!0;for(let s of um(t,e)){let o=Bi,a=!0;switch(s.op){case">=":case">":o=Y9(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Bi}XN({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];XN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var Gi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function lP(t,e,n,r,i,s,o,a){return new Gi(t,e,n,r,i,s,o,a)}function Qu(t){return new Gi(t)}function rO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uP(t){return t.collectionGroup!==null}function yu(t){let e=W(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ve(ct.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new no(s,r))}),n.has(ct.keyField().canonicalString())||e.ce.push(new no(ct.keyField(),r))}return e.ce}function on(t){let e=W(t);return e.le||(e.le=X9(e,yu(t))),e.le}function X9(t,e){if(t.limitType==="F")return FE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new no(i.field,s)});let n=t.endAt?new qi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qi(t.startAt.position,t.startAt.inclusive):null;return FE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function LE(t,e){let n=t.filters.concat([e]);return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dm(t,e,n){return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jm(t,e){return Ku(on(t),on(e))&&t.limitType===e.limitType}function dP(t){return`${ro(on(t))}|lt:${t.limitType}`}function Va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>aP(i)).join(", ")}]`),Xm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ya(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ya(i)).join(",")),`Target(${r})`}(on(t))}; limitType=${t.limitType})`}function Yu(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of yu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=JN(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,yu(r),i)||r.endAt&&!function(o,a,c){let u=JN(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,yu(r),i))}(t,e)}function hP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fP(t){return(e,n)=>{let r=!1;for(let i of yu(t)){let s=J9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J9(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?zi(c,u):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var vr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){uo(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return tP(this.inner)}size(){return this.innerSize}};var e3=new He(q.comparator);function sn(){return e3}var pP=new He(q.comparator);function pu(...t){let e=pP;for(let n of t)e=e.insert(n.key,n);return e}function mP(t){let e=pP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function mr(){return vu()}function gP(){return vu()}function vu(){return new vr(t=>t.toString(),(t,e)=>t.isEqual(e))}var t3=new He(q.comparator),n3=new Ve(q.comparator);function _e(...t){let e=n3;for(let n of t)e=e.add(n);return e}var r3=new Ve(he);function hD(){return r3}function yP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function vP(t){return{integerValue:""+t}}function i3(t,e){return QO(e)?vP(e):yP(t,e)}var Xa=class{constructor(){this._=void 0}};function s3(t,e,n){return t instanceof io?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&lD(s)&&(s=uD(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wi?wP(t,e):t instanceof Ki?IP(t,e):function(i,s){let o=_P(i,s),a=iO(o)+iO(i.Pe);return TE(o)&&TE(i.Pe)?vP(a):yP(i.serializer,a)}(t,e)}function o3(t,e,n){return t instanceof Wi?wP(t,e):t instanceof Ki?IP(t,e):n}function _P(t,e){return t instanceof so?function(r){return TE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var io=class extends Xa{},Wi=class extends Xa{constructor(e){super(),this.elements=e}};function wP(t,e){let n=EP(e);for(let r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ki=class extends Xa{constructor(e){super(),this.elements=e}};function IP(t,e){let n=EP(e);for(let r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}var so=class extends Xa{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function iO(t){return Qe(t.integerValue||t.doubleValue)}function EP(t){return Ru(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var VE=class{constructor(e,n){this.field=e,this.transform=n}};function a3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wi&&i instanceof Wi||r instanceof Ki&&i instanceof Ki?Ga(r.elements,i.elements,yr):r instanceof so&&i instanceof so?yr(r.Pe,i.Pe):r instanceof io&&i instanceof io}(t.transform,e.transform)}var jE=class{constructor(e,n){this.version=e,this.transformResults=n}},vt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ja=class{};function bP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oo(t.key,vt.none()):new Qi(t.key,t.data,vt.none());{let n=t.data,r=$t.empty(),i=new Ve(ct.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bn(t.key,r,new rn(i.toArray()),vt.none())}}function c3(t,e,n){t instanceof Qi?function(i,s,o){let a=i.value.clone(),c=oO(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bn?function(i,s,o){if(!Jp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=oO(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(DP(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _u(t,e,n,r){return t instanceof Qi?function(s,o,a,c){if(!Jp(s.precondition,o))return a;let u=s.value.clone(),d=aO(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bn?function(s,o,a,c){if(!Jp(s.precondition,o))return a;let u=aO(s.fieldTransforms,c,o),d=o.data;return d.setAll(DP(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Jp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function l3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=_P(r.transform,i||null);s!=null&&(n===null&&(n=$t.empty()),n.set(r.field,s))}return n||null}function sO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ga(r,i,(s,o)=>a3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Qi=class extends Ja{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bn=class extends Ja{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function DP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function oO(t,e,n){let r=new Map;X(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,o3(o,a,n[i]))}return r}function aO(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,s3(s,o,e))}return r}var oo=class extends Ja{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},hm=class extends Ja{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var xu=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&c3(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=_u(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=gP();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=bP(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,r)=>sO(n,r))&&Ga(this.baseMutations,e.baseMutations,(n,r)=>sO(n,r))}},UE=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){X(e.mutations.length===r.length);let i=function(){return t3}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Mu=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var BE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var st,Te;function u3(t){switch(t){default:return G();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function CP(t){if(t===void 0)return tt("GRPC error has no .code"),O.UNKNOWN;switch(t){case st.OK:return O.OK;case st.CANCELLED:return O.CANCELLED;case st.UNKNOWN:return O.UNKNOWN;case st.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case st.INTERNAL:return O.INTERNAL;case st.UNAVAILABLE:return O.UNAVAILABLE;case st.UNAUTHENTICATED:return O.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case st.NOT_FOUND:return O.NOT_FOUND;case st.ALREADY_EXISTS:return O.ALREADY_EXISTS;case st.PERMISSION_DENIED:return O.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case st.ABORTED:return O.ABORTED;case st.OUT_OF_RANGE:return O.OUT_OF_RANGE;case st.UNIMPLEMENTED:return O.UNIMPLEMENTED;case st.DATA_LOSS:return O.DATA_LOSS;default:return G()}}(Te=st||(st={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";var cO=null;function d3(){return new TextEncoder}var h3=new Li([4294967295,4294967295],0);function lO(t){let e=d3().encode(t),n=new JI;return n.update(e),new Uint8Array(n.digest())}function uO(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Li([n,r],0),new Li([i,s],0)]}var $E=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ys(`Invalid padding: ${n}`);if(r<0)throw new Ys(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ys(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ys(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Li.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Li.fromNumber(r)));return i.compare(h3)===1&&(i=new Li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=lO(e),[r,i]=uO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=lO(e),[r,i]=uO(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ys=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Nu=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new He(he),sn(),_e())}},Ou=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var za=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},fm=class{constructor(e,n){this.targetId=e,this.me=n}},pm=class{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},mm=class{constructor(){this.fe=0,this.ge=hO(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Ou(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=hO()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,X(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},HE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=sn(),this.qe=dO(),this.Qe=new He(he)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(lm(s))if(r===0){let o=new q(s.path);this.Ue(n,o,_t.newNoDocument(o,ne.min()))}else X(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}cO?.et(function(d,f,m,y,E){var S,M,V,B,z,ee;let fe={localCacheCount:d,existenceFilterCount:f.count,databaseId:m.database,projectId:m.projectId},Y=f.unchangedNames;return Y&&(fe.bloomFilter={applied:E===0,hashCount:(S=Y?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(B=(V=(M=Y?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&B!==void 0?B:0,padding:(ee=(z=Y?.bits)===null||z===void 0?void 0:z.padding)!==null&&ee!==void 0?ee:0,mightContain:b=>{var v;return(v=y?.mightContain(b))!==null&&v!==void 0&&v}}),fe}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Hi(r).toUint8Array()}catch(c){if(c instanceof om)return Eu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new $E(o,i,s)}catch(c){return Eu(c instanceof Ys?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&lm(a.target)){let c=new q(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,_t.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Nu(e,n,this.Qe,this.ke,r);return this.ke=sn(),this.qe=dO(),this.Qe=new He(he),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new mm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ve(he),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function dO(){return new He(q.comparator)}function hO(){return new He(q.comparator)}var f3={asc:"ASCENDING",desc:"DESCENDING"},p3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},m3={and:"AND",or:"OR"},zE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function qE(t,e){return t.useProto3Json||Xm(e)?e:{value:e}}function ec(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g3(t,e){return ec(t,e.toTimestamp())}function zt(t){return X(!!t),ne.fromTimestamp(function(n){let r=Wr(n);return new nt(r.seconds,r.nanos)}(t))}function fD(t,e){return GE(t,e).canonicalString()}function GE(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SP(t){let e=ke.fromString(t);return X(FP(e)),e}function gm(t,e){return fD(t.databaseId,e.path)}function Js(t,e){let n=SP(e);if(n.get(1)!==t.databaseId.projectId)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(xP(n))}function AP(t,e){return fD(t.databaseId,e)}function RP(t){let e=SP(t);return e.length===4?ke.emptyPath():xP(e)}function WE(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xP(t){return X(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fO(t,e,n){return{name:gm(t,e),fields:n.value.mapValue.fields}}function y3(t,e,n){let r=Js(t,e.name),i=zt(e.updateTime),s=e.createTime?zt(e.createTime):ne.min(),o=new $t({mapValue:{fields:e.fields}}),a=_t.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function v3(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(X(d===void 0||typeof d=="string"),wt.fromBase64String(d||"")):(X(d===void 0||d instanceof Buffer||d instanceof Uint8Array),wt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?O.UNKNOWN:CP(u.code);return new U(d,u.message||"")}(o);n=new pm(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Js(t,r.document.name),s=zt(r.document.updateTime),o=r.document.createTime?zt(r.document.createTime):ne.min(),a=new $t({mapValue:{fields:r.document.fields}}),c=_t.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new za(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Js(t,r.document),s=r.readTime?zt(r.readTime):ne.min(),o=_t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new za([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Js(t,r.document),s=r.removedTargetIds||[];n=new za([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new BE(i,s),a=r.targetId;n=new fm(a,o)}}return n}function ym(t,e){let n;if(e instanceof Qi)n={update:fO(t,e.key,e.value)};else if(e instanceof oo)n={delete:gm(t,e.key)};else if(e instanceof Bn)n={update:fO(t,e.key,e.data),updateMask:D3(e.fieldMask)};else{if(!(e instanceof hm))return G();n={verify:gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof io)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ki)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof so)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:g3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function KE(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?vt.updateTime(zt(s.updateTime)):s.exists!==void 0?vt.exists(s.exists):vt.none()}(e.currentDocument):vt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;if("setToServerValue"in a)X(a.setToServerValue==="REQUEST_TIME"),c=new io;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Wi(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new Ki(d)}else"increment"in a?c=new so(o,a.increment):G();let u=ct.fromServerFormat(a.fieldPath);return new VE(u,c)}(t,i)):[];if(e.update){e.update.name;let i=Js(t,e.update.name),s=new $t({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(c){let u=c.fieldPaths||[];return new rn(u.map(d=>ct.fromServerFormat(d)))}(e.updateMask);return new Bn(i,s,o,n,r)}return new Qi(i,s,n,r)}if(e.delete){let i=Js(t,e.delete);return new oo(i,n)}if(e.verify){let i=Js(t,e.verify);return new hm(i,n)}return G()}function _3(t,e){return t&&t.length>0?(X(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zt(i.updateTime):zt(s);return o.isEqual(ne.min())&&(o=zt(s)),new jE(o,i.transformResults||[])}(n,e))):[]}function MP(t,e){return{documents:[AP(t,e.path)]}}function NP(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AP(t,i);let s=function(u){if(u.length!==0)return kP(Oe.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:ja(m.field),direction:I3(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=qE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function OP(t){let e=RP(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){X(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let m=PP(f);return m instanceof Oe&&dD(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(E){return new no(Ua(E.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Xm(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){let m=!!f.before,y=f.values||[];return new qi(y,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let m=!f.before,y=f.values||[];return new qi(y,m)}(n.endAt)),lP(e,i,o,s,a,"F",c,u)}function w3(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ua(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ua(n.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ua(n.unaryFilter.field);return Ie.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ua(n.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(Ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oe.create(n.compositeFilter.filters.map(r=>PP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function I3(t){return f3[t]}function E3(t){return p3[t]}function b3(t){return m3[t]}function ja(t){return{fieldPath:t.canonicalString()}}function Ua(t){return ct.fromServerFormat(t.fieldPath)}function kP(t){return t instanceof Ie?function(n){if(n.op==="=="){if(YN(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NAN"}};if(QN(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YN(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NAN"}};if(QN(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(n.field),op:E3(n.op),value:n.value}}}(t):t instanceof Oe?function(n){let r=n.getFilters().map(i=>kP(i));return r.length===1?r[0]:{compositeFilter:{op:b3(n.op),filters:r}}}(t):G()}function D3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var tc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var vm=class{constructor(e){this.ct=e}};function C3(t,e){let n;if(e.document)n=y3(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=q.fromSegments(e.noDocument.path),i=co(e.noDocument.readTime);n=_t.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return G();{let r=q.fromSegments(e.unknownDocument.path),i=co(e.unknownDocument.version);n=_t.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new nt(i[0],i[1]);return ne.fromTimestamp(s)}(e.readTime)),n}function pO(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:_m(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:gm(s,o.key),fields:o.data.value.mapValue.fields,updateTime:ec(s,o.version.toTimestamp()),createTime:ec(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ao(e.version)};else{if(!e.isUnknownDocument())return G();r.unknownDocument={path:n.path.toArray(),version:ao(e.version)}}return r}function _m(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ao(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function co(t){let e=new nt(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function Ws(t,e){let n=(e.baseMutations||[]).map(s=>KE(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>KE(t.ct,s)),i=nt.fromMillis(e.localWriteTimeMs);return new xu(e.batchId,i,n,r)}function mu(t){let e=co(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?co(t.lastLimboFreeSnapshotVersion):ne.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return X(s.documents.length===1),on(Qu(RP(s.documents[0])))}(t.query):function(s){return on(OP(s))}(t.query),new tc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,wt.fromBase64String(t.resumeToken))}function LP(t,e){let n=ao(e.snapshotVersion),r=ao(e.lastLimboFreeSnapshotVersion),i;i=lm(e.target)?MP(t.ct,e.target):NP(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ro(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function VP(t){let e=OP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dm(e,e.limit,"L"):e}function oE(t,e){return new Mu(e.largestBatchId,KE(t.ct,e.overlayMutation))}function mO(t,e){let n=e.path.lastSegment();return[t,Ht(e.path.popLast()),n]}function gO(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ao(r.readTime),documentKey:Ht(r.documentKey.path),largestBatchId:r.largestBatchId}}var QE=class{getBundleMetadata(e,n){return yO(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:co(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return yO(e).put(function(i){return{bundleId:i.id,createTime:ao(zt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return vO(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:VP(s.bundledQuery),readTime:co(s.readTime)}}(r)})}saveNamedQuery(e,n){return vO(e).put(function(i){return{name:i.name,readTime:ao(zt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function yO(t){return mt(t,"bundles")}function vO(t){return mt(t,"namedQueries")}var wm=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return uu(e).get(mO(this.userId,n)).next(r=>r?oE(this.serializer,r):null)}getOverlays(e,n){let r=mr();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new Mu(n,o);i.push(this.ht(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(Ht(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(uu(e).j("collectionPathOverlayIndex",a))}),x.waitFor(s)}getOverlaysForCollection(e,n,r){let i=mr(),s=Ht(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return uu(e).U("collectionPathOverlayIndex",o).next(a=>{for(let c of a){let u=oE(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=mr(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return uu(e).J({index:"collectionGroupOverlayIndex",range:a},(c,u,d)=>{let f=oE(this.serializer,u);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return uu(e).put(function(i,s,o){let[a,c,u]=mO(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ym(i.ct,o.mutation)}}(this.serializer,this.userId,n))}};function uu(t){return mt(t,"documentOverlays")}var Gr=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Qe(e.integerValue));else if("doubleValue"in e){let r=Qe(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Du(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Wr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Hi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?nP(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):G()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Gr.bt=new Gr;function T3(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function _O(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=T3(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var YE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{let i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{let i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){let n=this.Bt(e),r=_O(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){let n=this.Bt(e),r=_O(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},ZE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},XE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},Ks=class{constructor(){this.Gt=new YE,this.zt=new ZE(this.Gt),this.jt=new XE(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Qs=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Vi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=wO(t.arrayValue,e.arrayValue),n!==0?n:(n=wO(t.directionalValue,e.directionalValue),n!==0?n:q.comparator(t.documentKey,e.documentKey)))}function wO(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var Im=class{constructor(e){this.Yt=new Ve((n,r)=>ct.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(X(e.collectionGroup===this.collectionId),this.en)return!1;let n=_E(e);if(n!==void 0&&!this.nn(n))return!1;let r=qs(e),i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[s];if(!this.rn(a,c)||!this.sn(this.Zt[o++],c))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new Ve(ct.comparator),n=[];for(let r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Ha(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Ha(r.field,0))}for(let r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Ha(r.field,r.dir==="asc"?0:1)));return new Wa(Wa.UNKNOWN_ID,this.collectionId,n,bu.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function jP(t){var e,n;if(X(t instanceof Ie||t instanceof Oe),t instanceof Ie){if(t instanceof cm){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ie.create(t.field,"==",s)))||[];return Oe.create(i,"or")}return t}let r=t.filters.map(i=>jP(i));return Oe.create(r,t.op)}function S3(t){if(t.getFilters().length===0)return[];let e=tb(jP(t));return X(UP(e)),JE(e)||eb(e)?[e]:e.getFilters()}function JE(t){return t instanceof Ie}function eb(t){return t instanceof Oe&&dD(t)}function UP(t){return JE(t)||eb(t)||function(n){if(n instanceof Oe&&SE(n)){for(let r of n.getFilters())if(!JE(r)&&!eb(r))return!1;return!0}return!1}(t)}function tb(t){if(X(t instanceof Ie||t instanceof Oe),t instanceof Ie)return t;if(t.filters.length===1)return tb(t.filters[0]);let e=t.filters.map(r=>tb(r)),n=Oe.create(e,t.op);return n=Em(n),UP(n)?n:(X(n instanceof Oe),X(Za(n)),X(n.filters.length>1),n.filters.reduce((r,i)=>pD(r,i)))}function pD(t,e){let n;return X(t instanceof Ie||t instanceof Oe),X(e instanceof Ie||e instanceof Oe),n=t instanceof Ie?e instanceof Ie?function(i,s){return Oe.create([i,s],"and")}(t,e):IO(t,e):e instanceof Ie?IO(e,t):function(i,s){if(X(i.filters.length>0&&s.filters.length>0),Za(i)&&Za(s))return oP(i,s.getFilters());let o=SE(i)?i:s,a=SE(i)?s:i,c=o.filters.map(u=>pD(u,a));return Oe.create(c,"or")}(t,e),Em(n)}function IO(t,e){if(Za(e))return oP(e,t.getFilters());{let n=e.filters.map(r=>pD(t,r));return Oe.create(n,"or")}}function Em(t){if(X(t instanceof Ie||t instanceof Oe),t instanceof Ie)return t;let e=t.getFilters();if(e.length===1)return Em(e[0]);if(iP(t))return t;let n=e.map(i=>Em(i)),r=[];return n.forEach(i=>{i instanceof Ie?r.push(i):i instanceof Oe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Oe.create(r,t.op)}var nb=class{constructor(){this._n=new Pu}addToCollectionParentIndex(e,n){return this._n.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(bn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(bn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Pu=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ve(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ve(ke.comparator)).toArray()}};var Gp=new Uint8Array(0),rb=class{constructor(e,n){this.databaseId=n,this.an=new Pu,this.un=new vr(r=>ro(r),(r,i)=>Ku(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let s={collectionId:r,parent:Ht(i)};return EO(e).put(s)}return x.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[zO(n),""],!1,!0);return EO(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(pr(o.parent))}return r})}addFieldIndex(e,n){let r=du(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=ka(e);return s.next(a=>{o.put(gO(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=du(e),i=ka(e),s=Pa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=du(e),r=Pa(e),i=ka(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return x.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new Im(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=Pa(e),i=!0,s=new Map;return x.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=_e(),a=[];return x.forEach(s,(c,u)=>{F("IndexedDbIndexManager",`Using index ${function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(ee=>`${ee.fieldPath}:${ee.kind}`).join(",")}`}(c)} to execute ${ro(n)}`);let d=function(z,ee){let fe=_E(ee);if(fe===void 0)return null;for(let Y of um(z,fe.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null}(u,c),f=function(z,ee){let fe=new Map;for(let Y of qs(ee))for(let b of um(z,Y.fieldPath))switch(b.op){case"==":case"in":fe.set(Y.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return fe.set(Y.fieldPath.canonicalString(),b.value),Array.from(fe.values())}return null}(u,c),m=function(z,ee){let fe=[],Y=!0;for(let b of qs(ee)){let v=b.kind===0?tO(z,b.fieldPath,z.startAt):nO(z,b.fieldPath,z.startAt);fe.push(v.value),Y&&(Y=v.inclusive)}return new qi(fe,Y)}(u,c),y=function(z,ee){let fe=[],Y=!0;for(let b of qs(ee)){let v=b.kind===0?nO(z,b.fieldPath,z.endAt):tO(z,b.fieldPath,z.endAt);fe.push(v.value),Y&&(Y=v.inclusive)}return new qi(fe,Y)}(u,c),E=this.hn(c,u,m),S=this.hn(c,u,y),M=this.Pn(c,u,f),V=this.In(c.indexId,d,E,m.inclusive,S,y.inclusive,M);return x.forEach(V,B=>r.G(B,n.limit).next(z=>{z.forEach(ee=>{let fe=q.fromSegments(ee.documentKey);o.has(fe)||(o=o.add(fe),a.push(fe))})}))}).next(()=>a)}return x.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=S3(Oe.create(e.filters,"and")).map(r=>FE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){let c=(n!=null?n.length:1)*Math.max(r.length,s.length),u=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){let m=n?this.Tn(n[f/u]):Gp,y=this.En(e,m,r[f%u],i),E=this.dn(e,m,s[f%u],o),S=a.map(M=>this.En(e,m,M,!0));d.push(...this.createRange(y,E,S))}return d}En(e,n,r,i){let s=new Qs(e,q.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){let s=new Qs(e,q.empty(),n,r);return i?s.Jt():s}ln(e,n){let r=new Im(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.cn(n);return x.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let u=new Ve(ct.comparator),d=!1;for(let f of c.filters)for(let m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(let f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){let r=new Ks;for(let i of qs(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.Ht(i.kind);Gr.bt.Pt(s,o)}return r.Wt()}Tn(e){let n=new Ks;return Gr.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let r=new Ks;return Gr.bt.Pt(Au(this.databaseId,n),r.Ht(function(s){let o=qs(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Ks);let s=0;for(let o of qs(e)){let a=r[s++];for(let c of i)if(this.Vn(n,o.fieldPath)&&Ru(a))i=this.mn(i,o,a);else{let u=c.Ht(o.kind);Gr.bt.Pt(a,u)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let c=new Ks;c.seed(a.Wt()),Gr.bt.Pt(o,c.Ht(n.kind)),s.push(c)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=du(e),i=ka(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{let o=[];return x.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(d,f){let m=f?new bu(f.sequenceNumber,new bn(co(f.readTime),new q(pr(f.documentKey)),f.largestBatchId)):bu.empty(),y=d.fields.map(([E,S])=>new Ha(ct.fromServerFormat(E),S));return new Wa(d.indexId,d.collectionGroup,y,m)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:he(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=du(e),s=ka(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>x.forEach(a,c=>s.put(gO(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){let r=new Map;return x.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?x.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,c=>this.pn(e,i,c).next(u=>{let d=this.yn(s,c);return u.isEqual(d)?x.resolve():this.wn(e,s,c,u,d)}))))})}Sn(e,n,r,i){return Pa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Pa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){let i=Pa(e),s=new Ve(Vi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Qs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new Ve(Vi),i=this.An(n,e);if(i==null)return r;let s=_E(n);if(s!=null){let o=e.data.field(s.fieldPath);if(Ru(o))for(let a of o.arrayValue.values||[])r=r.add(new Qs(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Qs(n.indexId,e.key,Gp,i));return r}wn(e,n,r,i,s){F("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(c,u,d,f,m){let y=c.getIterator(),E=u.getIterator(),S=Oa(y),M=Oa(E);for(;S||M;){let V=!1,B=!1;if(S&&M){let z=d(S,M);z<0?B=!0:z>0&&(V=!0)}else S!=null?B=!0:V=!0;V?(f(M),M=Oa(E)):B?(m(S),S=Oa(y)):(S=Oa(y),M=Oa(E))}}(i,s,Vi,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),x.waitFor(o)}gn(e){let n=1;return ka(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Vi(o,a)).filter((o,a,c)=>!a||Vi(o,c[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Vi(o,e),c=Vi(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&c<0)i.push(o),i.push(o.Jt());else if(c>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Gp,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Gp,[]];s.push(IDBKeyRange.bound(a,c))}return s}Dn(e,n){return Vi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(bO)}getMinOffset(e,n){return x.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||G())).next(bO)}};function EO(t){return mt(t,"collectionParents")}function Pa(t){return mt(t,"indexEntries")}function du(t){return mt(t,"indexConfiguration")}function ka(t){return mt(t,"indexState")}function bO(t){X(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;aD(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new bn(e.readTime,e.documentKey,n)}var DO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},In=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function BP(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.J({range:o},(d,f,m)=>(a++,m.delete()));s.push(c.next(()=>{X(a===1)}));let u=[];for(let d of n.mutations){let f=YO(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return x.waitFor(s).next(()=>u)}function bm(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw G();e=t.noDocument}return JSON.stringify(e).length}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);var Dm=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){X(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ji(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=Ba(e),o=ji(e);return o.add({}).next(a=>{X(typeof a=="number");let c=new xu(a,n,r,i),u=function(y,E,S){let M=S.baseMutations.map(B=>ym(y.ct,B)),V=S.mutations.map(B=>ym(y.ct,B));return{userId:E,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:M,mutations:V}}(this.serializer,this.userId,c),d=[],f=new Ve((m,y)=>he(m.canonicalString(),y.canonicalString()));for(let m of i){let y=YO(this.userId,m.key.path,a);f=f.add(m.key.path.popLast()),d.push(o.put(u)),d.push(s.put(y,M9))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),x.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return ji(e).get(n).next(r=>r?(X(r.userId===this.userId),Ws(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?x.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return ji(e).J({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(X(a.batchId>=r),s=Ws(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return ji(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ji(e).U("userMutationsIndex",n).next(r=>r.map(i=>Ws(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=Yp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ba(e).J({range:i},(o,a,c)=>{let[u,d,f]=o,m=pr(d);if(u===this.userId&&n.path.isEqual(m))return ji(e).get(f).next(y=>{if(!y)throw G();X(y.userId===this.userId),s.push(Ws(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(he),i=[];return n.forEach(s=>{let o=Yp(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=Ba(e).J({range:a},(u,d,f)=>{let[m,y,E]=u,S=pr(y);m===this.userId&&s.path.isEqual(S)?r=r.add(E):f.done()});i.push(c)}),x.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=Yp(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Ve(he);return Ba(e).J({range:o},(c,u,d)=>{let[f,m,y]=c,E=pr(m);f===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(y)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(ji(e).get(s).next(o=>{if(o===null)throw G();X(o.userId===this.userId),r.push(Ws(this.serializer,o))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return BP(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return x.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ba(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let c=pr(s[1]);i.push(c)}else a.done()}).next(()=>{X(i.length===0)})})}containsKey(e,n){return $P(e,this.userId,n)}xn(e){return HP(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function $P(t,e,n){let r=Yp(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Ba(t).J({range:s,H:!0},(a,c,u)=>{let[d,f,m]=a;d===e&&f===i&&(o=!0),u.done()}).next(()=>o)}function ji(t){return mt(t,"mutations")}function Ba(t){return mt(t,"documentMutations")}function HP(t){return mt(t,"mutationQueues")}var nc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var ib=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new nc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ne.fromTimestamp(new nt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Fa(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(X(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0,s=[];return Fa(e).J((o,a)=>{let c=mu(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>x.waitFor(s)).next(()=>i)}forEachTarget(e,n){return Fa(e).J((r,i)=>{let s=mu(i);n(s)})}Bn(e){return CO(e).get("targetGlobalKey").next(n=>(X(n!==null),n))}kn(e,n){return CO(e).put("targetGlobalKey",n)}qn(e,n){return Fa(e).put(LP(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=ro(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Fa(e).J({range:i,index:"queryTargetsIndex"},(o,a,c)=>{let u=mu(a);Ku(n,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=Ui(e);return n.forEach(o=>{let a=Ht(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),x.waitFor(i)}removeMatchingKeys(e,n,r){let i=Ui(e);return x.forEach(n,s=>{let o=Ht(s.path);return x.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=Ui(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Ui(e),s=_e();return i.J({range:r,H:!0},(o,a,c)=>{let u=pr(o[1]),d=new q(u);s=s.add(d)}).next(()=>s)}containsKey(e,n){let r=Ht(n.path),i=IDBKeyRange.bound([r],[zO(r)],!1,!0),s=0;return Ui(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ot(e,n){return Fa(e).get(n).next(r=>r?mu(r):null)}};function Fa(t){return mt(t,"targets")}function CO(t){return mt(t,"targetGlobal")}function Ui(t){return mt(t,"targetDocuments")}function TO([t,e],[n,r]){let i=he(t,n);return i===0?he(e,r):i}var sb=class{constructor(e){this.Kn=e,this.buffer=new Ve(TO),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();TO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ob=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xi(n)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Zi(n)}yield this.zn(3e5)}))}},ab=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(nn.oe);let r=new sb(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(DO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DO):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),La()<=we.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function A3(t,e){return new ab(t,e)}var cb=class{constructor(e,n){this.db=e,this.garbageCollector=A3(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return Wp(e,r)}removeReference(e,n,r){return Wp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Wp(e,n)}er(e,n){return function(i,s){let o=!1;return HP(i).Y(a=>$P(i,a,s).next(c=>(c&&(o=!0),x.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.Xn(e,(o,a)=>{if(a<=n){let c=this.er(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ne.min()),Ui(e).delete(function(f){return[0,Ht(f.path)]}(o))))});i.push(c)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Wp(e,n)}Xn(e,n){let r=Ui(e),i,s=nn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:u})=>{o===0?(s!==nn.oe&&n(new q(pr(i)),s),s=u,i=c):s=nn.oe}).next(()=>{s!==nn.oe&&n(new q(pr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function Wp(t,e){return Ui(t).put(function(r,i){return{targetId:0,path:Ht(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var Cm=class{constructor(){this.changes=new vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var lb=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return zs(e).put(r)}removeEntry(e,n,r){return zs(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],_m(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=_t.newInvalidDocument(n);return zs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hu(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:_t.newInvalidDocument(n)};return zs(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(hu(n))},(i,s)=>{r={document:this.nr(n,s),size:bm(s)}}).next(()=>r)}getEntries(e,n){let r=sn();return this.ir(e,n,(i,s)=>{let o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=sn(),i=new He(q.comparator);return this.ir(e,n,(s,o)=>{let a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,bm(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return x.resolve();let i=new Ve(RO);n.forEach(c=>i=i.add(c));let s=IDBKeyRange.bound(hu(i.first()),hu(i.last())),o=i.getIterator(),a=o.getNext();return zs(e).J({index:"documentKeyIndex",range:s},(c,u,d)=>{let f=q.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&RO(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?d.$(hu(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),_m(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zs(e).U(IDBKeyRange.bound(a,c,!0)).next(u=>{s?.incrementDocumentReadCount(u.length);let d=sn();for(let f of u){let m=this.nr(q.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Yu(n,m)||i.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=sn(),o=AO(n,r),a=AO(n,bn.max());return zs(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,u,d)=>{let f=this.nr(q.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new ub(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return SO(e).get("remoteDocumentGlobalKey").next(n=>(X(!!n),n))}tr(e,n){return SO(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let r=C3(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return _t.newInvalidDocument(e)}};function zP(t){return new lb(t)}var ub=class extends Cm{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new vr(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new Ve((s,o)=>he(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){let c=pO(this.ar.serializer,o);i=i.add(s.path.popLast());let u=bm(c);r+=u-a.size,n.push(this.ar.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){let c=pO(this.ar.serializer,o.convertToNoDocument(ne.min()));n.push(this.ar.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),x.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function SO(t){return mt(t,"remoteDocumentGlobal")}function zs(t){return mt(t,"remoteDocumentsV14")}function hu(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function AO(t,e){let n=e.documentKey.path.toArray();return[t,_m(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function RO(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=he(n[s],r[s]),i)return i;return i=he(n.length,r.length),i||(i=he(n[n.length-2],r[r.length-2]),i||he(n[n.length-1],r[r.length-1]))}var db=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Tm=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_u(r.mutation,i,rn.empty(),nt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=mr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=pu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=mr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=sn(),o=vu(),a=function(){return vu()}();return n.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Bn)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),_u(d.mutation,u,d.mutation.getFieldMask(),nt.now())):o.set(u.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new db(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=vu(),i=new He((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let d=r.get(c)||rn.empty();d=a.applyToLocalView(u,d),r.set(c,d);let f=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,f=gP();d.forEach(m=>{if(!s.has(m)){let y=bP(n.get(m),r.get(m));y!==null&&f.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(mr()),a=-1,c=s;return o.next(u=>x.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?x.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,_e())).next(d=>({batchId:a,changes:mP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=pu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=pu();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,c=>{let u=function(f,m){return new Gi(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,_t.newInvalidDocument(d)))});let a=pu();return o.forEach((c,u)=>{let d=s.get(c);d!==void 0&&_u(d.mutation,u,rn.empty(),nt.now()),Yu(n,u)&&(a=a.insert(c,u))}),a})}};var hb=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return x.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zt(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:VP(i.bundledQuery),readTime:zt(i.readTime)}}(n)),x.resolve()}};var fb=class{constructor(){this.overlays=new He(q.comparator),this.hr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=mr();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=mr(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=mr(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=mr(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mu(n,r));let s=this.hr.get(n);s===void 0&&(s=_e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var ku=class{constructor(){this.Pr=new Ve(ot.Ir),this.Tr=new Ve(ot.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new ot(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new ot(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new q(new ke([])),r=new ot(n,e),i=new ot(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new q(new ke([])),r=new ot(n,e),i=new ot(n,e+1),s=_e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ot(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ot=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return q.comparator(e.key,n.key)||he(e.pr,n.pr)}static Er(e,n){return he(e.pr,n.pr)||q.comparator(e.key,n.key)}};var pb=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ve(ot.Ir)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new xu(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ve(he);return n.forEach(i=>{let s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),x.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new ot(new q(s),0),a=new Ve(he);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),x.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){X(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return x.forEach(n.mutations,i=>{let s=new ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new ot(n,0),i=this.wr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var mb=class{constructor(e){this.vr=e,this.docs=function(){return new He(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=sn();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():_t.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=sn(),o=n.path,a=new q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aD(GO(d),r)<=0||(i.has(d.key)||Yu(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Fr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gb(this)}getSize(e){return x.resolve(this.size)}},gb=class extends Cm{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var yb=class{constructor(e){this.persistence=e,this.Mr=new vr(n=>ro(n),Ku),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ku,this.targetCount=0,this.Lr=nc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),x.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.qn(n),x.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Nr.containsKey(n))}};var Sm=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new nn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new yb(this),this.indexManager=new nb,this.remoteDocumentCache=function(i){return new mb(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new vm(n),this.$r=new hb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new pb(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new vb(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},vb=class extends rm{constructor(e){super(),this.currentSequenceNumber=e}},Am=class t{constructor(e){this.persistence=e,this.zr=new ku,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw G()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),x.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Jr,r=>{let i=q.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return x.or([()=>x.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var _b=class{constructor(e){this.serializer=e}O(e,n,r,i){let s=new im("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GN,{unique:!0}),c.createObjectStore("documentMutations")}(e),xO(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=x.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),xO(e)),o=o.next(()=>function(c){let u=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,u){return u.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GN,{unique:!0});let f=u.store("mutations"),m=d.map(y=>f.put(y));return x.waitFor(m)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){let u=c.createObjectStore("documentOverlays",{keyPath:H9});u.createIndex("collectionPathOverlayIndex",z9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",q9,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){let u=c.createObjectStore("remoteDocumentsV14",{keyPath:N9});u.createIndex("documentKeyIndex",O9),u.createIndex("collectionGroupIndex",P9)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:j9}).createIndex("sequenceNumberIndex",U9,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:B9}).createIndex("documentKeyIndex",$9,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=bm(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>x.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>x.forEach(a,c=>{X(c.userId===s.userId);let u=Ws(this.serializer,c);return BP(e,s.userId,u).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let c=new ke(o),u=function(f){return[0,Ht(f)]}(c);s.push(n.get(u).next(d=>d?x.resolve():(f=>n.put({targetId:0,path:Ht(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>x.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:V9});let r=n.store("collectionParents"),i=new Pu,s=o=>{if(i.add(o)){let a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:Ht(c)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let c=new ke(o);return s(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,c],u)=>{let d=pr(a);return s(d.popLast())}))}ri(e){let n=e.store("targets");return n.J((r,i)=>{let s=mu(i),o=LP(this.serializer,s);return n.put(o)})}ii(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new q(ke.fromString(f.document.name).popFirst(5)):f.noDocument?q.fromSegments(f.noDocument.path):f.unknownDocument?q.fromSegments(f.unknownDocument.path):G()}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>x.waitFor(i))}si(e,n){let r=n.store("mutations"),i=zP(this.serializer),s=new Sm(Am.Hr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(c=>{var u;let d=(u=a.get(c.userId))!==null&&u!==void 0?u:_e();Ws(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),x.forEach(a,(c,u)=>{let d=new pt(u),f=wm.lt(this.serializer,d),m=s.getIndexManager(d),y=Dm.lt(d,this.serializer,m,s.referenceDelegate);return new Tm(i,y,f,m).recalculateAndSaveOverlaysForDocumentKeys(new Cu(n,nn.oe),c).next()})})}};function xO(t){t.createObjectStore("targetDocuments",{keyPath:F9}).createIndex("documentTargetsIndex",L9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",k9,{unique:!0}),t.createObjectStore("targetGlobal")}var aE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wb=class t{constructor(e,n,r,i,s,o,a,c,u,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=u,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=m=>Promise.resolve(),!t.D())throw new U(O.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cb(this,i),this.Ti=n+"main",this.serializer=new vm(c),this.Ei=new Ka(this.Ti,this.ui,new _b(this.serializer)),this.Qr=new ib(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zP(this.serializer),this.$r=new QE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&tt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new U(O.FAILED_PRECONDITION,aE);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new nn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>_(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>_(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>_(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Kp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(Xi(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return fu(e).get("owner").next(n=>x.resolve(this.Si(n)))}bi(e){return Kp(e).delete(this.clientId)}Di(){return _(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=mt(n,"clientMetadata");return r.U().next(i=>{let s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return x.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?x.resolve(!0):fu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new U(O.FAILED_PRECONDITION,aE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Kp(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&F("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return _(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new Cu(e,nn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Kp(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Dm.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new rb(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return wm.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){F("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===16?W9:c===15?eP:c===14?JO:c===13?XO:c===12?G9:c===11?ZO:void G()}(this.ui),o;return this.Ei.runTransaction(e,i,s,a=>(o=new Cu(a,this.kr?this.kr.next():nn.oe),n==="readwrite-primary"?this.gi(o).next(c=>!!c||this.pi(o)).next(c=>{if(!c)throw tt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new U(O.FAILED_PRECONDITION,WO);return r(o)}).next(c=>this.wi(o).next(()=>c)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return fu(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new U(O.FAILED_PRECONDITION,aE)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fu(e).put("owner",n)}static D(){return Ka.D()}yi(e){let n=fu(e);return n.get("owner").next(r=>this.Si(r)?(F("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):x.resolve())}Ci(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(tt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;Ww()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return tt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){tt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function fu(t){return mt(t,"owner")}function Kp(t){return mt(t,"clientMetadata")}function qP(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ib=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Eb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Ww()?8:KO(Ke())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Eb;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(La()<=we.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),x.resolve()):(La()<=we.DEBUG&&F("QueryEngine","Query:",Va(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(La()<=we.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,on(n))):x.resolve())}ji(e,n){if(rO(n))return x.resolve(null);let r=on(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dm(n,null,"F"),r=on(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=_e(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,dm(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return rO(n)||i.isEqual(ne.min())?x.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?x.resolve(null):(La()<=we.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Va(n)),this.es(e,o,n,qO(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ve(fP(e));return n.forEach((i,s)=>{Yu(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return La()<=we.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Va(n)),this.zi.getDocumentsMatchingQuery(e,n,bn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var bb=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new He(he),this.rs=new vr(s=>ro(s),Ku),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function GP(t,e,n,r){return new bb(t,e,n,r)}function WP(t,e){return _(this,null,function*(){let n=W(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=_e();for(let u of i){o.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function R3(t,e){let n=W(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){let f=u.batch,m=f.keys(),y=x.resolve();return m.forEach(E=>{y=y.next(()=>d.getEntry(c,E)).next(S=>{let M=u.docVersions.get(E);X(M!==null),S.version.compareTo(M)<0&&(f.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),d.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KP(t){let e=W(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function x3(t,e){let n=W(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((d,f)=>{let m=i.get(f);if(!m)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(wt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(S,M,V){return S.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(m,y,d)&&a.push(n.Qr.updateTargetData(s,y))});let c=sn(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(M3(s,o,e.documentUpdates).next(d=>{c=d.cs,u=d.ls})),!r.isEqual(ne.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function M3(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=sn();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function N3(t,e){let n=W(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xm(t,e){let n=W(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new tc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function rc(t,e,n){return _(this,null,function*(){let r=W(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Xi(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function Db(t,e,n){let r=W(t),i=ne.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){let f=W(c),m=f.rs.get(d);return m!==void 0?x.resolve(f.ns.get(m)):f.Qr.getTargetData(u,d)}(r,o,on(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:_e())).next(a=>(ZP(r,hP(e),a),{documents:a,hs:s})))}function QP(t,e){let n=W(t),r=W(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function YP(t,e){let n=W(t),r=n.ss.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,qO(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(ZP(n,e,i),i))}function ZP(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}function MO(t,e){return`firestore_clients_${t}_${e}`}function NO(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function cE(t,e){return`firestore_targets_${t}_${e}`}var Mm=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new U(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(tt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},wu=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new U(r.error.code,r.error.message))),s?new t(e,r.state,i):(tt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Nm=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=hD();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=QO(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(tt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},Cb=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(tt("SharedClientState",`Failed to parse online state: ${e}`),null)}},Fu=class{constructor(){this.activeTargetIds=hD()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Iu=class{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new He(he),this.started=!1,this.ys=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=MO(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Fu),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return _(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Vs)continue;let i=this.getItem(MO(this.persistenceKey,r));if(i){let s=Nm.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let r=this.xs(n);r&&this.Os(r)}for(let r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(cE(this.persistenceKey,e));if(r){let i=wu.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(cE(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return F("SharedClientState","READ",e,n),n}setItem(e,n){F("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(F("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void tt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>_(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let r=this.$s(n.key);return this.Us(r,null)}{let r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){let r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){let r=function(s){let o=nn.oe;if(s!=null)try{let a=JSON.parse(s);X(typeof a=="number"),o=a}catch(a){tt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==nn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){let r=this.Js(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){let i=new Mm(this.currentUser,e,n,r),s=NO(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){let n=NO(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){let i=cE(this.persistenceKey,e),s=new wu(e,n,r);this.setItem(i,s.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let r=this.$s(e);return Nm.Es(r,n)}Gs(e,n){let r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Mm.Es(new pt(s),i,n)}js(e,n){let r=this.Cs.exec(e),i=Number(r[1]);return wu.Es(i,n)}xs(e){return Cb.Es(e)}Js(e){return JSON.parse(e)}zs(e){return _(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=hD();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Om=class{constructor(){this.no=new Fu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Fu,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Tb=class{io(e){}shutdown(){}};var Pm=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Qp=null;function lE(){return Qp===null?Qp=function(){return 268435456+Math.round(2147483648*Math.random())}():Qp++,"0x"+Qp.toString(16)}var O3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Sb=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Mt="WebChannelConnection",Ab=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let a=lE(),c=this.vo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(n,c,u,i).then(d=>(F("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Eu("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ac}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=O3[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=lE();return new Promise((o,a)=>{let c=new eE;c.setWithCredentials(!0),c.listenOnce(nE.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case lu.NO_ERROR:let d=c.getResponseJson();F(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case lu.TIMEOUT:F(Mt,`RPC '${e}' ${s} timed out`),a(new U(O.DEADLINE_EXCEEDED,"Request time out"));break;case lu.HTTP_ERROR:let f=c.getStatus();if(F(Mt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let E=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(V)>=0?V:O.UNKNOWN}(y.status);a(new U(E,y.message))}else a(new U(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new U(O.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{F(Mt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);F(Mt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Oo(e,n,r){let i=lE(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sE(),a=iE(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new tE({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=s.join("");F(Mt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=o.createWebChannel(d,c),m=!1,y=!1,E=new Sb({lo:M=>{y?F(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(F(Mt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),F(Mt,`RPC '${e}' stream ${i} sending:`,M),f.send(M))},ho:()=>f.close()}),S=(M,V,B)=>{M.listen(V,z=>{try{B(z)}catch(ee){setTimeout(()=>{throw ee},0)}})};return S(f,Na.EventType.OPEN,()=>{y||(F(Mt,`RPC '${e}' stream ${i} transport opened.`),E.mo())}),S(f,Na.EventType.CLOSE,()=>{y||(y=!0,F(Mt,`RPC '${e}' stream ${i} transport closed`),E.po())}),S(f,Na.EventType.ERROR,M=>{y||(y=!0,Eu(Mt,`RPC '${e}' stream ${i} transport errored:`,M),E.po(new U(O.UNAVAILABLE,"The operation could not be completed")))}),S(f,Na.EventType.MESSAGE,M=>{var V;if(!y){let B=M.data[0];X(!!B);let z=B,ee=z.error||((V=z[0])===null||V===void 0?void 0:V.error);if(ee){F(Mt,`RPC '${e}' stream ${i} received error:`,ee);let fe=ee.status,Y=function(w){let D=st[w];if(D!==void 0)return CP(D)}(fe),b=ee.message;Y===void 0&&(Y=O.INTERNAL,b="Unknown error status: "+fe+" with message "+ee.message),y=!0,E.po(new U(Y,b)),f.close()}else F(Mt,`RPC '${e}' stream ${i} received:`,B),E.yo(B)}}),S(a,rE.STAT_EVENT,M=>{M.stat===qp.PROXY?F(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===qp.NOPROXY&&F(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}};function XP(){return typeof window<"u"?window:null}function em(){return typeof document<"u"?document:null}function eg(t){return new zE(t,!0)}var km=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Fm=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new km(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return _(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return _(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return _(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(tt(n.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new U(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>_(this,null,function*(){this.state=0,this.start()}))}c_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Rb=class extends Fm{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=v3(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?zt(o.readTime):ne.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=WE(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=lm(c)?{documents:MP(s,c)}:{query:NP(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=TP(s,o.resumeToken);let u=qE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=ec(s,o.snapshotVersion.toTimestamp());let u=qE(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=w3(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=WE(this.serializer),n.removeTarget=e,this.i_(n)}},xb=class extends Fm{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=_3(e.writeResults,e.commitTime),r=zt(e.commitTime);return this.listener.A_(r,n)}return X(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=WE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>ym(this.serializer,r))};this.i_(n)}};var Mb=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,GE(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(O.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,GE(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(O.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Nb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(tt(n),this.y_=!1):F("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Ob=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>_(this,null,function*(){ho(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(c){return _(this,null,function*(){let u=W(c);u.M_.add(4),yield Zu(u),u.N_.set("Unknown"),u.M_.delete(4),yield tg(u)})}(this))}))}),this.N_=new Nb(r,i)}};function tg(t){return _(this,null,function*(){if(ho(t))for(let e of t.x_)yield e(!0)})}function Zu(t){return _(this,null,function*(){for(let e of t.x_)yield e(!1)})}function ng(t,e){let n=W(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),yD(n)?gD(n):lc(n).Xo()&&mD(n,e))}function ic(t,e){let n=W(t),r=lc(n);n.F_.delete(e),r.Xo()&&JP(n,e),n.F_.size===0&&(r.Xo()?r.n_():ho(n)&&n.N_.set("Unknown"))}function mD(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).P_(e)}function JP(t,e){t.L_.xe(e),lc(t).I_(e)}function gD(t){t.L_=new HE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.N_.w_()}function yD(t){return ho(t)&&!lc(t).Zo()&&t.F_.size>0}function ho(t){return W(t).M_.size===0}function ek(t){t.L_=void 0}function P3(t){return _(this,null,function*(){t.N_.set("Online")})}function k3(t){return _(this,null,function*(){t.F_.forEach((e,n)=>{mD(t,e)})})}function F3(t,e){return _(this,null,function*(){ek(t),yD(t)?(t.N_.D_(e),gD(t)):t.N_.set("Unknown")})}function L3(t,e,n){return _(this,null,function*(){if(t.N_.set("Online"),e instanceof pm&&e.state===2&&e.cause)try{yield function(i,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Lm(t,r)}else if(e instanceof za?t.L_.Ke(e):e instanceof fm?t.L_.He(e):t.L_.We(e),!n.isEqual(ne.min()))try{let r=yield KP(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(u);d&&s.F_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(wt.EMPTY_BYTE_STRING,d.snapshotVersion)),JP(s,c);let f=new tc(d.target,c,u,d.sequenceNumber);mD(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Lm(t,r)}})}function Lm(t,e,n){return _(this,null,function*(){if(!Xi(e))throw e;t.M_.add(1),yield Zu(t),t.N_.set("Offline"),n||(n=()=>KP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield tg(t)}))})}function tk(t,e){return e().catch(n=>Lm(t,n,e))}function cc(t){return _(this,null,function*(){let e=W(t),n=Yi(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;V3(e);)try{let i=yield N3(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,j3(e,i)}catch(i){yield Lm(e,i)}nk(e)&&rk(e)})}function V3(t){return ho(t)&&t.v_.length<10}function j3(t,e){t.v_.push(e);let n=Yi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function nk(t){return ho(t)&&!Yi(t).Zo()&&t.v_.length>0}function rk(t){Yi(t).start()}function U3(t){return _(this,null,function*(){Yi(t).V_()})}function B3(t){return _(this,null,function*(){let e=Yi(t);for(let n of t.v_)e.d_(n.mutations)})}function $3(t,e,n){return _(this,null,function*(){let r=t.v_.shift(),i=UE.from(r,e,n);yield tk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield cc(t)})}function H3(t,e){return _(this,null,function*(){e&&Yi(t).E_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return u3(o)&&o!==O.ABORTED}(i.code)){let s=r.v_.shift();Yi(r).t_(),yield tk(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield cc(r)}})}(t,e)),nk(t)&&rk(t)})}function OO(t,e){return _(this,null,function*(){let n=W(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=ho(n);n.M_.add(3),yield Zu(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield tg(n)})}function Pb(t,e){return _(this,null,function*(){let n=W(t);e?(n.M_.delete(2),yield tg(n)):e||(n.M_.add(2),yield Zu(n),n.N_.set("Unknown"))})}function lc(t){return t.B_||(t.B_=function(n,r,i){let s=W(n);return s.f_(),new Rb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:P3.bind(null,t),To:k3.bind(null,t),Ao:F3.bind(null,t),h_:L3.bind(null,t)}),t.x_.push(e=>_(this,null,function*(){e?(t.B_.t_(),yD(t)?gD(t):t.N_.set("Unknown")):(yield t.B_.stop(),ek(t))}))),t.B_}function Yi(t){return t.k_||(t.k_=function(n,r,i){let s=W(n);return s.f_(),new xb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:U3.bind(null,t),Ao:H3.bind(null,t),R_:B3.bind(null,t),A_:$3.bind(null,t)}),t.x_.push(e=>_(this,null,function*(){e?(t.k_.t_(),yield cc(t)):(yield t.k_.stop(),t.v_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var kb=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vD(t,e){if(tt("AsyncQueue",`${e}: ${t}`),Xi(t))return new U(O.UNAVAILABLE,`${e}: ${t}`);throw t}var Vm=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=pu(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var jm=class{constructor(){this.q_=new He(q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):G():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},sc=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Vm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Fb=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},Lb=class{constructor(){this.queries=new vr(e=>dP(e),Jm),this.onlineState="Unknown",this.z_=new Set}};function _D(t,e){return _(this,null,function*(){let n=W(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new Fb,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=vD(o,`Initialization of query '${Va(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&ID(n)})}function wD(t,e){return _(this,null,function*(){let n=W(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function z3(t,e){let n=W(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&ID(n)}function q3(t,e,n){let r=W(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function ID(t){t.z_.forEach(e=>{e.next()})}var Vb,PO;(PO=Vb||(Vb={})).J_="default",PO.Cache="cache";var Lu=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new sc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Vb.Cache}};var Um=class{constructor(e){this.key=e}},Bm=class{constructor(e){this.key=e}},jb=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=fP(e),this.Ta=new Vm(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new jm,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let m=i.get(d),y=Yu(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;m&&y?m.data.isEqual(y.data)?E!==S&&(r.track({type:3,doc:y}),M=!0):this.Ra(m,y)||(r.track({type:2,doc:y}),M=!0,(c&&this.Ia(y,c)>0||u&&this.Ia(y,u)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),M=!0):m&&!y&&(r.track({type:1,doc:m}),M=!0,(c||u)&&(a=!0)),M&&(y?(o=o.add(y),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,f)=>function(y,E){let S=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return S(y)-S(E)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,o.length!==0||u?{snapshot:new sc(this.query,e.Ta,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new jm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Bm(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Um(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return sc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Ub=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Bb=class{constructor(e){this.key=e,this.wa=!1}},$b=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new vr(a=>dP(a),Jm),this.Da=new Map,this.Ca=new Set,this.va=new He(q.comparator),this.Fa=new Map,this.Ma=new ku,this.xa={},this.Oa=new Map,this.Na=nc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function G3(t,e,n=!0){return _(this,null,function*(){let r=rg(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield ik(r,e,n,!0),i})}function W3(t,e){return _(this,null,function*(){let n=rg(t);yield ik(n,e,!0,!1)})}function ik(t,e,n,r){return _(this,null,function*(){let i=yield xm(t.localStore,on(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield ED(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&ng(t.remoteStore,i),a})}function ED(t,e,n,r,i){return _(this,null,function*(){t.Ba=(f,m,y)=>function(S,M,V,B){return _(this,null,function*(){let z=M.view.da(V);z.Xi&&(z=yield Db(S.localStore,M.query,!1).then(({documents:b})=>M.view.da(b,z)));let ee=B&&B.targetChanges.get(M.targetId),fe=B&&B.targetMismatches.get(M.targetId)!=null,Y=M.view.applyChanges(z,S.isPrimaryClient,ee,fe);return Hb(S,M.targetId,Y.fa),Y.snapshot})}(t,f,m,y);let s=yield Db(t.localStore,e,!0),o=new jb(e,s.hs),a=o.da(s.documents),c=Ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Hb(t,n,u.fa);let d=new Ub(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),u.snapshot})}function K3(t,e,n){return _(this,null,function*(){let r=W(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Jm(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ic(r.remoteStore,i.targetId),oc(r,i.targetId)}).catch(Zi))):(oc(r,i.targetId),yield rc(r.localStore,i.targetId,!0))})}function Q3(t,e){return _(this,null,function*(){let n=W(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ic(n.remoteStore,r.targetId))})}function Y3(t,e,n){return _(this,null,function*(){let r=TD(t);try{let i=yield function(o,a){let c=W(o),u=nt.now(),d=a.reduce((y,E)=>y.add(E.key),_e()),f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=sn(),S=_e();return c.os.getEntries(y,d).next(M=>{E=M,E.forEach((V,B)=>{B.isValidDocument()||(S=S.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,E)).next(M=>{f=M;let V=[];for(let B of a){let z=l3(B,f.get(B.key).overlayedDocument);z!=null&&V.push(new Bn(B.key,z,rP(z.value.mapValue),vt.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,V,a)}).next(M=>{m=M;let V=M.applyToLocalDocumentSet(f,S);return c.documentOverlayCache.saveOverlays(y,M.batchId,V)})}).then(()=>({batchId:m.batchId,changes:mP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new He(he)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Ji(r,i.changes),yield cc(r.remoteStore)}catch(i){let s=vD(i,"Failed to persist write");n.reject(s)}})}function sk(t,e){return _(this,null,function*(){let n=W(t);try{let r=yield x3(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(X(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?X(o.wa):i.removedDocuments.size>0&&(X(o.wa),o.wa=!1))}),yield Ji(n,r,e)}catch(r){yield Zi(r)}})}function kO(t,e,n){let r=W(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=W(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(let m of f.U_)m.j_(a)&&(u=!0)}),u&&ID(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Z3(t,e,n){return _(this,null,function*(){let r=W(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new He(q.comparator);o=o.insert(s,_t.newNoDocument(s,ne.min()));let a=_e().add(s),c=new Nu(ne.min(),new Map,new He(he),o,a);yield sk(r,c),r.va=r.va.remove(s),r.Fa.delete(e),CD(r)}else yield rc(r.localStore,e,!1).then(()=>oc(r,e,n)).catch(Zi)})}function X3(t,e){return _(this,null,function*(){let n=W(t),r=e.batch.batchId;try{let i=yield R3(n.localStore,e);DD(n,r,null),bD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ji(n,i)}catch(i){yield Zi(i)}})}function J3(t,e,n){return _(this,null,function*(){let r=W(t);try{let i=yield function(o,a){let c=W(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(X(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);DD(r,e,n),bD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ji(r,i)}catch(i){yield Zi(i)}})}function bD(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function DD(t,e,n){let r=W(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function oc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||ok(t,r)})}function ok(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(ic(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),CD(t))}function Hb(t,e,n){for(let r of n)r instanceof Um?(t.Ma.addReference(r.key,e),e8(t,r)):r instanceof Bm?(F("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||ok(t,r.key)):G()}function e8(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(F("SyncEngine","New document in limbo: "+n),t.Ca.add(r),CD(t))}function CD(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new q(ke.fromString(e)),r=t.Na.next();t.Fa.set(r,new Bb(n)),t.va=t.va.insert(n,r),ng(t.remoteStore,new tc(on(Qu(n.path)),r,"TargetPurposeLimboResolution",nn.oe))}}function Ji(t,e,n){return _(this,null,function*(){let r=W(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient){let d=u&&!u.fromCache;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);let d=Ib.Ki(c.targetId,u);s.push(d)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(c,u){return _(this,null,function*(){let d=W(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>x.forEach(u,m=>x.forEach(m.qi,y=>d.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>x.forEach(m.Qi,y=>d.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!Xi(f))throw f;F("LocalStore","Failed to update sequence numbers: "+f)}for(let f of u){let m=f.targetId;if(!f.fromCache){let y=d.ns.get(m),E=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(E);d.ns=d.ns.insert(m,S)}}})}(r.localStore,s))})}function t8(t,e){return _(this,null,function*(){let n=W(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield WP(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new U(O.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ji(n,r.us)}})}function n8(t,e){let n=W(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e(),s=n.Da.get(e);if(!s)return i;for(let o of s){let a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function r8(t,e){return _(this,null,function*(){let n=W(t),r=yield Db(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&Hb(n,e.targetId,i.fa),i})}function i8(t,e){return _(this,null,function*(){let n=W(t);return YP(n.localStore,e).then(r=>Ji(n,r))})}function s8(t,e,n,r){return _(this,null,function*(){let i=W(t),s=yield function(a,c){let u=W(a),d=W(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,c).next(m=>m?u.localDocuments.getDocuments(f,m):x.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield cc(i.remoteStore):n==="acknowledged"||n==="rejected"?(DD(i,e,r||null),bD(i,e),function(a,c){W(W(a).mutationQueue).Mn(c)}(i.localStore,e)):G(),yield Ji(i,s)):F("SyncEngine","Cannot apply mutation batch with id: "+e)})}function o8(t,e){return _(this,null,function*(){let n=W(t);if(rg(n),TD(n),e===!0&&n.La!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield FO(n,r.toArray());n.La=!0,yield Pb(n.remoteStore,!0);for(let s of i)ng(n.remoteStore,s)}else if(e===!1&&n.La!==!1){let r=[],i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(oc(n,o),rc(n.localStore,o,!0))),ic(n.remoteStore,o)}),yield i,yield FO(n,r),function(o){let a=W(o);a.Fa.forEach((c,u)=>{ic(a.remoteStore,u)}),a.Ma.mr(),a.Fa=new Map,a.va=new He(q.comparator)}(n),n.La=!1,yield Pb(n.remoteStore,!1)}})}function FO(t,e,n){return _(this,null,function*(){let r=W(t),i=[],s=[];for(let o of e){let a,c=r.Da.get(o);if(c&&c.length!==0){a=yield xm(r.localStore,on(c[0]));for(let u of c){let d=r.ba.get(u),f=yield r8(r,d);f.snapshot&&s.push(f.snapshot)}}else{let u=yield QP(r.localStore,o);a=yield xm(r.localStore,u),yield ED(r,ak(u),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i})}function ak(t){return lP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function a8(t){return function(n){return W(W(n).persistence).Bi()}(W(t).localStore)}function c8(t,e,n,r){return _(this,null,function*(){let i=W(t);if(i.La)return void F("SyncEngine","Ignoring unexpected query state notification.");let s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield YP(i.localStore,hP(s[0])),a=Nu.createSynthesizedRemoteEventForCurrentChange(e,n==="current",wt.EMPTY_BYTE_STRING);yield Ji(i,o,a);break}case"rejected":yield rc(i.localStore,e,!0),oc(i,e,r);break;default:G()}})}function l8(t,e,n){return _(this,null,function*(){let r=rg(t);if(r.La){for(let i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){F("SyncEngine","Adding an already active target "+i);continue}let s=yield QP(r.localStore,i),o=yield xm(r.localStore,s);yield ED(r,ak(s),o.targetId,!1,o.resumeToken),ng(r.remoteStore,o)}for(let i of n)r.Da.has(i)&&(yield rc(r.localStore,i,!1).then(()=>{ic(r.remoteStore,i),oc(r,i)}).catch(Zi))}})}function rg(t){let e=W(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z3.bind(null,e),e.Sa.h_=z3.bind(null,e.eventManager),e.Sa.ka=q3.bind(null,e.eventManager),e}function TD(t){let e=W(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J3.bind(null,e),e}var Vu=class{constructor(){this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){this.serializer=eg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GP(this.persistence,new Rm,e.initialUser,this.serializer)}createPersistence(e){return new Sm(Am.Hr,this.serializer)}createSharedClientState(e){return new Om}terminate(){return _(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var $m=class t extends Vu{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return _(this,null,function*(){yield zn(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield TD(this.Qa.syncEngine),yield cc(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return GP(this.persistence,new Rm,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new ob(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new bE(n,this.persistence);return new EE(e.asyncQueue,r)}createPersistence(e){let n=qP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new wb(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,XP(),em(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Om}},zb=class t extends $m{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return _(this,null,function*(){yield zn(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof Iu&&(this.sharedClientState.syncEngine={Zs:s8.bind(null,n),Xs:c8.bind(null,n),eo:l8.bind(null,n),Bi:a8.bind(null,n),Ys:i8.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(r=>_(this,null,function*(){yield o8(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=XP();if(!Iu.D(n))throw new U(O.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=qP(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Iu(n,e.asyncQueue,r,e.clientId,e.initialUser)}},ju=class{initialize(e,n){return _(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t8.bind(null,this.syncEngine),yield Pb(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Lb}()}createDatastore(e){let n=eg(e.databaseInfo.databaseId),r=function(s){return new Ab(s)}(e.databaseInfo);return function(s,o,a,c){return new Mb(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Ob(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>kO(this.syncEngine,n,0),function(){return Pm.D()?new Pm:new Tb}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,d){let f=new $b(i,s,o,a,c,u);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return _(this,null,function*(){var e;yield function(r){return _(this,null,function*(){let i=W(r);F("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Zu(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Uu=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):tt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var qb=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=tm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>_(this,null,function*(){F("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=vD(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function uE(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield WP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function LO(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield d8(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OO(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OO(e.remoteStore,i)),t._onlineComponents=e})}function u8(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function d8(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!u8(n))throw n;Eu("Error using user provided cache. Falling back to memory cache: "+n),yield uE(t,new Vu)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield uE(t,new Vu);return t._offlineComponents})}function ck(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield LO(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield LO(t,new ju))),t._onlineComponents})}function h8(t){return ck(t).then(e=>e.syncEngine)}function Hm(t){return _(this,null,function*(){let e=yield ck(t),n=e.eventManager;return n.onListen=G3.bind(null,e.syncEngine),n.onUnlisten=K3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q3.bind(null,e.syncEngine),n})}function f8(t,e,n={}){let r=new En;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,c,u){let d=new Uu({next:m=>{o.enqueueAndForget(()=>wD(s,f));let y=m.docs.has(a);!y&&m.fromCache?u.reject(new U(O.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new U(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Lu(Qu(a.path),d,{includeMetadataChanges:!0,ra:!0});return _D(s,f)}(yield Hm(t),t.asyncQueue,e,n,r)})),r.promise}function p8(t,e,n={}){let r=new En;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,c,u){let d=new Uu({next:m=>{o.enqueueAndForget(()=>wD(s,f)),m.fromCache&&c.source==="server"?u.reject(new U(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new Lu(a,d,{includeMetadataChanges:!0,ra:!0});return _D(s,f)}(yield Hm(t),t.asyncQueue,e,n,r)})),r.promise}function lk(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var VO=new Map;function uk(t,e,n){if(!n)throw new U(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m8(t,e,n,r){if(e===!0&&r===!0)throw new U(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jO(t){if(!q.isDocumentKey(t))throw new U(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UO(t){if(q.isDocumentKey(t))throw new U(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ig(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function Qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=ig(t);throw new U(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function g8(t,e){if(e<=0)throw new U(O.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var zm=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Bu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fE;switch(r.type){case"firstParty":return new gE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=VO.get(n);r&&(F("ComponentProvider","Removing Datastore"),VO.delete(n),r.terminate())}(this),Promise.resolve()}};var Kr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Nt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},$i=class t extends Kr{constructor(e,n,r){super(e,n,Qu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function dk(t,e,...n){if(t=Ge(t),uk("collection","path",e),t instanceof Bu){let r=ke.fromString(e,...n);return UO(r),new $i(t,null,r)}{if(!(t instanceof Nt||t instanceof $i))throw new U(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return UO(r),new $i(t.firestore,null,r)}}function SD(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=tm.newId()),uk("doc","path",e),t instanceof Bu){let r=ke.fromString(e,...n);return jO(r),new Nt(t,null,new q(r))}{if(!(t instanceof Nt||t instanceof $i))throw new U(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return jO(r),new Nt(t.firestore,t instanceof $i?t.converter:null,new q(r))}}var Gb=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new km(this,"async_queue_retry"),this.hu=()=>{let n=em();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=em();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new En;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return _(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Xi(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw tt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=kb.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&G()}verifyOperationInProgress(){}du(){return _(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function BO(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Dn=class extends Bu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Gb}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fk(this),this._firestoreClient.terminate()}};function hk(t,e,n){n||(n="(default)");let r=Xl(t,"firestore");if(r.isInitialized(n)){let i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Ai(s,e))return i;throw new U(O.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new U(O.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Xu(t){return t._firestoreClient||fk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function fk(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,d){return new DE(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,lk(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new qb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var $u=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(wt.fromBase64String(e))}catch(n){throw new U(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var lo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Hu=class{constructor(e){this._methodName=e}};var zu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var y8=/^__.*__$/,Wb=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qi(e,this.data,n,this.fieldTransforms)}},qm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function pk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Kb=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Wm(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(pk(this.fu)&&y8.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Qb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||eg(e)}Fu(e,n,r,i=!1){return new Kb({fu:e,methodName:n,vu:r,path:ct.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ju(t){let e=t._freezeSettings(),n=eg(t._databaseId);return new Qb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AD(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);RD("Data must be an object, but it was:",o,r);let a=yk(r,o),c,u;if(s.merge)c=new rn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let m=Yb(e,f,n);if(!o.contains(m))throw new U(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);_k(d,m)||d.push(m)}c=new rn(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new Wb(new $t(a),c,u)}var Gm=class t extends Hu{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function mk(t,e,n,r){let i=t.Fu(1,e,n);RD("Data must be an object, but it was:",i,r);let s=[],o=$t.empty();uo(r,(c,u)=>{let d=xD(e,c,n);u=Ge(u);let f=i.Su(d);if(u instanceof Gm)s.push(d);else{let m=ed(u,f);m!=null&&(s.push(d),o.set(d,m))}});let a=new rn(s);return new qm(o,a,i.fieldTransforms)}function gk(t,e,n,r,i,s){let o=t.Fu(1,e,n),a=[Yb(e,r,n)],c=[i];if(s.length%2!=0)throw new U(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Yb(e,s[m])),c.push(s[m+1]);let u=[],d=$t.empty();for(let m=a.length-1;m>=0;--m)if(!_k(u,a[m])){let y=a[m],E=c[m];E=Ge(E);let S=o.Su(y);if(E instanceof Gm)u.push(y);else{let M=ed(E,S);M!=null&&(u.push(y),d.set(y,M))}}let f=new rn(u);return new qm(d,f,o.fieldTransforms)}function v8(t,e,n,r=!1){return ed(n,t.Fu(r?4:3,e))}function ed(t,e){if(vk(t=Ge(t)))return RD("Unsupported field value:",e,t),yk(t,e);if(t instanceof Hu)return function(r,i){if(!pk(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=ed(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=nt.fromDate(r);return{timestampValue:ec(i.serializer,s)}}if(r instanceof nt){let s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ec(i.serializer,s)}}if(r instanceof zu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $u)return{bytesValue:TP(i.serializer,r._byteString)};if(r instanceof Nt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fD(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${ig(r)}`)}(t,e)}function yk(t,e){let n={};return tP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):uo(t,(r,i)=>{let s=ed(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function vk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof zu||t instanceof $u||t instanceof Nt||t instanceof Hu)}function RD(t,e,n){if(!vk(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=ig(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Yb(t,e,n){if((e=Ge(e))instanceof lo)return e._internalPath;if(typeof e=="string")return xD(t,e);throw Wm("Field path arguments must be of type string or ",t,!1,void 0,n)}var _8=new RegExp("[~\\*/\\[\\]]");function xD(t,e,n){if(e.search(_8)>=0)throw Wm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lo(...e.split("."))._internalPath}catch{throw Wm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wm(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new U(O.INVALID_ARGUMENT,a+t+c)}function _k(t,e){return t.some(n=>n.isEqual(e))}var Km=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Zb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Zb=class extends Km{data(){return super.data()}};function sg(t,e){return typeof e=="string"?xD(t,e):e instanceof lo?e._internalPath:e._delegate._internalPath}function wk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qu=class{},Gu=class extends qu{};function Ik(t,e,...n){let r=[];e instanceof qu&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Xb).length,a=s.filter(c=>c instanceof Qm).length;if(o>1||o>0&&a>0)throw new U(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Qm=class t extends Gu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Ck(e._query,n),new Kr(e.firestore,e.converter,LE(e._query,n))}_parse(e){let n=Ju(e.firestore);return function(s,o,a,c,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new U(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){HO(f,d);let y=[];for(let E of f)y.push($O(c,s,E));m={arrayValue:{values:y}}}else m=$O(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||HO(f,d),m=v8(a,o,f,d==="in"||d==="not-in");return Ie.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Ek(t,e,n){let r=e,i=sg("where",t);return Qm._create(i,r,n)}var Xb=class t extends qu{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oe.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)Ck(o,c),o=LE(o,c)}(e._query,n),new Kr(e.firestore,e.converter,LE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Jb=class t extends Gu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new U(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new no(s,o)}(e._query,this._field,this._direction);return new Kr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Gi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function bk(t,e="asc"){let n=e,r=sg("orderBy",t);return Jb._create(r,n)}var eD=class t extends Gu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new Kr(e.firestore,e.converter,dm(e._query,this._limit,this._limitType))}};function Dk(t){return g8("limit",t),eD._create("limit",t,"F")}function $O(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new U(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uP(e)&&n.indexOf("/")!==-1)throw new U(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!q.isDocumentKey(r))throw new U(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Au(t,new q(r))}if(n instanceof Nt)return Au(t,n._key);throw new U(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ig(n)}.`)}function HO(t,e){if(!Array.isArray(t)||t.length===0)throw new U(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ck(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var tD=class{convertValue(e,n="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return uo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new zu(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=uD(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){let n=Wr(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);X(FP(r));let i=new Qa(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function MD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Zs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ym=class extends Km{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new qa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},qa=class extends Ym{data(e={}){return super.data(e)}},Zm=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qa(this._firestore,this._userDataWriter,r.key,r,new Zs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:w8(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function w8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}function Tk(t){t=Qt(t,Nt);let e=Qt(t.firestore,Dn);return f8(Xu(e),t._key).then(n=>Nk(e,t,n))}var Wu=class extends tD{constructor(e){super(),this.firestore=e}convertBytes(e){return new $u(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}};function Sk(t){t=Qt(t,Kr);let e=Qt(t.firestore,Dn),n=Xu(e),r=new Wu(e);return wk(t._query),p8(n,t._query).then(i=>new Zm(e,r,t,i))}function Ak(t,e,n){t=Qt(t,Nt);let r=Qt(t.firestore,Dn),i=MD(t.converter,e,n);return td(r,[AD(Ju(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,vt.none())])}function Rk(t,e,n,...r){t=Qt(t,Nt);let i=Qt(t.firestore,Dn),s=Ju(i),o;return o=typeof(e=Ge(e))=="string"||e instanceof lo?gk(s,"updateDoc",t._key,e,n,r):mk(s,"updateDoc",t._key,e),td(i,[o.toMutation(t._key,vt.exists(!0))])}function xk(t){return td(Qt(t.firestore,Dn),[new oo(t._key,vt.none())])}function Mk(t,e){let n=Qt(t.firestore,Dn),r=SD(t),i=MD(t.converter,e);return td(n,[AD(Ju(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vt.exists(!1))]).then(()=>r)}function ND(t,...e){var n,r,i;t=Ge(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||BO(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(BO(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof Nt)u=Qt(t.firestore,Dn),d=Qu(t._key.path),c={next:f=>{e[o]&&e[o](Nk(u,t,f))},error:e[o+1],complete:e[o+2]};else{let f=Qt(t,Kr);u=Qt(f.firestore,Dn),d=f._query;let m=new Wu(u);c={next:y=>{e[o]&&e[o](new Zm(u,m,f,y))},error:e[o+1],complete:e[o+2]},wk(t._query)}return function(m,y,E,S){let M=new Uu(S),V=new Lu(y,M,E);return m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return _D(yield Hm(m),V)})),()=>{M.$a(),m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return wD(yield Hm(m),V)}))}}(Xu(u),d,a,c)}function td(t,e){return function(r,i){let s=new En;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return Y3(yield h8(r),i,s)})),s.promise}(Xu(t),e)}function Nk(t,e,n){let r=n.docs.get(e._key),i=new Wu(t);return new Ym(t,i,e._key,r,new Zs(n.hasPendingWrites,n.fromCache),e.converter)}var nD=class{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=Pk(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}};function Ok(t){return new nD(t)}var rD=class{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new ju,this._offlineComponentProvider=new $m(this._onlineComponentProvider,e?.cacheSizeBytes,this.forceOwnership)}},iD=class{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new ju,this._offlineComponentProvider=new zb(this._onlineComponentProvider,e?.cacheSizeBytes)}};function Pk(t){return new rD(t?.forceOwnership)}function kk(){return new iD}var sD=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ju(e)}set(e,n,r){this._verifyNotCommitted();let i=dE(e,this._firestore),s=MD(i.converter,n,r),o=AD(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,vt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=dE(e,this._firestore),o;return o=typeof(n=Ge(n))=="string"||n instanceof lo?gk(this._dataReader,"WriteBatch.update",s._key,n,r,i):mk(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,vt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=dE(e,this._firestore);return this._mutations=this._mutations.concat(new oo(n._key,vt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new U(O.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function dE(t,e){if((t=Ge(t)).firestore!==e)throw new U(O.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Fk(t){return Xu(t=Qt(t,Dn)),new sD(t,e=>td(t,e))}(function(e,n=!0){(function(i){ac=i})(Ni),Mi(new vn("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Dn(new pE(r.getProvider("auth-internal")),new vE(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),at(HN,"4.6.3",e),at(HN,"4.6.3","esm2017")})();var og=function(){return og=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},og.apply(this,arguments)};var D8={includeMetadataChanges:!1};function Lk(t,e){return e===void 0&&(e=D8),new re(function(n){var r=ND(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Vk(t){return Lk(t,{includeMetadataChanges:!0})}function jk(t,e){return e===void 0&&(e={}),Vk(t).pipe(de(function(n){return Uk(n,e)}))}function Uk(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:og(og({},r),(n={},n[e.idField]=t.id,n))}var nd=class{constructor(e){return e}},Bk="firestore",OD=class{constructor(){return Jl(Bk)}};var PD=new $("angularfire2.firestore-instances");function C8(t,e){let n=Ip(Bk,t,e);return n&&new nd(n)}function T8(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new nd(r)}}var S8={provide:OD,deps:[[new Rt,PD]]},A8={provide:nd,useFactory:C8,deps:[[new Rt,PD],Ur]};function Xse(t,...e){return at("angularfire",js.full,"fst"),Rr([A8,S8,{provide:PD,useFactory:T8(t),multi:!0,deps:[K,xe,Sa,Us,[new Rt,cu],[new Rt,Ta],...e]}])}var Jse=Pe(jk,!0);var eoe=Pe(Mk,!0);var toe=Pe(dk,!0);var noe=Pe(xk,!0);var roe=Pe(SD,!0);var ioe=Pe(Tk,!0);var soe=Pe(Sk,!0);var ooe=Pe(hk,!0),aoe=Pe(Dk,!0);var coe=Pe(bk,!0),loe=Pe(Ok,!0),uoe=Pe(kk,!0);var doe=Pe(Ik,!0);var hoe=Pe(Ak,!0);var foe=Pe(Rk,!0);var poe=Pe(Ek,!0),moe=Pe(Fk,!0);function R8(t){return t!=null&&`${t}`!="false"}function rd(t,e=0){return x8(t)?Number(t):e}function x8(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function uc(t){return Array.isArray(t)?t:[t]}function rt(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Qr(t){return t instanceof Ce?t.nativeElement:t}function _oe(t,e=/\s+/){let n=[];if(t!=null){let r=Array.isArray(t)?t:`${t}`.split(e);for(let i of r){let s=`${i}`.trim();s&&n.push(s)}}return n}var FD;try{FD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{FD=!1}var Ye=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?G_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||FD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(R(fn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dc,$k=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Toe(){if(dc)return dc;if(typeof document!="object"||!document)return dc=new Set($k),dc;let t=document.createElement("input");return dc=new Set($k.filter(e=>(t.setAttribute("type",e),t.type===e))),dc}var id;function M8(){if(id==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>id=!0}))}finally{id=id||!1}return id}function hc(t){return M8()?t:!!t.capture}var fo;function Hk(){if(fo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return fo=!1,fo;if("scrollBehavior"in document.documentElement.style)fo=!0;else{let t=Element.prototype.scrollTo;t?fo=!/\{\s*\[native code\]\s*\}/.test(t.toString()):fo=!1}}return fo}var kD;function N8(){if(kD==null){let t=typeof document<"u"?document.head:null;kD=!!(t&&(t.createShadowRoot||t.attachShadow))}return kD}function zk(t){if(N8()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function fc(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Cn(t){return t.composedPath?t.composedPath()[0]:t.target}function sd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var O8=new $("cdk-dir-doc",{providedIn:"root",factory:P8});function P8(){return k(ce)}var k8=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function F8(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?k8.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var ad=(()=>{let e=class e{constructor(r){if(this.value="ltr",this.change=new Ae,r){let i=r.body?r.body.dir:null,s=r.documentElement?r.documentElement.dir:null;this.value=F8(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(R(O8,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var es=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var V8=20,Gk=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this._platform=i,this._scrolled=new Z,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=V8){return this._platform.isBrowser?new re(i=>{this._globalSubscription||this._addGlobalListener();let s=r>0?this._scrolled.pipe(Eh(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):te()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let s=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(Be(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,r)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let s=Qr(i),o=r.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return Gc(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(R(K),R(Ye),R(ce,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var j8=20,LD=(()=>{let e=class e{constructor(r,i,s){this._platform=r,this._change=new Z,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(r.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+s,right:r.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),s=r.documentElement,o=s.getBoundingClientRect(),a=-o.top||r.body.scrollTop||i.scrollY||s.scrollTop||0,c=-o.left||r.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(r=j8){return r>0?this._change.pipe(Eh(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(R(Ye),R(K),R(ce,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),VD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[es,qk,es,qk]});let t=e;return t})();var cd=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},pc=class extends cd{constructor(e,n,r,i,s){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}},mc=class extends cd{constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},jD=class extends cd{constructor(e){super(),this.element=e instanceof Ce?e.nativeElement:e}},gc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof pc)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof mc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof jD)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ag=class extends gc{constructor(e,n,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||xe.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var ld=(()=>{let e=class e extends gc{constructor(r,i,s){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ae,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,o=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),a=i.createComponent(o,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=r,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};e.\u0275fac=function(i){return new(i||e)(j(er),j(pn),j(ce))},e.\u0275dir=De({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Je]});let t=e;return t})();var yc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function cg(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var Wk=Hk(),UD=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rt(-this._previousScrollPosition.left),e.style.top=rt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,r=e.style,i=n.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Wk&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Wk&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var BD=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Be(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},lg=class{enable(){}disable(){}attach(){}};function $D(t,e){return e.some(n=>{let r=t.bottom<n.top,i=t.top>n.bottom,s=t.right<n.left,o=t.left>n.right;return r||i||s||o})}function Kk(t,e){return e.some(n=>{let r=t.top<n.top,i=t.bottom>n.bottom,s=t.left<n.left,o=t.right>n.right;return r||i||s||o})}var HD=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();$D(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},B8=(()=>{let e=class e{constructor(r,i,s,o){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new lg,this.close=a=>new BD(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new UD(this._viewportRuler,this._document),this.reposition=a=>new HD(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.\u0275fac=function(i){return new(i||e)(R(Gk),R(LD),R(K),R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ud=class{constructor(e){if(this.scrollStrategy=new lg,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let r of n)e[r]!==void 0&&(this[r]=e[r])}}};var zD=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var Jk=(()=>{let e=class e{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(i){return new(i||e)(R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),$8=(()=>{let e=class e extends Jk{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(K,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),H8=(()=>{let e=class e extends Jk{constructor(r,i,s){super(r),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Cn(o)},this._clickListener=o=>{let a=Cn(o),c=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let d=u.length-1;d>-1;d--){let f=u[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(c))break;let m=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>m.next(o)):m.next(o)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(Ye),R(K,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vc=(()=>{let e=class e{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||sd()){let s=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let i=this._document.createElement("div");i.classList.add(r),sd()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.\u0275fac=function(i){return new(i||e)(R(ce),R(Ye))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yr=class{constructor(e,n,r,i,s,o,a,c,u,d=!1,f){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=f,this._backdropElement=null,this._backdropClick=new Z,this._attachments=new Z,this._detachments=new Z,this._locationChanges=Ne.EMPTY,this._backdropClickHandler=m=>this._backdropClick.next(m),this._backdropTransitionendHandler=m=>{this._disposeBackdrop(m.target)},this._keydownEvents=new Z,this._outsidePointerEvents=new Z,this._renders=new Z,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=P_(()=>E_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Ei(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=P(P({},this._config),e),this._updateElementSize()}setDirection(e){this._config=pe(P({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=rt(this._config.width),e.height=rt(this._config.height),e.minWidth=rt(this._config.minWidth),e.minHeight=rt(this._config.minHeight),e.maxWidth=rt(this._config.maxWidth),e.maxHeight=rt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){let i=uc(n||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(Kn(Wc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},Qk="cdk-overlay-connected-position-bounding-box",z8=/([A-Za-z%]+)$/,qD=class{get positions(){return this._preferredPositions}constructor(e,n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Z,this._resizeSubscription=Ne.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(Qk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,n,a),d=this._getOverlayFit(u,n,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,r)){s.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:n})}if(s.length){let a=null,c=-1;for(let u of s){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&po(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Qk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?o:a}n.left<0&&(i-=n.left);let s;return r.originY=="center"?s=e.top+e.height/2:s=r.originY=="top"?e.top:e.bottom,n.top<0&&(s-=n.top),{x:i,y:s}}_getOverlayPoint(e,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let s;return r.overlayY=="center"?s=-n.height/2:s=r.overlayY=="top"?0:-n.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,n,r,i){let s=Zk(n),{x:o,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(o+=c),u&&(a+=u);let d=0-o,f=o+s.width-r.width,m=0-a,y=a+s.height-r.height,E=this._subtractOverflows(s.width,d,f),S=this._subtractOverflows(s.height,m,y),M=E*S;return{visibleArea:M,isCompletelyWithinViewport:s.width*s.height===M,fitsInViewportVertically:S===s.height,fitsInViewportHorizontally:E==s.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,s=r.right-n.x,o=Yk(this._overlayRef.getConfig().minHeight),a=Yk(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||o!=null&&o<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=s;return c&&u}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=Zk(n),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),u=Math.max(s.left-r.left-e.x,0),d=0,f=0;return i.width<=s.width?d=u||-o:d=e.x<this._viewportMargin?s.left-r.left-e.x:0,i.height<=s.height?f=c||-a:f=e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:d,y:f},{x:e.x+d,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!q8(this._lastScrollVisibility,r)){let i=new zD(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){let r=this._viewportRect,i=this._isRtl(),s,o,a;if(n.overlayY==="top")o=e.y,s=r.height-o+this._viewportMargin;else if(n.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,s=r.height-a+this._viewportMargin;else{let y=Math.min(r.bottom-e.y+r.top,e.y),E=this._lastBoundingBoxSize.height;s=y*2,o=e.y-y,s>E&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-E/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,u=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,d,f,m;if(u)m=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)f=e.x,d=r.right-e.x;else{let y=Math.min(r.right-e.x+r.left,e.x),E=this._lastBoundingBoxSize.width;d=y*2,f=e.x-y,d>E&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-E/2)}return{top:o,left:f,bottom:a,right:m,width:d,height:s}}_setBoundingBoxStyles(e,n){let r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=rt(r.height),i.top=rt(r.top),i.bottom=rt(r.bottom),i.width=rt(r.width),i.left=rt(r.left),i.right=rt(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=rt(s)),o&&(i.maxWidth=rt(o))}this._lastBoundingBoxSize=r,po(this._boundingBox.style,i)}_resetBoundingBoxStyles(){po(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){po(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();po(r,this._getExactOverlayY(n,e,d)),po(r,this._getExactOverlayX(n,e,d))}else r.position="static";let a="",c=this._getOffset(n,"x"),u=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=rt(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=rt(o.maxWidth):s&&(r.maxWidth="")),po(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;i.bottom=`${o-(s.y+this._overlayRect.height)}px`}else i.top=rt(s.y);return i}_getExactOverlayX(e,n,r){let i={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(s.x+this._overlayRect.width)}px`}else i.left=rt(s.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Kk(e,r),isOriginOutsideView:$D(e,r),isOverlayClipped:Kk(n,r),isOverlayOutsideView:$D(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&uc(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ce)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}};function po(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Yk(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(z8);return!n||n==="px"?parseFloat(e):null}return t||null}function Zk(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function q8(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var Xk="cdk-global-overlay-wrapper",GD=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Xk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!o||o==="100%"||o==="100vw"),u=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,f=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",y="",E="",S="";c?S="flex-start":d==="center"?(S="center",m?E=f:y=f):m?d==="left"||d==="end"?(S="flex-end",y=f):(d==="right"||d==="start")&&(S="flex-start",E=f):d==="left"||d==="start"?(S="flex-start",y=f):(d==="right"||d==="end")&&(S="flex-end",E=f),e.position=this._cssPosition,e.marginLeft=c?"0":y,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":E,n.justifyContent=S,n.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(Xk),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},G8=(()=>{let e=class e{constructor(r,i,s,o){this._viewportRuler=r,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new GD}flexibleConnectedTo(r){return new qD(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(i){return new(i||e)(R(LD),R(ce),R(Ye),R(vc))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W8=0,$n=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,d,f,m,y,E){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=u,this._document=d,this._directionality=f,this._location=m,this._outsideClickDispatcher=y,this._animationsModuleType=E}create(r){let i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new ud(r);return a.direction=a.direction||this._directionality.value,new Yr(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(St))}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${W8++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(Pr)),new ag(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(i){return new(i||e)(R(B8),R(vc),R(er),R(G8),R($8),R(xe),R(K),R(ce),R(ad),R(lr),R(H8),R(wi,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K8=new $("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=k($n);return()=>t.scrollStrategies.reposition()}});function Q8(t){return()=>t.scrollStrategies.reposition()}var Y8={provide:K8,deps:[$n],useFactory:Q8},WD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[$n,Y8],imports:[es,yc,VD,VD]});let t=e;return t})();var Z8=(()=>{let e=class e{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var t1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[Z8]});let t=e;return t})();var n1=new Set,mo,X8=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):e6}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&J8(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(R(Ye),R(pl,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J8(t,e){if(!n1.has(t))try{mo||(mo=document.createElement("style"),e&&mo.setAttribute("nonce",e),mo.setAttribute("type","text/css"),document.head.appendChild(mo)),mo.sheet&&(mo.sheet.insertRule(`@media ${t} {body{ }}`,0),n1.add(t))}catch(n){console.error(n)}}function e6(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var i1=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new Z}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return r1(uc(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let s=r1(uc(r)).map(a=>this._registerQuery(a).observable),o=hs(s);return o=Gn(o.pipe(Xe(1)),o.pipe(Zc(1),Dh(0))),o.pipe(de(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:u,query:d})=>{c.matches=c.matches||u,c.breakpoints[d]=u}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),o={observable:new re(a=>{let c=u=>this._zone.run(()=>a.next(u));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Rn(i),de(({matches:a})=>({query:r,matches:a})),Kn(this._destroySubject)),mql:i};return this._queries.set(r,o),o}};e.\u0275fac=function(i){return new(i||e)(R(X8),R(K))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function r1(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Dae={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var dd=(()=>{let e=class e{constructor(r){this._platform=r}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return n6(r)&&getComputedStyle(r).visibility==="visible"}isTabbable(r){if(!this._platform.isBrowser)return!1;let i=t6(u6(r));if(i&&(s1(i)===-1||!this.isVisible(i)))return!1;let s=r.nodeName.toLowerCase(),o=s1(r);return r.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!c6(r)?!1:s==="audio"?r.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||r.hasAttribute("controls"):r.tabIndex>=0}isFocusable(r,i){return l6(r)&&!this.isDisabled(r)&&(i?.ignoreVisibility||this.isVisible(r))}};e.\u0275fac=function(i){return new(i||e)(R(Ye))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function t6(t){try{return t.frameElement}catch{return null}}function n6(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function r6(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function i6(t){return o6(t)&&t.type=="hidden"}function s6(t){return a6(t)&&t.hasAttribute("href")}function o6(t){return t.nodeName.toLowerCase()=="input"}function a6(t){return t.nodeName.toLowerCase()=="a"}function c1(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function s1(t){if(!c1(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function c6(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function l6(t){return i6(t)?!1:r6(t)||s6(t)||t.hasAttribute("contenteditable")||c1(t)}function u6(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var QD=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,r,i,s=!1,o){this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(e),!!r}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?this._injector?Ei(e,{injector:this._injector}):e():this._ngZone.onStable.pipe(Xe(1)).subscribe(e)}},hd=(()=>{let e=class e{constructor(r,i,s){this._checker=r,this._ngZone=i,this._injector=k(xe),this._document=s}create(r,i=!1){return new QD(r,this._checker,this._ngZone,this._document,i,this._injector)}};e.\u0275fac=function(i){return new(i||e)(R(dd),R(K),R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Gae=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(r){this.focusTrap&&(this.focusTrap.enabled=r)}constructor(r,i,s){this._elementRef=r,this._focusTrapFactory=i,this._previouslyFocusedElement=null,k(Ye).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(r){let i=r.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=fc(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(hd),j(ce))},e.\u0275dir=De({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",gn],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",gn]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Nr,Ut]});let t=e;return t})();function YD(t){return t.buttons===0||t.detail===0}function ZD(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var d6=new $("cdk-input-modality-detector-options"),h6={ignoreKeys:[18,17,224,91,16]},l1=650,_c=hc({passive:!0,capture:!0}),f6=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(r,i,s,o){this._platform=r,this._mostRecentTarget=null,this._modality=new Ze(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Cn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<l1||(this._modality.next(YD(a)?"keyboard":"mouse"),this._mostRecentTarget=Cn(a))},this._onTouchstart=a=>{if(ZD(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cn(a)},this._options=P(P({},h6),o),this.modalityDetected=this._modality.pipe(Zc(1)),this.modalityChanged=this.modalityDetected.pipe(Qc()),r.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,_c),s.addEventListener("mousedown",this._onMousedown,_c),s.addEventListener("touchstart",this._onTouchstart,_c)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_c),document.removeEventListener("mousedown",this._onMousedown,_c),document.removeEventListener("touchstart",this._onTouchstart,_c))}};e.\u0275fac=function(i){return new(i||e)(R(Ye),R(K),R(ce),R(d6,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),p6=new $("liveAnnouncerElement",{providedIn:"root",factory:m6});function m6(){return null}var g6=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),y6=0,Wae=(()=>{let e=class e{constructor(r,i,s,o){this._ngZone=i,this._defaultOptions=o,this._document=s,this._liveElement=r||this._createLiveElement()}announce(r,...i){let s=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),a==null&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=r,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let r="cdk-live-announcer-element",i=this._document.getElementsByClassName(r),s=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return s.classList.add(r),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${y6++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(r){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){let o=i[s],a=o.getAttribute("aria-owns");a?a.indexOf(r)===-1&&o.setAttribute("aria-owns",a+" "+r):o.setAttribute("aria-owns",r)}}};e.\u0275fac=function(i){return new(i||e)(R(p6,8),R(K),R(ce),R(g6,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dg=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(dg||{}),v6=new $("cdk-focus-monitor-default-options"),ug=hc({passive:!0,capture:!0}),fd=(()=>{let e=class e{constructor(r,i,s,o,a){this._ngZone=r,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Z,this._rootNodeFocusAndBlurListener=c=>{let u=Cn(c);for(let d=u;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=o,this._detectionMode=a?.detectionMode||dg.IMMEDIATE}monitor(r,i=!1){let s=Qr(r);if(!this._platform.isBrowser||s.nodeType!==1)return te();let o=zk(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new Z,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(r){let i=Qr(r),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(r,i,s){let o=Qr(r),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,u])=>this._originChanged(c,i,u)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((r,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===dg.EVENTUAL||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,i){r.classList.toggle("cdk-focused",!!i),r.classList.toggle("cdk-touch-focused",i==="touch"),r.classList.toggle("cdk-keyboard-focused",i==="keyboard"),r.classList.toggle("cdk-mouse-focused",i==="mouse"),r.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(r,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&i,this._detectionMode===dg.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?l1:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(r,i){let s=this._elementInfo.get(i),o=Cn(r);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(r,i){let s=this._elementInfo.get(i);!s||s.checkChildren&&r.relatedTarget instanceof Node&&i.contains(r.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(r,i){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(i))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let i=r.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ug),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ug)}),this._rootNodeFocusListenerCount.set(i,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(r){let i=r.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ug),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ug),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,i,s){this._setClasses(r,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(r){let i=[];return this._elementInfo.forEach((s,o)=>{(o===r||s.checkChildren&&o.contains(r))&&i.push([o,s])}),i}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!i||i===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let o=r.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}};e.\u0275fac=function(i){return new(i||e)(R(K),R(Ye),R(f6),R(ce,8),R(v6,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kae=(()=>{let e=class e{constructor(r,i){this._elementRef=r,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Ae}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let r=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(r,r.nodeType===1&&r.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(fd))},e.\u0275dir=De({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),go=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(go||{}),o1="cdk-high-contrast-black-on-white",a1="cdk-high-contrast-white-on-black",KD="cdk-high-contrast-active",XD=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=k(i1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return go.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return go.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return go.BLACK_ON_WHITE}return go.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(KD,o1,a1),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===go.BLACK_ON_WHITE?r.add(KD,o1):i===go.WHITE_ON_BLACK&&r.add(KD,a1)}}};e.\u0275fac=function(i){return new(i||e)(R(Ye),R(ce))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),u1=(()=>{let e=class e{constructor(r){r._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(i){return new(i||e)(R(XD))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[t1]});let t=e;return t})();function _6(t,e){}var yo=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var nC=(()=>{let e=class e extends gc{constructor(r,i,s,o,a,c,u,d){super(),this._elementRef=r,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=u,this._focusMonitor=d,this._platform=k(Ye),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=k(mn),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let m=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),m},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let i=this._ariaLabelledByQueue.indexOf(r);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),i}attachTemplatePortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,i){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{r.removeEventListener("blur",s),r.removeEventListener("mousedown",s),r.removeAttribute("tabindex")};r.addEventListener("blur",s),r.addEventListener("mousedown",s)})),r.focus(i)}_focusByCssSelector(r,i){let s=this._elementRef.nativeElement.querySelector(r);s&&this._forceFocus(s,i)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,i=null;if(typeof r=="string"?i=this._document.querySelector(r):typeof r=="boolean"?i=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(i=r),this._config.restoreFocus&&i&&typeof i.focus=="function"){let s=fc(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,i=fc();return r===i||r.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=fc()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(hd),j(ce,8),j(yo),j(dd),j(K),j(Yr),j(fd))},e.\u0275cmp=nr({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(i&1&&Lf(ld,7),i&2){let o;_l(o=wl())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){i&2&&or("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[Je,ar],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){i&1&&Ln(0,_6,0,0,"ng-template",0)},dependencies:[ld],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),pd=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new Z,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!cg(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},w6=new $("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=k($n);return()=>t.scrollStrategies.block()}}),I6=new $("DialogData"),E6=new $("DefaultDialogConfig");var b6=0,rC=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,i,s,o,a,c){this._overlay=r,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z,this._afterOpenedAtThisLevel=new Z,this._ariaHiddenElements=new Map,this.afterAllClosed=ci(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Rn(void 0))),this._scrollStrategy=c}open(r,i){let s=this._defaultOptions||new yo;i=P(P({},s),i),i.id=i.id||`cdk-dialog-${b6++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=this._overlay.create(o),c=new pd(a,i),u=this._attachContainer(a,c,i);return c.containerInstance=u,this._attachDialogContent(r,c,u,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){eC(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){eC(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),eC(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let i=new ud({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(i.backdropClass=r.backdropClass),i}_attachContainer(r,i,s){let o=s.injector||s.viewContainerRef?.injector,a=[{provide:yo,useValue:s},{provide:pd,useValue:i},{provide:Yr,useValue:r}],c;s.container?typeof s.container=="function"?c=s.container:(c=s.container.type,a.push(...s.container.providers(s))):c=nC;let u=new pc(c,s.viewContainerRef,xe.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return r.attach(u).instance}_attachDialogContent(r,i,s,o){if(r instanceof On){let a=this._createInjector(o,i,s,void 0),c={$implicit:o.data,dialogRef:i};o.templateContext&&(c=P(P({},c),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new mc(r,null,c,a))}else{let a=this._createInjector(o,i,s,this._injector),c=s.attachComponentPortal(new pc(r,o.viewContainerRef,a,o.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(r,i,s,o){let a=r.injector||r.viewContainerRef?.injector,c=[{provide:I6,useValue:r.data},{provide:pd,useValue:i}];return r.providers&&(typeof r.providers=="function"?c.push(...r.providers(i,r,s)):c.push(...r.providers)),r.direction&&(!a||!a.get(ad,null,{optional:!0}))&&c.push({provide:ad,useValue:{value:r.direction,change:te()}}),xe.create({parent:a||o,providers:c})}_removeOpenDialog(r,i){let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let i=r.parentElement.children;for(let s=i.length-1;s>-1;s--){let o=i[s];o!==r&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(i){return new(i||e)(R($n),R(xe),R(E6,8),R(e,12),R(vc),R(w6))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eC(t,e){let n=t.length;for(;n--;)e(t[n])}var D6=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[rC],imports:[WD,yc,u1,yc]});let t=e;return t})();var kce=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),Fce=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function C6(){return!0}var T6=new $("mat-sanity-checks",{providedIn:"root",factory:C6}),d1=(()=>{let e=class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return sd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(R(XD),R(T6,8),R(ce))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[es,es]});let t=e;return t})();var h1=class{constructor(e,n,r,i,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,n)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var f1=new $("MAT_DATE_LOCALE",{providedIn:"root",factory:S6});function S6(){return k(la)}var fg=class{constructor(){this._localeChanges=new Z,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let r=this.isValid(e),i=this.isValid(n);return r&&i?!this.compareDate(e,n):r==i}return e==n}clampDate(e,n,r){return n&&this.compareDate(e,n)<0?n:r&&this.compareDate(e,r)>0?r:e}},A6=new $("mat-date-formats"),R6=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function iC(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}var x6=(()=>{let e=class e extends fg{constructor(r){super(),this.useUtcForDisplay=!1,this._matDateLocale=k(f1,{optional:!0}),r!==void 0&&(this._matDateLocale=r),super.setLocale(this._matDateLocale)}getYear(r){return r.getFullYear()}getMonth(r){return r.getMonth()}getDate(r){return r.getDate()}getDayOfWeek(r){return r.getDay()}getMonthNames(r){let i=new Intl.DateTimeFormat(this.locale,{month:r,timeZone:"utc"});return iC(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){let r=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return iC(31,i=>this._format(r,new Date(2017,0,i+1)))}getDayOfWeekNames(r){let i=new Intl.DateTimeFormat(this.locale,{weekday:r,timeZone:"utc"});return iC(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(r){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,r)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(r){return this.getDate(this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+1,0))}clone(r){return new Date(r.getTime())}createDate(r,i,s){let o=this._createDateWithOverflow(r,i,s);return o.getMonth()!=i,o}today(){return new Date}parse(r,i){return typeof r=="number"?new Date(r):r?new Date(Date.parse(r)):null}format(r,i){if(!this.isValid(r))throw Error("NativeDateAdapter: Cannot format invalid date.");let s=new Intl.DateTimeFormat(this.locale,pe(P({},i),{timeZone:"utc"}));return this._format(s,r)}addCalendarYears(r,i){return this.addCalendarMonths(r,i*12)}addCalendarMonths(r,i){let s=this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+i,this.getDate(r));return this.getMonth(s)!=((this.getMonth(r)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(r,i){return this._createDateWithOverflow(this.getYear(r),this.getMonth(r),this.getDate(r)+i)}toIso8601(r){return[r.getUTCFullYear(),this._2digit(r.getUTCMonth()+1),this._2digit(r.getUTCDate())].join("-")}deserialize(r){if(typeof r=="string"){if(!r)return null;if(R6.test(r)){let i=new Date(r);if(this.isValid(i))return i}}return super.deserialize(r)}isDateInstance(r){return r instanceof Date}isValid(r){return!isNaN(r.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(r,i,s){let o=new Date;return o.setFullYear(r,i,s),o.setHours(0,0,0,0),o}_2digit(r){return("00"+r).slice(-2)}_format(r,i){let s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),r.format(s)}};e.\u0275fac=function(i){return new(i||e)(R(f1,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),M6={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function Lce(t=M6){return[{provide:fg,useClass:x6},{provide:A6,useValue:t}]}var Vce=(()=>{let e=class e{isErrorState(r,i){return!!(r&&r.invalid&&(r.touched||i&&i.submitted))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Tn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Tn||{}),aC=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=Tn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},p1=hc({passive:!0,capture:!0}),cC=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Cn(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){let s=this._events.get(n);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,p1)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let s=i.get(n);s&&(s.delete(r),s.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,p1)))}},m1={enterDuration:225,exitDuration:150},N6=800,g1=hc({passive:!0,capture:!0}),y1=["mousedown","touchstart"],v1=["mouseup","mouseleave","touchend","touchcancel"],md=class md{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Qr(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=P(P({},m1),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let o=r.radius||O6(e,n,i),a=e-i.left,c=n-i.top,u=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),m=f.transitionProperty,y=f.transitionDuration,E=m==="none"||y==="0s"||y==="0s, 0s"||i.width===0&&i.height===0,S=new aC(this,d,r,E);d.style.transform="scale3d(1, 1, 1)",S.state=Tn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=S);let M=null;return!E&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let V=()=>this._finishRippleTransition(S),B=()=>this._destroyRipple(S);d.addEventListener("transitionend",V),d.addEventListener("transitioncancel",B),M={onTransitionEnd:V,onTransitionCancel:B}}),this._activeRipples.set(S,M),(E||!u)&&this._finishRippleTransition(S),S}fadeOutRipple(e){if(e.state===Tn.FADING_OUT||e.state===Tn.HIDDEN)return;let n=e.element,r=P(P({},m1),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=Tn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Qr(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,y1.forEach(r=>{md._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{v1.forEach(n=>{this._triggerElement.addEventListener(n,this,g1)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Tn.FADING_IN?this._startFadeOutTransition(e):e.state===Tn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Tn.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Tn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=YD(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+N6;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!ZD(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Tn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Tn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(y1.forEach(n=>md._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(v1.forEach(n=>e.removeEventListener(n,this,g1)),this._pointerUpEventsRegistered=!1))}};md._eventManager=new cC;var lC=md;function O6(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var E1=new $("mat-ripple-global-options"),P6=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,i,s,o,a){this._elementRef=r,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new lC(this,i,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:P(P(P({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,i=0,s){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,i,P(P({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,P(P({},this.rippleConfig),r))}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(K),j(Ye),j(E1,8),j(wi,8))},e.\u0275dir=De({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){i&2&&Or("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),jce=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[d1,d1]});let t=e;return t})();var _1={capture:!0},w1=["focus","mousedown","mouseenter","touchstart"],sC="mat-ripple-loader-uninitialized",oC="mat-ripple-loader-class-name",I1="mat-ripple-loader-centered",hg="mat-ripple-loader-disabled",Uce=(()=>{let e=class e{constructor(){this._document=k(ce,{optional:!0}),this._animationMode=k(wi,{optional:!0}),this._globalRippleOptions=k(E1,{optional:!0}),this._platform=k(Ye),this._ngZone=k(K),this._hosts=new Map,this._onInteraction=r=>{let i=Cn(r);if(i instanceof HTMLElement){let s=i.closest(`[${sC}="${this._globalRippleOptions?.namespace??""}"]`);s&&this._createRipple(s)}},this._ngZone.runOutsideAngular(()=>{for(let r of w1)this._document?.addEventListener(r,this._onInteraction,_1)})}ngOnDestroy(){let r=this._hosts.keys();for(let i of r)this.destroyRipple(i);for(let i of w1)this._document?.removeEventListener(i,this._onInteraction,_1)}configureRipple(r,i){r.setAttribute(sC,this._globalRippleOptions?.namespace??""),(i.className||!r.hasAttribute(oC))&&r.setAttribute(oC,i.className||""),i.centered&&r.setAttribute(I1,""),i.disabled&&r.setAttribute(hg,"")}getRipple(r){return this._hosts.get(r)||this._createRipple(r)}setDisabled(r,i){let s=this._hosts.get(r);if(s){s.disabled=i;return}i?r.setAttribute(hg,""):r.removeAttribute(hg)}_createRipple(r){if(!this._document)return;let i=this._hosts.get(r);if(i)return i;r.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",r.getAttribute(oC)),r.append(s);let o=new P6(new Ce(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=r,o.centered=r.hasAttribute(I1),o.disabled=r.hasAttribute(hg),this.attachRipple(r,o),o}attachRipple(r,i){r.removeAttribute(sC),this._hosts.set(r,i)}destroyRipple(r){let i=this._hosts.get(r);i&&(i.ngOnDestroy(),this._hosts.delete(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Hn=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Hn||{}),Hce="*";function zce(t,e){return{type:Hn.Trigger,name:t,definitions:e,options:{}}}function qce(t,e=null){return{type:Hn.Animate,styles:e,timings:t}}function Gce(t,e=null){return{type:Hn.Group,steps:t,options:e}}function Wce(t,e=null){return{type:Hn.Sequence,steps:t,options:e}}function Kce(t){return{type:Hn.Style,styles:t,offset:null}}function Qce(t,e,n){return{type:Hn.State,name:t,styles:e,options:n}}function Yce(t){return{type:Hn.Keyframes,steps:t}}function Zce(t,e,n=null){return{type:Hn.Transition,expr:t,animation:e,options:n}}function Xce(t=null){return{type:Hn.AnimateChild,options:t}}function Jce(t,e,n=null){return{type:Hn.Query,selector:t,animation:e,options:n}}var b1=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},D1=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ele="!";function k6(t,e){}var gd=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},uC="mdc-dialog--open",C1="mdc-dialog--opening",T1="mdc-dialog--closing",F6=150,L6=75,V6=(()=>{let e=class e extends nC{constructor(r,i,s,o,a,c,u,d,f){super(r,i,s,o,a,c,u,f),this._animationMode=d,this._animationStateChanged=new Ae,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?A1(this._config.enterAnimationDuration)??F6:0,this._exitAnimationDuration=this._animationsEnabled?A1(this._config.exitAnimationDuration)??L6:0,this._animationTimer=null,this._isDestroyed=!1,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(S1,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(C1,uC)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(uC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(uC),this._animationsEnabled?(this._hostElement.style.setProperty(S1,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(T1)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(r){this._actionSectionCount+=r,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(C1,T1)}_waitForAnimationToComplete(r,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._isDestroyed||(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r}))}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer),this._isDestroyed=!0}attachComponentPortal(r){let i=super.attachComponentPortal(r);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(hd),j(ce,8),j(gd),j(dd),j(K),j(Yr),j(wi,8),j(fd))},e.\u0275cmp=nr({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,s){i&2&&(Ff("id",s._config.id),or("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Or("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[Je,ar],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,s){i&1&&(Bt(0,"div",0)(1,"div",1),Ln(2,k6,0,0,"ng-template",2),xt()())},dependencies:[ld],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let t=e;return t})(),S1="--mat-dialog-transition-duration";function A1(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?rd(t.substring(0,t.length-2)):t.endsWith("s")?rd(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var pg=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(pg||{}),dC=class{constructor(e,n,r){this._ref=e,this._containerInstance=r,this._afterOpened=new Z,this._beforeClosed=new Z,this._state=pg.OPEN,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(Be(i=>i.state==="opened"),Xe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Be(i=>i.state==="closed"),Xe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Wc(this.backdropClick(),this.keydownEvents().pipe(Be(i=>i.keyCode===27&&!this.disableClose&&!cg(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),j6(this,i.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Be(n=>n.state==="closing"),Xe(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=pg.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=pg.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function j6(t,e,n){return t._closeInteractionType=e,t.close(n)}var hC=new $("MatMdcDialogData"),U6=new $("mat-mdc-dialog-default-options"),B6=new $("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=k($n);return()=>t.scrollStrategies.block()}});var $6=0,R1=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,i,s,o,a,c,u,d){this._overlay=r,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Z,this._afterOpenedAtThisLevel=new Z,this.dialogConfigClass=gd,this.afterAllClosed=ci(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Rn(void 0))),this._dialog=i.get(rC),this._dialogRefConstructor=dC,this._dialogContainerType=V6,this._dialogDataToken=hC}open(r,i){let s;i=P(P({},this._defaultOptions||new gd),i),i.id=i.id||`mat-mdc-dialog-${$6++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(r,pe(P({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:yo,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(a,c,u)=>(s=new this._dialogRefConstructor(a,i,u),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=o.componentRef,s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let i=r.length;for(;i--;)r[i].close()}};e.\u0275fac=function(i){return new(i||e)(R($n),R(xe),R(lr,8),R(U6,8),R(B6),R(e,12),R(vc),R(wi,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var z6=t=>({"pb-10":t});function q6(t,e){if(t&1){let n=R_();Bt(0,"button",12),ht("click",function(){Kv(n);let i=oa();return Qv(i.cancel())}),oA(),Bt(1,"svg",13),bi(2,"path",14),xt(),aA(),Bt(3,"span",15),aa(4,"Close modal"),xt()()}}function G6(t,e){t&1&&A_(0)}function W6(t,e){if(t&1&&Ln(0,G6,1,0,"ng-container",16),t&2){let n=oa();xs("ngTemplateOutlet",n.contentTemplateRef)}}function K6(t,e){if(t&1){let n=R_();Bt(0,"button",17),ht("click",function(){Kv(n);let i=oa();return Qv(i.cancel())}),aa(1),xt()}if(t&2){let n=oa();kn(),Ms(" ",n.cancelText," ")}}var x1=(()=>{let e=class e{constructor(r){if(this.data=r,this.doConfirm=i_(),this.doCancel=i_(),this.title="\u901A\u77E5",this.content="",this.okText="\u78BA\u8A8D",this.cancelText="\u53D6\u6D88",this.outsideClose=!1,this.showCrossBtn=!0,this.showCancelBtn=!0,this.btnCenter=!0,this.fullScreen=!1,this.data){let{title:i,content:s,okText:o,cancelText:a,showCrossBtn:c,outsideClose:u,showCancelBtn:d,contentTemplateRef:f,btnCenter:m,fullScreen:y,afterViewInit:E}=r;this.title=i??this.title,this.content=s??this.content,this.okText=o??this.okText,this.cancelText=a??this.cancelText,this.showCrossBtn=c??this.showCrossBtn,this.outsideClose=u??this.outsideClose,this.showCancelBtn=d??this.showCancelBtn,this.btnCenter=m??this.btnCenter,this.contentTemplateRef=f,this.fullScreen=y??this.fullScreen,this.afterViewInitEvent=E||(()=>{})}}ngOnInit(){}ngAfterViewInit(){this.afterViewInitEvent()}clickOutsideClose(){this.outsideClose&&this.cancel()}cancel(){this.doCancel.emit()}ok(){this.doConfirm.emit()}};e.\u0275fac=function(i){return new(i||e)(j(hC))},e.\u0275cmp=nr({type:e,selectors:[["app-modal"]],outputs:{doConfirm:"doConfirm",doCancel:"doCancel"},standalone:!0,features:[ar],decls:15,vars:10,consts:[[1,"bg-white","dark:bg-gray-700","min-w-72","min-h-48","flex","overflow-y-auto","overflow-x-hidden","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","w-full","max-w-2xl","max-h-screen","overflow-scroll"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide","default-modal",3,"click",4,"ngIf"],[1,"p-4","md:p-5","space-y-4","text-gray-900","dark:text-white","min-h-20"],[3,"innerHTML"],[1,"flex","justify-center","items-center","p-4","md:p-5","border-t","border-gray-200","rounded-b","dark:border-gray-600"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["type","button","class","ms-3 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",3,"click",4,"ngIf"],[1,"fixed","h-full","w-full","top-0","left-0","-z-10",3,"click"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[4,"ngTemplateOutlet"],["type","button",1,"ms-3","text-gray-500","bg-white","hover:bg-gray-100","focus:ring-4","focus:outline-none","focus:ring-blue-300","rounded-lg","border","border-gray-200","text-sm","font-medium","px-5","py-2.5","hover:text-gray-900","focus:z-10","dark:bg-gray-700","dark:text-gray-300","dark:border-gray-500","dark:hover:text-white","dark:hover:bg-gray-600","dark:focus:ring-gray-600",3,"click"]],template:function(i,s){i&1&&(Bt(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),aa(5),xt(),Ln(6,q6,5,0,"button",5),xt(),Bt(7,"div",6),bi(8,"p",7),Ln(9,W6,1,1,"ng-container"),xt(),Bt(10,"div",8)(11,"button",9),ht("click",function(){return s.ok()}),aa(12),xt(),Ln(13,K6,2,1,"button",10),xt()()()(),Bt(14,"div",11),ht("click",function(){return s.clickOutsideClose()}),xt()),i&2&&(kn(5),Ms(" ",s.title," "),kn(),xs("ngIf",s.showCrossBtn&&s.showCancelBtn),kn(2),xs("innerHTML",s.content,LA),kn(),S_(s.contentTemplateRef?9:-1),kn(),kR(GR(8,z6,s.fullScreen)),kn(2),Ms(" ",s.okText," "),kn(),xs("ngIf",s.showCancelBtn))},dependencies:[Os,px,mx]});let t=e;return t})();var Mle=(()=>{let e=class e{constructor(r){this.dialog=r,this.modalQueue=[],this.currentModal$=new us,this.executeStatus$=new Z,this.executeModal()}executeModal(){this.executeStatus$.subscribe(()=>{this.modalQueue.length>0&&this.currentModal$.next(this.modalQueue[0])})}openConfirm(r){let i=Date.now();this.pushModalConfig(i);let s=o=>{let a={data:P({},o)};return o.fullScreen?P({maxWidth:"100vw",width:"100%"},a):a};return this.modalQueue.length===1&&this.executeStatus$.next(!0),new Promise(o=>{this.currentModal$.subscribe(a=>{if(a===i){let c=this.dialog.open(x1,s(r));o(c),c.componentInstance.doConfirm.subscribe(()=>{r.onOk&&r.onOk(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)}),c.componentInstance.doCancel.subscribe(()=>{r.onCancel&&r.onCancel(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)})}})})}pushModalConfig(r){this.modalQueue.push(r)}cleanQueue(){let r=this.modalQueue[0];this.modalQueue=[r]}};e.\u0275fac=function(i){return new(i||e)(R(R1))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U1=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(j(sr),j(Ce))},e.\u0275dir=De({type:e});let t=e;return t})(),Ed=(()=>{let e=class e extends U1{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,features:[Je]});let t=e;return t})(),_o=new $(""),Q6={provide:_o,useExisting:un(()=>Y6),multi:!0},Y6=(()=>{let e=class e extends Ed{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&ht("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Kt([Q6]),Je]});let t=e;return t})(),Z6={provide:_o,useExisting:un(()=>B1),multi:!0};function X6(){let t=cr()?cr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var J6=new $(""),B1=(()=>{let e=class e extends U1{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!X6())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(j(sr),j(Ce),j(J6,8))},e.\u0275dir=De({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ht("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Kt([Z6]),Je]});let t=e;return t})();function ts(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function $1(t){return t!=null&&typeof t.length=="number"}var Cg=new $(""),Tg=new $(""),e5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,M1=class{static min(e){return t5(e)}static max(e){return n5(e)}static required(e){return r5(e)}static requiredTrue(e){return i5(e)}static email(e){return s5(e)}static minLength(e){return o5(e)}static maxLength(e){return a5(e)}static pattern(e){return c5(e)}static nullValidator(e){return H1(e)}static compose(e){return Q1(e)}static composeAsync(e){return Y1(e)}};function t5(t){return e=>{if(ts(e.value)||ts(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function n5(t){return e=>{if(ts(e.value)||ts(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function r5(t){return ts(t.value)?{required:!0}:null}function i5(t){return t.value===!0?null:{required:!0}}function s5(t){return ts(t.value)||e5.test(t.value)?null:{email:!0}}function o5(t){return e=>ts(e.value)||!$1(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function a5(t){return e=>$1(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function c5(t){if(!t)return H1;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ts(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function H1(t){return null}function z1(t){return t!=null}function q1(t){return Ns(t)?je(t):t}function G1(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function W1(t,e){return e.map(n=>n(t))}function l5(t){return!t.validate}function K1(t){return t.map(e=>l5(e)?e:n=>e.validate(n))}function Q1(t){if(!t)return null;let e=t.filter(z1);return e.length==0?null:function(n){return G1(W1(n,e))}}function gC(t){return t!=null?Q1(K1(t)):null}function Y1(t){if(!t)return null;let e=t.filter(z1);return e.length==0?null:function(n){let r=W1(n,e).map(q1);return vy(r).pipe(de(G1))}}function yC(t){return t!=null?Y1(K1(t)):null}function N1(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Z1(t){return t._rawValidators}function X1(t){return t._rawAsyncValidators}function fC(t){return t?Array.isArray(t)?t:[t]:[]}function gg(t,e){return Array.isArray(t)?t.includes(e):t===e}function O1(t,e){let n=fC(e);return fC(t).forEach(i=>{gg(n,i)||n.push(i)}),n}function P1(t,e){return fC(e).filter(n=>!gg(t,n))}var yg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=yC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zr=class extends yg{get formDirective(){return null}get path(){return null}},vo=class extends yg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},vg=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},u5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Qle=pe(P({},u5),{"[class.ng-submitted]":"isSubmitted"}),Yle=(()=>{let e=class e extends vg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(vo,2))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Or("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Je]});let t=e;return t})(),Zle=(()=>{let e=class e extends vg{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(Zr,10))},e.\u0275dir=De({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Or("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Je]});let t=e;return t})();var yd="VALID",mg="INVALID",wc="PENDING",vd="DISABLED",ns=class{},_g=class extends ns{constructor(e,n){super(),this.value=e,this.source=n}},wd=class extends ns{constructor(e,n){super(),this.pristine=e,this.source=n}},Id=class extends ns{constructor(e,n){super(),this.touched=e,this.source=n}},Ic=class extends ns{constructor(e,n){super(),this.status=e,this.source=n}},pC=class extends ns{constructor(e){super(),this.source=e}},mC=class extends ns{constructor(e){super(),this.source=e}};function J1(t){return(Sg(t)?t.validators:t)||null}function d5(t){return Array.isArray(t)?gC(t):t||null}function eF(t,e){return(Sg(e)?e.asyncValidators:t)||null}function h5(t){return Array.isArray(t)?yC(t):t||null}function Sg(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function f5(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function p5(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var wg=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new Z,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===yd}get invalid(){return this.status===mg}get pending(){return this.status==wc}get disabled(){return this.status===vd}get enabled(){return this.status!==vd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(O1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(O1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(P1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(P1(e,this._rawAsyncValidators))}hasValidator(e){return gg(this._rawValidators,e)}hasAsyncValidator(e){return gg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(P({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Id(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Id(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(P({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new wd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new wd(!0,r))}markAsPending(e={}){this.status=wc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ic(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(P({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=vd,this.errors=null,this._forEachChild(i=>{i.disable(pe(P({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _g(this.value,r)),this._events.next(new Ic(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=yd,this._forEachChild(r=>{r.enable(pe(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(P({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yd||this.status===wc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _g(this.value,n)),this._events.next(new Ic(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(P({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vd:yd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=wc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=q1(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ic(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?vd:this.errors?mg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wc)?wc:this._anyControlsHaveStatus(mg)?mg:yd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new wd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Id(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Sg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=d5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=h5(this._rawAsyncValidators)}},Ig=class extends wg{constructor(e,n,r){super(J1(n),eF(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){p5(this,!0,e),Object.keys(e).forEach(r=>{f5(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var bd=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Ag}),Ag="always";function tF(t,e){return[...e.path,t]}function Eg(t,e,n=Ag){vC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),g5(t,e),v5(t,e),y5(t,e),m5(t,e)}function k1(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Dg(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function bg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function m5(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function vC(t,e){let n=Z1(t);e.validator!==null?t.setValidators(N1(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=X1(t);e.asyncValidator!==null?t.setAsyncValidators(N1(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();bg(e._rawValidators,i),bg(e._rawAsyncValidators,i)}function Dg(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=Z1(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=X1(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return bg(e._rawValidators,r),bg(e._rawAsyncValidators,r),n}function g5(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&nF(t,e)})}function y5(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&nF(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function nF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function v5(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function rF(t,e){t==null,vC(t,e)}function _5(t,e){return Dg(t,e)}function iF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function w5(t){return Object.getPrototypeOf(t.constructor)===Ed}function sF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function oF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===B1?n=s:w5(s)?r=s:i=s}),i||r||n||null}function I5(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var E5={provide:Zr,useExisting:un(()=>b5)},_d=Promise.resolve(),b5=(()=>{let e=class e extends Zr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ae,this.form=new Ig({},gC(r),yC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){_d.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Eg(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){_d.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){_d.then(()=>{let i=this._findContainer(r.path),s=new Ig({});rF(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){_d.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){_d.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,sF(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(j(Cg,10),j(Tg,10),j(bd,8))},e.\u0275dir=De({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&ht("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([E5]),Je]});let t=e;return t})();function F1(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function L1(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var aF=class extends wg{constructor(e=null,n,r){super(J1(n),eF(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(L1(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){F1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){F1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){L1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var D5=t=>t instanceof aF;var C5={provide:vo,useExisting:un(()=>T5)},V1=Promise.resolve(),T5=(()=>{let e=class e extends vo{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new aF,this._registered=!1,this.name="",this.update=new Ae,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=oF(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),iF(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Eg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){V1.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&gn(i);V1.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?tF(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(j(Zr,9),j(Cg,10),j(Tg,10),j(_o,10),j(mn,8),j(bd,8))},e.\u0275dir=De({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Kt([C5]),Je,Ut]});let t=e;return t})();var S5={provide:_o,useExisting:un(()=>A5),multi:!0},A5=(()=>{let e=class e extends Ed{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&ht("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Kt([S5]),Je]});let t=e;return t})();var cF=new $("");var R5={provide:Zr,useExisting:un(()=>x5)},x5=(()=>{let e=class e extends Zr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Eg(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){k1(r.control||null,r,!1),I5(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,sF(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new pC(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new mC(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(k1(i||null,r),D5(s)&&(Eg(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);rF(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&_5(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vC(this.form,this),this._oldForm&&Dg(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(j(Cg,10),j(Tg,10),j(bd,8))},e.\u0275dir=De({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&ht("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([R5]),Je,Ut]});let t=e;return t})();var M5={provide:vo,useExisting:un(()=>N5)},N5=(()=>{let e=class e extends vo{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=oF(this,o)}ngOnChanges(r){this._added||this._setUpControl(),iF(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return tF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(Zr,13),j(Cg,10),j(Tg,10),j(_o,10),j(cF,8))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Kt([M5]),Je,Ut]});let t=e;return t})(),O5={provide:_o,useExisting:un(()=>uF),multi:!0};function lF(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function P5(t){return t.split(":")[0]}var uF=(()=>{let e=class e extends Ed{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=lF(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=P5(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&ht("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([O5]),Je]});let t=e;return t})(),Jle=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(lF(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(sr),j(uF,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),k5={provide:_o,useExisting:un(()=>dF),multi:!0};function j1(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function F5(t){return t.split(":")[0]}var dF=(()=>{let e=class e extends Ed{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],d=this._getOptionValue(u.value);s.push(d)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let d=this._getOptionValue(u.value);s.push(d)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=F5(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Pn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&ht("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Kt([k5]),Je]});let t=e;return t})(),eue=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(j1(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(j1(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Ce),j(sr),j(dF,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var hF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var _C=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:bd,useValue:r.callSetDisabledState??Ag}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[hF]});let t=e;return t})(),wC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:cF,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:bd,useValue:r.callSetDisabledState??Ag}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[hF]});let t=e;return t})();var L5=[Os,_C,wC,jw],oue=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[L5,Os,_C,wC,jw]});let t=e;return t})();export{P as a,pe as b,V5 as c,j5 as d,U5 as e,_ as f,Ne as g,re as h,Z as i,Ze as j,G0 as k,Ft as l,U7 as m,te as n,Oo as o,de as p,Gn as q,ci as r,Gc as s,OL as t,Wc as u,PL as v,Be as w,Xe as x,FL as y,jL as z,gT as A,Rn as B,Zt as C,Kn as D,it as E,Q as F,un as G,L as H,Ee as I,$ as J,KL as K,R as L,k as M,Rt as N,vS as O,nr as P,be as Q,De as R,Rr as S,AV as T,St as U,Ut as V,Kv as W,Qv as X,oA as Y,aA as Z,Pn as _,r_ as $,xe as aa,i_ as ba,ste as ca,Ce as da,Ae as ea,fn as fa,wi as ga,kn as ha,j as ia,XA as ja,On as ka,Xo as la,K as ma,E_ as na,Ei as oa,pn as pa,C_ as qa,lte as ra,Je as sa,Nr as ta,Ln as ua,or as va,xs as wa,T_ as xa,Or as ya,kR as za,S_ as Aa,ute as Ba,dte as Ca,hte as Da,fte as Ea,Bt as Fa,xt as Ga,bi as Ha,R_ as Ia,Ff as Ja,H2 as Ka,ht as La,Y2 as Ma,oa as Na,HR as Oa,zR as Pa,e$ as Qa,Lf as Ra,_l as Sa,wl as Ta,pte as Ua,mte as Va,gte as Wa,aa as Xa,r$ as Ya,Ms as Za,i$ as _a,yte as $a,s$ as ab,Kt as bb,ar as cb,GR as db,vte as eb,_te as fb,wte as gb,Uf as hb,Pr as ib,Ite as jb,mn as kb,gn as lb,ex as mb,Ete as nb,ce as ob,ux as pb,Hte as qb,px as rb,mx as sb,zte as tb,Os as ub,G_ as vb,yx as wb,une as xb,dne as yb,hne as zb,Ti as Ab,ZH as Bb,jn as Cb,xne as Db,Mne as Eb,jw as Fb,kne as Gb,Ere as Hb,bre as Ib,Dre as Jb,Hs as Kb,pie as Lb,XI as Mb,LN as Nb,yie as Ob,nt as Pb,nd as Qb,Xse as Rb,Jse as Sb,eoe as Tb,toe as Ub,noe as Vb,roe as Wb,ioe as Xb,soe as Yb,ooe as Zb,aoe as _b,coe as $b,loe as ac,uoe as bc,doe as cc,hoe as dc,foe as ec,poe as fc,moe as gc,R8 as hc,rd as ic,uc as jc,Qr as kc,_oe as lc,Ye as mc,Toe as nc,hc as oc,zk as pc,fc as qc,Cn as rc,ad as sc,Gk as tc,LD as uc,qk as vc,pc as wc,mc as xc,gc as yc,ld as zc,yc as Ac,cg as Bc,ud as Cc,Yr as Dc,qD as Ec,$n as Fc,WD as Gc,t1 as Hc,i1 as Ic,Dae as Jc,dd as Kc,hd as Lc,Gae as Mc,YD as Nc,ZD as Oc,Wae as Pc,fd as Qc,Kae as Rc,u1 as Sc,yo as Tc,nC as Uc,rC as Vc,D6 as Wc,kce as Xc,Fce as Yc,d1 as Zc,h1 as _c,fg as $c,A6 as ad,x6 as bd,Lce as cd,Vce as dd,jce as ed,Uce as fd,Hn as gd,Hce as hd,zce as id,qce as jd,Gce as kd,Wce as ld,Kce as md,Qce as nd,Yce as od,Zce as pd,Xce as qd,Jce as rd,b1 as sd,D1 as td,ele as ud,Mle as vd,_o as wd,Y6 as xd,B1 as yd,Cg as zd,M1 as Ad,Zr as Bd,vo as Cd,Yle as Dd,Zle as Ed,Ig as Fd,b5 as Gd,aF as Hd,T5 as Id,A5 as Jd,x5 as Kd,N5 as Ld,uF as Md,Jle as Nd,eue as Od,_C as Pd,oue as Qd};
