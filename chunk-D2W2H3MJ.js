var aV=Object.create;var vy=Object.defineProperty,cV=Object.defineProperties,uV=Object.getOwnPropertyDescriptor,lV=Object.getOwnPropertyDescriptors,dV=Object.getOwnPropertyNames,Jd=Object.getOwnPropertySymbols,tT=Object.getPrototypeOf,_y=Object.prototype.hasOwnProperty,nT=Object.prototype.propertyIsEnumerable,hV=Reflect.get;var eT=(t,e,n)=>e in t?vy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})_y.call(e,n)&&eT(t,n,e[n]);if(Jd)for(var n of Jd(e))nT.call(e,n)&&eT(t,n,e[n]);return t},pe=(t,e)=>cV(t,lV(e));var TQ=(t,e)=>{var n={};for(var r in t)_y.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Jd)for(var r of Jd(t))e.indexOf(r)<0&&nT.call(t,r)&&(n[r]=t[r]);return n};var SQ=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var fV=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dV(e))!_y.call(t,i)&&i!==n&&vy(t,i,{get:()=>e[i],enumerable:!(r=uV(e,i))||r.enumerable});return t};var AQ=(t,e,n)=>(n=t!=null?aV(tT(t)):{},fV(e||!t||!t.__esModule?vy(n,"default",{value:t,enumerable:!0}):n,t));var Yn=(t,e,n)=>hV(tT(t),n,e);var v=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(l){i(l)}},o=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function rT(t,e){return Object.is(t,e)}var lt=null,tu=!1,eh=1,fn=Symbol("SIGNAL");function ye(t){let e=lt;return lt=t,e}function pV(){return tu}var ru={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function nh(t){if(tu)throw new Error("");if(lt===null)return;lt.consumerOnSignalRead(t);let e=lt.nextProducerIndex++;if(Oo(lt),e<lt.producerNode.length&&lt.producerNode[e]!==t&&nu(lt)){let n=lt.producerNode[e];oh(n,lt.producerIndexOfThis[e])}lt.producerNode[e]!==t&&(lt.producerNode[e]=t,lt.producerIndexOfThis[e]=nu(lt)?cT(t,lt,e):0),lt.producerLastReadVersion[e]=t.version}function gV(){eh++}function iT(t){if(!(nu(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===eh)){if(!t.producerMustRecompute(t)&&!sh(t)){t.dirty=!1,t.lastCleanEpoch=eh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=eh}}function sT(t){if(t.liveConsumerNode===void 0)return;let e=tu;tu=!0;try{for(let n of t.liveConsumerNode)n.dirty||aT(n)}finally{tu=e}}function oT(){return lt?.consumerAllowSignalWrites!==!1}function aT(t){t.dirty=!0,sT(t),t.consumerMarkedDirty?.(t)}function rh(t){return t&&(t.nextProducerIndex=0),ye(t)}function ih(t,e){if(ye(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(nu(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)oh(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function sh(t){Oo(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(iT(n),r!==n.version))return!0}return!1}function by(t){if(Oo(t),nu(t))for(let e=0;e<t.producerNode.length;e++)oh(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function cT(t,e,n){if(uT(t),Oo(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=cT(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function oh(t,e){if(uT(t),Oo(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)oh(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Oo(i),i.producerIndexOfThis[r]=e}}function nu(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Oo(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function uT(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lT(t){let e=Object.create(mV);e.computation=t;let n=()=>{if(iT(e),nh(e),e.value===th)throw e.error;return e.value};return n[fn]=e,n}var wy=Symbol("UNSET"),Iy=Symbol("COMPUTING"),th=Symbol("ERRORED"),mV=pe(O({},ru),{value:wy,dirty:!0,error:null,equal:rT,producerMustRecompute(t){return t.value===wy||t.value===Iy},producerRecomputeValue(t){if(t.value===Iy)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Iy;let n=rh(t),r;try{r=t.computation()}catch(i){r=th,t.error=i}finally{ih(t,n)}if(e!==wy&&e!==th&&r!==th&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function yV(){throw new Error}var dT=yV;function hT(){dT()}function fT(t){dT=t}var vV=null;function pT(t){let e=Object.create(Dy);e.value=t;let n=()=>(nh(e),e.value);return n[fn]=e,n}function ah(t,e){oT()||hT(),t.equal(t.value,e)||(t.value=e,_V(t))}function gT(t,e){oT()||hT(),ah(t,e(t.value))}var Dy=pe(O({},ru),{equal:rT,value:void 0});function _V(t){t.version++,gV(),sT(t),vV?.()}function mT(t,e,n){let r=Object.create(wV);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;let i=c=>{r.cleanupFn=c};function s(c){return c.fn===null&&c.schedule===null}function o(c){s(c)||(by(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Ey)}let a=()=>{if(r.fn===null)return;if(pV())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!sh(r))return;r.hasRun=!0;let c=rh(r);try{r.cleanupFn(),r.cleanupFn=Ey,r.fn(i)}finally{ih(r,c)}};return r.ref={notify:()=>aT(r),run:a,cleanup:()=>r.cleanupFn(),destroy:()=>o(r),[fn]:r},r.ref}var Ey=()=>{},wV=pe(O({},ru),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule!==null&&t.schedule(t.ref)},hasRun:!1,cleanupFn:Ey});function X(t){return typeof t=="function"}function Po(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ch=Po(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof ch?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{yT(s)}catch(o){e=e??[],o instanceof ch?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ch(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yT(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fs(n,e)}remove(e){let{_finalizers:n}=this;n&&fs(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var Cy=ke.EMPTY;function uh(t){return t instanceof ke||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function yT(t){X(t)?t():t.unsubscribe()}var Mn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(t,e,...n){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lh(t){Fo.setTimeout(()=>{let{onUnhandledError:e}=Mn;if(e)e(t);else throw t})}function Rr(){}var vT=Ty("C",void 0,void 0);function _T(t){return Ty("E",void 0,t)}function wT(t){return Ty("N",t,void 0)}function Ty(t,e,n){return{kind:t,value:e,error:n}}var ps=null;function Lo(t){if(Mn.useDeprecatedSynchronousErrorHandling){let e=!ps;if(e&&(ps={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ps;if(ps=null,n)throw r}}else t()}function IT(t){Mn.useDeprecatedSynchronousErrorHandling&&ps&&(ps.errorThrown=!0,ps.error=t)}var gs=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uh(e)&&e.add(this)):this.destination=bV}static create(e,n,r){return new Vo(e,n,r)}next(e){this.isStopped?Ay(wT(e),this):this._next(e)}error(e){this.isStopped?Ay(_T(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ay(vT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IV=Function.prototype.bind;function Sy(t,e){return IV.call(t,e)}var Ry=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){dh(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){dh(r)}else dh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){dh(n)}}},Vo=class extends gs{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Mn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sy(e.next,s),error:e.error&&Sy(e.error,s),complete:e.complete&&Sy(e.complete,s)}):i=e}this.destination=new Ry(i)}};function dh(t){Mn.useDeprecatedSynchronousErrorHandling?IT(t):lh(t)}function EV(t){throw t}function Ay(t,e){let{onStoppedNotification:n}=Mn;n&&Fo.setTimeout(()=>n(t,e))}var bV={closed:!0,next:Rr,error:EV,complete:Rr};var jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Lt(t){return t}function hh(...t){return xy(t)}function xy(t){return t.length===0?Lt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=CV(n)?n:new Vo(n,r,i);return Lo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ET(r),new r((i,s)=>{let o=new Vo({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[jo](){return this}pipe(...n){return xy(n)(this)}toPromise(n){return n=ET(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ET(t){var e;return(e=t??Mn.Promise)!==null&&e!==void 0?e:Promise}function DV(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function CV(t){return t&&t instanceof gs||DV(t)&&uh(t)}function My(t){return X(t?.lift)}function ce(t){return e=>{if(My(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function oe(t,e,n,r,i){return new Ny(t,e,n,r,i)}var Ny=class extends gs{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Uo(){return ce((t,e)=>{let n=null;t._refCount++;let r=oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ci=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,My(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Uo()(this)}};var Bo={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=Bo;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=e(s=>{n=void 0,t(s)});return new ke(()=>n?.(i))},requestAnimationFrame(...t){let{delegate:e}=Bo;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Bo;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var bT=Po(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new fh(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new bT}next(n){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Cy:(this.currentObservers=null,s.push(n),new ke(()=>{this.currentObservers=null,fs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new fh(e,n),t})(),fh=class extends J{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cy}};var Xe=class extends J{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var iu={now(){return(iu.delegate||Date).now()},delegate:void 0};var su=class extends J{constructor(e=1/0,n=1/0,r=iu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;n||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){let o=n.now(),a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}};var ph=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var ou={setInterval(t,e,...n){let{delegate:r}=ou;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ou;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ui=class extends ph{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return ou.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ou.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $o=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$o.now=iu.now;var li=class extends $o{constructor(e,n=$o.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var pn=new li(ui),ky=pn;var gh=class extends ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var mh=class extends li{};var Oy=new mh(gh);var yh=class extends ui{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,r=0){return r!==null&&r>0?super.requestAsyncId(e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=Bo.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(e,n,r);let{actions:s}=e;n!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==n&&(Bo.cancelAnimationFrame(n),e._scheduled=void 0)}};var vh=class extends li{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;e=e||r.shift();do if(i=e.execute(e.state,e.delay))break;while((e=r[0])&&e.id===n&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===n&&r.shift();)e.unsubscribe();throw i}}};var DT=new vh(yh);var Vt=new re(t=>t.complete());function _h(t){return t&&X(t.schedule)}function Py(t){return t[t.length-1]}function wh(t){return X(Py(t))?t.pop():void 0}function Zn(t){return _h(Py(t))?t.pop():void 0}function CT(t,e){return typeof Py(t)=="number"?t.pop():e}function Ih(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function AZ(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function ST(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(f){o(f)}}function c(d){try{l(r.throw(d))}catch(f){o(f)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function TT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ms(t){return this instanceof ms?(this.v=t,this):new ms(t)}function AT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(y){return new Promise(function(E,S){s.push([g,y,E,S])>1||a(g,y)})})}function a(g,y){try{c(r[g](y))}catch(E){f(s[0][3],E)}}function c(g){g.value instanceof ms?Promise.resolve(g.value.v).then(l,d):f(s[0][2],g)}function l(g){a("next",g)}function d(g){a("throw",g)}function f(g,y){g(y),s.shift(),s.length&&a(s[0][0],s[0][1])}}function RT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof TT=="function"?TT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Ho=t=>t&&typeof t.length=="number"&&typeof t!="function";function Eh(t){return X(t?.then)}function bh(t){return X(t[jo])}function Dh(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function Ch(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TV(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Th=TV();function Sh(t){return X(t?.[Th])}function Ah(t){return AT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ms(n.read());if(i)return yield ms(void 0);yield yield ms(r)}}finally{n.releaseLock()}})}function Rh(t){return X(t?.getReader)}function Me(t){if(t instanceof re)return t;if(t!=null){if(bh(t))return SV(t);if(Ho(t))return AV(t);if(Eh(t))return RV(t);if(Dh(t))return xT(t);if(Sh(t))return xV(t);if(Rh(t))return MV(t)}throw Ch(t)}function SV(t){return new re(e=>{let n=t[jo]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AV(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RV(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lh)})}function xV(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function xT(t){return new re(e=>{NV(t,e).catch(n=>e.error(n))})}function MV(t){return xT(Ah(t))}function NV(t,e){var n,r,i,s;return ST(this,void 0,void 0,function*(){try{for(n=RT(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Qt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function di(t,e=0){return ce((n,r)=>{n.subscribe(oe(r,i=>Qt(r,t,()=>r.next(i),e),()=>Qt(r,t,()=>r.complete(),e),i=>Qt(r,t,()=>r.error(i),e)))})}function hi(t,e=0){return ce((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function MT(t,e){return Me(t).pipe(hi(e),di(e))}function NT(t,e){return Me(t).pipe(hi(e),di(e))}function kT(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function OT(t,e){return new re(n=>{let r;return Qt(n,e,()=>{r=t[Th](),Qt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function xh(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{Qt(n,e,()=>{let r=t[Symbol.asyncIterator]();Qt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function PT(t,e){return xh(Ah(t),e)}function FT(t,e){if(t!=null){if(bh(t))return MT(t,e);if(Ho(t))return kT(t,e);if(Eh(t))return NT(t,e);if(Dh(t))return xh(t,e);if(Sh(t))return OT(t,e);if(Rh(t))return PT(t,e)}throw Ch(t)}function Ue(t,e){return e?FT(t,e):Me(t)}function te(...t){let e=Zn(t);return Ue(t,e)}function zo(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Mh(t){return!!t&&(t instanceof re||X(t.lift)&&X(t.subscribe))}var xr=Po(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function LT(t){return t instanceof Date&&!isNaN(t)}function de(t,e){return ce((n,r)=>{let i=0;n.subscribe(oe(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:kV}=Array;function OV(t,e){return kV(e)?t(...e):t(e)}function qo(t){return de(e=>OV(t,e))}var{isArray:PV}=Array,{getPrototypeOf:FV,prototype:LV,keys:VV}=Object;function Nh(t){if(t.length===1){let e=t[0];if(PV(e))return{args:e,keys:null};if(jV(e)){let n=VV(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function jV(t){return t&&typeof t=="object"&&FV(t)===LV}function kh(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ys(...t){let e=Zn(t),n=wh(t),{args:r,keys:i}=Nh(t);if(r.length===0)return Ue([],e);let s=new re(UV(r,e,i?o=>kh(i,o):Lt));return n?s.pipe(qo(n)):s}function UV(t,e,n=Lt){return r=>{VT(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)VT(e,()=>{let l=Ue(t[c],e),d=!1;l.subscribe(oe(r,f=>{s[c]=f,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function VT(t,e,n){t?Qt(n,t,e):e()}function jT(t,e,n,r,i,s,o,a){let c=[],l=0,d=0,f=!1,g=()=>{f&&!c.length&&!l&&e.complete()},y=S=>l<r?E(S):c.push(S),E=S=>{s&&e.next(S),l++;let M=!1;Me(n(S,d++)).subscribe(oe(e,V=>{i?.(V),s?y(V):e.next(V)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;c.length&&l<r;){let V=c.shift();o?Qt(e,o,()=>E(V)):E(V)}g()}catch(V){e.error(V)}}))};return t.subscribe(oe(e,y,()=>{f=!0,g()})),()=>{a?.()}}function Ge(t,e,n=1/0){return X(e)?Ge((r,i)=>de((s,o)=>e(r,s,i,o))(Me(t(r,i))),n):(typeof e=="number"&&(n=e),ce((r,i)=>jT(r,i,t,n)))}function fi(t=1/0){return Ge(Lt,t)}function UT(){return fi(1)}function Xn(...t){return UT()(Ue(t,Zn(t)))}function pi(t){return new re(e=>{Me(t()).subscribe(e)})}function Fy(...t){let e=wh(t),{args:n,keys:r}=Nh(t),i=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let d=0;d<o;d++){let f=!1;Me(n[d]).subscribe(oe(s,g=>{f||(f=!0,l--),a[d]=g},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(r?kh(r,a):a),s.complete())}))}});return e?i.pipe(qo(e)):i}var BV=["addListener","removeListener"],$V=["addEventListener","removeEventListener"],HV=["on","off"];function au(t,e,n,r){if(X(n)&&(r=n,n=void 0),r)return au(t,e,n).pipe(qo(r));let[i,s]=GV(t)?$V.map(o=>a=>t[o](e,a,n)):zV(t)?BV.map(BT(t,e)):qV(t)?HV.map(BT(t,e)):[];if(!i&&Ho(t))return Ge(o=>au(o,e,n))(Me(t));if(!i)throw new TypeError("Invalid event target");return new re(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function BT(t,e){return n=>r=>t[n](e,r)}function zV(t){return X(t.addListener)&&X(t.removeListener)}function qV(t){return X(t.on)&&X(t.off)}function GV(t){return X(t.addEventListener)&&X(t.removeEventListener)}function Go(t=0,e,n=ky){let r=-1;return e!=null&&(_h(e)?n=e:r=e),new re(i=>{let s=LT(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function WV(t=0,e=pn){return t<0&&(t=0),Go(t,t,e)}function cu(...t){let e=Zn(t),n=CT(t,1/0),r=t;return r.length?r.length===1?Me(r[0]):fi(n)(Ue(r,e)):Vt}var KV=new re(Rr);function He(t,e){return ce((n,r)=>{let i=0;n.subscribe(oe(r,s=>t.call(e,s,i++)&&r.next(s)))})}function $T(t){return ce((e,n)=>{let r=!1,i=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,r){r=!1;let l=i;i=null,n.next(l)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(oe(n,l=>{r=!0,i=l,s||Me(t(l)).subscribe(s=oe(n,a,c))},()=>{o=!0,(!r||!s||s.closed)&&n.complete()}))})}function Oh(t,e=pn){return $T(()=>Go(t,e))}function gi(t){return ce((e,n)=>{let r=null,i=!1,s;r=e.subscribe(oe(n,void 0,void 0,o=>{s=Me(t(o,gi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function HT(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(oe(o,d=>{let f=l++;c=a?t(c,d,f):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function vs(t,e){return X(e)?Ge(t,e,1):Ge(t,1)}function zT(t){return new re(e=>t.subscribe(e))}var QV={connector:()=>new J};function Ph(t,e=QV){let{connector:n}=e;return ce((r,i)=>{let s=n();Me(t(zT(s))).subscribe(i),i.add(r.subscribe(s))})}function Fh(t,e=pn){return ce((n,r)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=s;s=null,r.next(l)}};function c(){let l=o+t,d=e.now();if(d<l){i=this.schedule(void 0,l-d),r.add(i);return}a()}n.subscribe(oe(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}function mi(t){return ce((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Je(t){return t<=0?()=>Vt:ce((e,n)=>{let r=0;e.subscribe(oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qT(){return ce((t,e)=>{t.subscribe(oe(e,Rr))})}function uu(t){return de(()=>t)}function Ly(t,e){return e?n=>Xn(e.pipe(Je(1),qT()),n.pipe(Ly(t))):Ge((n,r)=>Me(t(n,r)).pipe(Je(1),uu(n)))}function YV(t,e=pn){let n=Go(t,e);return Ly(()=>n)}function lu(t,e=Lt){return t=t??ZV,ce((n,r)=>{let i,s=!0;n.subscribe(oe(r,o=>{let a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function ZV(t,e){return t===e}function Lh(t=XV){return ce((e,n)=>{let r=!1;e.subscribe(oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function XV(){return new xr}function du(t){return ce((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?He((i,s)=>t(i,s,r)):Lt,Je(1),n?mi(e):Lh(()=>new xr))}function Wo(t){return t<=0?()=>Vt:ce((e,n)=>{let r=[];e.subscribe(oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vy(t,e){let n=arguments.length>=2;return r=>r.pipe(t?He((i,s)=>t(i,s,r)):Lt,Wo(1),n?mi(e):Lh(()=>new xr))}function GT(t,e){let n=X(t)?t:()=>t;return X(e)?Ph(e,{connector:n}):r=>new ci(r,n)}function JV(t){return t?e=>Ph(t)(e):e=>GT(new J)(e)}function Vh(t,e){return ce(HT(t,e,arguments.length>=2,!0))}function hu(t){return He((e,n)=>t<=n)}function Nn(...t){let e=Zn(t);return ce((n,r)=>{(e?Xn(t,n,e):Xn(t,n)).subscribe(r)})}function tn(t,e){return ce((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(oe(r,c=>{i?.unsubscribe();let l=0,d=s++;Me(t(c,d)).subscribe(i=oe(r,f=>r.next(e?e(c,f,d,l++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function er(t){return ce((e,n)=>{Me(t).subscribe(oe(n,()=>n.complete(),Rr)),!n.closed&&e.subscribe(n)})}function st(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?ce((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(oe(s,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),s.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Lt}var FS="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(e_(e,n)),this.code=e}};function e_(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var LS=Symbol("InputSignalNode#UNSET"),ej=pe(O({},Dy),{transformFn:void 0,applyValueToInputSignal(t,e){ah(t,e)}});function VS(t,e){let n=Object.create(ej);n.value=t,n.transformFn=e?.transform;function r(){if(nh(n),n.value===LS)throw new Q(-950,!1);return n.value}return r[fn]=n,r}function Du(t){return{toString:t}.toString()}var jh="__parameters__";function tj(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function jS(t,e,n){return Du(()=>{let r=tj(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,l,d){let f=c.hasOwnProperty(jh)?c[jh]:Object.defineProperty(c,jh,{value:[]})[jh];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var dt=globalThis;function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function nj(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Bt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Bt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function tv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var rj=Le({__forward_ref__:Le});function mn(t){return t.__forward_ref__=mn,t.toString=function(){return Bt(this())},t}function jt(t){return US(t)?t():t}function US(t){return typeof t=="function"&&t.hasOwnProperty(rj)&&t.__forward_ref__===mn}function L(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ee(t){return{providers:t.providers||[],imports:t.imports||[]}}function Cf(t){return WT(t,$S)||WT(t,HS)}function BS(t){return Cf(t)!==null}function WT(t,e){return t.hasOwnProperty(e)?t[e]:null}function ij(t){let e=t&&(t[$S]||t[HS]);return e||null}function KT(t){return t&&(t.hasOwnProperty(QT)||t.hasOwnProperty(sj))?t[QT]:null}var $S=Le({\u0275prov:Le}),QT=Le({\u0275inj:Le}),HS=Le({ngInjectableDef:Le}),sj=Le({ngInjectorDef:Le}),B=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zS(t){return t&&!!t.\u0275providers}var oj=Le({\u0275cmp:Le}),aj=Le({\u0275dir:Le}),cj=Le({\u0275pipe:Le}),uj=Le({\u0275mod:Le}),Xh=Le({\u0275fac:Le}),fu=Le({__NG_ELEMENT_ID__:Le}),YT=Le({__NG_ENV_ID__:Le});function Cu(t){return typeof t=="string"?t:t==null?"":String(t)}function lj(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Cu(t)}function dj(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function t_(t,e){throw new Q(-201,!1)}var ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ve||{}),nv;function qS(){return nv}function Yt(t){let e=nv;return nv=t,e}function GS(t,e,n){let r=Cf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ve.Optional)return null;if(e!==void 0)return e;t_(t,"Injector")}var hj={},pu=hj,rv="__NG_DI_FLAG__",Jh="ngTempTokenPath",fj="ngTokenPath",pj=/\n/gm,gj="\u0275",ZT="__source",Zo;function mj(){return Zo}function yi(t){let e=Zo;return Zo=t,e}function yj(t,e=ve.Default){if(Zo===void 0)throw new Q(-203,!1);return Zo===null?GS(t,void 0,e):Zo.get(t,e&ve.Optional?null:void 0,e)}function R(t,e=ve.Default){return(qS()||yj)(jt(t),e)}function P(t,e=ve.Default){return R(t,Tf(e))}function Tf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function iv(t){let e=[];for(let n=0;n<t.length;n++){let r=jt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,s=ve.Default;for(let o=0;o<r.length;o++){let a=r[o],c=vj(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(R(i,s))}else e.push(R(r))}return e}function WS(t,e){return t[rv]=e,t.prototype[rv]=e,t}function vj(t){return t[rv]}function _j(t,e,n,r){let i=t[Jh];throw e[ZT]&&i.unshift(e[ZT]),t.message=wj(`
`+t.message,i,n,r),t[fj]=i,t[Jh]=null,t}function wj(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==gj?t.slice(2):t;let i=Bt(e);if(Array.isArray(e))i=e.map(Bt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Bt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(pj,`
  `)}`}var ct=WS(jS("Optional"),8);var KS=WS(jS("SkipSelf"),4);function bs(t,e){let n=t.hasOwnProperty(Xh);return n?t[Xh]:null}function Ij(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function Ej(t){return t.flat(Number.POSITIVE_INFINITY)}function n_(t,e){t.forEach(n=>Array.isArray(n)?n_(n,e):e(n))}function QS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ef(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bj(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Dj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function r_(t,e,n){let r=Tu(t,e);return r>=0?t[r|1]=n:(r=~r,Dj(t,r,e,n)),r}function jy(t,e){let n=Tu(t,e);if(n>=0)return t[n|1]}function Tu(t,e){return Cj(t,e,1)}function Cj(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Jo={},Ut=[],ea=new B(""),YS=new B("",-1),ZS=new B(""),tf=class{get(e,n=pu){if(n===pu){let r=new Error(`NullInjectorError: No provider for ${Bt(e)}!`);throw r.name="NullInjectorError",r}return n}},XS=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(XS||{}),rr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rr||{}),ta=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ta||{});function Tj(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function sv(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];Sj(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function JS(t){return t===3||t===4||t===6}function Sj(t){return t.charCodeAt(0)===64}function gu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?XT(t,n,i,null,e[++r]):XT(t,n,i,null,null))}}return t}function XT(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var eA="ng-template";function Aj(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Tj(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(i_(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function i_(t){return t.type===4&&t.value!==eA}function Rj(t,e,n){let r=t.type===4&&!n?eA:t.value;return e===r}function xj(t,e,n){let r=4,i=t.attrs,s=i!==null?kj(i):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!kn(r)&&!kn(c))return!1;if(o&&kn(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!Rj(t,c,n)||c===""&&e.length===1){if(kn(r))return!1;o=!0}}else if(r&8){if(i===null||!Aj(t,i,c,n)){if(kn(r))return!1;o=!0}}else{let l=e[++a],d=Mj(c,i,i_(t),n);if(d===-1){if(kn(r))return!1;o=!0;continue}if(l!==""){let f;if(d>s?f="":f=i[d+1].toLowerCase(),r&2&&l!==f){if(kn(r))return!1;o=!0}}}}return kn(r)||o}function kn(t){return(t&1)===0}function Mj(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Oj(e,t)}function tA(t,e,n=!1){for(let r=0;r<e.length;r++)if(xj(t,e[r],n))return!0;return!1}function Nj(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function kj(t){for(let e=0;e<t.length;e++){let n=t[e];if(JS(n))return e}return t.length}function Oj(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Pj(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function JT(t,e){return t?":not("+e.trim()+")":e}function Fj(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!kn(o)&&(e+=JT(s,i),i=""),r=o,s=s||!kn(r);n++}return i!==""&&(e+=JT(s,i)),e}function Lj(t){return t.map(Fj).join(",")}function Vj(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!kn(i))break;i=s}r++}return{attrs:e,classes:n}}function cr(t){return Du(()=>{let e=aA(t),n=pe(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===XS.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rr.Emulated,styles:t.styles||Ut,_:null,schemas:t.schemas||null,tView:null,id:""});cA(n);let r=t.dependencies;return n.directiveDefs=tS(r,!1),n.pipeDefs=tS(r,!0),n.id=Bj(n),n})}function jj(t){return Mr(t)||rA(t)}function Uj(t){return t!==null}function be(t){return Du(()=>({type:t.type,bootstrap:t.bootstrap||Ut,declarations:t.declarations||Ut,imports:t.imports||Ut,exports:t.exports||Ut,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function eS(t,e){if(t==null)return Jo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ta.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ta.None?[r,a]:r,e[s]=o):n[s]=r}return n}function De(t){return Du(()=>{let e=aA(t);return cA(e),e})}function nA(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mr(t){return t[oj]||null}function rA(t){return t[aj]||null}function iA(t){return t[cj]||null}function sA(t){let e=Mr(t)||rA(t)||iA(t);return e!==null?e.standalone:!1}function oA(t,e){let n=t[uj]||null;if(!n&&e===!0)throw new Error(`Type ${Bt(t)} does not have '\u0275mod' property.`);return n}function aA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Jo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ut,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:eS(t.inputs,e),outputs:eS(t.outputs),debugInfo:null}}function cA(t){t.features?.forEach(e=>e(t))}function tS(t,e){if(!t)return null;let n=e?iA:jj;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Uj)}function Bj(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ln(t){return{\u0275providers:t}}function $j(...t){return{\u0275providers:uA(!0,t),\u0275fromNgModule:!0}}function uA(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return n_(e,o=>{let a=o;ov(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&lA(i,s),n}function lA(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];s_(i,s=>{e(s,r)})}}function ov(t,e,n,r){if(t=jt(t),!t)return!1;let i=null,s=KT(t),o=!s&&Mr(t);if(!s&&!o){let c=t.ngModule;if(s=KT(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)ov(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{n_(s.imports,d=>{ov(d,e,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&lA(l,e)}if(!a){let l=bs(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ut},i),e({provide:ZS,useValue:i,multi:!0},i),e({provide:ea,useValue:()=>R(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let l=t;s_(c,d=>{e(d,l)})}}else return!1;return i!==t&&t.providers!==void 0}function s_(t,e){for(let n of t)zS(n)&&(n=n.\u0275providers),Array.isArray(n)?s_(n,e):e(n)}var Hj=Le({provide:String,useValue:Le});function dA(t){return t!==null&&typeof t=="object"&&Hj in t}function zj(t){return!!(t&&t.useExisting)}function qj(t){return!!(t&&t.useFactory)}function na(t){return typeof t=="function"}function Gj(t){return!!t.useClass}var Sf=new B(""),qh={},Wj={},Uy;function Af(){return Uy===void 0&&(Uy=new tf),Uy}var Rt=class{},mu=class extends Rt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cv(e,o=>this.processProvider(o)),this.records.set(YS,Ko(void 0,this)),i.has("environment")&&this.records.set(Rt,Ko(void 0,this));let s=this.records.get(Sf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ZS,Ut,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ye(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ye(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=yi(this),r=Yt(void 0),i;try{return e()}finally{yi(n),Yt(r)}}get(e,n=pu,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(YT))return e[YT](this);r=Tf(r);let i,s=yi(this),o=Yt(void 0);try{if(!(r&ve.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Xj(e)&&Cf(e);l&&this.injectableDefInScope(l)?c=Ko(av(e),qh):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ve.Self?Af():this.parent;return n=r&ve.Optional&&n===pu?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Jh]=a[Jh]||[]).unshift(Bt(e)),s)throw a;return _j(a,e,"R3InjectorError",this.source)}else throw a}finally{Yt(o),yi(s)}}resolveInjectorInitializers(){let e=ye(null),n=yi(this),r=Yt(void 0),i;try{let s=this.get(ea,Ut,ve.Self);for(let o of s)o()}finally{yi(n),Yt(r),ye(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Bt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=jt(e);let n=na(e)?e:jt(e&&e.provide),r=Qj(e);if(!na(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ko(void 0,qh,!0),i.factory=()=>iv(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ye(null);try{return n.value===qh&&(n.value=Wj,n.value=n.factory()),typeof n.value=="object"&&n.value&&Zj(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ye(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function av(t){let e=Cf(t),n=e!==null?e.factory:bs(t);if(n!==null)return n;if(t instanceof B)throw new Q(204,!1);if(t instanceof Function)return Kj(t);throw new Q(204,!1)}function Kj(t){if(t.length>0)throw new Q(204,!1);let n=ij(t);return n!==null?()=>n.factory(t):()=>new t}function Qj(t){if(dA(t))return Ko(void 0,t.useValue);{let e=hA(t);return Ko(e,qh)}}function hA(t,e,n){let r;if(na(t)){let i=jt(t);return bs(i)||av(i)}else if(dA(t))r=()=>jt(t.useValue);else if(qj(t))r=()=>t.useFactory(...iv(t.deps||[]));else if(zj(t))r=()=>R(jt(t.useExisting));else{let i=jt(t&&(t.useClass||t.provide));if(Yj(t))r=()=>new i(...iv(t.deps));else return bs(i)||av(i)}return r}function Ko(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Yj(t){return!!t.deps}function Zj(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Xj(t){return typeof t=="function"||typeof t=="object"&&t instanceof B}function cv(t,e){for(let n of t)Array.isArray(n)?cv(n,e):n&&zS(n)?cv(n.\u0275providers,e):e(n)}function yn(t,e){t instanceof mu&&t.assertNotDestroyed();let n,r=yi(t),i=Yt(void 0);try{return e()}finally{yi(r),Yt(i)}}function fA(){return qS()!==void 0||mj()!=null}function o_(t){if(!fA())throw new Q(-203,!1)}function Jj(t){return typeof t=="function"}var ur=0,ue=1,ie=2,xt=3,Pn=4,Zt=5,ra=6,yu=7,St=8,ia=9,ir=10,We=11,vu=12,nS=13,da=14,nn=15,Ds=16,Qo=17,Nr=18,Rf=19,pA=20,vi=21,Gh=22,Cs=23,_t=25,a_=1;var Ts=7,nf=8,sa=9,At=10,rf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rf||{});function _i(t){return Array.isArray(t)&&typeof t[a_]=="object"}function Pr(t){return Array.isArray(t)&&t[a_]===!0}function c_(t){return(t.flags&4)!==0}function xf(t){return t.componentOffset>-1}function Mf(t){return(t.flags&1)===1}function kr(t){return!!t.template}function uv(t){return(t[ie]&512)!==0}var lv=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function gA(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function $t(){return mA}function mA(t){return t.type.prototype.ngOnChanges&&(t.setInput=tU),eU}$t.ngInherit=!0;function eU(){let t=vA(this),e=t?.current;if(e){let n=t.previous;if(n===Jo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tU(t,e,n,r,i){let s=this.declaredInputs[r],o=vA(t)||nU(t,{previous:Jo,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new lv(l&&l.currentValue,n,c===Jo),gA(t,e,i,n)}var yA="__ngSimpleChanges__";function vA(t){return t[yA]||null}function nU(t,e){return t[yA]=e}var rS=null;var tr=function(t,e,n){rS?.(t,e,n)},_A="svg",rU="math";function sr(t){for(;Array.isArray(t);)t=t[ur];return t}function iU(t){for(;Array.isArray(t);){if(typeof t[a_]=="object")return t;t=t[ur]}return null}function wA(t,e){return sr(e[t])}function vn(t,e){return sr(e[t.index])}function u_(t,e){return t.data[e]}function IA(t,e){return t[e]}function bi(t,e){let n=e[t];return _i(n)?n:n[ur]}function sU(t){return(t[ie]&4)===4}function l_(t){return(t[ie]&128)===128}function oU(t){return Pr(t[xt])}function wi(t,e){return e==null?null:t[e]}function EA(t){t[Qo]=0}function aU(t){t[ie]&1024||(t[ie]|=1024,l_(t)&&Nf(t))}function cU(t,e){for(;t>0;)e=e[da],t--;return e}function _u(t){return!!(t[ie]&9216||t[Cs]?.dirty)}function dv(t){t[ir].changeDetectionScheduler?.notify(7),t[ie]&64&&(t[ie]|=1024),_u(t)&&Nf(t)}function Nf(t){t[ir].changeDetectionScheduler?.notify(0);let e=wu(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!l_(e)));)e=wu(e)}function bA(t,e){if((t[ie]&256)===256)throw new Q(911,!1);t[vi]===null&&(t[vi]=[]),t[vi].push(e)}function uU(t,e){if(t[vi]===null)return;let n=t[vi].indexOf(e);n!==-1&&t[vi].splice(n,1)}function wu(t){let e=t[xt];return Pr(e)?e[xt]:e}var ge={lFrame:kA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var DA=!1;function lU(){return ge.lFrame.elementDepthCount}function dU(){ge.lFrame.elementDepthCount++}function hU(){ge.lFrame.elementDepthCount--}function CA(){return ge.bindingsEnabled}function TA(){return ge.skipHydrationRootTNode!==null}function fU(t){return ge.skipHydrationRootTNode===t}function pU(){ge.skipHydrationRootTNode=null}function le(){return ge.lFrame.lView}function ze(){return ge.lFrame.tView}function d_(t){return ge.lFrame.contextLView=t,t[St]}function h_(t){return ge.lFrame.contextLView=null,t}function ht(){let t=SA();for(;t!==null&&t.type===64;)t=t.parent;return t}function SA(){return ge.lFrame.currentTNode}function gU(){let t=ge.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ks(t,e){let n=ge.lFrame;n.currentTNode=t,n.isParent=e}function f_(){return ge.lFrame.isParent}function p_(){ge.lFrame.isParent=!1}function mU(){return ge.lFrame.contextLView}function AA(){return DA}function iS(t){DA=t}function RA(){let t=ge.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function yU(t){return ge.lFrame.bindingIndex=t}function Di(){return ge.lFrame.bindingIndex++}function xA(t){let e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vU(){return ge.lFrame.inI18n}function _U(t,e){let n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,hv(e)}function wU(){return ge.lFrame.currentDirectiveIndex}function hv(t){ge.lFrame.currentDirectiveIndex=t}function g_(t){let e=ge.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function m_(){return ge.lFrame.currentQueryIndex}function kf(t){ge.lFrame.currentQueryIndex=t}function IU(t){let e=t[ue];return e.type===2?e.declTNode:e.type===1?t[Zt]:null}function MA(t,e,n){if(n&ve.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&ve.Host);)if(i=IU(s),i===null||(s=s[da],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ge.lFrame=NA();return r.currentTNode=e,r.lView=t,!0}function y_(t){let e=NA(),n=t[ue];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function NA(){let t=ge.lFrame,e=t===null?null:t.child;return e===null?kA(t):e}function kA(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function OA(){let t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var PA=OA;function v_(){let t=OA();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function EU(t){return(ge.lFrame.contextLView=cU(t,ge.lFrame.contextLView))[St]}function Ci(){return ge.lFrame.selectedIndex}function Ss(t){ge.lFrame.selectedIndex=t}function Su(){let t=ge.lFrame;return u_(t.tView,t.selectedIndex)}function FA(){ge.lFrame.currentNamespace=_A}function LA(){bU()}function bU(){ge.lFrame.currentNamespace=null}function DU(){return ge.lFrame.currentNamespace}var VA=!0;function Of(){return VA}function Pf(t){VA=t}function CU(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=mA(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ff(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function Wh(t,e,n){jA(t,e,3,n)}function Kh(t,e,n,r){(t[ie]&3)===n&&jA(t,e,n,r)}function By(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function jA(t,e,n,r){let i=r!==void 0?t[Qo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Qo]+=65536),(a<s||s==-1)&&(TU(t,n,e,c),t[Qo]=(t[Qo]&4294901760)+c+2),c++}function sS(t,e){tr(4,t,e);let n=ye(null);try{e.call(t)}finally{ye(n),tr(5,t,e)}}function TU(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ie]>>14<t[Qo]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,sS(a,s)):sS(a,s)}var Xo=-1,As=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function SU(t){return t instanceof As}function AU(t){return(t.flags&8)!==0}function RU(t){return(t.flags&16)!==0}function UA(t){return t!==Xo}function sf(t){return t&32767}function xU(t){return t>>16}function of(t,e){let n=xU(t),r=e;for(;n>0;)r=r[da],n--;return r}var fv=!0;function af(t){let e=fv;return fv=t,e}var MU=256,BA=MU-1,$A=5,NU=0,nr={};function kU(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(fu)&&(r=n[fu]),r==null&&(r=n[fu]=NU++);let i=r&BA,s=1<<i;e.data[t+(i>>$A)]|=s}function cf(t,e){let n=HA(t,e);if(n!==-1)return n;let r=e[ue];r.firstCreatePass&&(t.injectorIndex=e.length,$y(r.data,t),$y(e,null),$y(r.blueprint,null));let i=__(t,e),s=t.injectorIndex;if(UA(i)){let o=sf(i),a=of(i,e),c=a[ue].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function $y(t,e){t.push(0,0,0,0,0,0,0,0,e)}function HA(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function __(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=KA(i),r===null)return Xo;if(n++,i=i[da],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xo}function pv(t,e,n){kU(t,e,n)}function OU(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(JS(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function zA(t,e,n){if(n&ve.Optional||t!==void 0)return t;t_(e,"NodeInjector")}function qA(t,e,n,r){if(n&ve.Optional&&r===void 0&&(r=null),!(n&(ve.Self|ve.Host))){let i=t[ia],s=Yt(void 0);try{return i?i.get(e,r,n&ve.Optional):GS(e,r,n&ve.Optional)}finally{Yt(s)}}return zA(r,e,n)}function GA(t,e,n,r=ve.Default,i){if(t!==null){if(e[ie]&2048&&!(r&ve.Self)){let o=VU(t,e,n,r,nr);if(o!==nr)return o}let s=WA(t,e,n,r,nr);if(s!==nr)return s}return qA(e,n,r,i)}function WA(t,e,n,r,i){let s=FU(n);if(typeof s=="function"){if(!MA(e,t,r))return r&ve.Host?zA(i,n,r):qA(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&ve.Optional))t_(n);else return o}finally{PA()}}else if(typeof s=="number"){let o=null,a=HA(t,e),c=Xo,l=r&ve.Host?e[nn][Zt]:null;for((a===-1||r&ve.SkipSelf)&&(c=a===-1?__(t,e):e[a+8],c===Xo||!aS(r,!1)?a=-1:(o=e[ue],a=sf(c),e=of(c,e)));a!==-1;){let d=e[ue];if(oS(s,a,d.data)){let f=PU(a,e,n,o,r,l);if(f!==nr)return f}c=e[a+8],c!==Xo&&aS(r,e[ue].data[a+8]===l)&&oS(s,a,e)?(o=d,a=sf(c),e=of(c,e)):a=-1}}return i}function PU(t,e,n,r,i,s){let o=e[ue],a=o.data[t+8],c=r==null?xf(a)&&fv:r!=o&&(a.type&3)!==0,l=i&ve.Host&&s===a,d=Qh(a,o,n,c,l);return d!==null?Rs(e,o,d,a):nr}function Qh(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,d=s>>20,f=r?a:a+d,g=i?a+d:l;for(let y=f;y<g;y++){let E=o[y];if(y<c&&n===E||y>=c&&E.type===n)return y}if(i){let y=o[c];if(y&&kr(y)&&y.type===n)return c}return null}function Rs(t,e,n,r){let i=t[n],s=e.data;if(SU(i)){let o=i;o.resolving&&dj(lj(s[n]));let a=af(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Yt(o.injectImpl):null,d=MA(t,r,ve.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&CU(n,s[n],e)}finally{l!==null&&Yt(l),af(a),o.resolving=!1,PA()}}return i}function FU(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(fu)?t[fu]:void 0;return typeof e=="number"?e>=0?e&BA:LU:e}function oS(t,e,n){let r=1<<t;return!!(n[e+(t>>$A)]&r)}function aS(t,e){return!(t&ve.Self)&&!(t&ve.Host&&e)}var Es=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return GA(this._tNode,this._lView,e,Tf(r),n)}};function LU(){return new Es(ht(),le())}function Vn(t){return Du(()=>{let e=t.prototype.constructor,n=e[Xh]||gv(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Xh]||gv(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function gv(t){return US(t)?()=>{let e=gv(jt(t));return e&&e()}:bs(t)}function VU(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ie]&2048&&!(o[ie]&512);){let a=WA(s,o,n,r|ve.Self,nr);if(a!==nr)return a;let c=s.parent;if(!c){let l=o[pA];if(l){let d=l.get(n,nr,r);if(d!==nr)return d}c=KA(o),o=o[da]}s=c}return i}function KA(t){let e=t[ue],n=e.type;return n===2?e.declTNode:n===1?t[Zt]:null}function w_(t){return OU(ht(),t)}function cS(t,e=null,n=null,r){let i=QA(t,e,n,r);return i.resolveInjectorInitializers(),i}function QA(t,e=null,n=null,r,i=new Set){let s=[n||Ut,$j(t)];return r=r||(typeof t=="object"?void 0:Bt(t)),new mu(s,e||Af(),r||null,i)}var ws=class ws{static create(e,n){if(Array.isArray(e))return cS({name:""},n,e,"");{let r=e.name??"";return cS({name:r},e.parent,e.providers,r)}}};ws.THROW_IF_NOT_FOUND=pu,ws.NULL=new tf,ws.\u0275prov=L({token:ws,providedIn:"any",factory:()=>R(YS)}),ws.__NG_ELEMENT_ID__=-1;var Ce=ws;var jU=new B("");jU.__NG_ELEMENT_ID__=t=>{let e=ht();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&ve.Optional)return null;throw new Q(204,!1)};var UU="ngOriginalError";function Hy(t){return t[UU]}var gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Hy(e);for(;n&&Hy(n);)n=Hy(n);return n||null}},YA=new B("",{providedIn:"root",factory:()=>P(gn).handleError.bind(void 0)}),ha=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BU,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),mv=class extends ha{constructor(e){super(),this._lView=e}onDestroy(e){return bA(this._lView,e),()=>uU(this._lView,e)}};function BU(){return new mv(le())}var yv=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=P(gn,{optional:!0}),this.destroyRef=P(ha),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new Q(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let n=this.listeners?.indexOf(e);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(e){if(this.destroyed)throw new Q(953,!1);if(this.listeners===null)return;let n=ye(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{ye(n)}}};function I_(t){return new yv}function uS(t,e){return VS(t,e)}function $U(t){return VS(LS,t)}var Vre=(uS.required=$U,uS);function HU(){return fa(ht(),le())}function fa(t,e){return new Te(vn(t,e))}var Te=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=HU;let t=e;return t})();function ZA(t){return t instanceof Te?t.nativeElement:t}var vv=class extends J{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,fA()&&(this.destroyRef=P(ha,{optional:!0})??void 0)}emit(e){let n=ye(null);try{super.next(e)}finally{ye(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=zy(s),i&&(i=zy(i)),o&&(o=zy(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ke&&e.add(a),a}};function zy(t){return e=>{setTimeout(t,void 0,e)}}var Ae=vv;function zU(){return this._results[Symbol.iterator]()}var uf=class t{get changes(){return this._changes??=new Ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=zU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Ej(e);(this._changesDetected=!Ij(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function XA(t){return(t.flags&128)===128}var JA=new Map,qU=0;function GU(){return qU++}function WU(t){JA.set(t[Rf],t)}function KU(t){JA.delete(t[Rf])}var lS="__ngContext__";function Ii(t,e){_i(e)?(t[lS]=e[Rf],WU(e)):t[lS]=e}function eR(t){return nR(t[vu])}function tR(t){return nR(t[Pn])}function nR(t){for(;t!==null&&!Pr(t);)t=t[Pn];return t}var _v;function rR(t){_v=t}function iR(){if(_v!==void 0)return _v;if(typeof document<"u")return document;throw new Q(210,!1)}var Au=new B("",{providedIn:"root",factory:()=>QU}),QU="ng",E_=new B(""),_n=new B("",{providedIn:"platform",factory:()=>"unknown"});var Ti=new B(""),Ru=new B("",{providedIn:"root",factory:()=>iR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var YU="h",ZU="b";var XU=()=>null;function b_(t,e,n=!1){return XU(t,e,n)}var sR=!1,JU=new B("",{providedIn:"root",factory:()=>sR});var Uh;function eB(){if(Uh===void 0&&(Uh=null,dt.trustedTypes))try{Uh=dt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Uh}function Lf(t){return eB()?.createHTML(t)||t}var Bh;function oR(){if(Bh===void 0&&(Bh=null,dt.trustedTypes))try{Bh=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bh}function dS(t){return oR()?.createHTML(t)||t}function hS(t){return oR()?.createScriptURL(t)||t}var lf=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${FS})`}};function Os(t){return t instanceof lf?t.changingThisBreaksApplicationSecurity:t}function Vf(t,e){let n=tB(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${FS})`)}return n===e}function tB(t){return t instanceof lf&&t.getTypeName()||null}function nB(t){let e=new Iv(t);return rB()?new wv(e):e}var wv=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(Lf(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Iv=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=Lf(e),n}};function rB(){try{return!!new window.DOMParser().parseFromString(Lf(""),"text/html")}catch{return!1}}var iB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function D_(t){return t=String(t),t.match(iB)?t:"unsafe:"+t}function Fr(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function xu(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var aR=Fr("area,br,col,hr,img,wbr"),cR=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uR=Fr("rp,rt"),sB=xu(uR,cR),oB=xu(cR,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),aB=xu(uR,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fS=xu(aR,oB,aB,sB),lR=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cB=Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uB=Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),lB=xu(lR,cB,uB),dB=Fr("script,style,template"),Ev=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=pB(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=fB(n);if(s){n=s;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=pS(e).toLowerCase();if(!fS.hasOwnProperty(n))return this.sanitizedSomething=!0,!dB.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let s=r.item(i),o=s.name,a=o.toLowerCase();if(!lB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;lR[a]&&(c=D_(c)),this.buf.push(" ",o,'="',gS(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=pS(e).toLowerCase();fS.hasOwnProperty(n)&&!aR.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(gS(e))}};function hB(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function fB(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw dR(e);return e}function pB(t){let e=t.firstChild;if(e&&hB(t,e))throw dR(e);return e}function pS(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function dR(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var gB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mB=/([^\#-~ |!])/g;function gS(t){return t.replace(/&/g,"&amp;").replace(gB,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(mB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var $h;function hR(t,e){let n=null;try{$h=$h||nB(t);let r=e?String(e):"";n=$h.getInertBodyElement(r);let i=5,s=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=$h.getInertBodyElement(r)}while(r!==s);let a=new Ev().sanitizeChildren(mS(n)||n);return Lf(a)}finally{if(n){let r=mS(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function mS(t){return"content"in t&&yB(t)?t.content:null}function yB(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var Mu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Mu||{});function fR(t){let e=C_();return e?dS(e.sanitize(Mu.HTML,t)||""):Vf(t,"HTML")?dS(Os(t)):hR(iR(),Cu(t))}function vB(t){let e=C_();return e?e.sanitize(Mu.URL,t)||"":Vf(t,"URL")?Os(t):D_(Cu(t))}function _B(t){let e=C_();if(e)return hS(e.sanitize(Mu.RESOURCE_URL,t)||"");if(Vf(t,"ResourceURL"))return hS(Os(t));throw new Q(904,!1)}function wB(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?_B:vB}function pR(t,e,n){return wB(e,n)(t)}function C_(){let t=le();return t&&t[ir].sanitizer}var IB=/^>|^->|<!--|-->|--!>|<!-$/g,EB=/(<|>)/g,bB="\u200B$1\u200B";function DB(t){return t.replace(IB,e=>e.replace(EB,bB))}function gR(t){return t instanceof Function?t():t}function mR(t){return(t??P(Ce)).get(_n)==="browser"}var Or=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Or||{}),CB;function T_(t,e){return CB(t,e)}function Yo(t,e,n,r,i){if(r!=null){let s,o=!1;Pr(r)?s=r:_i(r)&&(o=!0,r=r[ur]);let a=sr(r);t===0&&n!==null?i==null?IR(e,n,a):df(e,n,a,i||null,!0):t===1&&n!==null?df(e,n,a,i||null,!0):t===2?UB(e,a,o):t===3&&e.destroyNode(a),s!=null&&$B(e,t,s,n,i)}}function TB(t,e){return t.createText(e)}function SB(t,e,n){t.setValue(e,n)}function AB(t,e){return t.createComment(DB(e))}function yR(t,e,n){return t.createElement(e,n)}function RB(t,e){vR(t,e),e[ur]=null,e[Zt]=null}function xB(t,e,n,r,i,s){r[ur]=i,r[Zt]=e,Bf(t,r,n,1,i,s)}function vR(t,e){e[ir].changeDetectionScheduler?.notify(8),Bf(t,e,e[We],2,null,null)}function MB(t){let e=t[vu];if(!e)return qy(t[ue],t);for(;e;){let n=null;if(_i(e))n=e[vu];else{let r=e[At];r&&(n=r)}if(!n){for(;e&&!e[Pn]&&e!==t;)_i(e)&&qy(e[ue],e),e=e[xt];e===null&&(e=t),_i(e)&&qy(e[ue],e),n=e&&e[Pn]}e=n}}function NB(t,e,n,r){let i=At+r,s=n.length;r>0&&(n[i-1][Pn]=e),r<s-At?(e[Pn]=n[i],QS(n,At+r,e)):(n.push(e),e[Pn]=null),e[xt]=n;let o=e[Ds];o!==null&&n!==o&&_R(o,e);let a=e[Nr];a!==null&&a.insertView(t),dv(e),e[ie]|=128}function _R(t,e){let n=t[sa],r=e[xt];if(_i(r))t[ie]|=rf.HasTransplantedViews;else{let i=r[xt][nn];e[nn]!==i&&(t[ie]|=rf.HasTransplantedViews)}n===null?t[sa]=[e]:n.push(e)}function S_(t,e){let n=t[sa],r=n.indexOf(e);n.splice(r,1)}function Iu(t,e){if(t.length<=At)return;let n=At+e,r=t[n];if(r){let i=r[Ds];i!==null&&i!==t&&S_(i,r),e>0&&(t[n-1][Pn]=r[Pn]);let s=ef(t,At+e);RB(r[ue],r);let o=s[Nr];o!==null&&o.detachView(s[ue]),r[xt]=null,r[Pn]=null,r[ie]&=-129}return r}function jf(t,e){if(!(e[ie]&256)){let n=e[We];n.destroyNode&&Bf(t,e,n,3,null,null),MB(e)}}function qy(t,e){if(e[ie]&256)return;let n=ye(null);try{e[ie]&=-129,e[ie]|=256,e[Cs]&&by(e[Cs]),OB(t,e),kB(t,e),e[ue].type===1&&e[We].destroy();let r=e[Ds];if(r!==null&&Pr(e[xt])){r!==e[xt]&&S_(r,e);let i=e[Nr];i!==null&&i.detachView(t)}KU(e)}finally{ye(n)}}function kB(t,e){let n=t.cleanup,r=e[yu];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[yu]=null);let i=e[vi];if(i!==null){e[vi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function OB(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof As)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];tr(4,a,c);try{c.call(a)}finally{tr(5,a,c)}}else{tr(4,i,s);try{s.call(i)}finally{tr(5,i,s)}}}}}function wR(t,e,n){return PB(t,e.parent,n)}function PB(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[ur];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===rr.None||s===rr.Emulated)return null}return vn(r,n)}}function df(t,e,n,r,i){t.insertBefore(e,n,r,i)}function IR(t,e,n){t.appendChild(e,n)}function yS(t,e,n,r,i){r!==null?df(t,e,n,r,i):IR(t,e,n)}function FB(t,e,n,r){t.removeChild(e,n,r)}function A_(t,e){return t.parentNode(e)}function LB(t,e){return t.nextSibling(e)}function ER(t,e,n){return jB(t,e,n)}function VB(t,e,n){return t.type&40?vn(t,n):null}var jB=VB,vS;function Uf(t,e,n,r){let i=wR(t,r,e),s=e[We],o=r.parent||e[Zt],a=ER(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)yS(s,i,n[c],a,!1);else yS(s,i,n,a,!1);vS!==void 0&&vS(s,r,e,n,i)}function Yh(t,e){if(e!==null){let n=e.type;if(n&3)return vn(e,t);if(n&4)return bv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Yh(t,r);{let i=t[e.index];return Pr(i)?bv(-1,i):sr(i)}}else{if(n&32)return T_(e,t)()||sr(t[e.index]);{let r=bR(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=wu(t[nn]);return Yh(i,r)}else return Yh(t,e.next)}}}return null}function bR(t,e){if(e!==null){let r=t[nn][Zt],i=e.projection;return r.projection[i]}return null}function bv(t,e){let n=At+t+1;if(n<e.length){let r=e[n],i=r[ue].firstChild;if(i!==null)return Yh(r,i)}return e[Ts]}function UB(t,e,n){let r=A_(t,e);r&&FB(t,r,e,n)}function R_(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Ii(sr(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)R_(t,e,n.child,r,i,s,!1),Yo(e,t,i,a,s);else if(c&32){let l=T_(n,r),d;for(;d=l();)Yo(e,t,i,d,s);Yo(e,t,i,a,s)}else c&16?DR(t,e,r,n,i,s):Yo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Bf(t,e,n,r,i,s){R_(n,r,t.firstChild,e,i,s,!1)}function BB(t,e,n){let r=e[We],i=wR(t,n,e),s=n.parent||e[Zt],o=ER(s,n,e);DR(r,0,e,n,i,o)}function DR(t,e,n,r,i,s){let o=n[nn],c=o[Zt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Yo(e,t,i,d,s)}else{let l=c,d=o[xt];XA(r)&&(l.flags|=128),R_(t,e,l,d,i,s,!0)}}function $B(t,e,n,r,i){let s=n[Ts],o=sr(n);s!==o&&Yo(e,t,r,s,i);for(let a=At;a<n.length;a++){let c=n[a];Bf(c[ue],c,t,e,r,s)}}function HB(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Or.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Or.Important),t.setStyle(n,r,i,s))}}function zB(t,e,n){t.setAttribute(e,"style",n)}function CR(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function TR(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&sv(t,e,r),i!==null&&CR(t,e,i),s!==null&&zB(t,e,s)}var lr={};function jn(t=1){SR(ze(),le(),Ci()+t,!1)}function SR(t,e,n,r){if(!r)if((e[ie]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Wh(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Kh(e,s,0,n)}Ss(n)}function j(t,e=ve.Default){let n=le();if(n===null)return R(t,e);let r=ht();return GA(r,n,jt(t),e)}function AR(){let t="invalid";throw new Error(t)}function RR(t,e,n,r,i,s){let o=ye(null);try{let a=null;i&ta.SignalBased&&(a=e[r][fn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ta.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):gA(e,a,r,s)}finally{ye(o)}}function qB(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ss(~i);else{let s=i,o=n[++r],a=n[++r];_U(o,s);let c=e[s];a(2,c)}}}finally{Ss(-1)}}function $f(t,e,n,r,i,s,o,a,c,l,d){let f=e.blueprint.slice();return f[ur]=i,f[ie]=r|4|128|8|64,(l!==null||t&&t[ie]&2048)&&(f[ie]|=2048),EA(f),f[xt]=f[da]=t,f[St]=n,f[ir]=o||t&&t[ir],f[We]=a||t&&t[We],f[ia]=c||t&&t[ia]||null,f[Zt]=s,f[Rf]=GU(),f[ra]=d,f[pA]=l,f[nn]=e.type==2?t[nn]:f,f}function pa(t,e,n,r,i){let s=t.data[e];if(s===null)s=GB(t,e,n,r,i),vU()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=gU();s.injectorIndex=o===null?-1:o.injectorIndex}return ks(s,!0),s}function GB(t,e,n,r,i){let s=SA(),o=f_(),a=o?s:s&&s.parent,c=t.data[e]=XB(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function xR(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function MR(t,e,n,r,i){let s=Ci(),o=r&2;try{Ss(-1),o&&e.length>_t&&SR(t,e,_t,!1),tr(o?2:0,i),n(r,i)}finally{Ss(s),tr(o?3:1,i)}}function x_(t,e,n){if(c_(e)){let r=ye(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{ye(r)}}}function M_(t,e,n){CA()&&(i2(t,e,n,vn(n,e)),(n.flags&64)===64&&OR(t,e,n))}function N_(t,e,n=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function NR(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=k_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function k_(t,e,n,r,i,s,o,a,c,l,d){let f=_t+r,g=f+i,y=WB(f,g),E=typeof l=="function"?l():l;return y[ue]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:E,incompleteFirstPass:!1,ssrId:d}}function WB(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:lr);return n}function KB(t,e,n,r){let s=r.get(JU,sR)||n===rr.ShadowDom,o=t.selectRootElement(e,s);return QB(o),o}function QB(t){YB(t)}var YB=()=>null;function ZB(t,e,n,r){let i=LR(e);i.push(n),t.firstCreatePass&&VR(t).push(r,i.length-1)}function XB(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return TA()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _S(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=ta.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?wS(r,n,l,a,c):wS(r,n,l,a)}return r}function wS(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function JB(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let d=r;d<i;d++){let f=s[d],g=n?n.get(f):null,y=g?g.inputs:null,E=g?g.outputs:null;c=_S(0,f.inputs,d,c,y),l=_S(1,f.outputs,d,l,E);let S=c!==null&&o!==null&&!i_(e)?g2(c,d,o):null;a.push(S)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function e2(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Hf(t,e,n,r,i,s,o,a){let c=vn(e,n),l=e.inputs,d;!a&&l!=null&&(d=l[r])?(P_(t,n,d,r,i),xf(e)&&t2(n,e.index)):e.type&3?(r=e2(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function t2(t,e){let n=bi(e,t);n[ie]&16||(n[ie]|=64)}function O_(t,e,n,r){if(CA()){let i=r===null?null:{"":-1},s=o2(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&kR(t,e,n,o,i,a),i&&a2(n,r,i)}n.mergedAttrs=gu(n.mergedAttrs,n.attrs)}function kR(t,e,n,r,i,s){for(let l=0;l<r.length;l++)pv(cf(n,e),t,r[l].type);u2(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let d=r[l];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=xR(t,e,r.length,null);for(let l=0;l<r.length;l++){let d=r[l];n.mergedAttrs=gu(n.mergedAttrs,d.hostAttrs),l2(t,n,e,c,d),c2(c,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}JB(t,n,s)}function n2(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;r2(o)!=a&&o.push(a),o.push(n,r,s)}}function r2(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function i2(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;xf(n)&&d2(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||cf(n,e),Ii(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],l=Rs(e,t,a,n);if(Ii(l,e),o!==null&&p2(e,a-i,l,c,n,o),kr(c)){let d=bi(n.index,e);d[St]=Rs(e,t,a,n)}}}function OR(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=wU();try{Ss(s);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];hv(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&s2(c,l)}}finally{Ss(-1),hv(o)}}function s2(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function o2(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(tA(e,o.selectors,!1))if(r||(r=[]),kr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;Dv(t,e,c)}else r.unshift(o),Dv(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Dv(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function a2(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Q(-301,!1);r.push(e[i],s)}}}function c2(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;kr(e)&&(n[""]=t)}}function u2(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function l2(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=bs(i.type,!0)),o=new As(s,kr(i),j);t.blueprint[r]=o,n[r]=o,n2(t,e,r,xR(t,n,i.hostVars,lr),i)}function d2(t,e,n){let r=vn(e,t),i=NR(n),s=t[ir].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=zf(t,$f(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function h2(t,e,n,r,i,s){let o=vn(t,e);f2(e[We],o,s,t.value,n,r,i)}function f2(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Cu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function p2(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],d=o[a++],f=o[a++];RR(r,n,c,l,d,f)}}function g2(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function PR(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function FR(t,e){let n=t.contentQueries;if(n!==null){let r=ye(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];kf(s),a.contentQueries(2,e[o],o)}}}finally{ye(r)}}}function zf(t,e){return t[vu]?t[nS][Pn]=e:t[vu]=e,t[nS]=e,e}function Cv(t,e,n){kf(0);let r=ye(null);try{e(t,n)}finally{ye(r)}}function LR(t){return t[yu]||(t[yu]=[])}function VR(t){return t.cleanup||(t.cleanup=[])}function jR(t,e,n){return(t===null||kr(t))&&(n=iU(n[e.index])),n[We]}function UR(t,e){let n=t[ia],r=n?n.get(gn,null):null;r&&r.handleError(e)}function P_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],d=t.data[o];RR(d,l,r,a,c,i)}}function m2(t,e,n){let r=wA(e,t);SB(t[We],r,n)}function y2(t,e){let n=bi(e,t),r=n[ue];v2(r,n);let i=n[ur];i!==null&&n[ra]===null&&(n[ra]=b_(i,n[ia])),F_(r,n,n[St])}function v2(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function F_(t,e,n){y_(e);try{let r=t.viewQuery;r!==null&&Cv(1,r,n);let i=t.template;i!==null&&MR(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Nr]?.finishViewCreation(t),t.staticContentQueries&&FR(t,e),t.staticViewQueries&&Cv(2,t.viewQuery,n);let s=t.components;s!==null&&_2(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,v_()}}function _2(t,e){for(let n=0;n<e.length;n++)y2(t,e[n])}function Nu(t,e,n,r){let i=ye(null);try{let s=e.tView,a=t[ie]&4096?4096:16,c=$f(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ds]=l;let d=t[Nr];return d!==null&&(c[Nr]=d.createEmbeddedView(s)),F_(s,c,n),c}finally{ye(i)}}function BR(t,e){let n=At+e;if(n<t.length)return t[n]}function oa(t,e){return!e||e.firstChild===null||XA(t)}function ku(t,e,n,r=!0){let i=e[ue];if(NB(i,e,t,n),r){let o=bv(n,t),a=e[We],c=A_(a,t[Ts]);c!==null&&xB(i,t[Zt],a,e,c,o)}let s=e[ra];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function $R(t,e){let n=Iu(t,e);return n!==void 0&&jf(n[ue],n),n}function hf(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(sr(s)),Pr(s)&&w2(s,r);let o=n.type;if(o&8)hf(t,e,n.child,r);else if(o&32){let a=T_(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=bR(e,n);if(Array.isArray(a))r.push(...a);else{let c=wu(e[nn]);hf(c[ue],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function w2(t,e){for(let n=At;n<t.length;n++){let r=t[n],i=r[ue].firstChild;i!==null&&hf(r[ue],r,i,e)}t[Ts]!==t[ur]&&e.push(t[Ts])}var HR=[];function I2(t){return t[Cs]??E2(t)}function E2(t){let e=HR.pop()??Object.create(D2);return e.lView=t,e}function b2(t){t.lView[Cs]!==t&&(t.lView=null,HR.push(t))}var D2=pe(O({},ru),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Nf(t.lView)},consumerOnSignalRead(){this.lView[Cs]=this}}),C2=100;function zR(t,e=!0,n=0){let r=t[ir],i=r.rendererFactory,s=!1;s||i.begin?.();try{T2(t,n)}catch(o){throw e&&UR(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function T2(t,e){let n=AA();try{iS(!0),Tv(t,e);let r=0;for(;_u(t);){if(r===C2)throw new Q(103,!1);r++,Tv(t,1)}}finally{iS(n)}}function S2(t,e,n,r){let i=e[ie];if((i&256)===256)return;let s=!1,o=!1;!s&&e[ir].inlineEffectRunner?.flush(),y_(e);let a=null,c=null;!s&&A2(t)&&(c=I2(e),a=rh(c));try{EA(e),yU(t.bindingStartIndex),n!==null&&MR(t,e,n,2,r);let l=(i&3)===3;if(!s)if(l){let g=t.preOrderCheckHooks;g!==null&&Wh(e,g,null)}else{let g=t.preOrderHooks;g!==null&&Kh(e,g,0,null),By(e,0)}if(o||R2(e),qR(e,0),t.contentQueries!==null&&FR(t,e),!s)if(l){let g=t.contentCheckHooks;g!==null&&Wh(e,g)}else{let g=t.contentHooks;g!==null&&Kh(e,g,1),By(e,1)}qB(t,e);let d=t.components;d!==null&&WR(e,d,0);let f=t.viewQuery;if(f!==null&&Cv(2,f,r),!s)if(l){let g=t.viewCheckHooks;g!==null&&Wh(e,g)}else{let g=t.viewHooks;g!==null&&Kh(e,g,2),By(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gh]){for(let g of e[Gh])g();e[Gh]=null}s||(e[ie]&=-73)}catch(l){throw s||Nf(e),l}finally{c!==null&&(ih(c,a),b2(c)),v_()}}function A2(t){return t.type!==2}function qR(t,e){for(let n=eR(t);n!==null;n=tR(n))for(let r=At;r<n.length;r++){let i=n[r];GR(i,e)}}function R2(t){for(let e=eR(t);e!==null;e=tR(e)){if(!(e[ie]&rf.HasTransplantedViews))continue;let n=e[sa];for(let r=0;r<n.length;r++){let i=n[r];aU(i)}}}function x2(t,e,n){let r=bi(e,t);GR(r,n)}function GR(t,e){l_(t)&&Tv(t,e)}function Tv(t,e){let r=t[ue],i=t[ie],s=t[Cs],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&sh(s)),o||=!1,s&&(s.dirty=!1),t[ie]&=-9217,o)S2(r,t,r.template,t[St]);else if(i&8192){qR(t,1);let a=r.components;a!==null&&WR(t,a,1)}}function WR(t,e,n){for(let r=0;r<e.length;r++)x2(t,e[r],n)}function L_(t,e){let n=AA()?64:1088;for(t[ir].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=wu(t);if(uv(t)&&!r)return t;t=r}return null}var xs=class{get rootNodes(){let e=this._lView,n=e[ue];return hf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[St]}set context(e){this._lView[St]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[xt];if(Pr(e)){let n=e[nf],r=n?n.indexOf(this):-1;r>-1&&(Iu(e,r),ef(n,r))}this._attachedToViewContainer=!1}jf(this._lView[ue],this._lView)}onDestroy(e){bA(this._lView,e)}markForCheck(){L_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){dv(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,zR(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=uv(this._lView),n=this._lView[Ds];n!==null&&!e&&S_(n,this._lView),vR(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=uv(this._lView),r=this._lView[Ds];r!==null&&!n&&_R(r,this._lView),dv(this._lView)}},Fn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=k2;let t=e;return t})(),M2=Fn,N2=class extends M2{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Nu(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new xs(i)}};function k2(){return qf(ht(),le())}function qf(t,e){return t.type&4?new N2(e,t,fa(t,e)):null}var Ure=new RegExp(`^(\\d+)*(${ZU}|${YU})*(.*)`);var O2=()=>null;function aa(t,e){return O2(t,e)}var ca=class{},KR=new B("",{providedIn:"root",factory:()=>!1});var QR=new B(""),Sv=class{},ff=class{};function P2(t){let e=Error(`No component factory found for ${Bt(t)}.`);return e[F2]=t,e}var F2="ngComponent";var Av=class{resolveComponentFactory(e){throw P2(e)}},X_=class X_{};X_.NULL=new Av;var or=X_,ua=class{},dr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>L2();let t=e;return t})();function L2(){let t=le(),e=ht(),n=bi(e.index,t);return(_i(n)?n:t)[We]}var V2=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Gy={};var IS=new Set;function Si(t){IS.has(t)||(IS.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function YR(t){let e=!0;return setTimeout(()=>{e&&(e=!1,t())}),typeof dt.requestAnimationFrame=="function"&&dt.requestAnimationFrame(()=>{e&&(e=!1,t())}),()=>{e=!1}}function ES(t){let e=!0;return queueMicrotask(()=>{e&&t()}),()=>{e=!1}}function bS(...t){}var W=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.callbackScheduled=!1,B2(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,j2,bS,bS);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},j2={};function V_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function U2(t){t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,Zone.root.run(()=>{YR(()=>{t.callbackScheduled=!1,Rv(t),t.isCheckStableRunning=!0,V_(t),t.isCheckStableRunning=!1})}),Rv(t))}function B2(t){let e=()=>{U2(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if($2(a))return n.invokeTask(i,s,o,a);try{return DS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),CS(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return DS(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!H2(a)&&e(),CS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Rv(t),V_(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Rv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function DS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CS(t){t._nesting--,V_(t)}var xv=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function $2(t){return ZR(t,"__ignore_ng_zone__")}function H2(t){return ZR(t,"__scheduler_tick__")}function ZR(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Is=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Is||{}),XR={destroy(){}};function j_(t,e){!e&&o_(j_);let n=e?.injector??P(Ce);if(!mR(n))return XR;Si("NgAfterRender");let r=n.get(Gf),i=r.handler??=new gf,s=e?.phase??Is.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ha).onDestroy(o),c=yn(n,()=>new pf(s,t));return i.register(c),{destroy:o}}function Ai(t,e){!e&&o_(Ai);let n=e?.injector??P(Ce);if(!mR(n))return XR;Si("NgAfterNextRender");let r=n.get(Gf),i=r.handler??=new gf,s=e?.phase??Is.MixedReadWrite,o=()=>{i.unregister(c),a()},a=n.get(ha).onDestroy(o),c=yn(n,()=>new pf(s,()=>{o(),t()}));return i.register(c),{destroy:o}}var pf=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=P(W),this.errorHandler=P(gn,{optional:!0}),P(ca,{optional:!0})?.notify(6)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},gf=class{constructor(){this.executingCallbacks=!1,this.buckets={[Is.EarlyRead]:new Set,[Is.Write]:new Set,[Is.MixedReadWrite]:new Set,[Is.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Gf=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function mf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=tv(i,a);else if(s==2){let c=a,l=e[++o];r=tv(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var yf=class extends or{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Mr(e);return new Ms(n,this.ngModule)}};function TS(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function z2(t){let e=t.toLowerCase();return e==="svg"?_A:e==="math"?rU:null}var Mv=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Tf(r);let i=this.injector.get(e,Gy,r);return i!==Gy||n===Gy?i:this.parentInjector.get(e,n,r)}},Ms=class extends ff{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=TS(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return TS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Lj(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=ye(null);try{i=i||this.ngModule;let o=i instanceof Rt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Mv(e,o):e,c=a.get(ua,null);if(c===null)throw new Q(407,!1);let l=a.get(V2,null),d=a.get(Gf,null),f=a.get(ca,null),g={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:f},y=c.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",S=r?KB(y,r,this.componentDef.encapsulation,a):yR(y,E,z2(E)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let V=null;S!==null&&(V=b_(S,a,!0));let z=k_(0,null,null,1,0,null,null,null,null,null,null),H=$f(null,z,null,M,null,null,g,y,a,null,V);y_(H);let ee,fe;try{let Y=this.componentDef,b,_=null;Y.findHostDirectiveDefs?(b=[],_=new Map,Y.findHostDirectiveDefs(Y,b,_),b.push(Y)):b=[Y];let w=q2(H,S),D=G2(w,S,Y,b,H,g,y);fe=u_(z,_t),S&&Q2(y,Y,S,r),n!==void 0&&Y2(fe,this.ngContentSelectors,n),ee=K2(D,Y,b,_,H,[Z2]),F_(z,H,null)}finally{v_()}return new Nv(this.componentType,ee,fa(fe,H),H,fe)}finally{ye(s)}}},Nv=class extends Sv{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xs(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;P_(s[ue],s,i,e,n),this.previousInputValues.set(e,n);let o=bi(this._tNode.index,s);L_(o,1)}}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function q2(t,e){let n=t[ue],r=_t;return t[r]=e,pa(n,r,2,"#host",null)}function G2(t,e,n,r,i,s,o){let a=i[ue];W2(r,t,e,o);let c=null;e!==null&&(c=b_(e,i[ia]));let l=s.rendererFactory.createRenderer(e,n),d=16;n.signals?d=4096:n.onPush&&(d=64);let f=$f(i,NR(n),null,d,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&Dv(a,t,r.length-1),zf(i,f),i[t.index]=f}function W2(t,e,n,r){for(let i of t)e.mergedAttrs=gu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(mf(e,e.mergedAttrs,!0),n!==null&&TR(r,n,e))}function K2(t,e,n,r,i,s){let o=ht(),a=i[ue],c=vn(o,i);kR(a,i,o,n,null,r);for(let d=0;d<n.length;d++){let f=o.directiveStart+d,g=Rs(i,a,f,o);Ii(g,i)}OR(a,i,o),c&&Ii(c,i);let l=Rs(i,a,o.directiveStart+o.componentOffset,o);if(t[St]=i[St]=l,s!==null)for(let d of s)d(l,e);return x_(a,o,i),l}function Q2(t,e,n,r){if(r)sv(t,n,["ng-version","18.0.1"]);else{let{attrs:i,classes:s}=Vj(e.selectors[0]);i&&sv(t,n,i),s&&s.length>0&&CR(t,n,s.join(" "))}}function Y2(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Z2(){let t=ht();Ff(le()[ue],t)}var wn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=X2;let t=e;return t})();function X2(){let t=ht();return ex(t,le())}var J2=wn,JR=class extends J2{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fa(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){let e=__(this._hostTNode,this._hostLView);if(UA(e)){let n=of(e,this._hostLView),r=sf(e),i=n[ue].data[r+8];return new Es(i,n)}else return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=SS(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=aa(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,oa(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Jj(e),a;if(o)a=n;else{let E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}let c=o?e:new Ms(Mr(e)),l=r||this.parentInjector;if(!s&&c.ngModule==null){let S=(o?l:this.parentInjector).get(Rt,null);S&&(s=S)}let d=Mr(c.componentType??{}),f=aa(this._lContainer,d?.id??null),g=f?.firstChild??null,y=c.create(l,i,g,s);return this.insertImpl(y.hostView,a,oa(this._hostTNode,f)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(oU(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[xt],l=new JR(c,c[Zt],c[xt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return ku(o,i,s,r),e.attachToViewContainerRef(),QS(Wy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=SS(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Iu(this._lContainer,n);r&&(ef(Wy(this._lContainer),n),jf(r[ue],r))}detach(e){let n=this._adjustIndex(e,-1),r=Iu(this._lContainer,n);return r&&ef(Wy(this._lContainer),n)!=null?new xs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function SS(t){return t[nf]}function Wy(t){return t[nf]||(t[nf]=[])}function ex(t,e){let n,r=e[t.index];return Pr(r)?n=r:(n=PR(r,e,null,t),e[t.index]=n,zf(e,n)),t$(n,e,t,r),new JR(n,t,e)}function e$(t,e){let n=t[We],r=n.createComment(""),i=vn(e,t),s=A_(n,i);return df(n,s,r,LB(n,i),!1),r}var t$=i$,n$=()=>!1;function r$(t,e,n){return n$(t,e,n)}function i$(t,e,n,r){if(t[Ts])return;let i;n.type&8?i=sr(r):i=e$(e,n),t[Ts]=i}var kv=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ov=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)B_(e,n).matches!==null&&this.queries[n].setDirty()}},vf=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=l$(e):this.predicate=e}},Pv=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Fv=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,s$(n,s)),this.matchTNodeWithReadOption(e,n,Qh(n,e,s,!1,!1))}else r===Fn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Qh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Te||i===wn||i===Fn&&n.type&4)this.addMatch(n.index,-2);else{let s=Qh(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function s$(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function o$(t,e){return t.type&11?fa(t,e):t.type&4?qf(t,e):null}function a$(t,e,n,r){return n===-1?o$(e,t):n===-2?c$(t,e,r):Rs(t,t[ue],n,e)}function c$(t,e,n){if(n===Te)return fa(e,t);if(n===Fn)return qf(e,t);if(n===wn)return ex(e,t)}function tx(t,e,n,r){let i=e[Nr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let d=s[l];a.push(a$(e,d,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Lv(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=tx(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let l=s[a+1],d=e[-c];for(let f=At;f<d.length;f++){let g=d[f];g[Ds]===g[xt]&&Lv(g[ue],g,l,r)}if(d[sa]!==null){let f=d[sa];for(let g=0;g<f.length;g++){let y=f[g];Lv(y[ue],y,l,r)}}}}}return r}function U_(t,e){return t[Nr].queries[e].queryList}function nx(t,e,n){let r=new uf((n&4)===4);return ZB(t,e,r,r.destroy),(e[Nr]??=new Ov).queries.push(new kv(r))-1}function rx(t,e,n){let r=ze();return r.firstCreatePass&&(ix(r,new vf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),nx(r,le(),e)}function u$(t,e,n,r){let i=ze();if(i.firstCreatePass){let s=ht();ix(i,new vf(e,n,r),s.index),d$(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return nx(i,le(),n)}function l$(t){return t.split(",").map(e=>e.trim())}function ix(t,e,n){t.queries===null&&(t.queries=new Pv),t.queries.track(new Fv(e,n))}function d$(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function B_(t,e){return t.queries.getByIndex(e)}function sx(t,e){let n=t[ue],r=B_(n,e);return r.crossesNgTemplate?Lv(n,t,e,[]):tx(n,t,r,e)}function ox(t){return typeof t=="function"&&t[fn]!==void 0}function $_(t,e){Si("NgSignals");let n=pT(t),r=n[fn];return e?.equal&&(r.equal=e.equal),n.set=i=>ah(r,i),n.update=i=>gT(r,i),n.asReadonly=h$.bind(n),n}function h$(){let t=this[fn];if(t.readonlyFn===void 0){let e=()=>this();e[fn]=t,t.readonlyFn=e}return t.readonlyFn}function ax(t){return ox(t)&&typeof t.set=="function"}function cx(t,e){let n,r=lT(()=>{n._dirtyCounter();let i=m$(n,t);if(e&&i===void 0)throw new Q(-951,!1);return i});return n=r[fn],n._dirtyCounter=$_(0),n._flatValue=void 0,r}function f$(){return cx(!0,!1)}function p$(){return cx(!0,!0)}function g$(t,e){let n=t[fn];n._lView=le(),n._queryIndex=e,n._queryList=U_(n._lView,e),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function m$(t,e){let n=t._lView,r=t._queryIndex;if(n===void 0||r===void 0||n[ie]&4)return e?void 0:Ut;let i=U_(n,r),s=sx(n,r);return i.reset(s,ZA),e?i.first:i._changesDetected||t._flatValue===void 0?t._flatValue=i.toArray():t._flatValue}function AS(t,e){return f$()}function y$(t,e){return p$()}var $re=(AS.required=y$,AS);function v$(t){return Object.getPrototypeOf(t.prototype).constructor}function et(t){let e=v$(t.type),n=!0,r=[t];for(;e;){let i;if(kr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Hh(t.inputs),o.inputTransforms=Hh(t.inputTransforms),o.declaredInputs=Hh(t.declaredInputs),o.outputs=Hh(t.outputs);let a=i.hostBindings;a&&b$(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&I$(t,c),l&&E$(t,l),_$(t,i),nj(t.outputs,i.outputs),kr(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===et&&(n=!1)}}e=Object.getPrototypeOf(e)}w$(r)}function _$(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function w$(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=gu(i.hostAttrs,n=gu(n,i.hostAttrs))}}function Hh(t){return t===Jo?{}:t===Ut?[]:t}function I$(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function E$(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function b$(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Lr(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ei=class{},Eu=class{};var Vv=class extends Ei{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yf(this);let i=oA(e);this._bootstrapComponents=gR(i.bootstrap),this._r3Injector=QA(e,n,[{provide:Ei,useValue:this},{provide:or,useValue:this.componentFactoryResolver},...r],Bt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},jv=class extends Eu{constructor(e){super(),this.moduleType=e}create(e){return new Vv(this.moduleType,e,[])}};var _f=class extends Ei{constructor(e){super(),this.componentFactoryResolver=new yf(this),this.instance=null;let n=new mu([...e.providers,{provide:Ei,useValue:this},{provide:or,useValue:this.componentFactoryResolver}],e.parent||Af(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Wf(t,e,n=null){return new _f({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ga=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function D$(t,e,n){return t[e]=n}function Un(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function C$(t){return(t.flags&32)===32}function T$(t,e,n,r,i,s,o,a,c){let l=e.consts,d=pa(e,t,4,o||null,a||null);O_(e,n,d,wi(l,c)),Ff(e,d);let f=d.tView=k_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}function wf(t,e,n,r,i,s,o,a,c,l){let d=n+_t,f=e.firstCreatePass?T$(d,e,t,r,i,s,o,a,c):e.data[d];ks(f,!1);let g=S$(e,t,f,n);Of()&&Uf(e,t,g,f),Ii(g,t);let y=PR(g,t,g,f);return t[d]=y,zf(t,y),r$(y,f,t),Mf(f)&&M_(e,t,f),c!=null&&N_(t,f,l),f}function Bn(t,e,n,r,i,s,o,a){let c=le(),l=ze(),d=wi(l.consts,s);return wf(c,l,t,e,n,r,i,d,o,a),Bn}var S$=A$;function A$(t,e,n,r){return Pf(!0),e[We].createComment("")}function hr(t,e,n,r){let i=le(),s=Di();if(Un(i,s,e)){let o=ze(),a=Su();h2(a,i,t,e,n,r)}return hr}function R$(t,e,n,r){return Un(t,Di(),n)?e+Cu(n)+r:lr}function zh(t,e){return t<<17|e<<2}function Ns(t){return t>>17&32767}function x$(t){return(t&2)==2}function M$(t,e){return t&131071|e<<17}function Uv(t){return t|2}function la(t){return(t&131068)>>2}function Ky(t,e){return t&-131069|e<<2}function N$(t){return(t&1)===1}function Bv(t){return t|1}function k$(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ns(o),c=la(o);t[r]=n;let l=!1,d;if(Array.isArray(n)){let f=n;d=f[1],(d===null||Tu(f,d)>0)&&(l=!0)}else d=n;if(i)if(c!==0){let g=Ns(t[a+1]);t[r+1]=zh(g,a),g!==0&&(t[g+1]=Ky(t[g+1],r)),t[a+1]=M$(t[a+1],r)}else t[r+1]=zh(a,0),a!==0&&(t[a+1]=Ky(t[a+1],r)),a=r;else t[r+1]=zh(c,0),a===0?a=r:t[c+1]=Ky(t[c+1],r),c=r;l&&(t[r+1]=Uv(t[r+1])),RS(t,d,r,!0),RS(t,d,r,!1),O$(e,d,t,r,s),o=zh(a,c),s?e.classBindings=o:e.styleBindings=o}function O$(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Tu(s,e)>=0&&(n[r+1]=Bv(n[r+1]))}function RS(t,e,n,r){let i=t[n+1],s=e===null,o=r?Ns(i):la(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];P$(c,e)&&(a=!0,t[o+1]=r?Bv(l):Uv(l)),o=r?Ns(l):la(l)}a&&(t[n+1]=r?Uv(i):Bv(i))}function P$(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Tu(t,e)>=0:!1}var On={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function F$(t){return t.substring(On.key,On.keyEnd)}function L$(t){return V$(t),ux(t,lx(t,0,On.textEnd))}function ux(t,e){let n=On.textEnd;return n===e?-1:(e=On.keyEnd=j$(t,On.key=e,n),lx(t,e,n))}function V$(t){On.key=0,On.keyEnd=0,On.value=0,On.valueEnd=0,On.textEnd=t.length}function lx(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function j$(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ps(t,e,n){let r=le(),i=Di();if(Un(r,i,e)){let s=ze(),o=Su();Hf(s,o,r,t,e,r[We],n,!1)}return Ps}function $v(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";P_(t,n,s[o],o,r)}function H_(t,e,n){return hx(t,e,n,!1),H_}function Vr(t,e){return hx(t,e,null,!0),Vr}function dx(t){B$(W$,U$,t,!0)}function U$(t,e){for(let n=L$(e);n>=0;n=ux(e,n))r_(t,F$(e),!0)}function hx(t,e,n,r){let i=le(),s=ze(),o=xA(2);if(s.firstUpdatePass&&px(s,t,o,r),e!==lr&&Un(i,o,e)){let a=s.data[Ci()];gx(s,a,i,i[We],t,i[o+1]=Q$(e,n),r,o)}}function B$(t,e,n,r){let i=ze(),s=xA(2);i.firstUpdatePass&&px(i,null,s,r);let o=le();if(n!==lr&&Un(o,s,n)){let a=i.data[Ci()];if(mx(a,r)&&!fx(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=tv(c,n||"")),$v(i,a,o,n,r)}else K$(i,a,o,o[We],o[s+1],o[s+1]=G$(t,e,n),r,s)}}function fx(t,e){return e>=t.expandoStartIndex}function px(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ci()],o=fx(t,n);mx(s,r)&&e===null&&!o&&(e=!1),e=$$(i,s,e,r),k$(i,s,e,n,o,r)}}function $$(t,e,n,r){let i=g_(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Qy(null,t,e,n,r),n=bu(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Qy(i,t,e,n,r),s===null){let c=H$(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Qy(null,t,e,c[1],r),c=bu(c,e.attrs,r),z$(t,e,r,c))}else s=q$(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function H$(t,e,n){let r=n?e.classBindings:e.styleBindings;if(la(r)!==0)return t[Ns(r)]}function z$(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Ns(i)]=r}function q$(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=bu(r,o,n)}return bu(r,e.attrs,n)}function Qy(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=bu(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function bu(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),r_(t,o,n?!0:e[++s]))}return t===void 0?null:t}function G$(t,e,n){if(n==null||n==="")return Ut;let r=[],i=Os(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function W$(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&r_(t,r,n)}function K$(t,e,n,r,i,s,o,a){i===lr&&(i=Ut);let c=0,l=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;d!==null||f!==null;){let g=c<i.length?i[c+1]:void 0,y=l<s.length?s[l+1]:void 0,E=null,S;d===f?(c+=2,l+=2,g!==y&&(E=f,S=y)):f===null||d!==null&&d<f?(c+=2,E=d):(l+=2,E=f,S=y),E!==null&&gx(t,e,n,r,E,S,o,a),d=c<i.length?i[c]:null,f=l<s.length?s[l]:null}}function gx(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],d=N$(l)?xS(c,e,n,i,la(l),o):void 0;if(!If(d)){If(s)||x$(l)&&(s=xS(c,null,n,i,a,o));let f=wA(Ci(),n);HB(r,o,f,i,s)}}function xS(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),d=l?c[1]:c,f=d===null,g=n[i+1];g===lr&&(g=f?Ut:void 0);let y=f?jy(g,r):d===r?g:void 0;if(l&&!If(y)&&(y=jy(c,r)),If(y)&&(a=y,o))return a;let E=t[i+1];i=o?Ns(E):la(E)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=jy(c,r))}return a}function If(t){return t!==void 0}function Q$(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Bt(Os(t)))),t}function mx(t,e){return(t.flags&(e?8:16))!==0}var Hv=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Yy(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function Y$(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;s<=o&&s<=c;){let l=t.at(s),d=e[s],f=Yy(s,l,s,d,n);if(f!==0){f<0&&t.updateValue(s,d),s++;continue}let g=t.at(o),y=e[c],E=Yy(o,g,c,y,n);if(E!==0){E<0&&t.updateValue(o,y),o--,c--;continue}let S=n(s,l),M=n(o,g),V=n(s,d);if(Object.is(V,M)){let z=n(c,y);Object.is(z,S)?(t.swap(s,o),t.updateValue(o,y),c--,o--):t.move(o,s),t.updateValue(s,d),s++;continue}if(r??=new Ef,i??=NS(t,s,o,n),zv(t,r,s,V))t.updateValue(s,d),s++,o++;else if(i.has(V))r.set(S,t.detach(s)),o--;else{let z=t.create(s,e[s]);t.attach(s,z),s++,o++}}for(;s<=c;)MS(t,r,n,s,e[s]),s++}else if(e!=null){let c=e[Symbol.iterator](),l=c.next();for(;!l.done&&s<=o;){let d=t.at(s),f=l.value,g=Yy(s,d,s,f,n);if(g!==0)g<0&&t.updateValue(s,f),s++,l=c.next();else{r??=new Ef,i??=NS(t,s,o,n);let y=n(s,f);if(zv(t,r,s,y))t.updateValue(s,f),s++,o++,l=c.next();else if(!i.has(y))t.attach(s,t.create(s,f)),s++,o++,l=c.next();else{let E=n(s,d);r.set(E,t.detach(s)),o--}}}for(;!l.done;)MS(t,r,n,t.length,l.value),l=c.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(c=>{t.destroy(c)})}function zv(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function MS(t,e,n,r,i){if(zv(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function NS(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var Ef=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function z_(t,e){Si("NgControlFlow");let n=le(),r=Di(),i=n[r]!==lr?n[r]:-1,s=i!==-1?bf(n,_t+i):void 0,o=0;if(Un(n,r,t)){let a=ye(null);try{if(s!==void 0&&$R(s,o),t!==-1){let c=_t+t,l=bf(n,c),d=Kv(n[ue],c),f=aa(l,d.tView.ssrId),g=Nu(n,d,e,{dehydratedView:f});ku(l,g,o,oa(d,f))}}finally{ye(a)}}else if(s!==void 0){let a=BR(s,o);a!==void 0&&(a[St]=e)}}var qv=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-At}};function Hre(t){return t}function zre(t,e){return e}var Gv=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function qre(t,e,n,r,i,s,o,a,c,l,d,f,g){Si("NgControlFlow");let y=le(),E=ze(),S=c!==void 0,M=le(),V=a?o.bind(M[nn][St]):o,z=new Gv(S,V);M[_t+t]=z,wf(y,E,t+1,e,n,r,i,wi(E.consts,s)),S&&wf(y,E,t+2,c,l,d,f,wi(E.consts,g))}var Wv=class extends Hv{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-At}at(e){return this.getLView(e)[St].$implicit}attach(e,n){let r=n[ra];this.needsIndexUpdate||=e!==this.length,ku(this.lContainer,n,e,oa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Z$(this.lContainer,e)}create(e,n){let r=aa(this.lContainer,this.templateTNode.tView.ssrId),i=Nu(this.hostLView,this.templateTNode,new qv(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){jf(e[ue],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[St].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[St].$index=e}getLView(e){return X$(this.lContainer,e)}};function Gre(t){let e=ye(null),n=Ci();try{let r=le(),i=r[ue],s=r[n],o=n+1,a=bf(r,o);if(s.liveCollection===void 0){let l=Kv(i,o);s.liveCollection=new Wv(a,r,l)}else s.liveCollection.reset();let c=s.liveCollection;if(Y$(c,t,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let l=Di(),d=c.length===0;if(Un(r,l,d)){let f=n+2,g=bf(r,f);if(d){let y=Kv(i,f),E=aa(g,y.tView.ssrId),S=Nu(r,y,void 0,{dehydratedView:E});ku(g,S,0,oa(y,E))}else $R(g,0)}}}finally{ye(e)}}function bf(t,e){return t[e]}function Z$(t,e){return Iu(t,e)}function X$(t,e){return BR(t,e)}function Kv(t,e){return u_(t,e)}function J$(t,e,n,r,i,s){let o=e.consts,a=wi(o,i),c=pa(e,t,2,r,a);return O_(e,n,c,wi(o,s)),c.attrs!==null&&mf(c,c.attrs,!1),c.mergedAttrs!==null&&mf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function Ht(t,e,n,r){let i=le(),s=ze(),o=_t+t,a=i[We],c=s.firstCreatePass?J$(o,s,i,e,n,r):s.data[o],l=eH(s,i,c,a,e,t);i[o]=l;let d=Mf(c);return ks(c,!0),TR(a,l,c),!C$(c)&&Of()&&Uf(s,i,l,c),lU()===0&&Ii(l,i),dU(),d&&(M_(s,i,c),x_(s,c,i)),r!==null&&N_(i,c),Ht}function Mt(){let t=ht();f_()?p_():(t=t.parent,ks(t,!1));let e=t;fU(e)&&pU(),hU();let n=ze();return n.firstCreatePass&&(Ff(n,t),c_(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&AU(e)&&$v(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&RU(e)&&$v(n,e,le(),e.stylesWithoutHost,!1),Mt}function Ri(t,e,n,r){return Ht(t,e,n,r),Mt(),Ri}var eH=(t,e,n,r,i,s)=>(Pf(!0),yR(r,i,DU()));function tH(t,e,n,r,i){let s=e.consts,o=wi(s,r),a=pa(e,t,8,"ng-container",o);o!==null&&mf(a,o,!0);let c=wi(s,i);return O_(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function yx(t,e,n){let r=le(),i=ze(),s=t+_t,o=i.firstCreatePass?tH(s,i,r,e,n):i.data[s];ks(o,!0);let a=nH(i,r,o,t);return r[s]=a,Of()&&Uf(i,r,a,o),Ii(a,r),Mf(o)&&(M_(i,r,o),x_(i,o,r)),n!=null&&N_(r,o),yx}function vx(){let t=ht(),e=ze();return f_()?p_():(t=t.parent,ks(t,!1)),e.firstCreatePass&&(Ff(e,t),c_(t)&&e.queries.elementEnd(t)),vx}function q_(t,e,n){return yx(t,e,n),vx(),q_}var nH=(t,e,n,r)=>(Pf(!0),AB(e[We],""));function G_(){return le()}function Kf(t,e,n){let r=le(),i=Di();if(Un(r,i,e)){let s=ze(),o=Su();Hf(s,o,r,t,e,r[We],n,!0)}return Kf}function rH(t,e,n){let r=le(),i=Di();if(Un(r,i,e)){let s=ze(),o=Su(),a=g_(s.data),c=jR(a,o,r);Hf(s,o,r,t,e,c,n,!0)}return rH}var _s=void 0;function iH(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var sH=["en",[["a","p"],["AM","PM"],_s],[["AM","PM"],_s,_s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_s,"{1} 'at' {0}",_s],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",iH],Zy={};function W_(t){let e=oH(t),n=kS(e);if(n)return n;let r=e.split("-")[0];if(n=kS(r),n)return n;if(r==="en")return sH;throw new Q(701,!1)}function kS(t){return t in Zy||(Zy[t]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[t]),Zy[t]}var ma=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ma||{});function oH(t){return t.toLowerCase().replace(/_/g,"-")}var Df="en-US";var aH=Df;function cH(t){typeof t=="string"&&(aH=t.toLowerCase().replace(/_/g,"-"))}var uH=(t,e,n)=>{};function ft(t,e,n,r){let i=le(),s=ze(),o=ht();return K_(s,i,i[We],o,t,e,r),ft}function lH(t,e){let n=ht(),r=le(),i=ze(),s=g_(i.data),o=jR(s,n,r);return K_(i,r,o,n,t,e),lH}function dH(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[yu],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function K_(t,e,n,r,i,s,o){let a=Mf(r),l=t.firstCreatePass&&VR(t),d=e[St],f=LR(e),g=!0;if(r.type&3||o){let S=vn(r,e),M=o?o(S):S,V=f.length,z=o?ee=>o(sr(ee[r.index])):r.index;uH(S,i,s);let H=null;if(!o&&a&&(H=dH(t,e,i,r.index)),H!==null){let ee=H.__ngLastListenerFn__||H;ee.__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,g=!1}else{s=PS(r,e,d,s);let ee=n.listen(M,i,s);f.push(s,ee),l&&l.push(i,z,V,V+1)}}else s=PS(r,e,d,s);let y=r.outputs,E;if(g&&y!==null&&(E=y[i])){let S=E.length;if(S)for(let M=0;M<S;M+=2){let V=E[M],z=E[M+1],fe=e[V][z].subscribe(s),Y=f.length;f.push(s,fe),l&&l.push(i,r.index,Y,-(Y+1))}}}function OS(t,e,n,r){let i=ye(null);try{return tr(6,e,n),n(r)!==!1}catch(s){return UR(t,s),!1}finally{tr(7,e,n),ye(i)}}function PS(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?bi(t.index,e):e;L_(o,5);let a=OS(e,n,r,s),c=i.__ngNextListenerFn__;for(;c;)a=OS(e,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function ya(t=1){return EU(t)}function hH(t,e){let n=null,r=Nj(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?tA(t,s,!0):Pj(r,s))return i}return n}function _x(t){let e=le()[nn][Zt];if(!e.projection){let n=t?t.length:1,r=e.projection=bj(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?hH(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function wx(t,e=0,n,r,i,s){let o=le(),a=ze(),c=r?t+1:null;c!==null&&wf(o,a,c,r,i,s,null,n);let l=pa(a,_t+t,16,null,n||null);l.projection===null&&(l.projection=e),p_();let f=!o[ra]||TA();o[nn][Zt].projection[l.projection]===null&&c!==null?fH(o,a,c):f&&(l.flags&32)!==32&&BB(a,o,l)}function fH(t,e,n){let r=_t+n,i=e.data[r],s=t[r],o=aa(s,i.tView.ssrId),a=Nu(t,i,void 0,{dehydratedView:o});ku(s,a,0,oa(i,o))}function pH(t,e,n,r){u$(t,e,n,r)}function Qf(t,e,n){rx(t,e,n)}function Ou(t){let e=le(),n=ze(),r=m_();kf(r+1);let i=B_(n,r);if(t.dirty&&sU(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=sx(e,r);t.reset(s,ZA),t.notifyOnChanges()}return!0}return!1}function Pu(){return U_(le(),m_())}function Wre(t,e,n,r){g$(t,rx(e,n,r))}function Kre(t=1){kf(m_()+t)}function gH(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Qre(t){let e=mU();return IA(e,_t+t)}function va(t,e=""){let n=le(),r=ze(),i=t+_t,s=r.firstCreatePass?pa(r,i,1,e,null):r.data[i],o=mH(r,n,s,e,t);n[i]=o,Of()&&Uf(r,n,o,s),ks(s,!1)}var mH=(t,e,n,r,i)=>(Pf(!0),TB(e[We],r));function yH(t){return Fs("",t,""),yH}function Fs(t,e,n){let r=le(),i=R$(r,t,e,n);return i!==lr&&m2(r,Ci(),i),Fs}function vH(t,e,n){ax(e)&&(e=e());let r=le(),i=Di();if(Un(r,i,e)){let s=ze(),o=Su();Hf(s,o,r,t,e,r[We],n,!1)}return vH}function Yre(t,e){let n=ax(t);return n&&t.set(e),n}function _H(t,e){let n=le(),r=ze(),i=ht();return K_(r,n,n[We],i,t,e),_H}function wH(t,e,n){let r=ze();if(r.firstCreatePass){let i=kr(t);Qv(n,r.data,r.blueprint,i,!0),Qv(e,r.data,r.blueprint,i,!1)}}function Qv(t,e,n,r,i){if(t=jt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Qv(t[s],e,n,r,i);else{let s=ze(),o=le(),a=ht(),c=na(t)?t:jt(t.provide),l=hA(t),d=a.providerIndexes&1048575,f=a.directiveStart,g=a.providerIndexes>>20;if(na(t)||!t.multi){let y=new As(l,i,j),E=Jy(c,e,i?d:d+g,f);E===-1?(pv(cf(a,o),s,c),Xy(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[E]=y,o[E]=y)}else{let y=Jy(c,e,d+g,f),E=Jy(c,e,d,d+g),S=y>=0&&n[y],M=E>=0&&n[E];if(i&&!M||!i&&!S){pv(cf(a,o),s,c);let V=bH(i?EH:IH,n.length,i,r,l);!i&&M&&(n[E].providerFactory=V),Xy(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=Ix(n[i?E:y],l,!i&&r);Xy(s,t,y>-1?y:E,V)}!i&&r&&M&&n[E].componentProviders++}}}function Xy(t,e,n,r){let i=na(e),s=Gj(e);if(i||s){let c=(s?jt(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function Ix(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function IH(t,e,n,r){return Yv(this.multi,[])}function EH(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Rs(n,n[ue],this.providerFactory.index,r);s=a.slice(0,o),Yv(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Yv(i,s);return s}function Yv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function bH(t,e,n,r,i){let s=new As(t,n,j);return s.multi=[],s.index=e,s.componentProviders=0,Ix(s,i,r&&!n),s}function Xt(t,e=[]){return n=>{n.providersResolver=(r,i)=>wH(r,i?i(t):t,e)}}var DH=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=uA(!1,r.type),s=i.length>0?Wf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(R(Rt))});let t=e;return t})();function fr(t){Si("NgStandalone"),t.getStandaloneInjector=e=>e.get(DH).getOrCreateStandaloneInjector(t)}function Ex(t,e,n,r){return bx(le(),RA(),t,e,n,r)}function CH(t,e){let n=t[e];return n===lr?void 0:n}function bx(t,e,n,r,i,s){let o=e+n;return Un(t,o,i)?D$(t,o+1,s?r.call(s,i):r(i)):CH(t,o+1)}function Zre(t,e){let n=ze(),r,i=t+_t;n.firstCreatePass?(r=TH(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=bs(r.type,!0)),o,a=Yt(j);try{let c=af(!1),l=s();return af(c),gH(n,le(),i,l),l}finally{Yt(a)}}function TH(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Xre(t,e,n){let r=t+_t,i=le(),s=IA(i,r);return SH(i,r)?bx(i,RA(),e,s.transform,n,s):s.transform(n)}function SH(t,e){return t[ue].data[e].pure}function Jre(t,e){return qf(t,e)}var ar=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Dx=new ar("18.0.1"),_a=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Q_=new B(""),Fu=new B(""),Yf=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Y_||(AH(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r()},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(R(W),R(Zf),R(Fu))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Zf=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Y_?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function AH(t){Y_=t}var Y_;function Ls(t){return!!t&&typeof t.then=="function"}function Cx(t){return!!t&&typeof t.subscribe=="function"}var wa=new B(""),Tx=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=P(wa,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ls(o))r.push(o);else if(Cx(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xf=new B("");function RH(){fT(()=>{throw new Q(600,!1)})}function xH(t){return t.isBoundToModule}var MH=10;function NH(t,e,n){try{let r=n();return Ls(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var jr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(YA),this.afterRenderEffectManager=P(Gf),this.zonelessEnabled=P(KR),this.externalTestViews=new Set,this.beforeRender=new J,this.afterTick=new J,this.componentTypes=[],this.components=[],this.isStable=P(ga).hasPendingTasks.pipe(de(r=>!r)),this._injector=P(Rt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ff;if(!this._injector.get(Tx).done){let y=!s&&sA(r),E=!1;throw new Q(405,E)}let a;s?a=r:a=this._injector.get(or).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=xH(a)?void 0:this._injector.get(Ei),l=i||a.selector,d=a.create(Ce.NULL,[],l,c),f=d.location.nativeElement,g=d.injector.get(Q_,null);return g?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),ev(this.components,d),g?.unregisterApplication(f)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new Q(101,!1);let i=ye(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,ye(i),this.afterTick.next()}}detectChangesInAttachedViews(r){let i=null;this._injector.destroyed||(i=this._injector.get(ua,null,{optional:!0}));let s=0,o=this.afterRenderEffectManager;for(;s<MH;){let a=s===0;if(r||!a){this.beforeRender.next(a);for(let{_lView:c,notifyErrorHandler:l}of this._views)kH(c,l,a,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(s++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:c})=>_u(c))&&(o.execute(),!this.allViews.some(({_lView:c})=>_u(c))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ev(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Xf,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ev(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new Q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ev(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kH(t,e,n,r){if(!n&&!_u(t))return;zR(t,e,n&&!r?0:1)}var Zv=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Jf=(()=>{let e=class e{compileModuleSync(r){return new jv(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=oA(r),o=gR(s.declarations).reduce((a,c)=>{let l=Mr(c);return l&&a.push(new Ms(l)),a},[]);return new Zv(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OH=(()=>{let e=class e{constructor(){this.zone=P(W),this.changeDetectionScheduler=P(ca),this.applicationRef=P(jr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PH({ngZoneFactory:t,ignoreChangesOutsideZone:e}){return t??=()=>new W(LH()),[{provide:W,useFactory:t},{provide:ea,multi:!0,useFactory:()=>{let n=P(OH,{optional:!0});return()=>n.initialize()}},{provide:ea,multi:!0,useFactory:()=>{let n=P(VH);return()=>{n.initialize()}}},{provide:YA,useFactory:FH},e===!0?{provide:QR,useValue:!0}:[]]}function FH(){let t=P(W),e=P(gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function LH(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VH=(()=>{let e=class e{constructor(){this.subscription=new ke,this.initialized=!1,this.zone=P(W),this.pendingTasks=P(ga)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jH=(()=>{let e=class e{constructor(){this.appRef=P(jr),this.taskService=P(ga),this.ngZone=P(W),this.zonelessEnabled=P(KR),this.disableScheduling=P(QR,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ke,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xv||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:{this.shouldRefreshViews=!0;break}case 8:case 7:case 6:case 9:default:}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?ES:YR;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&W.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ES(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UH(){return typeof $localize<"u"&&$localize.locale||Df}var Ia=new B("",{providedIn:"root",factory:()=>P(Ia,ve.Optional|ve.SkipSelf)||UH()});var Sx=new B("");var Zh=null;function BH(t=[],e){return Ce.create({name:e,providers:[{provide:Sf,useValue:"platform"},{provide:Sx,useValue:new Set([()=>Zh=null])},...t]})}function $H(t=[]){if(Zh)return Zh;let e=BH(t);return Zh=e,RH(),HH(e),e}function HH(t){t.get(E_,null)?.forEach(n=>n())}function eie(){return!1}var In=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zH;let t=e;return t})();function zH(t){return qH(ht(),le(),(t&16)===16)}function qH(t,e,n){if(xf(t)&&!n){let r=bi(t.index,e);return new xs(r,r)}else if(t.type&47){let r=e[nn];return new xs(r,e)}return null}var Ax=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(R(jr))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function Rx(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=$H(r),s=[PH({}),{provide:ca,useExisting:jH},...n||[]],a=new _f({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(W);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(gn,null),d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:y=>{l.handleError(y)}})});let f=()=>a.destroy(),g=i.get(Sx);return g.add(f),a.onDestroy(()=>{d.unsubscribe(),g.delete(f)}),NH(l,c,()=>{let y=a.get(Tx);return y.runInitializers(),y.donePromise.then(()=>{let E=a.get(Ia,Df);cH(E||Df);let S=a.get(jr);return e!==void 0&&S.bootstrap(e),S})})})}catch(e){return Promise.reject(e)}}function En(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Z_(t){let e=ye(null);try{return t()}finally{ye(e)}}var GH=new B("",{providedIn:"root",factory:()=>P(WH)}),WH=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>new Xv});let t=e;return t})(),Xv=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=P(ga),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(e){let n=e.creationZone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Jv=class{constructor(e,n,r,i,s,o){this.scheduler=e,this.effectFn=n,this.creationZone=r,this.injector=s,this.watcher=mT(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(n){this.injector.get(gn,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function xx(t,e){Si("NgSignals"),!e?.injector&&o_(xx);let n=e?.injector??P(Ce),r=e?.manualCleanup!==!0?n.get(ha):null,i=new Jv(n.get(GH),t,typeof Zone>"u"?null:Zone.current,r,n,e?.allowSignalWrites??!1),s=n.get(In,null,{optional:!0});return!s||!(s._lView[ie]&8)?i.watcher.notify():(s._lView[Gh]??=[]).push(i.watcher.notify),i}function tie(t,e){let n=Mr(t),r=e.elementInjector||Af();return new Ms(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function Mx(t){let e=Mr(t);if(!e)return null;let n=new Ms(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Lx=null;function pr(){return Lx}function Vx(t){Lx??=t}var ep=class{};var ae=new B(""),sw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(QH),providedIn:"platform"});let t=e;return t})(),jx=new B(""),QH=(()=>{let e=class e extends sw{constructor(){super(),this._doc=P(ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pr().getBaseHref(this._doc)}onPopState(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=pr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function ow(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Nx(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ur(t){return t&&t[0]!=="?"?"?"+t:t}var $r=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(aw),providedIn:"root"});let t=e;return t})(),Ux=new B(""),aw=(()=>{let e=class e extends $r{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??P(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return ow(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ur(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ur(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ur(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(sw),R(Ux,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bx=(()=>{let e=class e extends $r{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=ow(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ur(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ur(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(R(sw),R(Ux,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),gr=(()=>{let e=class e{constructor(r){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=XH(Nx(kx(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ur(i))}normalize(r){return e.stripTrailingSlash(ZH(this._basePath,kx(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ur(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ur(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Ur,e.joinWithSlash=ow,e.stripTrailingSlash=Nx,e.\u0275fac=function(i){return new(i||e)(R($r))},e.\u0275prov=L({token:e,factory:()=>YH(),providedIn:"root"});let t=e;return t})();function YH(){return new gr(R($r))}function ZH(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function kx(t){return t.replace(/\/index.html$/,"")}function XH(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var $x=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}($x||{});var Br={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Lu(t,e){let n=W_(t),r=n[ma.NumberSymbols][e];if(typeof r>"u"){if(e===Br.CurrencyDecimal)return n[ma.NumberSymbols][Br.Decimal];if(e===Br.CurrencyGroup)return n[ma.NumberSymbols][Br.Group]}return r}function JH(t,e){return W_(t)[ma.NumberFormats][e]}var ez=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Ox=22,tp=".",Vu="0",tz=";",nz=",",J_="#";function rz(t,e,n,r,i,s,o=!1){let a="",c=!1;if(!isFinite(t))a=Lu(n,Br.Infinity);else{let l=az(t);o&&(l=oz(l));let d=e.minInt,f=e.minFrac,g=e.maxFrac;if(s){let z=s.match(ez);if(z===null)throw new Error(`${s} is not a valid digit info`);let H=z[1],ee=z[3],fe=z[5];H!=null&&(d=ew(H)),ee!=null&&(f=ew(ee)),fe!=null?g=ew(fe):ee!=null&&f>g&&(g=f)}cz(l,f,g);let y=l.digits,E=l.integerLen,S=l.exponent,M=[];for(c=y.every(z=>!z);E<d;E++)y.unshift(0);for(;E<0;E++)y.unshift(0);E>0?M=y.splice(E,y.length):(M=y,y=[0]);let V=[];for(y.length>=e.lgSize&&V.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)V.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&V.unshift(y.join("")),a=V.join(Lu(n,r)),M.length&&(a+=Lu(n,i)+M.join("")),S&&(a+=Lu(n,Br.Exponential)+"+"+S)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function iz(t,e,n){let r=JH(e,$x.Decimal),i=sz(r,Lu(e,Br.MinusSign));return rz(t,i,e,Br.Group,Br.Decimal,n)}function sz(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(tz),i=r[0],s=r[1],o=i.indexOf(tp)!==-1?i.split(tp):[i.substring(0,i.lastIndexOf(Vu)+1),i.substring(i.lastIndexOf(Vu)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(J_));for(let d=0;d<c.length;d++){let f=c.charAt(d);f===Vu?n.minFrac=n.maxFrac=d+1:f===J_?n.maxFrac=d+1:n.posSuf+=f}let l=a.split(nz);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let d=i.length-n.posPre.length-n.posSuf.length,f=s.indexOf(J_);n.negPre=s.substring(0,f).replace(/'/g,""),n.negSuf=s.slice(f+d).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function oz(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function az(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(tp))>-1&&(e=e.replace(tp,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===Vu;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Vu;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>Ox&&(r=r.splice(0,Ox-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function cz(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let f=o;f<r.length;f++)r[f]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let f=1;f<o;f++)r[f]=0}if(a>=5)if(o-1<0){for(let f=0;f>o;f--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=s!==0,l=e+t.integerLen,d=r.reduceRight(function(f,g,y,E){return g=g+f,E[y]=g<10?g:g-10,c&&(E[y]===0&&y>=l?E.pop():c=!1),g>=10?1:0},0);d&&(r.unshift(d),t.integerLen++)}function ew(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Hx(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var tw=/\s+/,Px=[],Eie=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Px,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(tw):Px}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(tw):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(tw).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(dr))},e.\u0275dir=De({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var zx=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new nw,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Fx("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Fx("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(j(wn),j(Fn))},e.\u0275dir=De({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),nw=class{constructor(){this.$implicit=null,this.ngIf=null}};function Fx(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Bt(e)}'.`)}var qx=(()=>{let e=class e{constructor(r){this._viewContainerRef=r,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(r){if(this._shouldRecreateView(r)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,s):!1,get:(r,i,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,s)}})}};e.\u0275fac=function(i){return new(i||e)(j(wn))},e.\u0275dir=De({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[$t]});let t=e;return t})();function uz(t,e){return new Q(2100,!1)}var bie=(()=>{let e=class e{constructor(r){this._locale=r}transform(r,i,s){if(!lz(r))return null;s||=this._locale;try{let o=dz(r);return iz(o,s,i)}catch(o){throw uz(e,o.message)}}};e.\u0275fac=function(i){return new(i||e)(j(Ia,16))},e.\u0275pipe=nA({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function lz(t){return!(t==null||t===""||t!==t)}function dz(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var Vs=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),cw="browser",hz="server";function uw(t){return t===cw}function lw(t){return t===hz}var Gx=(()=>{let e=class e{};e.\u0275prov=L({token:e,providedIn:"root",factory:()=>uw(P(_n))?new rw(P(ae),window):new iw});let t=e;return t})(),rw=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=fz(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function fz(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var iw=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},np=class{};var fw=class extends ep{constructor(){super(...arguments),this.supportsDOMEvents=!0}},pw=class t extends fw{static makeCurrent(){Vx(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pz();return n==null?null:gz(n)}resetBaseElement(){ju=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hx(document.cookie,e)}},ju=null;function pz(){return ju=ju||document.querySelector("base"),ju?ju.getAttribute("href"):null}function gz(t){return new URL(t,document.baseURI).pathname}var gw=class{addToWindow(e){dt.getAngularTestability=(r,i=!0)=>{let s=e.findTestabilityInTree(r,i);if(s==null)throw new Q(5103,!1);return s},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=dt.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&r()};i.forEach(a=>{a.whenStable(o)})};dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?pr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},mz=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),ip=new B(""),Yx=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new Q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(R(ip),R(W))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Uu=class{constructor(e){this._doc=e}},dw="ng-app-id",Zx=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lw(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${dw}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(dw),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(dw,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(Au),R(Ru,8),R(_n))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),hw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vw=/%COMP%/g,Xx="%COMP%",yz=`_nghost-${Xx}`,vz=`_ngcontent-${Xx}`,_z=!0,wz=new B("",{providedIn:"root",factory:()=>_z});function Iz(t){return vz.replace(vw,t)}function Ez(t){return yz.replace(vw,t)}function Jx(t,e){return e.map(n=>n.replace(vw,t))}var Wx=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,d=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=lw(c),this.defaultRenderer=new Bu(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===rr.ShadowDom&&(i=pe(O({},i),{encapsulation:rr.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof sp?s.applyToHost(r):s instanceof $u&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case rr.Emulated:o=new sp(l,d,i,this.appId,f,a,c,g);break;case rr.ShadowDom:return new mw(l,d,r,i,a,c,this.nonce,g);default:o=new $u(l,d,i,f,a,c,g);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(R(Yx),R(Zx),R(Au),R(wz),R(ae),R(_n),R(W),R(Ru))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Bu=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(hw[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Kx(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Kx(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=hw[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=hw[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Or.DashCase|Or.Important)?e.style.setProperty(n,r,i&Or.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Or.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=pr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Kx(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var mw=class extends Bu{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Jx(i.id,i.styles);for(let d of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$u=class extends Bu{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Jx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sp=class extends $u{constructor(e,n,r,i,s,o,a,c){let l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=Iz(l),this.hostAttr=Ez(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},bz=(()=>{let e=class e extends Uu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Qx=["alt","control","meta","shift"],Dz={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Cz={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Tz=(()=>{let e=class e extends Uu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Qx.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=Dz[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Qx.forEach(a=>{if(a!==s){let c=Cz[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function Hie(t,e){return Rx(O({rootComponent:t},Sz(e)))}function Sz(t){return{appProviders:[...eM,...t?.providers??[]],platformProviders:Mz}}function Az(){pw.makeCurrent()}function Rz(){return new gn}function xz(){return rR(document),document}var Mz=[{provide:_n,useValue:cw},{provide:E_,useValue:Az,multi:!0},{provide:ae,useFactory:xz,deps:[]}];var Nz=new B(""),kz=[{provide:Fu,useClass:gw,deps:[]},{provide:Q_,useClass:Yf,deps:[W,Zf,Fu]},{provide:Yf,useClass:Yf,deps:[W,Zf,Fu]}],eM=[{provide:Sf,useValue:"root"},{provide:gn,useFactory:Rz,deps:[]},{provide:ip,useClass:bz,multi:!0,deps:[ae,W,_n]},{provide:ip,useClass:Tz,multi:!0,deps:[ae]},Wx,Zx,Yx,{provide:ua,useExisting:Wx},{provide:np,useClass:mz,deps:[]},[]],zie=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Au,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(R(Nz,12))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[...eM,...kz],imports:[Vs,Ax]});let t=e;return t})();var tM=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Oz={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},yw=new B("HammerGestureConfig"),nM=new B("HammerLoader"),Pz=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(r){let i=new Hammer(r,this.options);i.get("pinch").set({enable:!0}),i.get("rotate").set({enable:!0});for(let s in this.overrides)i.get(s).set(this.overrides[s]);return i}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),Fz=(()=>{let e=class e extends Uu{constructor(r,i,s,o){super(r),this._config=i,this.console=s,this.loader=o,this._loaderPromise=null}supports(r){return!(!Oz.hasOwnProperty(r.toLowerCase())&&!this.isCustomEvent(r)||!window.Hammer&&!this.loader)}addEventListener(r,i,s){let o=this.manager.getZone();if(i=i.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,c=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){c=()=>{};return}a||(c=this.addEventListener(r,i,s))}).catch(()=>{c=()=>{}})),()=>{c()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(r),c=function(l){o.runGuarded(function(){s(l)})};return a.on(i,c),()=>{a.off(i,c),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(r){return this._config.events.indexOf(r)>-1}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(yw),R(_a),R(nM,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),qie=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[{provide:ip,useClass:Fz,multi:!0,deps:[ae,yw,_a,[new ct,nM]]},{provide:yw,useClass:Pz,deps:[]}]});let t=e;return t})();var iM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vz=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;c||(y=64,o||(g=64)),r.push(n[d],n[f],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||f==null)throw new ww;let g=s<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),f!==64){let E=l<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ww=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jz=function(t){let e=iM(t);return sM.encodeByteArray(e,!0)},Ew=function(t){return jz(t).replace(/\./g,"")},bw=function(t){try{return sM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Uz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Bz=()=>Uz().__FIREBASE_DEFAULTS__,$z=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&bw(t[1]);return e&&JSON.parse(e)},ap=()=>{try{return Bz()||$z()||Hz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oM=t=>{var e,n;return(n=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]};var Dw=()=>{var t;return(t=ap())===null||t===void 0?void 0:t.config},Cw=t=>{var e;return(e=ap())===null||e===void 0?void 0:e[`_${t}`]};var op=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function zz(){var t;let e=(t=ap())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lM(){let t=Qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tw(){return!zz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ea(){try{return typeof indexedDB=="object"}catch{return!1}}function cp(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function dM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var qz="FirebaseError",zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qz,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rn.prototype.create)}},rn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Gz(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zt(i,a,r)}};function Gz(t,e){return t.replace(Wz,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Wz=/\{\$([^}]+)}/g;function hM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(rM(s)&&rM(o)){if(!xi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function rM(t){return t!==null&&typeof t=="object"}function ba(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Da(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ca(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fM(t,e){let n=new Iw(t,e);return n.subscribe.bind(n)}var Iw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kz(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_w),i.error===void 0&&(i.error=_w),i.complete===void 0&&(i.complete=_w);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Kz(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _w(){}var Wie=4*60*60*1e3;function Be(t){return t&&t._delegate?t._delegate:t}var pt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var js="[DEFAULT]";var Sw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new op;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yz(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qz(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Qz(t){return t===js?void 0:t}function Yz(t){return t.instantiationMode==="EAGER"}var up=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Sw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Zz=[],we=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(we||{}),Xz={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Jz=we.INFO,eq={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},tq=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=eq[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mi=class{constructor(e){this.name=e,this._logLevel=Jz,this._logHandler=tq,this._userLogHandler=null,Zz.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Xz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var nq=(t,e)=>e.some(n=>t instanceof n),pM,gM;function rq(){return pM||(pM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iq(){return gM||(gM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mM=new WeakMap,Rw=new WeakMap,yM=new WeakMap,Aw=new WeakMap,Mw=new WeakMap;function sq(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($n(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&mM.set(n,t)}).catch(()=>{}),Mw.set(e,t),e}function oq(t){if(Rw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rw.set(t,e)}var xw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $n(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vM(t){xw=t(xw)}function aq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(lp(this),e,...n);return yM.set(r,e.sort?e.sort():[e]),$n(r)}:iq().includes(t)?function(...e){return t.apply(lp(this),e),$n(mM.get(this))}:function(...e){return $n(t.apply(lp(this),e))}}function cq(t){return typeof t=="function"?aq(t):(t instanceof IDBTransaction&&oq(t),nq(t,rq())?new Proxy(t,xw):t)}function $n(t){if(t instanceof IDBRequest)return sq(t);if(Aw.has(t))return Aw.get(t);let e=cq(t);return e!==t&&(Aw.set(t,e),Mw.set(e,t)),e}var lp=t=>Mw.get(t);function Us(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=$n(o);return r&&o.addEventListener("upgradeneeded",c=>{r($n(o.result),c.oldVersion,c.newVersion,$n(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}function dp(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),$n(n).then(()=>{})}var uq=["get","getKey","getAll","getAllKeys","count"],lq=["put","add","delete","clear"],Nw=new Map;function _M(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Nw.get(e))return Nw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=lq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uq.includes(n)))return;let s=function(o,...a){return v(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Nw.set(e,s),s}vM(t=>pe(O({},t),{get:(e,n,r)=>_M(e,n)||t.get(e,n,r),has:(e,n)=>!!_M(e,n)||t.has(e,n)}));var Ow=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dq(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function dq(t){let e=t.getComponent();return e?.type==="VERSION"}var Pw="@firebase/app",wM="0.10.5";var Bs=new Mi("@firebase/app"),hq="@firebase/app-compat",fq="@firebase/analytics-compat",pq="@firebase/analytics",gq="@firebase/app-check-compat",mq="@firebase/app-check",yq="@firebase/auth",vq="@firebase/auth-compat",_q="@firebase/database",wq="@firebase/database-compat",Iq="@firebase/functions",Eq="@firebase/functions-compat",bq="@firebase/installations",Dq="@firebase/installations-compat",Cq="@firebase/messaging",Tq="@firebase/messaging-compat",Sq="@firebase/performance",Aq="@firebase/performance-compat",Rq="@firebase/remote-config",xq="@firebase/remote-config-compat",Mq="@firebase/storage",Nq="@firebase/storage-compat",kq="@firebase/firestore",Oq="@firebase/vertexai-preview",Pq="@firebase/firestore-compat",Fq="firebase",Lq="10.12.2";var Fw="[DEFAULT]",Vq={[Pw]:"fire-core",[hq]:"fire-core-compat",[pq]:"fire-analytics",[fq]:"fire-analytics-compat",[mq]:"fire-app-check",[gq]:"fire-app-check-compat",[yq]:"fire-auth",[vq]:"fire-auth-compat",[_q]:"fire-rtdb",[wq]:"fire-rtdb-compat",[Iq]:"fire-fn",[Eq]:"fire-fn-compat",[bq]:"fire-iid",[Dq]:"fire-iid-compat",[Cq]:"fire-fcm",[Tq]:"fire-fcm-compat",[Sq]:"fire-perf",[Aq]:"fire-perf-compat",[Rq]:"fire-rc",[xq]:"fire-rc-compat",[Mq]:"fire-gcs",[Nq]:"fire-gcs-compat",[kq]:"fire-fst",[Pq]:"fire-fst-compat",[Oq]:"fire-vertex","fire-js":"fire-js",[Fq]:"fire-js-all"};var Hu=new Map,jq=new Map,Lw=new Map;function IM(t,e){try{t.container.addComponent(e)}catch(n){Bs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jt(t){let e=t.name;if(Lw.has(e))return Bs.debug(`There were multiple attempts to register component ${e}.`),!1;Lw.set(e,t);for(let n of Hu.values())IM(n,t);for(let n of jq.values())IM(n,t);return!0}function mr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t.settings!==void 0}var Uq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new rn("app","Firebase",Uq);var Vw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}};var ki=Lq;function Bw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=Dw()),!n)throw Ni.create("no-options");let s=Hu.get(i);if(s){if(xi(n,s.options)&&xi(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}let o=new up(i);for(let c of Lw.values())o.addComponent(c);let a=new Vw(n,r,o);return Hu.set(i,a),a}function Hr(t=Fw){let e=Hu.get(t);if(!e&&t===Fw&&Dw())return Bw();if(!e)throw Ni.create("no-app",{appName:t});return e}function hp(){return Array.from(Hu.values())}function Ve(t,e,n){var r;let i=(r=Vq[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bs.warn(a.join(" "));return}Jt(new pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Bq="firebase-heartbeat-database",$q=1,zu="firebase-heartbeat-store",kw=null;function CM(){return kw||(kw=Us(Bq,$q,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),kw}function Hq(t){return v(this,null,function*(){try{let n=(yield CM()).transaction(zu),r=yield n.objectStore(zu).get(TM(t));return yield n.done,r}catch(e){if(e instanceof zt)Bs.warn(e.message);else{let n=Ni.create("idb-get",{originalErrorMessage:e?.message});Bs.warn(n.message)}}})}function EM(t,e){return v(this,null,function*(){try{let r=(yield CM()).transaction(zu,"readwrite");yield r.objectStore(zu).put(e,TM(t)),yield r.done}catch(n){if(n instanceof zt)Bs.warn(n.message);else{let r=Ni.create("idb-set",{originalErrorMessage:n?.message});Bs.warn(r.message)}}})}function TM(t){return`${t.name}!${t.options.appId}`}var zq=1024,qq=30*24*60*60*1e3,jw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Uw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return v(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bM();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=qq}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return v(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=bM(),{heartbeatsToSend:r,unsentEntries:i}=Gq(this._heartbeatsCache.heartbeats),s=Ew(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function bM(){return new Date().toISOString().substring(0,10)}function Gq(t,e=zq){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),DM(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Uw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Ea()?cp().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Hq(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return EM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return EM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function DM(t){return Ew(JSON.stringify({version:2,heartbeats:t})).length}function Wq(t){Jt(new pt("platform-logger",e=>new Ow(e),"PRIVATE")),Jt(new pt("heartbeat",e=>new jw(e),"PRIVATE")),Ve(Pw,wM,t),Ve(Pw,wM,"esm2017"),Ve("fire-js","")}Wq("");var Kq="firebase",Qq="10.12.2";Ve(Kq,Qq,"app");var zr=new ar("ANGULARFIRE2_VERSION"),SM=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this
context. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling
\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`;function Aa(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Hs=(t,e)=>{let n=e?[e]:hp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Sa=class{constructor(){return Hs(Yq)}},Yq="app-check";function Ta(){}var fp=class{zone;delegate;constructor(e,n=Oy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},$w=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ta,{},Ta,Ta)),n.pipe(st({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Oi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new fp(Zone.current)),this.insideAngular=n.run(()=>new fp(Zone.current,pn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(R(W))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Zq(t){return pp().ngZone.runOutsideAngular(()=>t())}function $s(t){return pp().ngZone.run(()=>t())}function Xq(t){return Jq(pp())(t)}function Jq(t){return function(n){return n=n.lift(new $w(t.ngZone)),n.pipe(hi(t.outsideAngular),di(t.insideAngular))}}var eG=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),$s(()=>t.apply(void 0,r))},xe=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=$s(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ta,{},Ta,Ta))),r[s]=eG(r[s],n));let i=Zq(()=>t.apply(this,r));if(!e)if(i instanceof re){let s=pp();return i.pipe(hi(s.outsideAngular),di(s.insideAngular))}else return $s(()=>i);return i instanceof re?i.pipe(Xq):i instanceof Promise?$s(()=>new Promise((s,o)=>i.then(a=>$s(()=>s(a)),a=>$s(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:$s(()=>i)};var Hn=class{constructor(e){return e}},qr=class{constructor(){return hp()}};function tG(t){return t&&t.length===1?t[0]:new Hn(Hr())}var Hw=new B("angularfire2._apps"),nG={provide:Hn,useFactory:tG,deps:[[new ct,Hw]]},rG={provide:qr,deps:[[new ct,Hw]]};function iG(t){return(e,n)=>{let r=n.get(_n);Ve("angularfire",zr.full,"core"),Ve("angularfire",zr.full,"app"),Ve("angular",Dx.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Hn(i)}}function Nse(t,...e){return Ln([nG,rG,{provide:Hw,useFactory:iG(t),multi:!0,deps:[W,Ce,Oi,...e]}])}var kse=xe(Hr,!0);var Ose=xe(Bw,!0);function zM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qM=zM,GM=new rn("auth","Firebase",zM());var wp=new Mi("@firebase/auth");function sG(t,...e){wp.logLevel<=we.WARN&&wp.warn(`Auth (${ki}): ${t}`,...e)}function mp(t,...e){wp.logLevel<=we.ERROR&&wp.error(`Auth (${ki}): ${t}`,...e)}function Dn(t,...e){throw lI(t,...e)}function zn(t,...e){return lI(t,...e)}function uI(t,e,n){let r=Object.assign(Object.assign({},qM()),{[e]:n});return new rn("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return uI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oG(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dn(t,"argument-error"),uI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lI(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GM.create(t,...e)}function se(t,e,...n){if(!t)throw lI(e,...n)}function Gr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw mp(e),new Error(e)}function Qr(t,e){t||Gr(e)}function Gw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aG(){return AM()==="http:"||AM()==="https:"}function AM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function cG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aG()||cM()||"connection"in navigator)?navigator.onLine:!0}function uG(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var zs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=aM()||uM()}get(){return cG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function dI(t,e){Qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ip=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dG=new zs(3e4,6e4);function Fi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Li(s,o,a,c){return v(this,arguments,function*(t,e,n,r,i={}){return WM(t,i,()=>v(this,null,function*(){let l={},d={};r&&(e==="GET"?d=r:l={body:JSON.stringify(r)});let f=ba(Object.assign({key:t.config.apiKey},d)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),Ip.fetch()(KM(t,t.config.apiHost,n,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},l))}))})}function WM(t,e,n){return v(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},lG),e);try{let i=new Ww(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw gp(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw gp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw gp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw gp(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw uI(t,d,l);Dn(t,d)}}catch(i){if(i instanceof zt)throw i;Dn(t,"network-request-failed",{message:String(i)})}})}function Xu(s,o,a,c){return v(this,arguments,function*(t,e,n,r,i={}){let l=yield Li(t,e,n,r,i);return"mfaPendingCredential"in l&&Dn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function KM(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?dI(t.config,i):`${t.config.apiScheme}://${i}`}function hG(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ww=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zn(this.auth,"network-request-failed")),dG.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=zn(t,e,r);return i.customData._tokenResponse=n,i}function RM(t){return t!==void 0&&t.enterprise!==void 0}var Kw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hG(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function fG(t,e){return v(this,null,function*(){return Li(t,"GET","/v2/recaptchaConfig",Fi(t,e))})}function pG(t,e){return v(this,null,function*(){return Li(t,"POST","/v1/accounts:delete",e)})}function QM(t,e){return v(this,null,function*(){return Li(t,"POST","/v1/accounts:lookup",e)})}function qu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hI(t,e=!1){return v(this,null,function*(){let n=Be(t),r=yield n.getIdToken(e),i=fI(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:qu(zw(i.auth_time)),issuedAtTime:qu(zw(i.iat)),expirationTime:qu(zw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function zw(t){return Number(t)*1e3}function fI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mp("JWT malformed, contained fewer than 3 sections"),null;try{let i=bw(n);return i?JSON.parse(i):(mp("Failed to decode base64 JWT payload"),null)}catch(i){return mp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xM(t){let e=fI(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wu(t,e,n=!1){return v(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof zt&&gG(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function gG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Qw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),n)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ku=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qu(this.lastLoginAt),this.creationTime=qu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ep(t){return v(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Wu(t,QM(n,{idToken:r}));se(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?YM(s.providerUserInfo):[],a=mG(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,d=c?l:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ku(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)})}function pI(t){return v(this,null,function*(){let e=Be(t);yield Ep(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function mG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YM(t){return t.map(e=>{var{providerId:n}=e,r=Ih(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yG(t,e){return v(this,null,function*(){let n=yield WM(t,{},()=>v(this,null,function*(){let r=ba({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=KM(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ip.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function vG(t,e){return v(this,null,function*(){return Li(t,"POST","/v2/accounts:revokeToken",Fi(t,e))})}var Gu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");let n=xM(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return v(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return v(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield yG(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(se(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Gr("not implemented")}};function Pi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ih(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ku(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let n=yield Wu(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return hI(this,e)}reload(){return pI(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return v(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ep(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(bn(this.auth.app))return Promise.reject(Kr(this.auth));let e=yield this.getIdToken();return yield Wu(this,pG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,d;let f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,V=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:H,emailVerified:ee,isAnonymous:fe,providerData:Y,stsTokenManager:b}=n;se(H&&b,e,"internal-error");let _=Gu.fromJSON(this.name,b);se(typeof H=="string",e,"internal-error"),Pi(f,e.name),Pi(g,e.name),se(typeof ee=="boolean",e,"internal-error"),se(typeof fe=="boolean",e,"internal-error"),Pi(y,e.name),Pi(E,e.name),Pi(S,e.name),Pi(M,e.name),Pi(V,e.name),Pi(z,e.name);let w=new t({uid:H,auth:e,email:g,emailVerified:ee,displayName:f,isAnonymous:fe,photoURL:E,phoneNumber:y,tenantId:S,stsTokenManager:_,createdAt:V,lastLoginAt:z});return Y&&Array.isArray(Y)&&(w.providerData=Y.map(D=>Object.assign({},D))),M&&(w._redirectEventId=M),w}static _fromIdTokenResponse(e,n,r=!1){return v(this,null,function*(){let i=new Gu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ep(s),s})}static _fromGetAccountInfoResponse(e,n,r){return v(this,null,function*(){let i=n.users[0];se(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?YM(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Gu;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ku(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var MM=new Map;function Wr(t){Qr(t instanceof Function,"Expected a class definition");let e=MM.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MM.set(t,e),e)}var _G=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(n,r){return v(this,null,function*(){this.storage[n]=r})}_get(n){return v(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return v(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Yw=_G;function yp(t,e,n){return`firebase:${t}:${e}:${n}`}var bp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=yp(this.userKey,i.apiKey,s),this.fullPersistenceKey=yp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?xa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(this,null,function*(){if(!n.length)return new t(Wr(Yw),e,r);let i=(yield Promise.all(n.map(l=>v(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Wr(Yw),o=yp(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let d=yield l._get(o);if(d){let f=xa._fromJSON(e,d);l!==s&&(a=f),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>v(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function NM(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tN(e))return"Blackberry";if(nN(e))return"Webos";if(gI(e))return"Safari";if((e.includes("chrome/")||XM(e))&&!e.includes("edge/"))return"Chrome";if(eN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZM(t=Qe()){return/firefox\//i.test(t)}function gI(t=Qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XM(t=Qe()){return/crios\//i.test(t)}function JM(t=Qe()){return/iemobile/i.test(t)}function eN(t=Qe()){return/android/i.test(t)}function tN(t=Qe()){return/blackberry/i.test(t)}function nN(t=Qe()){return/webos/i.test(t)}function kp(t=Qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wG(t=Qe()){var e;return kp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IG(){return lM()&&document.documentMode===10}function rN(t=Qe()){return kp(t)||eN(t)||nN(t)||tN(t)||/windows phone/i.test(t)||JM(t)}function EG(){try{return!!(window&&window!==window.top)}catch{return!1}}function iN(t,e=[]){let n;switch(t){case"Browser":n=NM(Qe());break;case"Worker":n=`${NM(Qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ki}/${r}`}var Zw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function bG(n){return v(this,arguments,function*(t,e={}){return Li(t,"GET","/v2/passwordPolicy",Fi(t,e))})}var DG=6,Xw=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:DG,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Jw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dp(this),this.idTokenSubscription=new Dp(this),this.beforeStateQueue=new Zw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield bp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let n=yield QM(this,{idToken:e}),r=yield xa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var n;if(bn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return v(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Ep(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=uG()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(bn(this.app))return Promise.reject(Kr(this));let n=e?Be(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return v(this,null,function*(){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return bn(this.app)?Promise.reject(Kr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return bn(this.app)?Promise.reject(Kr(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Wr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield bG(this),n=new Xw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield vG(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return v(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Wr(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=yield bp.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return v(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&sG(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Vi(t){return Be(t)}var Dp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fM(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Op={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CG(t){Op=t}function sN(t){return Op.loadJS(t)}function TG(){return Op.recaptchaEnterpriseScript}function SG(){return Op.gapiScript}function oN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var AG="recaptcha-enterprise",RG="NO_RECAPTCHA",eI=class{constructor(e){this.type=AG,this.auth=Vi(e)}verify(e="verify",n=!1){return v(this,null,function*(){function r(s){return v(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>v(this,null,function*(){fG(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Kw(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;RM(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(RG)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&RM(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=TG();c.length!==0&&(c+=a),sN(c).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function kM(t,e,n,r=!1){return v(this,null,function*(){let i=new eI(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function tI(t,e,n,r){return v(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield kM(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>v(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield kM(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function mI(t,e){let n=mr(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(xi(s,e??{}))return i;Dn(i,"already-initialized")}return n.initialize({options:e})}function xG(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function yI(t,e,n){let r=Vi(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=aN(e),{host:o,port:a}=MG(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||NG()}function aN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function MG(t){let e=aN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:OM(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:OM(o)}}}function OM(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function NG(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ma=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gr("not implemented")}_getIdTokenResponse(e){return Gr("not implemented")}_linkToIdToken(e,n){return Gr("not implemented")}_getReauthenticationResolver(e){return Gr("not implemented")}};function kG(t,e){return v(this,null,function*(){return Li(t,"POST","/v1/accounts:signUp",e)})}function OG(t,e){return v(this,null,function*(){return Xu(t,"POST","/v1/accounts:signInWithPassword",Fi(t,e))})}function PG(t,e){return v(this,null,function*(){return Xu(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))})}function FG(t,e){return v(this,null,function*(){return Xu(t,"POST","/v1/accounts:signInWithEmailLink",Fi(t,e))})}var Qu=class t extends Ma{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tI(e,n,"signInWithPassword",OG);case"emailLink":return PG(e,{email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}})}_linkToIdToken(e,n){return v(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tI(e,r,"signUpPassword",kG);case"emailLink":return FG(e,{idToken:n,email:this._email,oobCode:this._password});default:Dn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ra(t,e){return v(this,null,function*(){return Xu(t,"POST","/v1/accounts:signInWithIdp",Fi(t,e))})}var LG="http://localhost",Cp=class t extends Ma{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ih(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Ra(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Ra(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Ra(e,n)}buildRequest(){let e={requestUri:LG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ba(n)}return e}};function VG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jG(t){let e=Da(Ca(t)).link,n=e?Da(Ca(e)).deep_link_id:null,r=Da(Ca(t)).deep_link_id;return(r?Da(Ca(r)).link:null)||r||n||e||t}var Tp=class t{constructor(e){var n,r,i,s,o,a;let c=Da(Ca(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,f=VG((i=c.mode)!==null&&i!==void 0?i:null);se(l&&d&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=jG(e);try{return new t(n)}catch{return null}}};var cN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Qu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Tp.parseLink(r);return se(i,"argument-error"),Qu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Yu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Sp=class extends Yu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var vI=(()=>{class t extends Sp{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Cp._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function UG(t,e){return v(this,null,function*(){return Xu(t,"POST","/v1/accounts:signUp",Fi(t,e))})}var Na=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(this,null,function*(){let s=yield xa._fromIdTokenResponse(e,r,i),o=PM(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return v(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=PM(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function PM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var nI=class t extends zt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function uN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nI._fromErrorAndOperation(t,s,e,r):s})}function BG(t,e,n=!1){return v(this,null,function*(){let r=yield Wu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Na._forOperation(t,"link",r)})}function $G(t,e,n=!1){return v(this,null,function*(){let{auth:r}=t;if(bn(r.app))return Promise.reject(Kr(r));let i="reauthenticate";try{let s=yield Wu(t,uN(r,i,e,t),n);se(s.idToken,r,"internal-error");let o=fI(s.idToken);se(o,r,"internal-error");let{sub:a}=o;return se(t.uid===a,r,"user-mismatch"),Na._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Dn(r,"user-mismatch"),s}})}function lN(t,e,n=!1){return v(this,null,function*(){if(bn(t.app))return Promise.reject(Kr(t));let r="signIn",i=yield uN(t,r,e),s=yield Na._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function _I(t,e){return v(this,null,function*(){return lN(Vi(t),e)})}function dN(t){return v(this,null,function*(){let e=Vi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function wI(t,e,n){return v(this,null,function*(){if(bn(t.app))return Promise.reject(Kr(t));let r=Vi(t),o=yield tI(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UG).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&dN(t),c}),a=yield Na._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function II(t,e,n){return bn(t.app)?Promise.reject(Kr(t)):_I(Be(t),cN.credential(e,n)).catch(r=>v(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&dN(t),r}))}function EI(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function bI(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function DI(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function CI(t){return Be(t).signOut()}var Ap="__sak";var Rp=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function HG(){let t=Qe();return gI(t)||kp(t)}var zG=1e3,qG=10,GG=(()=>{class t extends Rp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=HG()&&EG(),this.fallbackToPolling=rN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);IG()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,qG):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},zG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return v(this,null,function*(){yield Yn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return v(this,null,function*(){let r=yield Yn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return v(this,null,function*(){yield Yn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),hN=GG;var WG=(()=>{class t extends Rp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),TI=WG;function KG(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var QG=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return v(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>v(this,null,function*(){return d(r.origin,o)})),l=yield KG(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function SI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var rI=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return v(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=SI("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){let g=f;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function yr(){return window}function YG(t){yr().location.href=t}function fN(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}function ZG(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function XG(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JG(){return fN()?self:null}var pN="firebaseLocalStorageDb",e4=1,xp="firebaseLocalStorage",gN="fbase_key",qs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Pp(t,e){return t.transaction([xp],e?"readwrite":"readonly").objectStore(xp)}function t4(){let t=indexedDB.deleteDatabase(pN);return new qs(t).toPromise()}function iI(){let t=indexedDB.open(pN,e4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(xp,{keyPath:gN})}catch(i){n(i)}}),t.addEventListener("success",()=>v(this,null,function*(){let r=t.result;r.objectStoreNames.contains(xp)?e(r):(r.close(),yield t4(),e(yield iI()))}))})}function FM(t,e,n){return v(this,null,function*(){let r=Pp(t,!0).put({[gN]:e,value:n});return new qs(r).toPromise()})}function n4(t,e){return v(this,null,function*(){let n=Pp(t,!1).get(e),r=yield new qs(n).toPromise();return r===void 0?null:r.value})}function LM(t,e){let n=Pp(t,!0).delete(e);return new qs(n).toPromise()}var r4=800,i4=3,s4=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield iI(),this.db)})}_withRetries(n){return v(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>i4)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return fN()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=QG._getInstance(JG()),this.receiver._subscribe("keyChanged",(n,r)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var n,r;if(this.activeServiceWorker=yield ZG(),!this.activeServiceWorker)return;this.sender=new rI(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||XG()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let n=yield iI();return yield FM(n,Ap,"1"),yield LM(n,Ap),!0}catch{}return!1})}_withPendingWrite(n){return v(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>FM(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return v(this,null,function*(){let r=yield this._withRetries(i=>n4(i,n));return this.localCache[n]=r,r})}_remove(n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>LM(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return v(this,null,function*(){let n=yield this._withRetries(s=>{let o=Pp(s,!1).getAll();return new qs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),r4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),mN=s4;var $se=oN("rcb"),Hse=new zs(3e4,6e4);function yN(t,e){return e?Wr(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Zu=class extends Ma{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function o4(t){return lN(t.auth,new Zu(t),t.bypassAuthState)}function a4(t){let{auth:e,user:n}=t;return se(n,e,"internal-error"),$G(n,new Zu(t),t.bypassAuthState)}function c4(t){return v(this,null,function*(){let{auth:e,user:n}=t;return se(n,e,"internal-error"),BG(n,new Zu(t),t.bypassAuthState)})}var Mp=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return o4;case"linkViaPopup":case"linkViaRedirect":return c4;case"reauthViaPopup":case"reauthViaRedirect":return a4;default:Dn(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var u4=new zs(2e3,1e4);function AI(t,e,n){return v(this,null,function*(){if(bn(t.app))return Promise.reject(zn(t,"operation-not-supported-in-this-environment"));let r=Vi(t);oG(t,e,Yu);let i=yN(r,n);return new l4(r,"signInViaPopup",e,i).executeNotNull()})}var l4=(()=>{class t extends Mp{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let n=yield this.execute();return se(n,this.auth,"internal-error"),n})}onExecution(){return v(this,null,function*(){Qr(this.filter.length===1,"Popup operations only handle one event");let n=SI();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,u4.get())};n()}}t.currentPopupAction=null;return t})(),d4="pendingRedirect",vp=new Map,sI=class t extends Mp{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return v(this,null,function*(){let e=vp.get(this.auth._key());if(!e){try{let r=(yield h4(this.resolver,this.auth))?yield Yn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vp.set(this.auth._key(),e)}return this.bypassAuthState||vp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return Yn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Yn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function h4(t,e){return v(this,null,function*(){let n=g4(e),r=p4(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function f4(t,e){vp.set(t._key(),e)}function p4(t){return Wr(t._redirectPersistence)}function g4(t){return yp(d4,t.config.apiKey,t.name)}function m4(t,e,n=!1){return v(this,null,function*(){if(bn(t.app))return Promise.reject(Kr(t));let r=Vi(t),i=yN(r,e),o=yield new sI(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var y4=10*60*1e3,oI=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=y4&&this.cachedEventUids.clear(),this.cachedEventUids.has(VM(e))}saveEventToCache(e){this.cachedEventUids.add(VM(e)),this.lastProcessedEventTime=Date.now()}};function VM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function v4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vN(t);default:return!1}}function _4(n){return v(this,arguments,function*(t,e={}){return Li(t,"GET","/v1/projects",e)})}var w4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I4=/^https?/;function E4(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield _4(t);for(let n of e)try{if(b4(n))return}catch{}Dn(t,"unauthorized-domain")})}function b4(t){let e=Gw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!I4.test(n))return!1;if(w4.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var D4=new zs(3e4,6e4);function jM(){let t=yr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function C4(t){return new Promise((e,n)=>{var r,i,s;function o(){jM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jM(),n(zn(t,"network-request-failed"))},timeout:D4.get()})}if(!((i=(r=yr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=yr().gapi)===null||s===void 0)&&s.load)o();else{let a=oN("iframefcb");return yr()[a]=()=>{gapi.load?o():n(zn(t,"network-request-failed"))},sN(`${SG()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw _p=null,e})}var _p=null;function T4(t){return _p=_p||C4(t),_p}var S4=new zs(5e3,15e3),A4="__/auth/iframe",R4="emulator/auth/iframe",x4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N4(t){let e=t.config;se(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?dI(e,R4):`https://${t.config.authDomain}/${A4}`,r={apiKey:e.apiKey,appName:t.name,v:ki},i=M4.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ba(r).slice(1)}`}function k4(t){return v(this,null,function*(){let e=yield T4(t),n=yr().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:N4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x4,dontclear:!0},r=>new Promise((i,s)=>v(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=zn(t,"network-request-failed"),a=yr().setTimeout(()=>{s(o)},S4.get());function c(){yr().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var O4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},P4=500,F4=600,L4="_blank",V4="http://localhost",Np=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function j4(t,e,n,r=P4,i=F4){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},O4),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Qe().toLowerCase();n&&(a=XM(l)?L4:n),ZM(l)&&(e=e||V4,c.scrollbars="yes");let d=Object.entries(c).reduce((g,[y,E])=>`${g}${y}=${E},`,"");if(wG(l)&&a!=="_self")return U4(e||"",a),new Np(null);let f=window.open(e||"",a,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new Np(f)}function U4(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var B4="__/auth/handler",$4="emulator/auth/handler",H4=encodeURIComponent("fac");function UM(t,e,n,r,i,s){return v(this,null,function*(){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ki,eventId:i};if(e instanceof Yu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",hM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof Sp){let d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),l=c?`#${H4}=${encodeURIComponent(c)}`:"";return`${z4(t)}?${ba(a).slice(1)}${l}`})}function z4({config:t}){return t.emulator?dI(t,$4):`https://${t.authDomain}/${B4}`}var qw="webStorageSupport",aI=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TI,this._completeRedirectFn=m4,this._overrideRedirectResult=f4}_openPopup(e,n,r,i){return v(this,null,function*(){var s;Qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield UM(e,n,r,Gw(),i);return j4(e,o,SI())})}_openRedirect(e,n,r,i){return v(this,null,function*(){yield this._originValidation(e);let s=yield UM(e,n,r,Gw(),i);return YG(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return v(this,null,function*(){let n=yield k4(e),r=new oI(e);return n.register("authEvent",i=>(se(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qw,{type:qw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[qw];o!==void 0&&n(!!o),Dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=E4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rN()||gI()||kp()}},_N=aI;var BM="@firebase/auth",$M="1.7.4";var cI=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function q4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G4(t){Jt(new pt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iN(t)},l=new Jw(r,i,s,c);return xG(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jt(new pt("auth-internal",e=>{let n=Vi(e.getProvider("auth").getImmediate());return(r=>new cI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(BM,$M,q4(t)),Ve(BM,$M,"esm2017")}var W4=5*60,K4=Cw("authIdTokenMaxAge")||W4,HM=null,Q4=t=>e=>v(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K4)return;let i=n?.token;HM!==i&&(HM=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function RI(t=Hr()){let e=mr(t,"auth");if(e.isInitialized())return e.getImmediate();let n=mI(t,{popupRedirectResolver:_N,persistence:[mN,hN,TI]}),r=Cw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=Q4(s.toString());bI(n,o,()=>o(n.currentUser)),EI(n,a=>o(a))}}let i=oM("auth");return i&&yI(n,`http://${i}`),n}function Y4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CG({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=zn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Y4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G4("Browser");var wN="auth",Gs=class{constructor(e){return e}},Ju=class{constructor(){return Hs(wN)}};var xI=new B("angularfire2.auth-instances");function VW(t,e){let n=Aa(wN,t,e);return n&&new Gs(n)}function jW(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gs(r)}}var UW={provide:Ju,deps:[[new ct,xI]]},BW={provide:Gs,useFactory:VW,deps:[[new ct,xI],Hn]};function Doe(t,...e){return Ve("angularfire",zr.full,"auth"),Ln([BW,UW,{provide:xI,useFactory:jW(t),multi:!0,deps:[W,Ce,Oi,qr,[new ct,Sa],...e]}])}var IN=xe(wI,!0);var MI=xe(RI,!0);var EN=xe(DI,!0);var bN=xe(II,!0);var DN=xe(AI,!0);var CN=xe(CI,!0);var TN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},SN={};var ji,NI;(function(){var t;function e(b,_){function w(){}w.prototype=_.prototype,b.D=_.prototype,b.prototype=new w,b.prototype.constructor=b,b.C=function(D,C,A){for(var I=Array(arguments.length-2),Tr=2;Tr<arguments.length;Tr++)I[Tr-2]=arguments[Tr];return _.prototype[C].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,_,w){w||(w=0);var D=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)D[C]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(C=0;16>C;++C)D[C]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=b.g[0],w=b.g[1],C=b.g[2];var A=b.g[3],I=_+(A^w&(C^A))+D[0]+3614090360&4294967295;_=w+(I<<7&4294967295|I>>>25),I=A+(C^_&(w^C))+D[1]+3905402710&4294967295,A=_+(I<<12&4294967295|I>>>20),I=C+(w^A&(_^w))+D[2]+606105819&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(_^C&(A^_))+D[3]+3250441966&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(A^w&(C^A))+D[4]+4118548399&4294967295,_=w+(I<<7&4294967295|I>>>25),I=A+(C^_&(w^C))+D[5]+1200080426&4294967295,A=_+(I<<12&4294967295|I>>>20),I=C+(w^A&(_^w))+D[6]+2821735955&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(_^C&(A^_))+D[7]+4249261313&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(A^w&(C^A))+D[8]+1770035416&4294967295,_=w+(I<<7&4294967295|I>>>25),I=A+(C^_&(w^C))+D[9]+2336552879&4294967295,A=_+(I<<12&4294967295|I>>>20),I=C+(w^A&(_^w))+D[10]+4294925233&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(_^C&(A^_))+D[11]+2304563134&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(A^w&(C^A))+D[12]+1804603682&4294967295,_=w+(I<<7&4294967295|I>>>25),I=A+(C^_&(w^C))+D[13]+4254626195&4294967295,A=_+(I<<12&4294967295|I>>>20),I=C+(w^A&(_^w))+D[14]+2792965006&4294967295,C=A+(I<<17&4294967295|I>>>15),I=w+(_^C&(A^_))+D[15]+1236535329&4294967295,w=C+(I<<22&4294967295|I>>>10),I=_+(C^A&(w^C))+D[1]+4129170786&4294967295,_=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(_^w))+D[6]+3225465664&4294967295,A=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(A^_))+D[11]+643717713&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^_&(C^A))+D[0]+3921069994&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(C^A&(w^C))+D[5]+3593408605&4294967295,_=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(_^w))+D[10]+38016083&4294967295,A=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(A^_))+D[15]+3634488961&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^_&(C^A))+D[4]+3889429448&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(C^A&(w^C))+D[9]+568446438&4294967295,_=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(_^w))+D[14]+3275163606&4294967295,A=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(A^_))+D[3]+4107603335&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^_&(C^A))+D[8]+1163531501&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(C^A&(w^C))+D[13]+2850285829&4294967295,_=w+(I<<5&4294967295|I>>>27),I=A+(w^C&(_^w))+D[2]+4243563512&4294967295,A=_+(I<<9&4294967295|I>>>23),I=C+(_^w&(A^_))+D[7]+1735328473&4294967295,C=A+(I<<14&4294967295|I>>>18),I=w+(A^_&(C^A))+D[12]+2368359562&4294967295,w=C+(I<<20&4294967295|I>>>12),I=_+(w^C^A)+D[5]+4294588738&4294967295,_=w+(I<<4&4294967295|I>>>28),I=A+(_^w^C)+D[8]+2272392833&4294967295,A=_+(I<<11&4294967295|I>>>21),I=C+(A^_^w)+D[11]+1839030562&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^_)+D[14]+4259657740&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(w^C^A)+D[1]+2763975236&4294967295,_=w+(I<<4&4294967295|I>>>28),I=A+(_^w^C)+D[4]+1272893353&4294967295,A=_+(I<<11&4294967295|I>>>21),I=C+(A^_^w)+D[7]+4139469664&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^_)+D[10]+3200236656&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(w^C^A)+D[13]+681279174&4294967295,_=w+(I<<4&4294967295|I>>>28),I=A+(_^w^C)+D[0]+3936430074&4294967295,A=_+(I<<11&4294967295|I>>>21),I=C+(A^_^w)+D[3]+3572445317&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^_)+D[6]+76029189&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(w^C^A)+D[9]+3654602809&4294967295,_=w+(I<<4&4294967295|I>>>28),I=A+(_^w^C)+D[12]+3873151461&4294967295,A=_+(I<<11&4294967295|I>>>21),I=C+(A^_^w)+D[15]+530742520&4294967295,C=A+(I<<16&4294967295|I>>>16),I=w+(C^A^_)+D[2]+3299628645&4294967295,w=C+(I<<23&4294967295|I>>>9),I=_+(C^(w|~A))+D[0]+4096336452&4294967295,_=w+(I<<6&4294967295|I>>>26),I=A+(w^(_|~C))+D[7]+1126891415&4294967295,A=_+(I<<10&4294967295|I>>>22),I=C+(_^(A|~w))+D[14]+2878612391&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~_))+D[5]+4237533241&4294967295,w=C+(I<<21&4294967295|I>>>11),I=_+(C^(w|~A))+D[12]+1700485571&4294967295,_=w+(I<<6&4294967295|I>>>26),I=A+(w^(_|~C))+D[3]+2399980690&4294967295,A=_+(I<<10&4294967295|I>>>22),I=C+(_^(A|~w))+D[10]+4293915773&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~_))+D[1]+2240044497&4294967295,w=C+(I<<21&4294967295|I>>>11),I=_+(C^(w|~A))+D[8]+1873313359&4294967295,_=w+(I<<6&4294967295|I>>>26),I=A+(w^(_|~C))+D[15]+4264355552&4294967295,A=_+(I<<10&4294967295|I>>>22),I=C+(_^(A|~w))+D[6]+2734768916&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~_))+D[13]+1309151649&4294967295,w=C+(I<<21&4294967295|I>>>11),I=_+(C^(w|~A))+D[4]+4149444226&4294967295,_=w+(I<<6&4294967295|I>>>26),I=A+(w^(_|~C))+D[11]+3174756917&4294967295,A=_+(I<<10&4294967295|I>>>22),I=C+(_^(A|~w))+D[2]+718787259&4294967295,C=A+(I<<15&4294967295|I>>>17),I=w+(A^(C|~_))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+A&4294967295}r.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var w=_-this.blockSize,D=this.B,C=this.h,A=0;A<_;){if(C==0)for(;A<=w;)i(this,b,A),A+=this.blockSize;if(typeof b=="string"){for(;A<_;)if(D[C++]=b.charCodeAt(A++),C==this.blockSize){i(this,D),C=0;break}}else for(;A<_;)if(D[C++]=b[A++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=_},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var w=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=w&255,w/=256;for(this.u(b),b=Array(16),_=w=0;4>_;++_)for(var D=0;32>D;D+=8)b[w++]=this.g[_]>>>D&255;return b};function s(b,_){var w=a;return Object.prototype.hasOwnProperty.call(w,b)?w[b]:w[b]=_(b)}function o(b,_){this.h=_;for(var w=[],D=!0,C=b.length-1;0<=C;C--){var A=b[C]|0;D&&A==_||(w[C]=A,D=!1)}this.g=w}var a={};function c(b){return-128<=b&&128>b?s(b,function(_){return new o([_|0],0>_?-1:0)}):new o([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return f;if(0>b)return M(l(-b));for(var _=[],w=1,D=0;b>=w;D++)_[D]=b/w|0,w*=4294967296;return new o(_,0)}function d(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return M(d(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=l(Math.pow(_,8)),D=f,C=0;C<b.length;C+=8){var A=Math.min(8,b.length-C),I=parseInt(b.substring(C,C+A),_);8>A?(A=l(Math.pow(_,A)),D=D.j(A).add(l(I))):(D=D.j(w),D=D.add(l(I)))}return D}var f=c(0),g=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(S(this))return-M(this).m();for(var b=0,_=1,w=0;w<this.g.length;w++){var D=this.i(w);b+=(0<=D?D:4294967296+D)*_,_*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(E(this))return"0";if(S(this))return"-"+M(this).toString(b);for(var _=l(Math.pow(b,6)),w=this,D="";;){var C=ee(w,_).g;w=V(w,C.j(_));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(b);if(w=C,E(w))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function E(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function S(b){return b.h==-1}t.l=function(b){return b=V(this,b),S(b)?-1:E(b)?0:1};function M(b){for(var _=b.g.length,w=[],D=0;D<_;D++)w[D]=~b.g[D];return new o(w,~b.h).add(g)}t.abs=function(){return S(this)?M(this):this},t.add=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],D=0,C=0;C<=_;C++){var A=D+(this.i(C)&65535)+(b.i(C)&65535),I=(A>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);D=I>>>16,A&=65535,I&=65535,w[C]=I<<16|A}return new o(w,w[w.length-1]&-2147483648?-1:0)};function V(b,_){return b.add(M(_))}t.j=function(b){if(E(this)||E(b))return f;if(S(this))return S(b)?M(this).j(M(b)):M(M(this).j(b));if(S(b))return M(this.j(M(b)));if(0>this.l(y)&&0>b.l(y))return l(this.m()*b.m());for(var _=this.g.length+b.g.length,w=[],D=0;D<2*_;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<b.g.length;C++){var A=this.i(D)>>>16,I=this.i(D)&65535,Tr=b.i(C)>>>16,Fc=b.i(C)&65535;w[2*D+2*C]+=I*Fc,z(w,2*D+2*C),w[2*D+2*C+1]+=A*Fc,z(w,2*D+2*C+1),w[2*D+2*C+1]+=I*Tr,z(w,2*D+2*C+1),w[2*D+2*C+2]+=A*Tr,z(w,2*D+2*C+2)}for(D=0;D<_;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=_;D<2*_;D++)w[D]=0;return new o(w,0)};function z(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function H(b,_){this.g=b,this.h=_}function ee(b,_){if(E(_))throw Error("division by zero");if(E(b))return new H(f,f);if(S(b))return _=ee(M(b),_),new H(M(_.g),M(_.h));if(S(_))return _=ee(b,M(_)),new H(M(_.g),_.h);if(30<b.g.length){if(S(b)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var w=g,D=_;0>=D.l(b);)w=fe(w),D=fe(D);var C=Y(w,1),A=Y(D,1);for(D=Y(D,2),w=Y(w,2);!E(D);){var I=A.add(D);0>=I.l(b)&&(C=C.add(w),A=I),D=Y(D,1),w=Y(w,1)}return _=V(b,C.j(_)),new H(C,_)}for(C=f;0<=b.l(_);){for(w=Math.max(1,Math.floor(b.m()/_.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=l(w),I=A.j(_);S(I)||0<I.l(b);)w-=D,A=l(w),I=A.j(_);E(A)&&(A=g),C=C.add(A),b=V(b,I)}return new H(C,b)}t.A=function(b){return ee(this,b).h},t.and=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],D=0;D<_;D++)w[D]=this.i(D)&b.i(D);return new o(w,this.h&b.h)},t.or=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],D=0;D<_;D++)w[D]=this.i(D)|b.i(D);return new o(w,this.h|b.h)},t.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),w=[],D=0;D<_;D++)w[D]=this.i(D)^b.i(D);return new o(w,this.h^b.h)};function fe(b){for(var _=b.g.length+1,w=[],D=0;D<_;D++)w[D]=b.i(D)<<1|b.i(D-1)>>>31;return new o(w,b.h)}function Y(b,_){var w=_>>5;_%=32;for(var D=b.g.length-w,C=[],A=0;A<D;A++)C[A]=0<_?b.i(A+w)>>>_|b.i(A+w+1)<<32-_:b.i(A+w);return new o(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NI=SN.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=d,ji=SN.Integer=o}).apply(typeof TN<"u"?TN:typeof self<"u"?self:typeof window<"u"?window:{});var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yr={};var kI,OI,ka,PI,el,Lp,FI,LI,VI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,p){return u==Array.prototype||u==Object.prototype||(u[h]=p.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fp=="object"&&Fp];for(var h=0;h<u.length;++h){var p=u[h];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(u,h){if(h)e:{var p=r;u=u.split(".");for(var m=0;m<u.length-1;m++){var T=u[m];if(!(T in p))break e;p=p[T]}u=u[u.length-1],m=p[u],h=h(m),h!=m&&h!=null&&e(p,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var p=0,m=!1,T={next:function(){if(!m&&p<u.length){var N=p++;return{value:h(N,u[N]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,p){return p})}});var o=o||{},a=this||self;function c(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function l(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,p){return u.call.apply(u.bind,arguments)}function f(u,h,p){if(!u)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),u.apply(h,T)}}return function(){return u.apply(h,arguments)}}function g(u,h,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(u,h){var p=Array.prototype.slice.call(arguments,1);return function(){var m=p.slice();return m.push.apply(m,arguments),u.apply(this,m)}}function E(u,h){function p(){}p.prototype=h.prototype,u.aa=h.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(m,T,N){for(var $=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)$[Fe-2]=arguments[Fe];return h.prototype[T].apply(m,$)}}function S(u){let h=u.length;if(0<h){let p=Array(h);for(let m=0;m<h;m++)p[m]=u[m];return p}return[]}function M(u,h){for(let p=1;p<arguments.length;p++){let m=arguments[p];if(c(m)){let T=u.length||0,N=m.length||0;u.length=T+N;for(let $=0;$<N;$++)u[T+$]=m[$]}else u.push(m)}}class V{constructor(h,p){this.i=h,this.j=p,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function z(u){return/^[\s\xa0]*$/.test(u)}function H(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function ee(u){return ee[" "](u),u}ee[" "]=function(){};var fe=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Y(u,h,p){for(let m in u)h.call(p,u[m],m,u)}function b(u,h){for(let p in u)h.call(void 0,u[p],p,u)}function _(u){let h={};for(let p in u)h[p]=u[p];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,h){let p,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(p in m)u[p]=m[p];for(let N=0;N<w.length;N++)p=w[N],Object.prototype.hasOwnProperty.call(m,p)&&(u[p]=m[p])}}function C(u){var h=1;u=u.split(":");let p=[];for(;0<h&&u.length;)p.push(u.shift()),h--;return u.length&&p.push(u.join(":")),p}function A(u){a.setTimeout(()=>{throw u},0)}function I(){var u=Wm;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class Tr{constructor(){this.h=this.g=null}add(h,p){let m=Fc.get();m.set(h,p),this.h?this.h.next=m:this.g=m,this.h=m}}var Fc=new V(()=>new SL,u=>u.reset());class SL{constructor(){this.next=this.g=this.h=null}set(h,p){this.h=h,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Lc,Vc=!1,Wm=new Tr,JC=()=>{let u=a.Promise.resolve(void 0);Lc=()=>{u.then(AL)}};var AL=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(p){A(p)}var h=Fc;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}Vc=!1};function ii(){this.s=this.s,this.C=this.C}ii.prototype.s=!1,ii.prototype.ma=function(){this.s||(this.s=!0,this.N())},ii.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function bt(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var RL=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{let p=()=>{};a.addEventListener("test",p,h),a.removeEventListener("test",p,h)}catch{}return u}();function jc(u,h){if(bt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,m=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(fe){e:{try{ee(h.nodeName);var T=!0;break e}catch{}T=!1}T||(h=null)}}else p=="mouseover"?h=u.fromElement:p=="mouseout"&&(h=u.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:xL[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&jc.aa.h.call(this)}}E(jc,bt);var xL={2:"touch",3:"pen",4:"mouse"};jc.prototype.h=function(){jc.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Uc="closure_listenable_"+(1e6*Math.random()|0),ML=0;function NL(u,h,p,m,T){this.listener=u,this.proxy=null,this.src=h,this.type=p,this.capture=!!m,this.ha=T,this.key=++ML,this.da=this.fa=!1}function Fd(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ld(u){this.src=u,this.g={},this.h=0}Ld.prototype.add=function(u,h,p,m,T){var N=u.toString();u=this.g[N],u||(u=this.g[N]=[],this.h++);var $=Qm(u,h,m,T);return-1<$?(h=u[$],p||(h.fa=!1)):(h=new NL(h,this.src,N,!!m,T),h.fa=p,u.push(h)),h};function Km(u,h){var p=h.type;if(p in u.g){var m=u.g[p],T=Array.prototype.indexOf.call(m,h,void 0),N;(N=0<=T)&&Array.prototype.splice.call(m,T,1),N&&(Fd(h),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Qm(u,h,p,m){for(var T=0;T<u.length;++T){var N=u[T];if(!N.da&&N.listener==h&&N.capture==!!p&&N.ha==m)return T}return-1}var Ym="closure_lm_"+(1e6*Math.random()|0),Zm={};function e0(u,h,p,m,T){if(m&&m.once)return n0(u,h,p,m,T);if(Array.isArray(h)){for(var N=0;N<h.length;N++)e0(u,h[N],p,m,T);return null}return p=ty(p),u&&u[Uc]?u.K(h,p,l(m)?!!m.capture:!!m,T):t0(u,h,p,!1,m,T)}function t0(u,h,p,m,T,N){if(!h)throw Error("Invalid event type");var $=l(T)?!!T.capture:!!T,Fe=Jm(u);if(Fe||(u[Ym]=Fe=new Ld(u)),p=Fe.add(h,p,m,$,N),p.proxy)return p;if(m=kL(),p.proxy=m,m.src=u,m.listener=p,u.addEventListener)RL||(T=$),T===void 0&&(T=!1),u.addEventListener(h.toString(),m,T);else if(u.attachEvent)u.attachEvent(i0(h.toString()),m);else if(u.addListener&&u.removeListener)u.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return p}function kL(){function u(p){return h.call(u.src,u.listener,p)}let h=OL;return u}function n0(u,h,p,m,T){if(Array.isArray(h)){for(var N=0;N<h.length;N++)n0(u,h[N],p,m,T);return null}return p=ty(p),u&&u[Uc]?u.L(h,p,l(m)?!!m.capture:!!m,T):t0(u,h,p,!0,m,T)}function r0(u,h,p,m,T){if(Array.isArray(h))for(var N=0;N<h.length;N++)r0(u,h[N],p,m,T);else m=l(m)?!!m.capture:!!m,p=ty(p),u&&u[Uc]?(u=u.i,h=String(h).toString(),h in u.g&&(N=u.g[h],p=Qm(N,p,m,T),-1<p&&(Fd(N[p]),Array.prototype.splice.call(N,p,1),N.length==0&&(delete u.g[h],u.h--)))):u&&(u=Jm(u))&&(h=u.g[h.toString()],u=-1,h&&(u=Qm(h,p,m,T)),(p=-1<u?h[u]:null)&&Xm(p))}function Xm(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[Uc])Km(h.i,u);else{var p=u.type,m=u.proxy;h.removeEventListener?h.removeEventListener(p,m,u.capture):h.detachEvent?h.detachEvent(i0(p),m):h.addListener&&h.removeListener&&h.removeListener(m),(p=Jm(h))?(Km(p,u),p.h==0&&(p.src=null,h[Ym]=null)):Fd(u)}}}function i0(u){return u in Zm?Zm[u]:Zm[u]="on"+u}function OL(u,h){if(u.da)u=!0;else{h=new jc(h,this);var p=u.listener,m=u.ha||u.src;u.fa&&Xm(u),u=p.call(m,h)}return u}function Jm(u){return u=u[Ym],u instanceof Ld?u:null}var ey="__closure_events_fn_"+(1e9*Math.random()>>>0);function ty(u){return typeof u=="function"?u:(u[ey]||(u[ey]=function(h){return u.handleEvent(h)}),u[ey])}function Dt(){ii.call(this),this.i=new Ld(this),this.M=this,this.F=null}E(Dt,ii),Dt.prototype[Uc]=!0,Dt.prototype.removeEventListener=function(u,h,p,m){r0(this,u,h,p,m)};function Pt(u,h){var p,m=u.F;if(m)for(p=[];m;m=m.F)p.push(m);if(u=u.M,m=h.type||h,typeof h=="string")h=new bt(h,u);else if(h instanceof bt)h.target=h.target||u;else{var T=h;h=new bt(m,u),D(h,T)}if(T=!0,p)for(var N=p.length-1;0<=N;N--){var $=h.g=p[N];T=Vd($,m,!0,h)&&T}if($=h.g=u,T=Vd($,m,!0,h)&&T,T=Vd($,m,!1,h)&&T,p)for(N=0;N<p.length;N++)$=h.g=p[N],T=Vd($,m,!1,h)&&T}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var p=u.g[h],m=0;m<p.length;m++)Fd(p[m]);delete u.g[h],u.h--}}this.F=null},Dt.prototype.K=function(u,h,p,m){return this.i.add(String(u),h,!1,p,m)},Dt.prototype.L=function(u,h,p,m){return this.i.add(String(u),h,!0,p,m)};function Vd(u,h,p,m){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var T=!0,N=0;N<h.length;++N){var $=h[N];if($&&!$.da&&$.capture==p){var Fe=$.listener,vt=$.ha||$.src;$.fa&&Km(u.i,$),T=Fe.call(vt,m)!==!1&&T}}return T&&!m.defaultPrevented}function s0(u,h,p){if(typeof u=="function")p&&(u=g(u,p));else if(u&&typeof u.handleEvent=="function")u=g(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function o0(u){u.g=s0(()=>{u.g=null,u.i&&(u.i=!1,o0(u))},u.l);let h=u.h;u.h=null,u.m.apply(null,h)}class PL extends ii{constructor(h,p){super(),this.m=h,this.l=p,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:o0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bc(u){ii.call(this),this.h=u,this.g={}}E(Bc,ii);var a0=[];function c0(u){Y(u.g,function(h,p){this.g.hasOwnProperty(p)&&Xm(h)},u),u.g={}}Bc.prototype.N=function(){Bc.aa.N.call(this),c0(this)},Bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ny=a.JSON.stringify,FL=a.JSON.parse,LL=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ry(){}ry.prototype.h=null;function u0(u){return u.h||(u.h=u.i())}function l0(){}var $c={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function iy(){bt.call(this,"d")}E(iy,bt);function sy(){bt.call(this,"c")}E(sy,bt);var us={},d0=null;function jd(){return d0=d0||new Dt}us.La="serverreachability";function h0(u){bt.call(this,us.La,u)}E(h0,bt);function Hc(u){let h=jd();Pt(h,new h0(h))}us.STAT_EVENT="statevent";function f0(u,h){bt.call(this,us.STAT_EVENT,u),this.stat=h}E(f0,bt);function Ft(u){let h=jd();Pt(h,new f0(h,u))}us.Ma="timingevent";function p0(u,h){bt.call(this,us.Ma,u),this.size=h}E(p0,bt);function zc(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function qc(){this.g=!0}qc.prototype.xa=function(){this.g=!1};function VL(u,h,p,m,T,N){u.info(function(){if(u.g)if(N)for(var $="",Fe=N.split("&"),vt=0;vt<Fe.length;vt++){var Re=Fe[vt].split("=");if(1<Re.length){var Ct=Re[0];Re=Re[1];var Tt=Ct.split("_");$=2<=Tt.length&&Tt[1]=="type"?$+(Ct+"="+Re+"&"):$+(Ct+"=redacted&")}}else $=null;else $=N;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+h+`
`+p+`
`+$})}function jL(u,h,p,m,T,N,$){u.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+h+`
`+p+`
`+N+" "+$})}function xo(u,h,p,m){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+BL(u,p)+(m?" "+m:"")})}function UL(u,h){u.info(function(){return"TIMEOUT: "+h})}qc.prototype.info=function(){};function BL(u,h){if(!u.g)return h;if(!h)return null;try{var p=JSON.parse(h);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var m=p[u];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var N=T[0];if(N!="noop"&&N!="stop"&&N!="close")for(var $=1;$<T.length;$++)T[$]=""}}}}return ny(p)}catch{return h}}var Ud={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},g0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oy;function Bd(){}E(Bd,ry),Bd.prototype.g=function(){return new XMLHttpRequest},Bd.prototype.i=function(){return{}},oy=new Bd;function si(u,h,p,m){this.j=u,this.i=h,this.l=p,this.R=m||1,this.U=new Bc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new m0}function m0(){this.i=null,this.g="",this.h=!1}var y0={},ay={};function cy(u,h,p){u.L=1,u.v=qd(Sr(h)),u.m=p,u.P=!0,v0(u,null)}function v0(u,h){u.F=Date.now(),$d(u),u.A=Sr(u.v);var p=u.A,m=u.R;Array.isArray(m)||(m=[String(m)]),N0(p.i,"t",m),u.C=0,p=u.j.J,u.h=new m0,u.g=Y0(u.j,p?h:null,!u.m),0<u.O&&(u.M=new PL(g(u.Y,u,u.g),u.O)),h=u.U,p=u.g,m=u.ca;var T="readystatechange";Array.isArray(T)||(T&&(a0[0]=T.toString()),T=a0);for(var N=0;N<T.length;N++){var $=e0(p,T[N],m||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),Hc(),VL(u.i,u.u,u.A,u.l,u.R,u.m)}si.prototype.ca=function(u){u=u.target;let h=this.M;h&&Ar(u)==3?h.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{let Tt=Ar(this.g);var h=this.g.Ba();let ko=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||j0(this.g)))){this.J||Tt!=4||h==7||(h==8||0>=ko?Hc(3):Hc(2)),uy(this);var p=this.g.Z();this.X=p;t:if(_0(this)){var m=j0(this.g);u="";var T=m.length,N=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),Gc(this);var $="";break t}this.h.i=new a.TextDecoder}for(h=0;h<T;h++)this.h.h=!0,u+=this.h.i.decode(m[h],{stream:!(N&&h==T-1)});m.length=0,this.h.g+=u,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,jL(this.i,this.u,this.A,this.l,this.R,Tt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,vt=this.g;if((Fe=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Fe)){var Re=Fe;break t}}Re=null}if(p=Re)xo(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ly(this,p);else{this.o=!1,this.s=3,Ft(12),ls(this),Gc(this);break e}}if(this.P){p=!0;let xn;for(;!this.J&&this.C<$.length;)if(xn=$L(this,$),xn==ay){Tt==4&&(this.s=4,Ft(14),p=!1),xo(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==y0){this.s=4,Ft(15),xo(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else xo(this.i,this.l,xn,null),ly(this,xn);if(_0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||$.length!=0||this.h.h||(this.s=1,Ft(16),p=!1),this.o=this.o&&p,!p)xo(this.i,this.l,$,"[Invalid Chunked Response]"),ls(this),Gc(this);else if(0<$.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),my(Ct),Ct.M=!0,Ft(11))}}else xo(this.i,this.l,$,null),ly(this,$);Tt==4&&ls(this),this.o&&!this.J&&(Tt==4?G0(this.j,this):(this.o=!1,$d(this)))}else sV(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),ls(this),Gc(this)}}}catch{}finally{}};function _0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function $L(u,h){var p=u.C,m=h.indexOf(`
`,p);return m==-1?ay:(p=Number(h.substring(p,m)),isNaN(p)?y0:(m+=1,m+p>h.length?ay:(h=h.slice(m,m+p),u.C=m+p,h)))}si.prototype.cancel=function(){this.J=!0,ls(this)};function $d(u){u.S=Date.now()+u.I,w0(u,u.I)}function w0(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=zc(g(u.ba,u),h)}function uy(u){u.B&&(a.clearTimeout(u.B),u.B=null)}si.prototype.ba=function(){this.B=null;let u=Date.now();0<=u-this.S?(UL(this.i,this.A),this.L!=2&&(Hc(),Ft(17)),ls(this),this.s=2,Gc(this)):w0(this,this.S-u)};function Gc(u){u.j.G==0||u.J||G0(u.j,u)}function ls(u){uy(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,c0(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function ly(u,h){try{var p=u.j;if(p.G!=0&&(p.g==u||dy(p.h,u))){if(!u.K&&dy(p.h,u)&&p.G==3){try{var m=p.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Yd(p),Kd(p);else break e;gy(p),Ft(18)}}else p.za=T[1],0<p.za-p.T&&37500>T[2]&&p.F&&p.v==0&&!p.C&&(p.C=zc(g(p.Za,p),6e3));if(1>=b0(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else hs(p,11)}else if((u.K||p.g==u)&&Yd(p),!z(h))for(T=p.Da.g.parse(h),h=0;h<T.length;h++){let Re=T[h];if(p.T=Re[0],Re=Re[1],p.G==2)if(Re[0]=="c"){p.K=Re[1],p.ia=Re[2];let Ct=Re[3];Ct!=null&&(p.la=Ct,p.j.info("VER="+p.la));let Tt=Re[4];Tt!=null&&(p.Aa=Tt,p.j.info("SVER="+p.Aa));let ko=Re[5];ko!=null&&typeof ko=="number"&&0<ko&&(m=1.5*ko,p.L=m,p.j.info("backChannelRequestTimeoutMs_="+m)),m=p;let xn=u.g;if(xn){let Xd=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xd){var N=m.h;N.g||Xd.indexOf("spdy")==-1&&Xd.indexOf("quic")==-1&&Xd.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(hy(N,N.h),N.h=null))}if(m.D){let yy=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;yy&&(m.ya=yy,$e(m.I,m.D,yy))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),m=p;var $=u;if(m.qa=Q0(m,m.J?m.ia:null,m.W),$.K){D0(m.h,$);var Fe=$,vt=m.L;vt&&(Fe.I=vt),Fe.B&&(uy(Fe),$d(Fe)),m.g=$}else z0(m);0<p.i.length&&Qd(p)}else Re[0]!="stop"&&Re[0]!="close"||hs(p,7);else p.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?hs(p,7):py(p):Re[0]!="noop"&&p.l&&p.l.ta(Re),p.v=0)}}Hc(4)}catch{}}var HL=class{constructor(u,h){this.g=u,this.map=h}};function I0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function E0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function b0(u){return u.h?1:u.g?u.g.size:0}function dy(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function hy(u,h){u.g?u.g.add(h):u.h=h}function D0(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}I0.prototype.cancel=function(){if(this.i=C0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let u of this.g.values())u.cancel();this.g.clear()}};function C0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(let p of u.g.values())h=h.concat(p.D);return h}return S(u.i)}function zL(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var h=[],p=u.length,m=0;m<p;m++)h.push(u[m]);return h}h=[],p=0;for(m in u)h[p++]=u[m];return h}function qL(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var h=[];u=u.length;for(var p=0;p<u;p++)h.push(p);return h}h=[],p=0;for(let m in u)h[p++]=m;return h}}}function T0(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var p=qL(u),m=zL(u),T=m.length,N=0;N<T;N++)h.call(void 0,m[N],p&&p[N],u)}var S0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GL(u,h){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var m=u[p].indexOf("="),T=null;if(0<=m){var N=u[p].substring(0,m);T=u[p].substring(m+1)}else N=u[p];h(N,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ds(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ds){this.h=u.h,Hd(this,u.j),this.o=u.o,this.g=u.g,zd(this,u.s),this.l=u.l;var h=u.i,p=new Qc;p.i=h.i,h.g&&(p.g=new Map(h.g),p.h=h.h),A0(this,p),this.m=u.m}else u&&(h=String(u).match(S0))?(this.h=!1,Hd(this,h[1]||"",!0),this.o=Wc(h[2]||""),this.g=Wc(h[3]||"",!0),zd(this,h[4]),this.l=Wc(h[5]||"",!0),A0(this,h[6]||"",!0),this.m=Wc(h[7]||"")):(this.h=!1,this.i=new Qc(null,this.h))}ds.prototype.toString=function(){var u=[],h=this.j;h&&u.push(Kc(h,R0,!0),":");var p=this.g;return(p||h=="file")&&(u.push("//"),(h=this.o)&&u.push(Kc(h,R0,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Kc(p,p.charAt(0)=="/"?QL:KL,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Kc(p,ZL)),u.join("")};function Sr(u){return new ds(u)}function Hd(u,h,p){u.j=p?Wc(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function zd(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function A0(u,h,p){h instanceof Qc?(u.i=h,XL(u.i,u.h)):(p||(h=Kc(h,YL)),u.i=new Qc(h,u.h))}function $e(u,h,p){u.i.set(h,p)}function qd(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Wc(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Kc(u,h,p){return typeof u=="string"?(u=encodeURI(u).replace(h,WL),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function WL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var R0=/[#\/\?@]/g,KL=/[#\?:]/g,QL=/[#\?]/g,YL=/[#\?@]/g,ZL=/#/g;function Qc(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function oi(u){u.g||(u.g=new Map,u.h=0,u.i&&GL(u.i,function(h,p){u.add(decodeURIComponent(h.replace(/\+/g," ")),p)}))}t=Qc.prototype,t.add=function(u,h){oi(this),this.i=null,u=Mo(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(h),this.h+=1,this};function x0(u,h){oi(u),h=Mo(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function M0(u,h){return oi(u),h=Mo(u,h),u.g.has(h)}t.forEach=function(u,h){oi(this),this.g.forEach(function(p,m){p.forEach(function(T){u.call(h,T,m,this)},this)},this)},t.na=function(){oi(this);let u=Array.from(this.g.values()),h=Array.from(this.g.keys()),p=[];for(let m=0;m<h.length;m++){let T=u[m];for(let N=0;N<T.length;N++)p.push(h[m])}return p},t.V=function(u){oi(this);let h=[];if(typeof u=="string")M0(this,u)&&(h=h.concat(this.g.get(Mo(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)h=h.concat(u[p])}return h},t.set=function(u,h){return oi(this),this.i=null,u=Mo(this,u),M0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},t.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function N0(u,h,p){x0(u,h),0<p.length&&(u.i=null,u.g.set(Mo(u,h),S(p)),u.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let u=[],h=Array.from(this.g.keys());for(var p=0;p<h.length;p++){var m=h[p];let N=encodeURIComponent(String(m)),$=this.V(m);for(m=0;m<$.length;m++){var T=N;$[m]!==""&&(T+="="+encodeURIComponent(String($[m]))),u.push(T)}}return this.i=u.join("&")};function Mo(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function XL(u,h){h&&!u.j&&(oi(u),u.i=null,u.g.forEach(function(p,m){var T=m.toLowerCase();m!=T&&(x0(this,m),N0(this,T,p))},u)),u.j=h}function JL(u,h){let p=new qc;if(a.Image){let m=new Image;m.onload=y(ai,p,"TestLoadImage: loaded",!0,h,m),m.onerror=y(ai,p,"TestLoadImage: error",!1,h,m),m.onabort=y(ai,p,"TestLoadImage: abort",!1,h,m),m.ontimeout=y(ai,p,"TestLoadImage: timeout",!1,h,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=u}else h(!1)}function eV(u,h){let p=new qc,m=new AbortController,T=setTimeout(()=>{m.abort(),ai(p,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:m.signal}).then(N=>{clearTimeout(T),N.ok?ai(p,"TestPingServer: ok",!0,h):ai(p,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(T),ai(p,"TestPingServer: error",!1,h)})}function ai(u,h,p,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(p)}catch{}}function tV(){this.g=new LL}function nV(u,h,p){let m=p||"";try{T0(u,function(T,N){let $=T;l(T)&&($=ny(T)),h.push(m+N+"="+encodeURIComponent($))})}catch(T){throw h.push(m+"type="+encodeURIComponent("_badmap")),T}}function Yc(u){this.l=u.Ub||null,this.j=u.eb||!1}E(Yc,ry),Yc.prototype.g=function(){return new Gd(this.l,this.j)},Yc.prototype.i=function(u){return function(){return u}}({});function Gd(u,h){Dt.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Gd,Dt),t=Gd.prototype,t.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Xc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xc(this)),this.g&&(this.readyState=3,Xc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;k0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function k0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?Zc(this):Xc(this),this.readyState==3&&k0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Zc(this))},t.Qa=function(u){this.g&&(this.response=u,Zc(this))},t.ga=function(){this.g&&Zc(this)};function Zc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xc(u)}t.setRequestHeader=function(u,h){this.u.append(u,h)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let u=[],h=this.h.entries();for(var p=h.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=h.next();return u.join(`\r
`)};function Xc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function O0(u){let h="";return Y(u,function(p,m){h+=m,h+=":",h+=p,h+=`\r
`}),h}function fy(u,h,p){e:{for(m in p){var m=!1;break e}m=!0}m||(p=O0(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):$e(u,h,p))}function Ke(u){Dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ke,Dt);var rV=/^https?$/i,iV=["POST","PUT"];t=Ke.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,h,p,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oy.g(),this.v=this.o?u0(this.o):u0(oy),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch(N){P0(this,N);return}if(u=p||"",p=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)p.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let N of m.keys())p.set(N,m.get(N));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(p.keys()).find(N=>N.toLowerCase()=="content-type"),T=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(iV,h,void 0))||m||T||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,$]of p)this.g.setRequestHeader(N,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{V0(this),this.u=!0,this.g.send(u),this.u=!1}catch(N){P0(this,N)}};function P0(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,F0(u),Wd(u)}function F0(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pt(this,"complete"),Pt(this,"abort"),Wd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wd(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?L0(this):this.bb())},t.bb=function(){L0(this)};function L0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Ar(u)!=4||u.Z()!=2)){if(u.u&&Ar(u)==4)s0(u.Ea,0,u);else if(Pt(u,"readystatechange"),Ar(u)==4){u.h=!1;try{let $=u.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var p;if(!(p=h)){var m;if(m=$===0){var T=String(u.D).match(S0)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!rV.test(T?T.toLowerCase():"")}p=m}if(p)Pt(u,"complete"),Pt(u,"success");else{u.m=6;try{var N=2<Ar(u)?u.g.statusText:""}catch{N=""}u.l=N+" ["+u.Z()+"]",F0(u)}}finally{Wd(u)}}}}function Wd(u,h){if(u.g){V0(u);let p=u.g,m=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||Pt(u,"ready");try{p.onreadystatechange=m}catch{}}}function V0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Ar(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),FL(h)}};function j0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function sV(u){let h={};u=(u.g&&2<=Ar(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<u.length;m++){if(z(u[m]))continue;var p=C(u[m]);let T=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let N=h[T]||[];h[T]=N,N.push(p)}b(h,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jc(u,h,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||h}function U0(u){this.Aa=0,this.i=[],this.j=new qc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jc("baseRetryDelayMs",5e3,u),this.cb=Jc("retryDelaySeedMs",1e4,u),this.Wa=Jc("forwardChannelMaxRetries",2,u),this.wa=Jc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new I0(u&&u.concurrentRequestLimit),this.Da=new tV,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=U0.prototype,t.la=8,t.G=1,t.connect=function(u,h,p,m){Ft(0),this.W=u,this.H=h||{},p&&m!==void 0&&(this.H.OSID=p,this.H.OAID=m),this.F=this.X,this.I=Q0(this,null,this.W),Qd(this)};function py(u){if(B0(u),u.G==3){var h=u.U++,p=Sr(u.I);if($e(p,"SID",u.K),$e(p,"RID",h),$e(p,"TYPE","terminate"),eu(u,p),h=new si(u,u.j,h),h.L=2,h.v=qd(Sr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=h.v,p=!0),p||(h.g=Y0(h.j,null),h.g.ea(h.v)),h.F=Date.now(),$d(h)}K0(u)}function Kd(u){u.g&&(my(u),u.g.cancel(),u.g=null)}function B0(u){Kd(u),u.u&&(a.clearTimeout(u.u),u.u=null),Yd(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Qd(u){if(!E0(u.h)&&!u.s){u.s=!0;var h=u.Ga;Lc||JC(),Vc||(Lc(),Vc=!0),Wm.add(h,u),u.B=0}}function oV(u,h){return b0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=zc(g(u.Ga,u,h),W0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;let T=new si(this,this.j,u),N=this.o;if(this.S&&(N?(N=_(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(T.H=N,N=null),this.P)e:{for(var h=0,p=0;p<this.i.length;p++){t:{var m=this.i[p];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=p;break e}if(h===4096||p===this.i.length-1){h=p+1;break e}}h=1e3}else h=1e3;h=H0(this,T,h),p=Sr(this.I),$e(p,"RID",u),$e(p,"CVER",22),this.D&&$e(p,"X-HTTP-Session-Id",this.D),eu(this,p),N&&(this.O?h="headers="+encodeURIComponent(String(O0(N)))+"&"+h:this.m&&fy(p,this.m,N)),hy(this.h,T),this.Ua&&$e(p,"TYPE","init"),this.P?($e(p,"$req",h),$e(p,"SID","null"),T.T=!0,cy(T,p,null)):cy(T,p,h),this.G=2}}else this.G==3&&(u?$0(this,u):this.i.length==0||E0(this.h)||$0(this))};function $0(u,h){var p;h?p=h.l:p=u.U++;let m=Sr(u.I);$e(m,"SID",u.K),$e(m,"RID",p),$e(m,"AID",u.T),eu(u,m),u.m&&u.o&&fy(m,u.m,u.o),p=new si(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),h&&(u.i=h.D.concat(u.i)),h=H0(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),hy(u.h,p),cy(p,m,h)}function eu(u,h){u.H&&Y(u.H,function(p,m){$e(h,m,p)}),u.l&&T0({},function(p,m){$e(h,m,p)})}function H0(u,h,p){p=Math.min(u.i.length,p);var m=u.l?g(u.l.Na,u.l,u):null;e:{var T=u.i;let N=-1;for(;;){let $=["count="+p];N==-1?0<p?(N=T[0].g,$.push("ofs="+N)):N=0:$.push("ofs="+N);let Fe=!0;for(let vt=0;vt<p;vt++){let Re=T[vt].g,Ct=T[vt].map;if(Re-=N,0>Re)N=Math.max(0,T[vt].g-100),Fe=!1;else try{nV(Ct,$,"req"+Re+"_")}catch{m&&m(Ct)}}if(Fe){m=$.join("&");break e}}}return u=u.i.splice(0,p),h.D=u,m}function z0(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;Lc||JC(),Vc||(Lc(),Vc=!0),Wm.add(h,u),u.v=0}}function gy(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=zc(g(u.Fa,u),W0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,q0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=zc(g(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),Kd(this),q0(this))};function my(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function q0(u){u.g=new si(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=Sr(u.qa);$e(h,"RID","rpc"),$e(h,"SID",u.K),$e(h,"AID",u.T),$e(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(h,"TO",u.ja),$e(h,"TYPE","xmlhttp"),eu(u,h),u.m&&u.o&&fy(h,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=qd(Sr(h)),p.m=null,p.P=!0,v0(p,u)}t.Za=function(){this.C!=null&&(this.C=null,Kd(this),gy(this),Ft(19))};function Yd(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function G0(u,h){var p=null;if(u.g==h){Yd(u),my(u),u.g=null;var m=2}else if(dy(u.h,h))p=h.D,D0(u.h,h),m=1;else return;if(u.G!=0){if(h.o)if(m==1){p=h.m?h.m.length:0,h=Date.now()-h.F;var T=u.B;m=jd(),Pt(m,new p0(m,p)),Qd(u)}else z0(u);else if(T=h.s,T==3||T==0&&0<h.X||!(m==1&&oV(u,h)||m==2&&gy(u)))switch(p&&0<p.length&&(h=u.h,h.i=h.i.concat(p)),T){case 1:hs(u,5);break;case 4:hs(u,10);break;case 3:hs(u,6);break;default:hs(u,2)}}}function W0(u,h){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*h}function hs(u,h){if(u.j.info("Error code "+h),h==2){var p=g(u.fb,u),m=u.Xa;let T=!m;m=new ds(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hd(m,"https"),qd(m),T?JL(m.toString(),p):eV(m.toString(),p)}else Ft(2);u.G=0,u.l&&u.l.sa(h),K0(u),B0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function K0(u){if(u.G=0,u.ka=[],u.l){let h=C0(u.h);(h.length!=0||u.i.length!=0)&&(M(u.ka,h),M(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function Q0(u,h,p){var m=p instanceof ds?Sr(p):new ds(p);if(m.g!="")h&&(m.g=h+"."+m.g),zd(m,m.s);else{var T=a.location;m=T.protocol,h=h?h+"."+T.hostname:T.hostname,T=+T.port;var N=new ds(null);m&&Hd(N,m),h&&(N.g=h),T&&zd(N,T),p&&(N.l=p),m=N}return p=u.D,h=u.ya,p&&h&&$e(m,p,h),$e(m,"VER",u.la),eu(u,m),m}function Y0(u,h,p){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new Ke(new Yc({eb:p})):new Ke(u.pa),h.Ha(u.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z0(){}t=Z0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zd(){}Zd.prototype.g=function(u,h){return new en(u,h)};function en(u,h){Dt.call(this),this.g=new U0(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!z(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!z(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new No(this)}E(en,Dt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){py(this.g)},en.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=ny(u),u=p);h.i.push(new HL(h.Ya++,u)),h.G==3&&Qd(h)},en.prototype.N=function(){this.g.l=null,delete this.j,py(this.g),delete this.g,en.aa.N.call(this)};function X0(u){iy.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(let p in h){u=p;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}E(X0,iy);function J0(){sy.call(this),this.status=1}E(J0,sy);function No(u){this.g=u}E(No,Z0),No.prototype.ua=function(){Pt(this.g,"a")},No.prototype.ta=function(u){Pt(this.g,new X0(u))},No.prototype.sa=function(u){Pt(this.g,new J0)},No.prototype.ra=function(){Pt(this.g,"b")},Zd.prototype.createWebChannel=Zd.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,VI=Yr.createWebChannelTransport=function(){return new Zd},LI=Yr.getStatEventTarget=function(){return jd()},FI=Yr.Event=us,Lp=Yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ud.NO_ERROR=0,Ud.TIMEOUT=8,Ud.HTTP_ERROR=6,el=Yr.ErrorCode=Ud,g0.COMPLETE="complete",PI=Yr.EventType=g0,l0.EventType=$c,$c.OPEN="a",$c.CLOSE="b",$c.ERROR="c",$c.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,ka=Yr.WebChannel=l0,OI=Yr.FetchXmlHttpFactory=Yc,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,kI=Yr.XhrIo=Ke}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});var AN="@firebase/firestore";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var uc="10.12.1";var ro=new Mi("@firebase/firestore");function Va(){return ro.logLevel}function F(t,...e){if(ro.logLevel<=we.DEBUG){let n=e.map(Lb);ro.debug(`Firestore (${uc}): ${t}`,...n)}}function nt(t,...e){if(ro.logLevel<=we.ERROR){let n=e.map(Lb);ro.error(`Firestore (${uc}): ${t}`,...n)}}function fl(t,...e){if(ro.logLevel<=we.WARN){let n=e.map(Lb);ro.warn(`Firestore (${uc}): ${t}`,...n)}}function Lb(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function G(t="Unexpected state"){let e=`FIRESTORE (${uc}) INTERNAL ASSERTION FAILED: `+t;throw nt(e),new Error(e)}function Z(t,e){t||G()}function K(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var qI=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},GI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}};var WI=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>v(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Z(typeof r.accessToken=="string"),new qI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Z(e===null||typeof e=="string"),new gt(e)}},KI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},QI=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new KI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},YI=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ZI=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,F("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Z(typeof n.token=="string"),this.R=n.token,new YI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function HW(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Wp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=HW(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function he(t,e){return t<e?-1:t>e?1:0}function Wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function Rk(t){return t+"\0"}var rt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new rt(0,0))}static max(){return new t(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(),r===void 0?r=e.length-n:r>e.length-n&&G(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends Kp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},zW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ut=class t extends Kp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return zW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new U(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new U(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var q=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var Ka=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};function XI(t){return t.fields.find(e=>e.kind===2)}function Ks(t){return t.fields.filter(e=>e.kind!==2)}Ka.UNKNOWN_ID=-1;var za=class{constructor(e,n){this.fieldPath=e,this.kind=n}};var pl=class t{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new t(0,Tn.min())}};function xk(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Tn(i,q.empty(),e)}function Mk(t){return new Tn(t.readTime,t.key,-1)}var Tn=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),q.empty(),-1)}static max(){return new t(ne.max(),q.empty(),-1)}};function Vb(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}var Nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ji(t){return v(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==Nk)throw t;F("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(d=>{o[l]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var Yp=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new cn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new to(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=jb(r.target.error);this.V.reject(new to(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new to(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new eE(n)}},Qa=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(Qe())===12.2&&nt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),Qs(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ea())return!1;if(t.C())return!0;let e=Qe(),n=t.S(e),r=0<n&&n<10,i=kk(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}M(e){return v(this,null,function*(){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new to(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new U(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new U(k.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new to(e,o))},i.onupgradeneeded=s=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return v(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.M(e);let a=Yp.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),x.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(F("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function kk(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}var JI=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Qs(this.B.delete())}},to=class extends U{constructor(e,n){super(k.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function es(t){return t.name==="IndexedDbTransactionError"}var eE=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(F("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Qs(r)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),Qs(this.store.add(e))}get(e){return Qs(this.store.get(e)).next(n=>(n===void 0&&(n=null),F("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),Qs(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),Qs(this.store.count())}U(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new x((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.W(s,(a,c)=>{o.push(c)}).next(()=>o)}}G(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new x((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){F("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.H=!1;let i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.W(i,n)}Y(e){let n=this.cursor({});return new x((r,i)=>{n.onerror=s=>{let o=jb(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){let r=[];return new x((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new JI(a),l=n(a.primaryKey,a.value,c);if(l instanceof x){let d=l.catch(f=>(c.done(),x.reject(f)));r.push(d)}c.isDone?i():c.K===null?a.continue():a.continue(c.K)}}).next(()=>x.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Qs(t){return new x((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=jb(r.target.error);n(i)}})}var RN=!1;function jb(t){let e=Qa.S(Qe());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new U("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RN||(RN=!0,setTimeout(()=>{throw r},0)),r}}return t}var tE=class{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){F("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>v(this,null,function*(){this.task=null;try{F("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(n){es(n)?F("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):yield Ji(n)}yield this.X(6e4)}))}},nE=class{constructor(e,n){this.localStore=e,this.persistence=n}ee(e=50){return v(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))})}te(e,n){let r=new Set,i=n,s=!0;return x.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return F("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(F("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{let o=Mk(s);Vb(o,r)>0&&(r=o)}),new Tn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}};var sn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function qg(t){return t==null}function gl(t){return t===0&&1/t==-1/0}function Ok(t){return typeof t=="number"&&Number.isInteger(t)&&!gl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Gt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=xN(e)),e=qW(t.get(n),e);return xN(e)}function qW(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function xN(t){return t+""}function vr(t){let e=t.length;if(Z(e>=2),e===2)return Z(t.charAt(0)===""&&t.charAt(1)===""),Pe.emptyPath();let n=e-2,r=[],i="";for(let s=0;s<e;){let o=t.indexOf("",s);switch((o<0||o>n)&&G(),t.charAt(o+1)){case"":let a=t.substring(s,o),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:G()}s=o+2}return new Pe(r)}var MN=["userId","batchId"];function $p(t,e){return[t,Gt(e)]}function Pk(t,e,n){return[t,Gt(e),n]}var GW={},WW=["prefixPath","collectionGroup","readTime","documentId"],KW=["prefixPath","collectionGroup","documentId"],QW=["collectionGroup","readTime","prefixPath","documentId"],YW=["canonicalId","targetId"],ZW=["targetId","path"],XW=["path","targetId"],JW=["collectionId","parent"],e9=["indexId","uid"],t9=["uid","sequenceNumber"],n9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],r9=["indexId","uid","orderedDocumentKey"],i9=["userId","collectionPath","documentId"],s9=["userId","collectionPath","largestBatchId"],o9=["userId","collectionGroup","largestBatchId"],Fk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],a9=[...Fk,"documentOverlays"],Lk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vk=Lk,jk=[...Vk,"indexConfiguration","indexState","indexEntries"],c9=jk;var ml=class extends Qp{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}};function mt(t,e){let n=K(t);return Qa.F(n._e,e)}function NN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function po(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Uk(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qe=class t{constructor(e,n){this.comparator=e,this.root=n||wr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ha(this.root,e,this.comparator,!0)}},Ha=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},wr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();let e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}};wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1;wr.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,n,r,i,s){return this}insert(e,n,r){return new wr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var je=class t{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zp(this.data.getIterator())}getIteratorFrom(e){return new Zp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Zp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Oa(t){return t.hasNext()?t.getNext():void 0}var on=class t{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new t([])}unionWith(e){let n=new je(ut.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Xp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Xp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var u9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(t){if(Z(!!t),typeof t=="string"){let e=0,n=u9.exec(t);if(Z(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?Et.fromBase64String(t):Et.fromUint8Array(t)}function Ub(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Bb(t){let e=t.mapValue.fields.__previous_value__;return Ub(e)?Bb(e):e}function yl(t){let e=Xr(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}var rE=class{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},Ya=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hp={nullValue:"NULL_VALUE"};function io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ub(t)?4:Bk(t)?9007199254740991:10:G()}function Ir(t,e){if(t===e)return!0;let n=io(t);if(n!==io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yl(t).isEqual(yl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Xr(i.timestampValue),a=Xr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qi(i.bytesValue).isEqual(qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?gl(o)===gl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(NN(o)!==NN(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Ir(o[c],a[c])))return!1;return!0}(t,e);default:return G()}}function vl(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function Gi(t,e){if(t===e)return 0;let n=io(t),r=io(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ye(s.integerValue||s.doubleValue),c=Ye(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return kN(t.timestampValue,e.timestampValue);case 4:return kN(yl(t),yl(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){let a=qi(s),c=qi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let d=he(a[l],c[l]);if(d!==0)return d}return he(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=he(Ye(s.latitude),Ye(o.latitude));return a!==0?a:he(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let d=Gi(a[l],c[l]);if(d)return d}return he(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Hi.mapValue&&o===Hi.mapValue)return 0;if(s===Hi.mapValue)return 1;if(o===Hi.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},d=Object.keys(l);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){let g=he(c[f],d[f]);if(g!==0)return g;let y=Gi(a[c[f]],l[d[f]]);if(y!==0)return y}return he(c.length,d.length)}(t.mapValue,e.mapValue);default:throw G()}}function kN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);let n=Xr(t),r=Xr(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Za(t){return iE(t)}function iE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=iE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${iE(n.fields[o])}`;return i+"}"}(t.mapValue):G()}function _l(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sE(t){return!!t&&"integerValue"in t}function wl(t){return!!t&&"arrayValue"in t}function ON(t){return!!t&&"nullValue"in t}function PN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zp(t){return!!t&&"mapValue"in t}function al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=al(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Bk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function l9(t){return"nullValue"in t?Hp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?_l(Ya.empty(),q.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:G()}function d9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?_l(Ya.empty(),q.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Hi:G()}function FN(t,e){let n=Gi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function LN(t,e){let n=Gi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}var qt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=al(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());zp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){po(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(al(this.value))}};function $k(t){let e=[];return po(t.fields,(n,r)=>{let i=new ut([n]);if(zp(r)){let s=$k(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new on(e)}var It=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Wi=class{constructor(e,n){this.position=e,this.inclusive=n}};function VN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=q.comparator(q.fromName(o.referenceValue),n.key):r=Gi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function jN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}var so=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function h9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jp=class{},Ie=class t extends Jp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cE(e,n,r):n==="array-contains"?new dE(e,r):n==="in"?new eg(e,r):n==="not-in"?new hE(e,r):n==="array-contains-any"?new fE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uE(e,r):new lE(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gi(n,this.value)):n!==null&&io(this.value)===io(n)&&this.matchesComparison(Gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Oe=class t extends Jp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Xa(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Xa(t){return t.op==="and"}function oE(t){return t.op==="or"}function $b(t){return Hk(t)&&Xa(t)}function Hk(t){for(let e of t.filters)if(e instanceof Oe)return!1;return!0}function aE(t){if(t instanceof Ie)return t.field.canonicalString()+t.op.toString()+Za(t.value);if($b(t))return t.filters.map(e=>aE(e)).join(",");{let e=t.filters.map(n=>aE(n)).join(",");return`${t.op}(${e})`}}function zk(t,e){return t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&Ir(r.value,i.value)}(t,e):t instanceof Oe?function(r,i){return i instanceof Oe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&zk(o,i.filters[a]),!0):!1}(t,e):void G()}function qk(t,e){let n=t.filters.concat(e);return Oe.create(n,t.op)}function Gk(t){return t instanceof Ie?function(n){return`${n.field.canonicalString()} ${n.op} ${Za(n.value)}`}(t):t instanceof Oe?function(n){return n.op.toString()+" {"+n.getFilters().map(Gk).join(" ,")+"}"}(t):"Filter"}var cE=class extends Ie{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){let n=q.comparator(e.key,this.key);return this.matchesComparison(n)}},uE=class extends Ie{constructor(e,n){super(e,"in",n),this.keys=Wk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},lE=class extends Ie{constructor(e,n){super(e,"not-in",n),this.keys=Wk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Wk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}var dE=class extends Ie{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return wl(n)&&vl(n.arrayValue,this.value)}},eg=class extends Ie{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&vl(this.value.arrayValue,n)}},hE=class extends Ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!vl(this.value.arrayValue,n)}},fE=class extends Ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!wl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}};var pE=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function gE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new pE(t,e,n,r,i,s,o)}function oo(t){let e=K(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>aE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Za(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Za(r)).join(",")),e.ue=n}return e.ue}function jl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jN(t.startAt,e.startAt)&&jN(t.endAt,e.endAt)}function tg(t){return q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function ng(t,e){return t.filters.filter(n=>n instanceof Ie&&n.field.isEqual(e))}function UN(t,e,n){let r=Hp,i=!0;for(let s of ng(t,e)){let o=Hp,a=!0;switch(s.op){case"<":case"<=":o=l9(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Hp}FN({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];FN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function BN(t,e,n){let r=Hi,i=!0;for(let s of ng(t,e)){let o=Hi,a=!0;switch(s.op){case">=":case">":o=d9(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Hi}LN({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){let o=n.position[s];LN({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}var Ki=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Kk(t,e,n,r,i,s,o,a){return new Ki(t,e,n,r,i,s,o,a)}function Ul(t){return new Ki(t)}function $N(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qk(t){return t.collectionGroup!==null}function cl(t){let e=K(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new je(ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new so(s,r))}),n.has(ut.keyField().canonicalString())||e.ce.push(new so(ut.keyField(),r))}return e.ce}function un(t){let e=K(t);return e.le||(e.le=f9(e,cl(t))),e.le}function f9(t,e){if(t.limitType==="F")return gE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new so(i.field,s)});let n=t.endAt?new Wi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wi(t.startAt.position,t.startAt.inclusive):null;return gE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function mE(t,e){let n=t.filters.concat([e]);return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rg(t,e,n){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gg(t,e){return jl(un(t),un(e))&&t.limitType===e.limitType}function Yk(t){return`${oo(un(t))}|lt:${t.limitType}`}function ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Gk(i)).join(", ")}]`),qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Za(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Za(i)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function Bl(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of cl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let l=VN(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,cl(r),i)||r.endAt&&!function(o,a,c){let l=VN(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,cl(r),i))}(t,e)}function Zk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Xk(t){return(e,n)=>{let r=!1;for(let i of cl(t)){let s=p9(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function p9(t,e,n){let r=t.field.isKeyField()?q.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?Gi(c,l):G()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}var Er=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Uk(this.inner)}size(){return this.innerSize}};var g9=new qe(q.comparator);function an(){return g9}var Jk=new qe(q.comparator);function sl(...t){let e=Jk;for(let n of t)e=e.insert(n.key,n);return e}function eO(t){let e=Jk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _r(){return ul()}function tO(){return ul()}function ul(){return new Er(t=>t.toString(),(t,e)=>t.isEqual(e))}var m9=new qe(q.comparator),y9=new je(q.comparator);function _e(...t){let e=y9;for(let n of t)e=e.add(n);return e}var v9=new je(he);function Hb(){return v9}function nO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gl(e)?"-0":e}}function rO(t){return{integerValue:""+t}}function _9(t,e){return Ok(e)?rO(e):nO(t,e)}var Ja=class{constructor(){this._=void 0}};function w9(t,e,n){return t instanceof ao?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ub(s)&&(s=Bb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Qi?sO(t,e):t instanceof Yi?oO(t,e):function(i,s){let o=iO(i,s),a=HN(o)+HN(i.Pe);return sE(o)&&sE(i.Pe)?rO(a):nO(i.serializer,a)}(t,e)}function I9(t,e,n){return t instanceof Qi?sO(t,e):t instanceof Yi?oO(t,e):n}function iO(t,e){return t instanceof co?function(r){return sE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ao=class extends Ja{},Qi=class extends Ja{constructor(e){super(),this.elements=e}};function sO(t,e){let n=aO(e);for(let r of t.elements)n.some(i=>Ir(i,r))||n.push(r);return{arrayValue:{values:n}}}var Yi=class extends Ja{constructor(e){super(),this.elements=e}};function oO(t,e){let n=aO(e);for(let r of t.elements)n=n.filter(i=>!Ir(i,r));return{arrayValue:{values:n}}}var co=class extends Ja{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function HN(t){return Ye(t.integerValue||t.doubleValue)}function aO(t){return wl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var yE=class{constructor(e,n){this.field=e,this.transform=n}};function E9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qi&&i instanceof Qi||r instanceof Yi&&i instanceof Yi?Wa(r.elements,i.elements,Ir):r instanceof co&&i instanceof co?Ir(r.Pe,i.Pe):r instanceof ao&&i instanceof ao}(t.transform,e.transform)}var vE=class{constructor(e,n){this.version=e,this.transformResults=n}},wt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function qp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ec=class{};function cO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new uo(t.key,wt.none()):new Zi(t.key,t.data,wt.none());{let n=t.data,r=qt.empty(),i=new je(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new qn(t.key,r,new on(i.toArray()),wt.none())}}function b9(t,e,n){t instanceof Zi?function(i,s,o){let a=i.value.clone(),c=qN(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qn?function(i,s,o){if(!qp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=qN(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(uO(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ll(t,e,n,r){return t instanceof Zi?function(s,o,a,c){if(!qp(s.precondition,o))return a;let l=s.value.clone(),d=GN(s.fieldTransforms,c,o);return l.setAll(d),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof qn?function(s,o,a,c){if(!qp(s.precondition,o))return a;let l=GN(s.fieldTransforms,c,o),d=o.data;return d.setAll(uO(s)),d.setAll(l),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return qp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function D9(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=iO(r.transform,i||null);s!=null&&(n===null&&(n=qt.empty()),n.set(r.field,s))}return n||null}function zN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wa(r,i,(s,o)=>E9(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Zi=class extends ec{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},qn=class extends ec{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function uO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function qN(t,e,n){let r=new Map;Z(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,I9(o,a,n[i]))}return r}function GN(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,w9(s,o,e))}return r}var uo=class extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ig=class extends ec{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Il=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&b9(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ll(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=tO();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=cO(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>zN(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>zN(n,r))}},_E=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Z(e.mutations.length===r.length);let i=function(){return m9}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var El=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var wE=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var ot,Se;function C9(t){switch(t){default:return G();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function lO(t){if(t===void 0)return nt("GRPC error has no .code"),k.UNKNOWN;switch(t){case ot.OK:return k.OK;case ot.CANCELLED:return k.CANCELLED;case ot.UNKNOWN:return k.UNKNOWN;case ot.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case ot.INTERNAL:return k.INTERNAL;case ot.UNAVAILABLE:return k.UNAVAILABLE;case ot.UNAUTHENTICATED:return k.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case ot.NOT_FOUND:return k.NOT_FOUND;case ot.ALREADY_EXISTS:return k.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return k.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case ot.ABORTED:return k.ABORTED;case ot.OUT_OF_RANGE:return k.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return k.UNIMPLEMENTED;case ot.DATA_LOSS:return k.DATA_LOSS;default:return G()}}(Se=ot||(ot={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var WN=null;function T9(){return new TextEncoder}var S9=new ji([4294967295,4294967295],0);function KN(t){let e=T9().encode(t),n=new NI;return n.update(e),new Uint8Array(n.digest())}function QN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ji([n,r],0),new ji([i,s],0)]}var IE=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Js(`Invalid padding: ${n}`);if(r<0)throw new Js(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Js(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Js(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ji.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ji.fromNumber(r)));return i.compare(S9)===1&&(i=new ji([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=KN(e),[r,i]=QN(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=KN(e),[r,i]=QN(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Js=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bl=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new qe(he),an(),_e())}},Dl=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var qa=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},sg=class{constructor(e,n){this.targetId=e,this.me=n}},og=class{constructor(e,n,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ag=class{constructor(){this.fe=0,this.ge=ZN(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G()}}),new Dl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=ZN()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Z(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},EE=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=an(),this.qe=YN(),this.Qe=new qe(he)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:G()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(tg(s))if(r===0){let o=new q(s.path);this.Ue(n,o,It.newNoDocument(o,ne.min()))}else Z(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}WN?.et(function(d,f,g,y,E){var S,M,V,z,H,ee;let fe={localCacheCount:d,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},Y=f.unchangedNames;return Y&&(fe.bloomFilter={applied:E===0,hashCount:(S=Y?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(z=(V=(M=Y?.bits)===null||M===void 0?void 0:M.bitmap)===null||V===void 0?void 0:V.length)!==null&&z!==void 0?z:0,padding:(ee=(H=Y?.bits)===null||H===void 0?void 0:H.padding)!==null&&ee!==void 0?ee:0,mightContain:b=>{var _;return(_=y?.mightContain(b))!==null&&_!==void 0&&_}}),fe}(o,e.me,this.Le.tt(),a,c))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=qi(r).toUint8Array()}catch(c){if(c instanceof Xp)return fl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new IE(o,i,s)}catch(c){return fl(c instanceof Js?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&tg(a.target)){let c=new q(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,It.newNoDocument(c,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=_e();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Je(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new bl(e,n,this.Qe,this.ke,r);return this.ke=an(),this.qe=YN(),this.Qe=new qe(he),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ag,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new je(he),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||F("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ag),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function YN(){return new qe(q.comparator)}function ZN(){return new qe(q.comparator)}var A9={asc:"ASCENDING",desc:"DESCENDING"},R9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x9={and:"AND",or:"OR"},bE=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function DE(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function M9(t,e){return tc(t,e.toTimestamp())}function Wt(t){return Z(!!t),ne.fromTimestamp(function(n){let r=Xr(n);return new rt(r.seconds,r.nanos)}(t))}function zb(t,e){return CE(t,e).canonicalString()}function CE(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hO(t){let e=Pe.fromString(t);return Z(IO(e)),e}function cg(t,e){return zb(t.databaseId,e.path)}function no(t,e){let n=hO(e);if(n.get(1)!==t.databaseId.projectId)throw new U(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new q(gO(n))}function fO(t,e){return zb(t.databaseId,e)}function pO(t){let e=hO(t);return e.length===4?Pe.emptyPath():gO(e)}function TE(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gO(t){return Z(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function XN(t,e,n){return{name:cg(t,e),fields:n.value.mapValue.fields}}function N9(t,e,n){let r=no(t,e.name),i=Wt(e.updateTime),s=e.createTime?Wt(e.createTime):ne.min(),o=new qt({mapValue:{fields:e.fields}}),a=It.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function k9(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(Z(d===void 0||typeof d=="string"),Et.fromBase64String(d||"")):(Z(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let d=l.code===void 0?k.UNKNOWN:lO(l.code);return new U(d,l.message||"")}(o);n=new og(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=no(t,r.document.name),s=Wt(r.document.updateTime),o=r.document.createTime?Wt(r.document.createTime):ne.min(),a=new qt({mapValue:{fields:r.document.fields}}),c=It.newFoundDocument(i,s,o,a),l=r.targetIds||[],d=r.removedTargetIds||[];n=new qa(l,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=no(t,r.document),s=r.readTime?Wt(r.readTime):ne.min(),o=It.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=no(t,r.document),s=r.removedTargetIds||[];n=new qa([],s,i,null)}else{if(!("filter"in e))return G();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new wE(i,s),a=r.targetId;n=new sg(a,o)}}return n}function ug(t,e){let n;if(e instanceof Zi)n={update:XN(t,e.key,e.value)};else if(e instanceof uo)n={delete:cg(t,e.key)};else if(e instanceof qn)n={update:XN(t,e.key,e.data),updateMask:j9(e.fieldMask)};else{if(!(e instanceof ig))return G();n={verify:cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ao)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof co)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw G()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:M9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:G()}(t,e.precondition)),n}function SE(t,e){let n=e.currentDocument?function(s){return s.updateTime!==void 0?wt.updateTime(Wt(s.updateTime)):s.exists!==void 0?wt.exists(s.exists):wt.none()}(e.currentDocument):wt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;if("setToServerValue"in a)Z(a.setToServerValue==="REQUEST_TIME"),c=new ao;else if("appendMissingElements"in a){let d=a.appendMissingElements.values||[];c=new Qi(d)}else if("removeAllFromArray"in a){let d=a.removeAllFromArray.values||[];c=new Yi(d)}else"increment"in a?c=new co(o,a.increment):G();let l=ut.fromServerFormat(a.fieldPath);return new yE(l,c)}(t,i)):[];if(e.update){e.update.name;let i=no(t,e.update.name),s=new qt({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(c){let l=c.fieldPaths||[];return new on(l.map(d=>ut.fromServerFormat(d)))}(e.updateMask);return new qn(i,s,o,n,r)}return new Zi(i,s,n,r)}if(e.delete){let i=no(t,e.delete);return new uo(i,n)}if(e.verify){let i=no(t,e.verify);return new ig(i,n)}return G()}function O9(t,e){return t&&t.length>0?(Z(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Wt(i.updateTime):Wt(s);return o.isEqual(ne.min())&&(o=Wt(s)),new vE(o,i.transformResults||[])}(n,e))):[]}function mO(t,e){return{documents:[fO(t,e.path)]}}function yO(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fO(t,i);let s=function(l){if(l.length!==0)return wO(Oe.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(d=>function(g){return{field:Ua(g.field),direction:F9(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=DE(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function vO(t){let e=pO(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Z(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){let g=_O(f);return g instanceof Oe&&$b(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(E){return new so(Ba(E.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,qg(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){let g=!!f.before,y=f.values||[];return new Wi(y,g)}(n.startAt));let l=null;return n.endAt&&(l=function(f){let g=!f.before,y=f.values||[];return new Wi(y,g)}(n.endAt)),Kk(e,i,o,s,a,"F",c,l)}function P9(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _O(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ba(n.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ba(n.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ba(n.unaryFilter.field);return Ie.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ba(n.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(t):t.fieldFilter!==void 0?function(n){return Ie.create(Ba(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Oe.create(n.compositeFilter.filters.map(r=>_O(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G()}}(n.compositeFilter.op))}(t):G()}function F9(t){return A9[t]}function L9(t){return R9[t]}function V9(t){return x9[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Ba(t){return ut.fromServerFormat(t.fieldPath)}function wO(t){return t instanceof Ie?function(n){if(n.op==="=="){if(PN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(ON(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PN(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(ON(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:L9(n.op),value:n.value}}}(t):t instanceof Oe?function(n){let r=n.getFilters().map(i=>wO(i));return r.length===1?r[0]:{compositeFilter:{op:V9(n.op),filters:r}}}(t):G()}function j9(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var nc=class t{constructor(e,n,r,i,s=ne.min(),o=ne.min(),a=Et.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var lg=class{constructor(e){this.ct=e}};function U9(t,e){let n;if(e.document)n=N9(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=q.fromSegments(e.noDocument.path),i=ho(e.noDocument.readTime);n=It.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return G();{let r=q.fromSegments(e.unknownDocument.path),i=ho(e.unknownDocument.version);n=It.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){let s=new rt(i[0],i[1]);return ne.fromTimestamp(s)}(e.readTime)),n}function JN(t,e){let n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:dg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:cg(s,o.key),fields:o.data.value.mapValue.fields,updateTime:tc(s,o.version.toTimestamp()),createTime:tc(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:lo(e.version)};else{if(!e.isUnknownDocument())return G();r.unknownDocument={path:n.path.toArray(),version:lo(e.version)}}return r}function dg(t){let e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function lo(t){let e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ho(t){let e=new rt(t.seconds,t.nanoseconds);return ne.fromTimestamp(e)}function Ys(t,e){let n=(e.baseMutations||[]).map(s=>SE(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>SE(t.ct,s)),i=rt.fromMillis(e.localWriteTimeMs);return new Il(e.batchId,i,n,r)}function ol(t){let e=ho(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ho(t.lastLimboFreeSnapshotVersion):ne.min(),r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return Z(s.documents.length===1),un(Ul(pO(s.documents[0])))}(t.query):function(s){return un(vO(s))}(t.query),new nc(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Et.fromBase64String(t.resumeToken))}function EO(t,e){let n=lo(e.snapshotVersion),r=lo(e.lastLimboFreeSnapshotVersion),i;i=tg(e.target)?mO(t.ct,e.target):yO(t.ct,e.target)._t;let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:oo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bO(t){let e=vO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rg(e,e.limit,"L"):e}function jI(t,e){return new El(e.largestBatchId,SE(t.ct,e.overlayMutation))}function ek(t,e){let n=e.path.lastSegment();return[t,Gt(e.path.popLast()),n]}function tk(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:lo(r.readTime),documentKey:Gt(r.documentKey.path),largestBatchId:r.largestBatchId}}var AE=class{getBundleMetadata(e,n){return nk(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ho(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return nk(e).put(function(i){return{bundleId:i.id,createTime:lo(Wt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return rk(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:bO(s.bundledQuery),readTime:ho(s.readTime)}}(r)})}saveNamedQuery(e,n){return rk(e).put(function(i){return{name:i.name,readTime:lo(Wt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}};function nk(t){return mt(t,"bundles")}function rk(t){return mt(t,"namedQueries")}var hg=class t{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){let r=n.uid||"";return new t(e,r)}getOverlay(e,n){return tl(e).get(ek(this.userId,n)).next(r=>r?jI(this.serializer,r):null)}getOverlays(e,n){let r=_r();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){let i=[];return r.forEach((s,o)=>{let a=new El(n,o);i.push(this.ht(e,a))}),x.waitFor(i)}removeOverlaysForBatchId(e,n,r){let i=new Set;n.forEach(o=>i.add(Gt(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(tl(e).j("collectionPathOverlayIndex",a))}),x.waitFor(s)}getOverlaysForCollection(e,n,r){let i=_r(),s=Gt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return tl(e).U("collectionPathOverlayIndex",o).next(a=>{for(let c of a){let l=jI(this.serializer,c);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){let s=_r(),o,a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return tl(e).J({index:"collectionGroupOverlayIndex",range:a},(c,l,d)=>{let f=jI(this.serializer,l);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return tl(e).put(function(i,s,o){let[a,c,l]=ek(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:l,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:ug(i.ct,o.mutation)}}(this.serializer,this.userId,n))}};function tl(t){return mt(t,"documentOverlays")}var Zr=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ye(e.integerValue));else if("doubleValue"in e){let r=Ye(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),gl(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Xr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(qi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?Bk(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):G()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),q.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Zr.bt=new Zr;function B9(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function ik(t){let e=64-function(r){let i=0;for(let s=0;s<8;++s){let o=B9(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}var RE=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){let n=e[Symbol.iterator](),r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{let i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(let n of e){let r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{let i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){let n=this.Bt(e),r=ik(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){let n=this.Bt(e),r=ik(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let n=function(s){let o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){let n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){let n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},xE=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},ME=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},Zs=class{constructor(){this.Gt=new RE,this.zt=new xE(this.Gt),this.jt=new ME(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var Xs=class t{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){let e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new t(this.indexId,this.documentKey,this.arrayValue,r)}};function Ui(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=sk(t.arrayValue,e.arrayValue),n!==0?n:(n=sk(t.directionalValue,e.directionalValue),n!==0?n:q.comparator(t.documentKey,e.documentKey)))}function sk(t,e){for(let n=0;n<t.length&&n<e.length;++n){let r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}var fg=class{constructor(e){this.Yt=new je((n,r)=>ut.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let n of e.filters){let r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(Z(e.collectionGroup===this.collectionId),this.en)return!1;let n=XI(e);if(n!==void 0&&!this.nn(n))return!1;let r=Ks(e),i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){let c=r[s];if(!this.rn(a,c)||!this.sn(this.Zt[o++],c))return!1}++s}for(;s<r.length;++s){let a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new je(ut.comparator),n=[];for(let r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new za(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new za(r.field,0))}for(let r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new za(r.field,r.dir==="asc"?0:1)));return new Ka(Ka.UNKNOWN_ID,this.collectionId,n,pl.empty())}nn(e){for(let n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}};function DO(t){var e,n;if(Z(t instanceof Ie||t instanceof Oe),t instanceof Ie){if(t instanceof eg){let i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ie.create(t.field,"==",s)))||[];return Oe.create(i,"or")}return t}let r=t.filters.map(i=>DO(i));return Oe.create(r,t.op)}function $9(t){if(t.getFilters().length===0)return[];let e=OE(DO(t));return Z(CO(e)),NE(e)||kE(e)?[e]:e.getFilters()}function NE(t){return t instanceof Ie}function kE(t){return t instanceof Oe&&$b(t)}function CO(t){return NE(t)||kE(t)||function(n){if(n instanceof Oe&&oE(n)){for(let r of n.getFilters())if(!NE(r)&&!kE(r))return!1;return!0}return!1}(t)}function OE(t){if(Z(t instanceof Ie||t instanceof Oe),t instanceof Ie)return t;if(t.filters.length===1)return OE(t.filters[0]);let e=t.filters.map(r=>OE(r)),n=Oe.create(e,t.op);return n=pg(n),CO(n)?n:(Z(n instanceof Oe),Z(Xa(n)),Z(n.filters.length>1),n.filters.reduce((r,i)=>qb(r,i)))}function qb(t,e){let n;return Z(t instanceof Ie||t instanceof Oe),Z(e instanceof Ie||e instanceof Oe),n=t instanceof Ie?e instanceof Ie?function(i,s){return Oe.create([i,s],"and")}(t,e):ok(t,e):e instanceof Ie?ok(e,t):function(i,s){if(Z(i.filters.length>0&&s.filters.length>0),Xa(i)&&Xa(s))return qk(i,s.getFilters());let o=oE(i)?i:s,a=oE(i)?s:i,c=o.filters.map(l=>qb(l,a));return Oe.create(c,"or")}(t,e),pg(n)}function ok(t,e){if(Xa(e))return qk(e,t.getFilters());{let n=e.filters.map(r=>qb(t,r));return Oe.create(n,"or")}}function pg(t){if(Z(t instanceof Ie||t instanceof Oe),t instanceof Ie)return t;let e=t.getFilters();if(e.length===1)return pg(e[0]);if(Hk(t))return t;let n=e.map(i=>pg(i)),r=[];return n.forEach(i=>{i instanceof Ie?r.push(i):i instanceof Oe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Oe.create(r,t.op)}var PE=class{constructor(){this._n=new Cl}addToCollectionParentIndex(e,n){return this._n.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Tn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Tn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},Cl=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(Pe.comparator)).toArray()}};var Vp=new Uint8Array(0),FE=class{constructor(e,n){this.databaseId=n,this.an=new Cl,this.un=new Er(r=>oo(r),(r,i)=>jl(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){let r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});let s={collectionId:r,parent:Gt(i)};return ak(e).put(s)}return x.resolve()}getCollectionParents(e,n){let r=[],i=IDBKeyRange.bound([n,""],[Rk(n),""],!1,!0);return ak(e).U(i).next(s=>{for(let o of s){if(o.collectionId!==n)break;r.push(vr(o.parent))}return r})}addFieldIndex(e,n){let r=nl(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete i.indexId;let s=r.add(i);if(n.indexState){let o=Fa(e);return s.next(a=>{o.put(tk(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){let r=nl(e),i=Fa(e),s=Pa(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let n=nl(e),r=Pa(e),i=Fa(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return x.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){let s=new fg(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){let r=Pa(e),i=!0,s=new Map;return x.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=_e(),a=[];return x.forEach(s,(c,l)=>{F("IndexedDbIndexManager",`Using index ${function(H){return`id=${H.indexId}|cg=${H.collectionGroup}|f=${H.fields.map(ee=>`${ee.fieldPath}:${ee.kind}`).join(",")}`}(c)} to execute ${oo(n)}`);let d=function(H,ee){let fe=XI(ee);if(fe===void 0)return null;for(let Y of ng(H,fe.fieldPath))switch(Y.op){case"array-contains-any":return Y.value.arrayValue.values||[];case"array-contains":return[Y.value]}return null}(l,c),f=function(H,ee){let fe=new Map;for(let Y of Ks(ee))for(let b of ng(H,Y.fieldPath))switch(b.op){case"==":case"in":fe.set(Y.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return fe.set(Y.fieldPath.canonicalString(),b.value),Array.from(fe.values())}return null}(l,c),g=function(H,ee){let fe=[],Y=!0;for(let b of Ks(ee)){let _=b.kind===0?UN(H,b.fieldPath,H.startAt):BN(H,b.fieldPath,H.startAt);fe.push(_.value),Y&&(Y=_.inclusive)}return new Wi(fe,Y)}(l,c),y=function(H,ee){let fe=[],Y=!0;for(let b of Ks(ee)){let _=b.kind===0?BN(H,b.fieldPath,H.endAt):UN(H,b.fieldPath,H.endAt);fe.push(_.value),Y&&(Y=_.inclusive)}return new Wi(fe,Y)}(l,c),E=this.hn(c,l,g),S=this.hn(c,l,y),M=this.Pn(c,l,f),V=this.In(c.indexId,d,E,g.inclusive,S,y.inclusive,M);return x.forEach(V,z=>r.G(z,n.limit).next(H=>{H.forEach(ee=>{let fe=q.fromSegments(ee.documentKey);o.has(fe)||(o=o.add(fe),a.push(fe))})}))}).next(()=>a)}return x.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=$9(Oe.create(e.filters,"and")).map(r=>gE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){let c=(n!=null?n.length:1)*Math.max(r.length,s.length),l=c/(n!=null?n.length:1),d=[];for(let f=0;f<c;++f){let g=n?this.Tn(n[f/l]):Vp,y=this.En(e,g,r[f%l],i),E=this.dn(e,g,s[f%l],o),S=a.map(M=>this.En(e,g,M,!0));d.push(...this.createRange(y,E,S))}return d}En(e,n,r,i){let s=new Xs(e,q.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){let s=new Xs(e,q.empty(),n,r);return i?s.Jt():s}ln(e,n){let r=new fg(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2,i=this.cn(n);return x.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(c){let l=new je(ut.comparator),d=!1;for(let f of c.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?d=!0:l=l.add(g.field));for(let f of c.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){let r=new Zs;for(let i of Ks(e)){let s=n.data.field(i.fieldPath);if(s==null)return null;let o=r.Ht(i.kind);Zr.bt.Pt(s,o)}return r.Wt()}Tn(e){let n=new Zs;return Zr.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){let r=new Zs;return Zr.bt.Pt(_l(this.databaseId,n),r.Ht(function(s){let o=Ks(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Zs);let s=0;for(let o of Ks(e)){let a=r[s++];for(let c of i)if(this.Vn(n,o.fieldPath)&&wl(a))i=this.mn(i,o,a);else{let l=c.Ht(o.kind);Zr.bt.Pt(a,l)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){let n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let c=new Zs;c.seed(a.Wt()),Zr.bt.Pt(o,c.Ht(n.kind)),s.push(c)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof Ie&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){let r=nl(e),i=Fa(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{let o=[];return x.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(d,f){let g=f?new pl(f.sequenceNumber,new Tn(ho(f.readTime),new q(vr(f.documentKey)),f.largestBatchId)):pl.empty(),y=d.fields.map(([E,S])=>new za(ut.fromServerFormat(E),S));return new Ka(d.indexId,d.collectionGroup,y,g)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:he(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){let i=nl(e),s=Fa(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>x.forEach(a,c=>s.put(tk(c.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){let r=new Map;return x.forEach(n,(i,s)=>{let o=r.get(i.collectionGroup);return(o?x.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),x.forEach(a,c=>this.pn(e,i,c).next(l=>{let d=this.yn(s,c);return l.isEqual(d)?x.resolve():this.wn(e,s,c,l,d)}))))})}Sn(e,n,r,i){return Pa(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Pa(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){let i=Pa(e),s=new je(Ui);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new Xs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new je(Ui),i=this.An(n,e);if(i==null)return r;let s=XI(n);if(s!=null){let o=e.data.field(s.fieldPath);if(wl(o))for(let a of o.arrayValue.values||[])r=r.add(new Xs(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new Xs(n.indexId,e.key,Vp,i));return r}wn(e,n,r,i,s){F("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);let o=[];return function(c,l,d,f,g){let y=c.getIterator(),E=l.getIterator(),S=Oa(y),M=Oa(E);for(;S||M;){let V=!1,z=!1;if(S&&M){let H=d(S,M);H<0?z=!0:H>0&&(V=!0)}else S!=null?z=!0:V=!0;V?(f(M),M=Oa(E)):z?(g(S),S=Oa(y)):(S=Oa(y),M=Oa(E))}}(i,s,Ui,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),x.waitFor(o)}gn(e){let n=1;return Fa(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Ui(o,a)).filter((o,a,c)=>!a||Ui(o,c[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=Ui(o,e),c=Ui(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&c<0)i.push(o),i.push(o.Jt());else if(c>0)break}i.push(n);let s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Vp,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Vp,[]];s.push(IDBKeyRange.bound(a,c))}return s}Dn(e,n){return Ui(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(ck)}getMinOffset(e,n){return x.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||G())).next(ck)}};function ak(t){return mt(t,"collectionParents")}function Pa(t){return mt(t,"indexEntries")}function nl(t){return mt(t,"indexConfiguration")}function Fa(t){return mt(t,"indexState")}function ck(t){Z(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){let i=t[r].indexState.offset;Vb(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Tn(e.readTime,e.documentKey,n)}var uk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function TO(t,e,n){let r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.J({range:o},(d,f,g)=>(a++,g.delete()));s.push(c.next(()=>{Z(a===1)}));let l=[];for(let d of n.mutations){let f=Pk(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return x.waitFor(s).next(()=>l)}function gg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw G();e=t.noDocument}return JSON.stringify(e).length}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(41943040,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);var mg=class t{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){Z(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new t(s,n,r,i)}checkEmpty(e){let n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){let s=$a(e),o=Bi(e);return o.add({}).next(a=>{Z(typeof a=="number");let c=new Il(a,n,r,i),l=function(y,E,S){let M=S.baseMutations.map(z=>ug(y.ct,z)),V=S.mutations.map(z=>ug(y.ct,z));return{userId:E,batchId:S.batchId,localWriteTimeMs:S.localWriteTime.toMillis(),baseMutations:M,mutations:V}}(this.serializer,this.userId,c),d=[],f=new je((g,y)=>he(g.canonicalString(),y.canonicalString()));for(let g of i){let y=Pk(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),d.push(o.put(l)),d.push(s.put(y,GW))}return f.forEach(g=>{d.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Cn[a]=c.keys()}),x.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return Bi(e).get(n).next(r=>r?(Z(r.userId===this.userId),Ys(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?x.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){let i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Bi(e).J({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(Z(a.batchId>=r),s=Ys(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Bi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bi(e).U("userMutationsIndex",n).next(r=>r.map(i=>Ys(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){let r=$p(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return $a(e).J({range:i},(o,a,c)=>{let[l,d,f]=o,g=vr(d);if(l===this.userId&&n.path.isEqual(g))return Bi(e).get(f).next(y=>{if(!y)throw G();Z(y.userId===this.userId),s.push(Ys(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(he),i=[];return n.forEach(s=>{let o=$p(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=$a(e).J({range:a},(l,d,f)=>{let[g,y,E]=l,S=vr(y);g===this.userId&&s.path.isEqual(S)?r=r.add(E):f.done()});i.push(c)}),x.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=$p(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new je(he);return $a(e).J({range:o},(c,l,d)=>{let[f,g,y]=c,E=vr(g);f===this.userId&&r.isPrefixOf(E)?E.length===i&&(a=a.add(y)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){let r=[],i=[];return n.forEach(s=>{i.push(Bi(e).get(s).next(o=>{if(o===null)throw G();Z(o.userId===this.userId),r.push(Ys(this.serializer,o))}))}),x.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return TO(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),x.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return x.resolve();let r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return $a(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){let c=vr(s[1]);i.push(c)}else a.done()}).next(()=>{Z(i.length===0)})})}containsKey(e,n){return SO(e,this.userId,n)}xn(e){return AO(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function SO(t,e,n){let r=$p(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return $a(t).J({range:s,H:!0},(a,c,l)=>{let[d,f,g]=a;d===e&&f===i&&(o=!0),l.done()}).next(()=>o)}function Bi(t){return mt(t,"mutations")}function $a(t){return mt(t,"documentMutations")}function AO(t){return mt(t,"mutationQueues")}var rc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var LE=class{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{let r=new rc(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>ne.fromTimestamp(new rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>La(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(Z(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0,s=[];return La(e).J((o,a)=>{let c=ol(a);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>x.waitFor(s)).next(()=>i)}forEachTarget(e,n){return La(e).J((r,i)=>{let s=ol(i);n(s)})}Bn(e){return lk(e).get("targetGlobalKey").next(n=>(Z(n!==null),n))}kn(e,n){return lk(e).put("targetGlobalKey",n)}qn(e,n){return La(e).put(EO(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){let r=oo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return La(e).J({range:i,index:"queryTargetsIndex"},(o,a,c)=>{let l=ol(a);jl(n,l.target)&&(s=l,c.done())}).next(()=>s)}addMatchingKeys(e,n,r){let i=[],s=$i(e);return n.forEach(o=>{let a=Gt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),x.waitFor(i)}removeMatchingKeys(e,n,r){let i=$i(e);return x.forEach(n,s=>{let o=Gt(s.path);return x.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){let r=$i(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){let r=IDBKeyRange.bound([n],[n+1],!1,!0),i=$i(e),s=_e();return i.J({range:r,H:!0},(o,a,c)=>{let l=vr(o[1]),d=new q(l);s=s.add(d)}).next(()=>s)}containsKey(e,n){let r=Gt(n.path),i=IDBKeyRange.bound([r],[Rk(r)],!1,!0),s=0;return $i(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],c,l)=>{o!==0&&(s++,l.done())}).next(()=>s>0)}ot(e,n){return La(e).get(n).next(r=>r?ol(r):null)}};function La(t){return mt(t,"targets")}function lk(t){return mt(t,"targetGlobal")}function $i(t){return mt(t,"targetDocuments")}function dk([t,e],[n,r]){let i=he(t,n);return i===0?he(e,r):i}var VE=class{constructor(e){this.Kn=e,this.buffer=new je(dk),this.$n=0}Un(){return++this.$n}Wn(e){let n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();dk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},jE=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>v(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){es(n)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Ji(n)}yield this.zn(3e5)}))}},UE=class{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(sn.oe);let r=new VE(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(uk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uk):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,c,l,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Va()<=we.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(l-c)+`ms
Total Duration: ${l-d}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}};function H9(t,e){return new UE(t,e)}var BE=class{constructor(e,n){this.db=e,this.garbageCollector=H9(this,n)}Hn(e){let n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return jp(e,r)}removeReference(e,n,r){return jp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return jp(e,n)}er(e,n){return function(i,s){let o=!1;return AO(i).Y(a=>SO(i,a,s).next(c=>(c&&(o=!0),x.resolve(!c)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.Xn(e,(o,a)=>{if(a<=n){let c=this.er(e,o).next(l=>{if(!l)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ne.min()),$i(e).delete(function(f){return[0,Gt(f.path)]}(o))))});i.push(c)}}).next(()=>x.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return jp(e,n)}Xn(e,n){let r=$i(e),i,s=sn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:l})=>{o===0?(s!==sn.oe&&n(new q(vr(i)),s),s=l,i=c):s=sn.oe}).next(()=>{s!==sn.oe&&n(new q(vr(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function jp(t,e){return $i(t).put(function(r,i){return{targetId:0,path:Gt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}var yg=class{constructor(){this.changes=new Er(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var $E=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ws(e).put(r)}removeEntry(e,n,r){return Ws(e).delete(function(s,o){let a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],dg(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=It.newInvalidDocument(n);return Ws(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(rl(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:It.newInvalidDocument(n)};return Ws(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(rl(n))},(i,s)=>{r={document:this.nr(n,s),size:gg(s)}}).next(()=>r)}getEntries(e,n){let r=an();return this.ir(e,n,(i,s)=>{let o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=an(),i=new qe(q.comparator);return this.ir(e,n,(s,o)=>{let a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,gg(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return x.resolve();let i=new je(pk);n.forEach(c=>i=i.add(c));let s=IDBKeyRange.bound(rl(i.first()),rl(i.last())),o=i.getIterator(),a=o.getNext();return Ws(e).J({index:"documentKeyIndex",range:s},(c,l,d)=>{let f=q.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&pk(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,l),a=o.hasNext()?o.getNext():null),a?d.$(rl(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){let o=n.path,a=[o.popLast().toArray(),o.lastSegment(),dg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ws(e).U(IDBKeyRange.bound(a,c,!0)).next(l=>{s?.incrementDocumentReadCount(l.length);let d=an();for(let f of l){let g=this.nr(q.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(Bl(n,g)||i.has(g.key))&&(d=d.insert(g.key,g))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=an(),o=fk(n,r),a=fk(n,Tn.max());return Ws(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,l,d)=>{let f=this.nr(q.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new HE(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return hk(e).get("remoteDocumentGlobalKey").next(n=>(Z(!!n),n))}tr(e,n){return hk(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){let r=U9(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ne.min())))return r}return It.newInvalidDocument(e)}};function RO(t){return new $E(t)}var HE=class extends yg{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Er(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let n=[],r=0,i=new je((s,o)=>he(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){let c=JN(this.ar.serializer,o);i=i.add(s.path.popLast());let l=gg(c);r+=l-a.size,n.push(this.ar.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){let c=JN(this.ar.serializer,o.convertToNoDocument(ne.min()));n.push(this.ar.addEntry(e,s,c))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),x.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function hk(t){return mt(t,"remoteDocumentGlobal")}function Ws(t){return mt(t,"remoteDocumentsV14")}function rl(t){let e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fk(t,e){let n=e.documentKey.path.toArray();return[t,dg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function pk(t,e){let n=t.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=he(n[s],r[s]),i)return i;return i=he(n.length,r.length),i||(i=he(n[n.length-2],r[r.length-2]),i||he(n[n.length-1],r[r.length-1]))}var zE=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vg=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ll(r.mutation,i,on.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=_r();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=sl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=_r();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=an(),o=ul(),a=function(){return ul()}();return n.forEach((c,l)=>{let d=r.get(l.key);i.has(l.key)&&(d===void 0||d.mutation instanceof qn)?s=s.insert(l.key,l):d!==void 0?(o.set(l.key,d.mutation.getFieldMask()),ll(d.mutation,l,d.mutation.getFieldMask(),rt.now())):o.set(l.key,on.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,d)=>o.set(l,d)),n.forEach((l,d)=>{var f;return a.set(l,new zE(d,(f=o.get(l))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ul(),i=new qe((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let d=r.get(c)||on.empty();d=a.applyToLocalView(l,d),r.set(c,d);let f=(i.get(a.batchId)||_e()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,d=c.value,f=tO();d.forEach(g=>{if(!s.has(g)){let y=cO(n.get(g),r.get(g));y!==null&&f.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,f))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Qk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(_r()),a=-1,c=s;return o.next(l=>x.forEach(l,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?x.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{c=c.insert(d,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,_e())).next(d=>({batchId:a,changes:eO(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let i=sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=sl();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,c=>{let l=function(f,g){return new Ki(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,l)=>{let d=l.getKey();o.get(d)===null&&(o=o.insert(d,It.newInvalidDocument(d)))});let a=sl();return o.forEach((c,l)=>{let d=s.get(c);d!==void 0&&ll(d.mutation,l,on.empty(),rt.now()),Bl(n,l)&&(a=a.insert(c,l))}),a})}};var qE=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return x.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Wt(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:bO(i.bundledQuery),readTime:Wt(i.readTime)}}(n)),x.resolve()}};var GE=class{constructor(){this.overlays=new qe(q.comparator),this.hr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=_r();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=_r(),s=n.length+1,o=new q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((l,d)=>l-d),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let d=s.get(l.largestBatchId);d===null&&(d=_r(),s=s.insert(l.largestBatchId,d)),d.set(l.getKey(),l)}}let a=_r(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,d)=>a.set(l,d)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new El(n,r));let s=this.hr.get(n);s===void 0&&(s=_e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Tl=class{constructor(){this.Pr=new je(at.Ir),this.Tr=new je(at.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new at(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new at(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new q(new Pe([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new q(new Pe([])),r=new at(n,e),i=new at(n,e+1),s=_e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new at(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return q.comparator(e.key,n.key)||he(e.pr,n.pr)}static Er(e,n){return he(e.pr,n.pr)||q.comparator(e.key,n.key)}};var WE=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new je(at.Ir)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Il(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new at(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(he);return n.forEach(i=>{let s=new at(i,0),o=new at(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),x.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;q.isDocumentKey(s)||(s=s.child(""));let o=new at(new q(s),0),a=new je(he);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(c.pr)),!0)},o),x.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Z(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return x.forEach(n.mutations,i=>{let s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new at(n,0),i=this.wr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var KE=class{constructor(e){this.vr=e,this.docs=function(){return new qe(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=an();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=an(),o=n.path,a=new q(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:d}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Vb(Mk(d),r)<=0||(i.has(d.key)||Bl(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){G()}Fr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QE(this)}getSize(e){return x.resolve(this.size)}},QE=class extends yg{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var YE=class{constructor(e){this.persistence=e,this.Mr=new Er(n=>oo(n),jl),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Tl,this.targetCount=0,this.Lr=rc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),x.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.qn(n),x.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Nr.containsKey(n))}};var _g=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new sn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new YE(this),this.indexManager=new PE,this.remoteDocumentCache=function(i){return new KE(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new lg(n),this.$r=new qE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new WE(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){F("MemoryPersistence","Starting transaction:",e);let i=new ZE(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},ZE=class extends Qp{constructor(e){super(),this.currentSequenceNumber=e}},wg=class t{constructor(e){this.persistence=e,this.zr=new Tl,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw G()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),x.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Jr,r=>{let i=q.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return x.or([()=>x.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var XE=class{constructor(e){this.serializer=e}O(e,n,r,i){let s=new Yp("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore("owner")}(e),function(c){c.createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MN,{unique:!0}),c.createObjectStore("documentMutations")}(e),gk(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=x.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),gk(e)),o=o.next(()=>function(c){let l=c.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(c,l){return l.store("mutations").U().next(d=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",MN,{unique:!0});let f=l.store("mutations"),g=d.map(y=>f.put(y));return x.waitFor(g)})}(e,s))),o=o.next(()=>{(function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(c){let l=c.createObjectStore("documentOverlays",{keyPath:i9});l.createIndex("collectionPathOverlayIndex",s9,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",o9,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){let l=c.createObjectStore("remoteDocumentsV14",{keyPath:WW});l.createIndex("documentKeyIndex",KW),l.createIndex("collectionGroupIndex",QW)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:e9}).createIndex("sequenceNumberIndex",t9,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:n9}).createIndex("documentKeyIndex",r9,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=gg(i)}).next(()=>{let r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){let n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>x.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>x.forEach(a,c=>{Z(c.userId===s.userId);let l=Ys(this.serializer,c);return TO(e,s.userId,l).next(()=>{})}))}))}ti(e){let n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.J((o,a)=>{let c=new Pe(o),l=function(f){return[0,Gt(f)]}(c);s.push(n.get(l).next(d=>d?x.resolve():(f=>n.put({targetId:0,path:Gt(f),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>x.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:JW});let r=n.store("collectionParents"),i=new Cl,s=o=>{if(i.add(o)){let a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:Gt(c)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{let c=new Pe(o);return s(c.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,c],l)=>{let d=vr(a);return s(d.popLast())}))}ri(e){let n=e.store("targets");return n.J((r,i)=>{let s=ol(i),o=EO(this.serializer,s);return n.put(o)})}ii(e,n){let r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{let a=n.store("remoteDocumentsV14"),c=function(f){return f.document?new q(Pe.fromString(f.document.name).popFirst(5)):f.noDocument?q.fromSegments(f.noDocument.path):f.unknownDocument?q.fromSegments(f.unknownDocument.path):G()}(o).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>x.waitFor(i))}si(e,n){let r=n.store("mutations"),i=RO(this.serializer),s=new _g(wg.Hr,this.serializer.ct);return r.U().next(o=>{let a=new Map;return o.forEach(c=>{var l;let d=(l=a.get(c.userId))!==null&&l!==void 0?l:_e();Ys(this.serializer,c).keys().forEach(f=>d=d.add(f)),a.set(c.userId,d)}),x.forEach(a,(c,l)=>{let d=new gt(l),f=hg.lt(this.serializer,d),g=s.getIndexManager(d),y=mg.lt(d,this.serializer,g,s.referenceDelegate);return new vg(i,y,f,g).recalculateAndSaveOverlaysForDocumentKeys(new ml(n,sn.oe),c).next()})})}};function gk(t){t.createObjectStore("targetDocuments",{keyPath:ZW}).createIndex("documentTargetsIndex",XW,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",YW,{unique:!0}),t.createObjectStore("targetGlobal")}var UI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",JE=class t{constructor(e,n,r,i,s,o,a,c,l,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=l,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=g=>Promise.resolve(),!t.D())throw new U(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BE(this,i),this.Ti=n+"main",this.serializer=new lg(c),this.Ei=new Qa(this.Ti,this.ui,new XE(this.serializer)),this.Qr=new LE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RO(this.serializer),this.$r=new AE,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&nt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new U(k.FAILED_PRECONDITION,UI);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new sn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=n=>v(this,null,function*(){if(this.started)return e(n)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(n=>v(this,null,function*(){n.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>v(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Up(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(es(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return il(e).get("owner").next(n=>x.resolve(this.Si(n)))}bi(e){return Up(e).delete(this.clientId)}Di(){return v(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{let r=mt(n,"clientMetadata");return r.U().next(i=>{let s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return x.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(let n of e)this.di.removeItem(this.Fi(n.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?x.resolve(!0):il(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new U(k.FAILED_PRECONDITION,UI);return!1}}return!(!this.networkEnabled||!this.inForeground)||Up(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&F("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){return v(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let n=new ml(e,sn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()})}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Up(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return mg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FE(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return hg.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){F("IndexedDbPersistence","Starting transaction:",e);let i=n==="readonly"?"readonly":"readwrite",s=function(c){return c===16?c9:c===15?jk:c===14?Vk:c===13?Lk:c===12?a9:c===11?Fk:void G()}(this.ui),o;return this.Ei.runTransaction(e,i,s,a=>(o=new ml(a,this.kr?this.kr.next():sn.oe),n==="readwrite-primary"?this.gi(o).next(c=>!!c||this.pi(o)).next(c=>{if(!c)throw nt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new U(k.FAILED_PRECONDITION,Nk);return r(o)}).next(c=>this.wi(o).next(()=>c)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return il(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new U(k.FAILED_PRECONDITION,UI)})}wi(e){let n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return il(e).put("owner",n)}static D(){return Qa.D()}yi(e){let n=il(e);return n.get("owner").next(r=>this.Si(r)?(F("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):x.resolve())}Ci(e,n){let r=Date.now();return!(e<r-n)&&(!(e>r)||(nt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let n=/(?:Version|Mobile)\/1[456]/;Tw()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{let r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return F("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return nt("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){nt("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function il(t){return mt(t,"owner")}function Up(t){return mt(t,"clientMetadata")}function xO(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var eb=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=_e(),i=_e();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var tb=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ig=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Tw()?8:kk(Qe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new tb;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Va()<=we.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),x.resolve()):(Va()<=we.DEBUG&&F("QueryEngine","Query:",ja(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Va()<=we.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):x.resolve())}ji(e,n){if($N(n))return x.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rg(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=_e(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,rg(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,i){return $N(n)||i.isEqual(ne.min())?x.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?x.resolve(null):(Va()<=we.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ja(n)),this.es(e,o,n,xk(i,-1)).next(a=>a))})}Zi(e,n){let r=new je(Xk(e));return n.forEach((i,s)=>{Bl(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Va()<=we.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ja(n)),this.zi.getDocumentsMatchingQuery(e,n,Tn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var nb=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new qe(he),this.rs=new Er(s=>oo(s),jl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function MO(t,e,n,r){return new nb(t,e,n,r)}function NO(t,e){return v(this,null,function*(){let n=K(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=_e();for(let l of i){o.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}for(let l of s){a.push(l.batchId);for(let d of l.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function z9(t,e){let n=K(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,d){let f=l.batch,g=f.keys(),y=x.resolve();return g.forEach(E=>{y=y.next(()=>d.getEntry(c,E)).next(S=>{let M=l.docVersions.get(E);Z(M!==null),S.version.compareTo(M)<0&&(f.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),d.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=_e();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kO(t){let e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function q9(t,e){let n=K(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((d,f)=>{let g=i.get(f);if(!g)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Et.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(S,M,V){return S.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,y,d)&&a.push(n.Qr.updateTargetData(s,y))});let c=an(),l=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(G9(s,o,e.documentUpdates).next(d=>{c=d.cs,l=d.ls})),!r.isEqual(ne.min())){let d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return x.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=i,s))}function G9(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=an();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:i}})}function W9(t,e){let n=K(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Eg(t,e){let n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new nc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function ic(t,e,n){return v(this,null,function*(){let r=K(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!es(o))throw o;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function bg(t,e,n){let r=K(t),i=ne.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,d){let f=K(c),g=f.rs.get(d);return g!==void 0?x.resolve(f.ns.get(g)):f.Qr.getTargetData(l,d)}(r,o,un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ne.min(),n?s:_e())).next(a=>(FO(r,Zk(e),a),{documents:a,hs:s})))}function OO(t,e){let n=K(t),r=K(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function PO(t,e){let n=K(t),r=n.ss.get(e)||ne.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,xk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(FO(n,e,i),i))}function FO(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}function mk(t,e){return`firestore_clients_${t}_${e}`}function yk(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function BI(t,e){return`firestore_targets_${t}_${e}`}var Dg=class t{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new U(i.error.code,i.error.message))),o?new t(e,n,i.state,s):(nt("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},dl=class t{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){let r=JSON.parse(n),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new U(r.error.code,r.error.message))),s?new t(e,r.state,i):(nt("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Cg=class t{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){let r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Hb();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=Ok(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(nt("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}},rb=class t{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){let n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(nt("SharedClientState",`Failed to parse online state: ${e}`),null)}},Sl=class{constructor(){this.activeTargetIds=Hb()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},hl=class{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new qe(he),this.started=!1,this.ys=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=mk(this.persistenceKey,this.Vs),this.Ss=function(c){return`firestore_sequence_number_${c}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Sl),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(c){return`firestore_online_state_${c}`}(this.persistenceKey),this.Fs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return v(this,null,function*(){let e=yield this.syncEngine.Bi();for(let r of e){if(r===this.Vs)continue;let i=this.getItem(mk(this.persistenceKey,r));if(i){let s=Cg.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();let n=this.storage.getItem(this.vs);if(n){let r=this.xs(n);r&&this.Os(r)}for(let r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(BI(this.persistenceKey,e));if(r){let i=dl.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(BI(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let n=this.storage.getItem(e);return F("SharedClientState","READ",e,n),n}setItem(e,n){F("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let n=e;if(n.storageArea===this.storage){if(F("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void nt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>v(this,null,function*(){if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){let r=this.$s(n.key);return this.Us(r,null)}{let r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){let r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){let r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){let r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){let r=function(s){let o=sn.oe;if(s!=null)try{let a=JSON.parse(s);Z(typeof a=="number"),o=a}catch(a){nt("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==sn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){let r=this.Js(n.newValue);yield Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){let i=new Dg(this.currentUser,e,n,r),s=yk(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){let n=yk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){let n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){let i=BI(this.persistenceKey,e),s=new dl(e,n,r);this.setItem(i,s.ds())}Ks(e){let n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){let n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){let r=this.$s(e);return Cg.Es(r,n)}Gs(e,n){let r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Dg.Es(new gt(s),i,n)}js(e,n){let r=this.Cs.exec(e),i=Number(r[1]);return dl.Es(i,n)}xs(e){return rb.Es(e)}Js(e){return JSON.parse(e)}zs(e){return v(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){let r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=Hb();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}},Tg=class{constructor(){this.no=new Sl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Sl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ib=class{io(e){}shutdown(){}};var Sg=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bp=null;function $I(){return Bp===null?Bp=function(){return 268435456+Math.round(2147483648*Math.random())}():Bp++,"0x"+Bp.toString(16)}var K9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var sb=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Nt="WebChannelConnection",ob=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let a=$I(),c=this.vo(n,r.toUriEncodedString());F("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,c,l,i).then(d=>(F("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw fl("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=K9[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=$I();return new Promise((o,a)=>{let c=new kI;c.setWithCredentials(!0),c.listenOnce(PI.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case el.NO_ERROR:let d=c.getResponseJson();F(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case el.TIMEOUT:F(Nt,`RPC '${e}' ${s} timed out`),a(new U(k.DEADLINE_EXCEEDED,"Request time out"));break;case el.HTTP_ERROR:let f=c.getStatus();if(F(Nt,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let y=g?.error;if(y&&y.status&&y.message){let E=function(M){let V=M.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(V)>=0?V:k.UNKNOWN}(y.status);a(new U(E,y.message))}else a(new U(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new U(k.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{F(Nt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);F(Nt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=$I(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VI(),a=LI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new OI({})),this.Fo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let d=s.join("");F(Nt,`Creating RPC '${e}' stream ${i}: ${d}`,c);let f=o.createWebChannel(d,c),g=!1,y=!1,E=new sb({lo:M=>{y?F(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(g||(F(Nt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),F(Nt,`RPC '${e}' stream ${i} sending:`,M),f.send(M))},ho:()=>f.close()}),S=(M,V,z)=>{M.listen(V,H=>{try{z(H)}catch(ee){setTimeout(()=>{throw ee},0)}})};return S(f,ka.EventType.OPEN,()=>{y||(F(Nt,`RPC '${e}' stream ${i} transport opened.`),E.mo())}),S(f,ka.EventType.CLOSE,()=>{y||(y=!0,F(Nt,`RPC '${e}' stream ${i} transport closed`),E.po())}),S(f,ka.EventType.ERROR,M=>{y||(y=!0,fl(Nt,`RPC '${e}' stream ${i} transport errored:`,M),E.po(new U(k.UNAVAILABLE,"The operation could not be completed")))}),S(f,ka.EventType.MESSAGE,M=>{var V;if(!y){let z=M.data[0];Z(!!z);let H=z,ee=H.error||((V=H[0])===null||V===void 0?void 0:V.error);if(ee){F(Nt,`RPC '${e}' stream ${i} received error:`,ee);let fe=ee.status,Y=function(w){let D=ot[w];if(D!==void 0)return lO(D)}(fe),b=ee.message;Y===void 0&&(Y=k.INTERNAL,b="Unknown error status: "+fe+" with message "+ee.message),y=!0,E.po(new U(Y,b)),f.close()}else F(Nt,`RPC '${e}' stream ${i} received:`,z),E.yo(z)}}),S(a,FI.STAT_EVENT,M=>{M.stat===Lp.PROXY?F(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Lp.NOPROXY&&F(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.fo()},0),E}};function LO(){return typeof window<"u"?window:null}function Gp(){return typeof document<"u"?document:null}function Wg(t){return new bE(t,!0)}var Ag=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Rg=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Ag(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return v(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return v(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return v(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(nt(n.toString()),nt("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new U(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>v(this,null,function*(){this.state=0,this.start()}))}c_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ab=class extends Rg{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=k9(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?Wt(o.readTime):ne.min()}(e);return this.listener.h_(n,r)}P_(e){let n={};n.database=TE(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=tg(c)?{documents:mO(s,c)}:{query:yO(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=dO(s,o.resumeToken);let l=DE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=tc(s,o.snapshotVersion.toTimestamp());let l=DE(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=P9(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){let n={};n.database=TE(this.serializer),n.removeTarget=e,this.i_(n)}},cb=class extends Rg{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Z(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=O9(e.writeResults,e.commitTime),r=Wt(e.commitTime);return this.listener.A_(r,n)}return Z(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=TE(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>ug(this.serializer,r))};this.i_(n)}};var ub=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new U(k.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,CE(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(k.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,CE(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(k.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},lb=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(nt(n),this.y_=!1):F("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var db=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>v(this,null,function*(){go(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(c){return v(this,null,function*(){let l=K(c);l.M_.add(4),yield $l(l),l.N_.set("Unknown"),l.M_.delete(4),yield Kg(l)})}(this))}))}),this.N_=new lb(r,i)}};function Kg(t){return v(this,null,function*(){if(go(t))for(let e of t.x_)yield e(!0)})}function $l(t){return v(this,null,function*(){for(let e of t.x_)yield e(!1)})}function Qg(t,e){let n=K(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Kb(n)?Wb(n):dc(n).Xo()&&Gb(n,e))}function sc(t,e){let n=K(t),r=dc(n);n.F_.delete(e),r.Xo()&&VO(n,e),n.F_.size===0&&(r.Xo()?r.n_():go(n)&&n.N_.set("Unknown"))}function Gb(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dc(t).P_(e)}function VO(t,e){t.L_.xe(e),dc(t).I_(e)}function Wb(t){t.L_=new EE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),dc(t).start(),t.N_.w_()}function Kb(t){return go(t)&&!dc(t).Zo()&&t.F_.size>0}function go(t){return K(t).M_.size===0}function jO(t){t.L_=void 0}function Q9(t){return v(this,null,function*(){t.N_.set("Online")})}function Y9(t){return v(this,null,function*(){t.F_.forEach((e,n)=>{Gb(t,e)})})}function Z9(t,e){return v(this,null,function*(){jO(t),Kb(t)?(t.N_.D_(e),Wb(t)):t.N_.set("Unknown")})}function X9(t,e,n){return v(this,null,function*(){if(t.N_.set("Online"),e instanceof og&&e.state===2&&e.cause)try{yield function(i,s){return v(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.F_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))})}(t,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xg(t,r)}else if(e instanceof qa?t.L_.Ke(e):e instanceof sg?t.L_.He(e):t.L_.We(e),!n.isEqual(ne.min()))try{let r=yield kO(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.L_.rt(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let d=s.F_.get(l);d&&s.F_.set(l,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let d=s.F_.get(c);if(!d)return;s.F_.set(c,d.withResumeToken(Et.EMPTY_BYTE_STRING,d.snapshotVersion)),VO(s,c);let f=new nc(d.target,c,l,d.sequenceNumber);Gb(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield xg(t,r)}})}function xg(t,e,n){return v(this,null,function*(){if(!es(e))throw e;t.M_.add(1),yield $l(t),t.N_.set("Offline"),n||(n=()=>kO(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield Kg(t)}))})}function UO(t,e){return e().catch(n=>xg(t,n,e))}function lc(t){return v(this,null,function*(){let e=K(t),n=Xi(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;J9(e);)try{let i=yield W9(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,e3(e,i)}catch(i){yield xg(e,i)}BO(e)&&$O(e)})}function J9(t){return go(t)&&t.v_.length<10}function e3(t,e){t.v_.push(e);let n=Xi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function BO(t){return go(t)&&!Xi(t).Zo()&&t.v_.length>0}function $O(t){Xi(t).start()}function t3(t){return v(this,null,function*(){Xi(t).V_()})}function n3(t){return v(this,null,function*(){let e=Xi(t);for(let n of t.v_)e.d_(n.mutations)})}function r3(t,e,n){return v(this,null,function*(){let r=t.v_.shift(),i=_E.from(r,e,n);yield UO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield lc(t)})}function i3(t,e){return v(this,null,function*(){e&&Xi(t).E_&&(yield function(r,i){return v(this,null,function*(){if(function(o){return C9(o)&&o!==k.ABORTED}(i.code)){let s=r.v_.shift();Xi(r).t_(),yield UO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield lc(r)}})}(t,e)),BO(t)&&$O(t)})}function vk(t,e){return v(this,null,function*(){let n=K(t);n.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let r=go(n);n.M_.add(3),yield $l(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield Kg(n)})}function hb(t,e){return v(this,null,function*(){let n=K(t);e?(n.M_.delete(2),yield Kg(n)):e||(n.M_.add(2),yield $l(n),n.N_.set("Unknown"))})}function dc(t){return t.B_||(t.B_=function(n,r,i){let s=K(n);return s.f_(),new ab(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:Q9.bind(null,t),To:Y9.bind(null,t),Ao:Z9.bind(null,t),h_:X9.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.B_.t_(),Kb(t)?Wb(t):t.N_.set("Unknown")):(yield t.B_.stop(),jO(t))}))),t.B_}function Xi(t){return t.k_||(t.k_=function(n,r,i){let s=K(n);return s.f_(),new cb(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:t3.bind(null,t),Ao:i3.bind(null,t),R_:n3.bind(null,t),A_:r3.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.k_.t_(),yield lc(t)):(yield t.k_.stop(),t.v_.length>0&&(F("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var fb=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Yg(t,e){if(nt("AsyncQueue",`${e}: ${t}`),es(t))return new U(k.UNAVAILABLE,`${e}: ${t}`);throw t}var Mg=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||q.comparator(n.key,r.key):(n,r)=>q.comparator(n.key,r.key),this.keyedMap=sl(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ng=class{constructor(){this.q_=new qe(q.comparator)}track(e){let n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):G():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}},oc=class t{constructor(e,n,r,i,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Mg.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var pb=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},gb=class{constructor(){this.queries=new Er(e=>Yk(e),Gg),this.onlineState="Unknown",this.z_=new Set}};function Qb(t,e){return v(this,null,function*(){let n=K(t),r=3,i=e.query,s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new pb,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield n.onListen(i,!0);break;case 1:s.K_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=Yg(o,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&Zb(n)})}function Yb(t,e){return v(this,null,function*(){let n=K(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function s3(t,e){let n=K(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Zb(n)}function o3(t,e,n){let r=K(t),i=r.queries.get(e);if(i)for(let s of i.U_)s.onError(n);r.queries.delete(e)}function Zb(t){t.z_.forEach(e=>{e.next()})}var mb,_k;(_k=mb||(mb={})).J_="default",_k.Cache="cache";var Al=class{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==mb.Cache}};var kg=class{constructor(e){this.key=e}},Og=class{constructor(e){this.key=e}},Pg=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=Xk(e),this.Ta=new Mg(this.Ia)}get Ea(){return this.la}da(e,n){let r=n?n.Aa:new Ng,i=n?n.Ta:this.Ta,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{let g=i.get(d),y=Bl(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),M=!1;g&&y?g.data.isEqual(y.data)?E!==S&&(r.track({type:3,doc:y}),M=!0):this.Ra(g,y)||(r.track({type:2,doc:y}),M=!0,(c&&this.Ia(y,c)>0||l&&this.Ia(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),M=!0):g&&!y&&(r.track({type:1,doc:g}),M=!0,(c||l)&&(a=!0)),M&&(y?(o=o.add(y),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((d,f)=>function(y,E){let S=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return S(y)-S(E)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;let a=n&&!i?this.ma():[],c=this.Pa.size===0&&this.current&&!i?1:0,l=c!==this.ha;return this.ha=c,o.length!==0||l?{snapshot:new oc(this.query,e.Ta,s,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Ng,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=_e(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});let n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Og(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new kg(r))}),n}pa(e){this.la=e.hs,this.Pa=_e();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return oc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},yb=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},vb=class{constructor(e){this.key=e,this.wa=!1}},_b=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Er(a=>Yk(a),Gg),this.Da=new Map,this.Ca=new Set,this.va=new qe(q.comparator),this.Fa=new Map,this.Ma=new Tl,this.xa={},this.Oa=new Map,this.Na=rc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function a3(t,e,n=!0){return v(this,null,function*(){let r=Zg(t),i,s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield HO(r,e,n,!0),i})}function c3(t,e){return v(this,null,function*(){let n=Zg(t);yield HO(n,e,!0,!1)})}function HO(t,e,n,r){return v(this,null,function*(){let i=yield Eg(t.localStore,un(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current",a;return r&&(a=yield Xb(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&Qg(t.remoteStore,i),a})}function Xb(t,e,n,r,i){return v(this,null,function*(){t.Ba=(f,g,y)=>function(S,M,V,z){return v(this,null,function*(){let H=M.view.da(V);H.Xi&&(H=yield bg(S.localStore,M.query,!1).then(({documents:b})=>M.view.da(b,H)));let ee=z&&z.targetChanges.get(M.targetId),fe=z&&z.targetMismatches.get(M.targetId)!=null,Y=M.view.applyChanges(H,S.isPrimaryClient,ee,fe);return wb(S,M.targetId,Y.fa),Y.snapshot})}(t,f,g,y);let s=yield bg(t.localStore,e,!0),o=new Pg(e,s.hs),a=o.da(s.documents),c=Dl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,c);wb(t,n,l.fa);let d=new yb(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),l.snapshot})}function u3(t,e,n){return v(this,null,function*(){let r=K(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Gg(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ic(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sc(r.remoteStore,i.targetId),ac(r,i.targetId)}).catch(Ji))):(ac(r,i.targetId),yield ic(r.localStore,i.targetId,!0))})}function l3(t,e){return v(this,null,function*(){let n=K(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sc(n.remoteStore,r.targetId))})}function d3(t,e,n){return v(this,null,function*(){let r=nD(t);try{let i=yield function(o,a){let c=K(o),l=rt.now(),d=a.reduce((y,E)=>y.add(E.key),_e()),f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=an(),S=_e();return c.os.getEntries(y,d).next(M=>{E=M,E.forEach((V,z)=>{z.isValidDocument()||(S=S.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,E)).next(M=>{f=M;let V=[];for(let z of a){let H=D9(z,f.get(z.key).overlayedDocument);H!=null&&V.push(new qn(z.key,H,$k(H.value.mapValue),wt.exists(!0)))}return c.mutationQueue.addMutationBatch(y,l,V,a)}).next(M=>{g=M;let V=M.applyToLocalDocumentSet(f,S);return c.documentOverlayCache.saveOverlays(y,M.batchId,V)})}).then(()=>({batchId:g.batchId,changes:eO(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let l=o.xa[o.currentUser.toKey()];l||(l=new qe(he)),l=l.insert(a,c),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield ts(r,i.changes),yield lc(r.remoteStore)}catch(i){let s=Yg(i,"Failed to persist write");n.reject(s)}})}function zO(t,e){return v(this,null,function*(){let n=K(t);try{let r=yield q9(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Fa.get(s);o&&(Z(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Z(o.wa):i.removedDocuments.size>0&&(Z(o.wa),o.wa=!1))}),yield ts(n,r,e)}catch(r){yield Ji(r)}})}function wk(t,e,n){let r=K(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=K(o);c.onlineState=a;let l=!1;c.queries.forEach((d,f)=>{for(let g of f.U_)g.j_(a)&&(l=!0)}),l&&Zb(c)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function h3(t,e,n){return v(this,null,function*(){let r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Fa.get(e),s=i&&i.key;if(s){let o=new qe(q.comparator);o=o.insert(s,It.newNoDocument(s,ne.min()));let a=_e().add(s),c=new bl(ne.min(),new Map,new qe(he),o,a);yield zO(r,c),r.va=r.va.remove(s),r.Fa.delete(e),tD(r)}else yield ic(r.localStore,e,!1).then(()=>ac(r,e,n)).catch(Ji)})}function f3(t,e){return v(this,null,function*(){let n=K(t),r=e.batch.batchId;try{let i=yield z9(n.localStore,e);eD(n,r,null),Jb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ts(n,i)}catch(i){yield Ji(i)}})}function p3(t,e,n){return v(this,null,function*(){let r=K(t);try{let i=yield function(o,a){let c=K(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return c.mutationQueue.lookupMutationBatch(l,a).next(f=>(Z(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(l,f))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>c.localDocuments.getDocuments(l,d))})}(r.localStore,e);eD(r,e,n),Jb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ts(r,i)}catch(i){yield Ji(i)}})}function Jb(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function eD(t,e,n){let r=K(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function ac(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||qO(t,r)})}function qO(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(sc(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),tD(t))}function wb(t,e,n){for(let r of n)r instanceof kg?(t.Ma.addReference(r.key,e),g3(t,r)):r instanceof Og?(F("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||qO(t,r.key)):G()}function g3(t,e){let n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(F("SyncEngine","New document in limbo: "+n),t.Ca.add(r),tD(t))}function tD(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new q(Pe.fromString(e)),r=t.Na.next();t.Fa.set(r,new vb(n)),t.va=t.va.insert(n,r),Qg(t.remoteStore,new nc(un(Ul(n.path)),r,"TargetPurposeLimboResolution",sn.oe))}}function ts(t,e,n){return v(this,null,function*(){let r=K(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let d=l&&!l.fromCache;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(l){i.push(l);let d=eb.Ki(c.targetId,l);s.push(d)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(c,l){return v(this,null,function*(){let d=K(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>x.forEach(l,g=>x.forEach(g.qi,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>x.forEach(g.Qi,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!es(f))throw f;F("LocalStore","Failed to update sequence numbers: "+f)}for(let f of l){let g=f.targetId;if(!f.fromCache){let y=d.ns.get(g),E=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(E);d.ns=d.ns.insert(g,S)}}})}(r.localStore,s))})}function m3(t,e){return v(this,null,function*(){let n=K(t);if(!n.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let r=yield NO(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(c=>{c.reject(new U(k.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ts(n,r.us)}})}function y3(t,e){let n=K(t),r=n.Fa.get(e);if(r&&r.wa)return _e().add(r.key);{let i=_e(),s=n.Da.get(e);if(!s)return i;for(let o of s){let a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function v3(t,e){return v(this,null,function*(){let n=K(t),r=yield bg(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&wb(n,e.targetId,i.fa),i})}function _3(t,e){return v(this,null,function*(){let n=K(t);return PO(n.localStore,e).then(r=>ts(n,r))})}function w3(t,e,n,r){return v(this,null,function*(){let i=K(t),s=yield function(a,c){let l=K(a),d=K(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,c).next(g=>g?l.localDocuments.getDocuments(f,g):x.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?yield lc(i.remoteStore):n==="acknowledged"||n==="rejected"?(eD(i,e,r||null),Jb(i,e),function(a,c){K(K(a).mutationQueue).Mn(c)}(i.localStore,e)):G(),yield ts(i,s)):F("SyncEngine","Cannot apply mutation batch with id: "+e)})}function I3(t,e){return v(this,null,function*(){let n=K(t);if(Zg(n),nD(n),e===!0&&n.La!==!0){let r=n.sharedClientState.getAllActiveQueryTargets(),i=yield Ik(n,r.toArray());n.La=!0,yield hb(n.remoteStore,!0);for(let s of i)Qg(n.remoteStore,s)}else if(e===!1&&n.La!==!1){let r=[],i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(ac(n,o),ic(n.localStore,o,!0))),sc(n.remoteStore,o)}),yield i,yield Ik(n,r),function(o){let a=K(o);a.Fa.forEach((c,l)=>{sc(a.remoteStore,l)}),a.Ma.mr(),a.Fa=new Map,a.va=new qe(q.comparator)}(n),n.La=!1,yield hb(n.remoteStore,!1)}})}function Ik(t,e,n){return v(this,null,function*(){let r=K(t),i=[],s=[];for(let o of e){let a,c=r.Da.get(o);if(c&&c.length!==0){a=yield Eg(r.localStore,un(c[0]));for(let l of c){let d=r.ba.get(l),f=yield v3(r,d);f.snapshot&&s.push(f.snapshot)}}else{let l=yield OO(r.localStore,o);a=yield Eg(r.localStore,l),yield Xb(r,GO(l),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i})}function GO(t){return Kk(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function E3(t){return function(n){return K(K(n).persistence).Bi()}(K(t).localStore)}function b3(t,e,n,r){return v(this,null,function*(){let i=K(t);if(i.La)return void F("SyncEngine","Ignoring unexpected query state notification.");let s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{let o=yield PO(i.localStore,Zk(s[0])),a=bl.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Et.EMPTY_BYTE_STRING);yield ts(i,o,a);break}case"rejected":yield ic(i.localStore,e,!0),ac(i,e,r);break;default:G()}})}function D3(t,e,n){return v(this,null,function*(){let r=Zg(t);if(r.La){for(let i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){F("SyncEngine","Adding an already active target "+i);continue}let s=yield OO(r.localStore,i),o=yield Eg(r.localStore,s);yield Xb(r,GO(s),o.targetId,!1,o.resumeToken),Qg(r.remoteStore,o)}for(let i of n)r.Da.has(i)&&(yield ic(r.localStore,i,!1).then(()=>{sc(r.remoteStore,i),ac(r,i)}).catch(Ji))}})}function Zg(t){let e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h3.bind(null,e),e.Sa.h_=s3.bind(null,e.eventManager),e.Sa.ka=o3.bind(null,e.eventManager),e}function nD(t){let e=K(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p3.bind(null,e),e}var Rl=class{constructor(){this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=Wg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return MO(this.persistence,new Ig,e.initialUser,this.serializer)}createPersistence(e){return new _g(wg.Hr,this.serializer)}createSharedClientState(e){return new Tg}terminate(){return v(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Fg=class t extends Rl{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){yield Yn(t.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield nD(this.Qa.syncEngine),yield lc(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return MO(this.persistence,new Ig,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){let r=this.persistence.referenceDelegate.garbageCollector;return new jE(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){let r=new nE(n,this.persistence);return new tE(e.asyncQueue,r)}createPersistence(e){let n=xO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new JE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,LO(),Gp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Tg}},Ib=class t extends Fg{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){return v(this,null,function*(){yield Yn(t.prototype,this,"initialize").call(this,e);let n=this.Qa.syncEngine;this.sharedClientState instanceof hl&&(this.sharedClientState.syncEngine={Zs:w3.bind(null,n),Xs:b3.bind(null,n),eo:D3.bind(null,n),Bi:E3.bind(null,n),Ys:_3.bind(null,n)},yield this.sharedClientState.start()),yield this.persistence.fi(r=>v(this,null,function*(){yield I3(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let n=LO();if(!hl.D(n))throw new U(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=xO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hl(n,e.asyncQueue,r,e.clientId,e.initialUser)}},xl=class{initialize(e,n){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=m3.bind(null,this.syncEngine),yield hb(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new gb}()}createDatastore(e){let n=Wg(e.databaseInfo.databaseId),r=function(s){return new ob(s)}(e.databaseInfo);return function(s,o,a,c){return new ub(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new db(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wk(this.syncEngine,n,0),function(){return Sg.D()?new Sg:new ib}())}createSyncEngine(e,n){return function(i,s,o,a,c,l,d){let f=new _b(i,s,o,a,c,l);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return v(this,null,function*(){var e;yield function(r){return v(this,null,function*(){let i=K(r);F("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield $l(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Ml=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):nt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Eb=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>v(this,null,function*(){F("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Yg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function HI(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>v(this,null,function*(){r.isEqual(i)||(yield NO(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Ek(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield WO(t);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vk(e.remoteStore,i)),t._onlineComponents=e})}function C3(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function WO(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield HI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!C3(n))throw n;fl("Error using user provided cache. Falling back to memory cache: "+n),yield HI(t,new Rl)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield HI(t,new Rl);return t._offlineComponents})}function KO(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ek(t,t._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield Ek(t,new xl))),t._onlineComponents})}function T3(t){return WO(t).then(e=>e.localStore)}function S3(t){return KO(t).then(e=>e.syncEngine)}function Lg(t){return v(this,null,function*(){let e=yield KO(t),n=e.eventManager;return n.onListen=a3.bind(null,e.syncEngine),n.onUnlisten=u3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=c3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=l3.bind(null,e.syncEngine),n})}function A3(t,e,n={}){let r=new cn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,a,c,l){let d=new Ml({next:g=>{o.enqueueAndForget(()=>Yb(s,f));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new U(k.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?l.reject(new U(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),f=new Al(Ul(a.path),d,{includeMetadataChanges:!0,ra:!0});return Qb(s,f)}(yield Lg(t),t.asyncQueue,e,n,r)})),r.promise}function R3(t,e){let n=new cn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(i,s,o){return v(this,null,function*(){try{let a=yield bg(i,s,!0),c=new Pg(s,a.hs),l=c.da(a.documents),d=c.applyChanges(l,!1);o.resolve(d.snapshot)}catch(a){let c=Yg(a,`Failed to execute query '${s} against cache`);o.reject(c)}})}(yield T3(t),e,n)})),n.promise}function x3(t,e,n={}){let r=new cn;return t.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,a,c,l){let d=new Ml({next:g=>{o.enqueueAndForget(()=>Yb(s,f)),g.fromCache&&c.source==="server"?l.reject(new U(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(g)},error:g=>l.reject(g)}),f=new Al(a,d,{includeMetadataChanges:!0,ra:!0});return Qb(s,f)}(yield Lg(t),t.asyncQueue,e,n,r)})),r.promise}function QO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var bk=new Map;function YO(t,e,n){if(!n)throw new U(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M3(t,e,n,r){if(e===!0&&r===!0)throw new U(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dk(t){if(!q.isDocumentKey(t))throw new U(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ck(t){if(q.isDocumentKey(t))throw new U(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G()}function kt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Xg(t);throw new U(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function N3(t,e){if(e<=0)throw new U(k.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Vg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(k.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Nl=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GI;switch(r.type){case"firstParty":return new QI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=bk.get(n);r&&(F("ComponentProvider","Removing Datastore"),bk.delete(n),r.terminate())}(this),Promise.resolve()}};var br=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Ot=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},zi=class t extends br{constructor(e,n,r){super(e,n,Ul(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new q(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function ZO(t,e,...n){if(t=Be(t),YO("collection","path",e),t instanceof Nl){let r=Pe.fromString(e,...n);return Ck(r),new zi(t,null,r)}{if(!(t instanceof Ot||t instanceof zi))throw new U(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return Ck(r),new zi(t.firestore,null,r)}}function rD(t,e,...n){if(t=Be(t),arguments.length===1&&(e=Wp.newId()),YO("doc","path",e),t instanceof Nl){let r=Pe.fromString(e,...n);return Dk(r),new Ot(t,null,new q(r))}{if(!(t instanceof Ot||t instanceof zi))throw new U(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return Dk(r),new Ot(t.firestore,t instanceof zi?t.converter:null,new q(r))}}var bb=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Ag(this,"async_queue_retry"),this.hu=()=>{let n=Gp();n&&F("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Gp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new cn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return v(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!es(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw nt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=fb.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&G()}verifyOperationInProgress(){}du(){return v(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function Tk(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ln=class extends Nl{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new bb}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||JO(this),this._firestoreClient.terminate()}};function XO(t,e,n){n||(n="(default)");let r=mr(t,"firestore");if(r.isInitialized(n)){let i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(xi(s,e))return i;throw new U(k.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new U(k.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function hc(t){return t._firestoreClient||JO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function JO(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,l,d){return new rE(a,c,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,QO(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Eb(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var kl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Et.fromBase64String(e))}catch(n){throw new U(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var fo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ol=class{constructor(e){this._methodName=e}};var Pl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}};var k3=/^__.*__$/,Db=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new qn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zi(e,this.data,n,this.fieldTransforms)}},jg=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new qn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function eP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}var Cb=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Bg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(eP(this.fu)&&k3.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Tb=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wg(e)}Fu(e,n,r,i=!1){return new Cb({fu:e,methodName:n,vu:r,path:ut.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Hl(t){let e=t._freezeSettings(),n=Wg(t._databaseId);return new Tb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iD(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);sD("Data must be an object, but it was:",o,r);let a=rP(r,o),c,l;if(s.merge)c=new on(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let g=Sb(e,f,n);if(!o.contains(g))throw new U(k.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);sP(d,g)||d.push(g)}c=new on(d),l=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,l=o.fieldTransforms;return new Db(new qt(a),c,l)}var Ug=class t extends Ol{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function tP(t,e,n,r){let i=t.Fu(1,e,n);sD("Data must be an object, but it was:",i,r);let s=[],o=qt.empty();po(r,(c,l)=>{let d=oD(e,c,n);l=Be(l);let f=i.Su(d);if(l instanceof Ug)s.push(d);else{let g=zl(l,f);g!=null&&(s.push(d),o.set(d,g))}});let a=new on(s);return new jg(o,a,i.fieldTransforms)}function nP(t,e,n,r,i,s){let o=t.Fu(1,e,n),a=[Sb(e,r,n)],c=[i];if(s.length%2!=0)throw new U(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(Sb(e,s[g])),c.push(s[g+1]);let l=[],d=qt.empty();for(let g=a.length-1;g>=0;--g)if(!sP(l,a[g])){let y=a[g],E=c[g];E=Be(E);let S=o.Su(y);if(E instanceof Ug)l.push(y);else{let M=zl(E,S);M!=null&&(l.push(y),d.set(y,M))}}let f=new on(l);return new jg(d,f,o.fieldTransforms)}function O3(t,e,n,r=!1){return zl(n,t.Fu(r?4:3,e))}function zl(t,e){if(iP(t=Be(t)))return sD("Unsupported field value:",e,t),rP(t,e);if(t instanceof Ol)return function(r,i){if(!eP(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=zl(a,i.bu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=rt.fromDate(r);return{timestampValue:tc(i.serializer,s)}}if(r instanceof rt){let s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tc(i.serializer,s)}}if(r instanceof Pl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kl)return{bytesValue:dO(i.serializer,r._byteString)};if(r instanceof Ot){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zb(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Xg(r)}`)}(t,e)}function rP(t,e){let n={};return Uk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(t,(r,i)=>{let s=zl(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Pl||t instanceof kl||t instanceof Ot||t instanceof Ol)}function sD(t,e,n){if(!iP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Xg(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Sb(t,e,n){if((e=Be(e))instanceof fo)return e._internalPath;if(typeof e=="string")return oD(t,e);throw Bg("Field path arguments must be of type string or ",t,!1,void 0,n)}var P3=new RegExp("[~\\*/\\[\\]]");function oD(t,e,n){if(e.search(P3)>=0)throw Bg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fo(...e.split("."))._internalPath}catch{throw Bg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bg(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new U(k.INVALID_ARGUMENT,a+t+c)}function sP(t,e){return t.some(n=>n.isEqual(e))}var $g=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Ab(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Jg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Ab=class extends $g{data(){return super.data()}};function Jg(t,e){return typeof e=="string"?oD(t,e):e instanceof fo?e._internalPath:e._delegate._internalPath}function oP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Fl=class{},Ll=class extends Fl{};function aP(t,e,...n){let r=[];e instanceof Fl&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Rb).length,a=s.filter(c=>c instanceof Hg).length;if(o>1||o>0&&a>0)throw new U(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Hg=class t extends Ll{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return dP(e._query,n),new br(e.firestore,e.converter,mE(e._query,n))}_parse(e){let n=Hl(e.firestore);return function(s,o,a,c,l,d,f){let g;if(l.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new U(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Ak(f,d);let y=[];for(let E of f)y.push(Sk(c,s,E));g={arrayValue:{values:y}}}else g=Sk(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Ak(f,d),g=O3(a,o,f,d==="in"||d==="not-in");return Ie.create(l,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function cP(t,e,n){let r=e,i=Jg("where",t);return Hg._create(i,r,n)}var Rb=class t extends Fl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Oe.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)dP(o,c),o=mE(o,c)}(e._query,n),new br(e.firestore,e.converter,mE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var xb=class t extends Ll{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new U(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new so(s,o)}(e._query,this._field,this._direction);return new br(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Ki(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function uP(t,e="asc"){let n=e,r=Jg("orderBy",t);return xb._create(r,n)}var Mb=class t extends Ll{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new t(e,n,r)}_apply(e){return new br(e.firestore,e.converter,rg(e._query,this._limit,this._limitType))}};function lP(t){return N3("limit",t),Mb._create("limit",t,"F")}function Sk(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new U(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qk(e)&&n.indexOf("/")!==-1)throw new U(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Pe.fromString(n));if(!q.isDocumentKey(r))throw new U(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _l(t,new q(r))}if(n instanceof Ot)return _l(t,n._key);throw new U(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xg(n)}.`)}function Ak(t,e){if(!Array.isArray(t)||t.length===0)throw new U(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dP(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Nb=class{convertValue(e,n="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw G()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return po(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Pl(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Bb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yl(e));default:return null}}convertTimestamp(e){let n=Xr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);Z(IO(r));let i=new Ya(r.get(1),r.get(3)),s=new q(r.popFirst(5));return i.isEqual(n)||nt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function aD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var eo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},zg=class extends $g{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Jg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Ga=class extends zg{data(e={}){return super.data(e)}},Vl=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new eo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ga(this._firestore,this._userDataWriter,r.key,r,new eo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new Ga(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new Ga(i._firestore,i._userDataWriter,a.doc.key,a.doc,new eo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,d=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:F3(a.type),doc:c,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function F3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}function hP(t){t=kt(t,Ot);let e=kt(t.firestore,ln);return A3(hc(e),t._key).then(n=>_P(e,t,n))}var cc=class extends Nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new kl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}};function fP(t){t=kt(t,br);let e=kt(t.firestore,ln),n=hc(e),r=new cc(e);return oP(t._query),x3(n,t._query).then(i=>new Vl(e,r,t,i))}function pP(t){t=kt(t,br);let e=kt(t.firestore,ln),n=hc(e),r=new cc(e);return R3(n,t._query).then(i=>new Vl(e,r,t,i))}function gP(t,e,n){t=kt(t,Ot);let r=kt(t.firestore,ln),i=aD(t.converter,e,n);return ql(r,[iD(Hl(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wt.none())])}function mP(t,e,n,...r){t=kt(t,Ot);let i=kt(t.firestore,ln),s=Hl(i),o;return o=typeof(e=Be(e))=="string"||e instanceof fo?nP(s,"updateDoc",t._key,e,n,r):tP(s,"updateDoc",t._key,e),ql(i,[o.toMutation(t._key,wt.exists(!0))])}function yP(t){return ql(kt(t.firestore,ln),[new uo(t._key,wt.none())])}function vP(t,e){let n=kt(t.firestore,ln),r=rD(t),i=aD(t.converter,e);return ql(n,[iD(Hl(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wt.exists(!1))]).then(()=>r)}function cD(t,...e){var n,r,i;t=Be(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Tk(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Tk(e[o])){let f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,l,d;if(t instanceof Ot)l=kt(t.firestore,ln),d=Ul(t._key.path),c={next:f=>{e[o]&&e[o](_P(l,t,f))},error:e[o+1],complete:e[o+2]};else{let f=kt(t,br);l=kt(f.firestore,ln),d=f._query;let g=new cc(l);c={next:y=>{e[o]&&e[o](new Vl(l,g,f,y))},error:e[o+1],complete:e[o+2]},oP(t._query)}return function(g,y,E,S){let M=new Ml(S),V=new Al(y,M,E);return g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return Qb(yield Lg(g),V)})),()=>{M.$a(),g.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return Yb(yield Lg(g),V)}))}}(hc(l),d,a,c)}function ql(t,e){return function(r,i){let s=new cn;return r.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return d3(yield S3(r),i,s)})),s.promise}(hc(t),e)}function _P(t,e,n){let r=n.docs.get(e._key),i=new cc(t);return new zg(t,i,e._key,r,new eo(n.hasPendingWrites,n.fromCache),e.converter)}var kb=class{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=IP(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}};function wP(t){return new kb(t)}var Ob=class{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new xl,this._offlineComponentProvider=new Fg(this._onlineComponentProvider,e?.cacheSizeBytes,this.forceOwnership)}},Pb=class{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new xl,this._offlineComponentProvider=new Ib(this._onlineComponentProvider,e?.cacheSizeBytes)}};function IP(t){return new Ob(t?.forceOwnership)}function EP(){return new Pb}var Fb=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Hl(e)}set(e,n,r){this._verifyNotCommitted();let i=zI(e,this._firestore),s=aD(i.converter,n,r),o=iD(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,wt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();let s=zI(e,this._firestore),o;return o=typeof(n=Be(n))=="string"||n instanceof fo?nP(this._dataReader,"WriteBatch.update",s._key,n,r,i):tP(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,wt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=zI(e,this._firestore);return this._mutations=this._mutations.concat(new uo(n._key,wt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new U(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function zI(t,e){if((t=Be(t)).firestore!==e)throw new U(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function bP(t){return hc(t=kt(t,ln)),new Fb(t,e=>ql(t,e))}(function(e,n=!0){(function(i){uc=i})(ki),Jt(new pt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new ln(new WI(r.getProvider("auth-internal")),new ZI(r.getProvider("app-check-internal")),function(l,d){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(l.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ve(AN,"4.6.3",e),Ve(AN,"4.6.3","esm2017")})();var em=function(){return em=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},em.apply(this,arguments)};var U3={includeMetadataChanges:!1};function DP(t,e){return e===void 0&&(e=U3),new re(function(n){var r=cD(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function CP(t){return DP(t,{includeMetadataChanges:!0})}function TP(t,e){return e===void 0&&(e={}),CP(t).pipe(de(function(n){return SP(n,e)}))}function SP(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:em(em({},r),(n={},n[e.idField]=t.id,n))}var mo=class{constructor(e){return e}},AP="firestore",uD=class{constructor(){return Hs(AP)}};var lD=new B("angularfire2.firestore-instances");function B3(t,e){let n=Aa(AP,t,e);return n&&new mo(n)}function $3(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new mo(r)}}var H3={provide:uD,deps:[[new ct,lD]]},z3={provide:mo,useFactory:B3,deps:[[new ct,lD],Hn]};function ice(t,...e){return Ve("angularfire",zr.full,"fst"),Ln([z3,H3,{provide:lD,useFactory:$3(t),multi:!0,deps:[W,Ce,Oi,qr,[new ct,Ju],[new ct,Sa],...e]}])}var sce=xe(TP,!0);var oce=xe(vP,!0);var ace=xe(ZO,!0);var cce=xe(yP,!0);var uce=xe(rD,!0);var lce=xe(hP,!0);var dce=xe(fP,!0),hce=xe(pP,!0);var fce=xe(XO,!0),pce=xe(lP,!0);var gce=xe(uP,!0),mce=xe(wP,!0),yce=xe(EP,!0);var vce=xe(aP,!0);var _ce=xe(gP,!0);var wce=xe(mP,!0);var Ice=xe(cP,!0),Ece=xe(bP,!0);var MP="@firebase/installations",pD="0.6.7";var NP=1e4,kP=`w:${pD}`,OP="FIS_v2",G3="https://firebaseinstallations.googleapis.com/v1",W3=60*60*1e3,K3="installations",Q3="Installations";var Y3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vo=new rn(K3,Q3,Y3);function PP(t){return t instanceof zt&&t.code.includes("request-failed")}function FP({projectId:t}){return`${G3}/projects/${t}/installations`}function LP(t){return{token:t.token,requestStatus:2,expiresIn:X3(t.expiresIn),creationTime:Date.now()}}function VP(t,e){return v(this,null,function*(){let r=(yield e.json()).error;return vo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function jP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Z3(t,{refreshToken:e}){let n=jP(t);return n.append("Authorization",J3(e)),n}function UP(t){return v(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function X3(t){return Number(t.replace("s","000"))}function J3(t){return`${OP} ${t}`}function e6(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=FP(t),o=jP(t),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let c={fid:n,authVersion:OP,appId:t.appId,sdkVersion:kP},l={method:"POST",headers:o,body:JSON.stringify(c)},d=yield UP(()=>fetch(s,l));if(d.ok){let f=yield d.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:LP(f.authToken)}}else throw yield VP("Create Installation",d)})}function BP(t){return new Promise(e=>{setTimeout(e,t)})}function t6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var n6=/^[cdef][\w-]{21}$/,fD="";function r6(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=i6(t);return n6.test(n)?n:fD}catch{return fD}}function i6(t){return t6(t).substr(0,22)}function nm(t){return`${t.appName}!${t.appId}`}var $P=new Map;function HP(t,e){let n=nm(t);zP(n,e),s6(n,e)}function zP(t,e){let n=$P.get(t);if(n)for(let r of n)r(e)}function s6(t,e){let n=o6();n&&n.postMessage({key:t,fid:e}),a6()}var yo=null;function o6(){return!yo&&"BroadcastChannel"in self&&(yo=new BroadcastChannel("[Firebase] FID Change"),yo.onmessage=t=>{zP(t.data.key,t.data.fid)}),yo}function a6(){$P.size===0&&yo&&(yo.close(),yo=null)}var c6="firebase-installations-database",u6=1,_o="firebase-installations-store",dD=null;function gD(){return dD||(dD=Us(c6,u6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_o)}}})),dD}function tm(t,e){return v(this,null,function*(){let n=nm(t),i=(yield gD()).transaction(_o,"readwrite"),s=i.objectStore(_o),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&HP(t,e.fid),e})}function qP(t){return v(this,null,function*(){let e=nm(t),r=(yield gD()).transaction(_o,"readwrite");yield r.objectStore(_o).delete(e),yield r.done})}function rm(t,e){return v(this,null,function*(){let n=nm(t),i=(yield gD()).transaction(_o,"readwrite"),s=i.objectStore(_o),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&HP(t,a.fid),a})}function mD(t){return v(this,null,function*(){let e,n=yield rm(t.appConfig,r=>{let i=l6(r),s=d6(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===fD?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function l6(t){let e=t||{fid:r6(),registrationStatus:0};return GP(e)}function d6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(vo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=h6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:f6(t)}:{installationEntry:e}}function h6(t,e){return v(this,null,function*(){try{let n=yield e6(t,e);return tm(t.appConfig,n)}catch(n){throw PP(n)&&n.customData.serverCode===409?yield qP(t.appConfig):yield tm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function f6(t){return v(this,null,function*(){let e=yield RP(t.appConfig);for(;e.registrationStatus===1;)yield BP(100),e=yield RP(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield mD(t);return r||n}return e})}function RP(t){return rm(t,e=>{if(!e)throw vo.create("installation-not-found");return GP(e)})}function GP(t){return p6(t)?{fid:t.fid,registrationStatus:0}:t}function p6(t){return t.registrationStatus===1&&t.registrationTime+NP<Date.now()}function g6(r,i){return v(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=m6(t,n),o=Z3(t,n),a=e.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}let c={installation:{sdkVersion:kP,appId:t.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},d=yield UP(()=>fetch(s,l));if(d.ok){let f=yield d.json();return LP(f)}else throw yield VP("Generate Auth Token",d)})}function m6(t,{fid:e}){return`${FP(t)}/${e}/authTokens:generate`}function yD(t,e=!1){return v(this,null,function*(){let n,r=yield rm(t.appConfig,s=>{if(!WP(s))throw vo.create("not-registered");let o=s.authToken;if(!e&&_6(o))return s;if(o.requestStatus===1)return n=y6(t,e),s;{if(!navigator.onLine)throw vo.create("app-offline");let a=I6(s);return n=v6(t,a),a}});return n?yield n:r.authToken})}function y6(t,e){return v(this,null,function*(){let n=yield xP(t.appConfig);for(;n.authToken.requestStatus===1;)yield BP(100),n=yield xP(t.appConfig);let r=n.authToken;return r.requestStatus===0?yD(t,e):r})}function xP(t){return rm(t,e=>{if(!WP(e))throw vo.create("not-registered");let n=e.authToken;return E6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function v6(t,e){return v(this,null,function*(){try{let n=yield g6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield tm(t.appConfig,r),n}catch(n){if(PP(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield qP(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield tm(t.appConfig,r)}throw n}})}function WP(t){return t!==void 0&&t.registrationStatus===2}function _6(t){return t.requestStatus===2&&!w6(t)}function w6(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+W3}function I6(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function E6(t){return t.requestStatus===1&&t.requestTime+NP<Date.now()}function b6(t){return v(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield mD(e);return r?r.catch(console.error):yD(e).catch(console.error),n.fid})}function D6(t,e=!1){return v(this,null,function*(){let n=t;return yield C6(n),(yield yD(n,e)).token})}function C6(t){return v(this,null,function*(){let{registrationPromise:e}=yield mD(t);e&&(yield e)})}function T6(t){if(!t||!t.options)throw hD("App Configuration");if(!t.name)throw hD("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw hD(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hD(t){return vo.create("missing-app-config-values",{valueName:t})}var KP="installations",S6="installations-internal",A6=t=>{let e=t.getProvider("app").getImmediate(),n=T6(e),r=mr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},R6=t=>{let e=t.getProvider("app").getImmediate(),n=mr(e,KP).getImmediate();return{getId:()=>b6(n),getToken:i=>D6(n,i)}};function x6(){Jt(new pt(KP,A6,"PUBLIC")),Jt(new pt(S6,R6,"PRIVATE"))}x6();Ve(MP,pD);Ve(MP,pD,"esm2017");var M6="/firebase-messaging-sw.js",N6="/firebase-cloud-messaging-push-scope",e1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",k6="https://fcmregistrations.googleapis.com/v1",t1="google.c.a.c_id",O6="google.c.a.c_l",P6="google.c.a.ts",F6="google.c.a.e";var im=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(im||{});function Jr(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function L6(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var vD="fcm_token_details_db",V6=5,QP="fcm_token_object_Store";function j6(t){return v(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(vD))return null;let e=null;return(yield Us(vD,V6,{upgrade:(r,i,s,o)=>v(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(QP))return;let c=o.objectStore(QP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),!!l){if(i===2){let d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Jr(d.vapidKey)}}}else if(i===3){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Jr(d.auth),p256dh:Jr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Jr(d.vapidKey)}}}else if(i===4){let d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Jr(d.auth),p256dh:Jr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Jr(d.vapidKey)}}}}})})).close(),yield dp(vD),yield dp("fcm_vapid_details_db"),yield dp("undefined"),U6(e)?e:null})}function U6(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var B6="firebase-messaging-database",$6=1,Gl="firebase-messaging-store",_D=null;function n1(){return _D||(_D=Us(B6,$6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Gl)}}})),_D}function H6(t){return v(this,null,function*(){let e=r1(t),r=yield(yield n1()).transaction(Gl).objectStore(Gl).get(e);if(r)return r;{let i=yield j6(t.appConfig.senderId);if(i)return yield ED(t,i),i}})}function ED(t,e){return v(this,null,function*(){let n=r1(t),i=(yield n1()).transaction(Gl,"readwrite");return yield i.objectStore(Gl).put(e,n),yield i.done,e})}function r1({appConfig:t}){return t.appId}var z6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Kt=new rn("messaging","Messaging",z6);function q6(t,e){return v(this,null,function*(){let n=yield DD(t),r=i1(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(bD(t.appConfig),i)).json()}catch(o){throw Kt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Kt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Kt.create("token-subscribe-no-token");return s.token})}function G6(t,e){return v(this,null,function*(){let n=yield DD(t),r=i1(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(`${bD(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Kt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Kt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Kt.create("token-update-no-token");return s.token})}function W6(t,e){return v(this,null,function*(){let r={method:"DELETE",headers:yield DD(t)};try{let s=yield(yield fetch(`${bD(t.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw Kt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Kt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function bD({projectId:t}){return`${k6}/projects/${t}/registrations`}function DD(n){return v(this,arguments,function*({appConfig:t,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function i1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==e1&&(i.web.applicationPubKey=r),i}var K6=7*24*60*60*1e3;function Q6(t){return v(this,null,function*(){let e=yield Z6(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Jr(e.getKey("auth")),p256dh:Jr(e.getKey("p256dh"))},r=yield H6(t.firebaseDependencies);if(r){if(X6(r.subscriptionOptions,n))return Date.now()>=r.createTime+K6?Y6(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield W6(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return YP(t.firebaseDependencies,n)}else return YP(t.firebaseDependencies,n)})}function Y6(t,e){return v(this,null,function*(){try{let n=yield G6(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield ED(t.firebaseDependencies,r),n}catch(n){throw n}})}function YP(t,e){return v(this,null,function*(){let r={token:yield q6(t,e),createTime:Date.now(),subscriptionOptions:e};return yield ED(t,r),r.token})}function Z6(t,e){return v(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:L6(e)})})}function X6(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function ZP(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return J6(e,t),e8(e,t),t8(e,t),e}function J6(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function e8(t,e){e.data&&(t.data=e.data)}function t8(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);let c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}function n8(t){return typeof t=="object"&&!!t&&t1 in t}s1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");s1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function s1(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function r8(t){if(!t||!t.options)throw wD("App Configuration Object");if(!t.name)throw wD("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw wD(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function wD(t){return Kt.create("missing-app-config-values",{valueName:t})}var ID=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=r8(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};function i8(t){return v(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(M6,{scope:N6}),t.swRegistration.update().catch(()=>{})}catch(e){throw Kt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function s8(t,e){return v(this,null,function*(){if(!e&&!t.swRegistration&&(yield i8(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");t.swRegistration=e}})}function o8(t,e){return v(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=e1)})}function o1(t,e){return v(this,null,function*(){if(!navigator)throw Kt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Kt.create("permission-blocked");return yield o8(t,e?.vapidKey),yield s8(t,e?.serviceWorkerRegistration),Q6(t)})}function a8(t,e,n){return v(this,null,function*(){let r=c8(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[t1],message_name:n[O6],message_time:n[P6],message_device_time:Math.floor(Date.now()/1e3)})})}function c8(t){switch(t){case im.NOTIFICATION_CLICKED:return"notification_open";case im.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function u8(t,e){return v(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===im.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(ZP(n)):t.onMessageHandler.next(ZP(n)));let r=n.data;n8(r)&&r[F6]==="1"&&(yield a8(t,n.messageType,r))})}var XP="@firebase/messaging",JP="0.12.9";var l8=t=>{let e=new ID(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>u8(e,n)),e},d8=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:r=>o1(e,r)}};function h8(){Jt(new pt("messaging",l8,"PUBLIC")),Jt(new pt("messaging-internal",d8,"PRIVATE")),Ve(XP,JP),Ve(XP,JP,"esm2017")}function CD(){return v(this,null,function*(){try{yield cp()}catch{return!1}return typeof window<"u"&&Ea()&&dM()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function a1(t=Hr()){return CD().then(e=>{if(!e)throw Kt.create("unsupported-browser")},e=>{throw Kt.create("indexed-db-unsupported")}),mr(Be(t),"messaging").getImmediate()}function c1(t,e){return v(this,null,function*(){return t=Be(t),o1(t,e)})}h8();var wo=class{constructor(e){return e}},u1="messaging",TD=class{constructor(){return Hs(u1)}};var l1="__angularfire_symbol__messagingIsSupported",SD="__angularfire_symbol__messagingIsSupportedValue";globalThis[l1]||=CD().then(t=>globalThis[SD]=t).catch(()=>globalThis[SD]=!1);var sm={async:()=>globalThis[l1],sync:()=>{let t=globalThis[SD];if(t===void 0)throw new Error(SM("Messaging"));return t}},AD=new B("angularfire2.messaging-instances");function f8(t,e){if(!sm.sync())return null;let n=Aa(u1,t,e);return n&&new wo(n)}function p8(t){return(e,n)=>{if(!sm.sync())return null;let r=e.runOutsideAngular(()=>t(n));return new wo(r)}}var g8={provide:TD,deps:[[new ct,AD]]},m8={provide:wo,useFactory:f8,deps:[[new ct,AD],Hn]};function Wce(t,...e){return Ve("angularfire",zr.full,"fcm"),Ln([m8,g8,{provide:wa,useValue:sm.async,multi:!0},{provide:AD,useFactory:p8(t),multi:!0,deps:[W,Ce,Oi,qr,...e]}])}var Kce=sm.async;var Qce=xe(a1,!0),Yce=xe(c1,!0);var me="primary",cd=Symbol("RouteTitle"),kD=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vc(t){return new kD(t)}function v8(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _8(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Dr(t[n],e[n]))return!1;return!0}function Dr(t,e){let n=t?OD(t):void 0,r=e?OD(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!I1(t[i],e[i]))return!1;return!0}function OD(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function I1(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function E1(t){return t.length>0?t[t.length-1]:null}function ss(t){return Mh(t)?t:Ls(t)?Ue(Promise.resolve(t)):te(t)}var w8={exact:D1,subset:C1},b1={exact:I8,subset:E8,ignored:()=>!0};function d1(t,e,n){return w8[n.paths](t.root,e.root,n.matrixParams)&&b1[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function I8(t,e){return Dr(t,e)}function D1(t,e,n){if(!Eo(t.segments,e.segments)||!cm(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!D1(t.children[r],e.children[r],n))return!1;return!0}function E8(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>I1(t[n],e[n]))}function C1(t,e,n){return T1(t,e,e.segments,n)}function T1(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Eo(i,n)||e.hasChildren()||!cm(i,n,r))}else if(t.segments.length===n.length){if(!Eo(t.segments,n)||!cm(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!C1(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Eo(t.segments,i)||!cm(t.segments,i,r)||!t.children[me]?!1:T1(t.children[me],e,s,r)}}function cm(t,e,n){return e.every((r,i)=>b1[n](t[i].parameters,r.parameters))}var ns=class{constructor(e=new Ne([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vc(this.queryParams),this._queryParamMap}toString(){return C8.serialize(this)}},Ne=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return um(this)}},Io=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vc(this.parameters),this._parameterMap}toString(){return A1(this)}};function b8(t,e){return Eo(t,e)&&t.every((n,r)=>Dr(n.parameters,e[r].parameters))}function Eo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function D8(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===me&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==me&&(n=n.concat(e(i,r)))}),n}var ud=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>new _c,providedIn:"root"});let t=e;return t})(),_c=class{parse(e){let n=new FD(e);return new ns(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Wl(e.root,!0)}`,r=A8(e.queryParams),i=typeof e.fragment=="string"?`#${T8(e.fragment)}`:"";return`${n}${r}${i}`}},C8=new _c;function um(t){return t.segments.map(e=>A1(e)).join("/")}function Wl(t,e){if(!t.hasChildren())return um(t);if(e){let n=t.children[me]?Wl(t.children[me],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==me&&r.push(`${i}:${Wl(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=D8(t,(r,i)=>i===me?[Wl(t.children[me],!1)]:[`${i}:${Wl(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[me]!=null?`${um(t)}/${n[0]}`:`${um(t)}/(${n.join("//")})`}}function S1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function om(t){return S1(t).replace(/%3B/gi,";")}function T8(t){return encodeURI(t)}function PD(t){return S1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lm(t){return decodeURIComponent(t)}function h1(t){return lm(t.replace(/\+/g,"%20"))}function A1(t){return`${PD(t.path)}${S8(t.parameters)}`}function S8(t){return Object.entries(t).map(([e,n])=>`;${PD(e)}=${PD(n)}`).join("")}function A8(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${om(n)}=${om(i)}`).join("&"):`${om(n)}=${om(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var R8=/^[^\/()?;#]+/;function RD(t){let e=t.match(R8);return e?e[0]:""}var x8=/^[^\/()?;=#]+/;function M8(t){let e=t.match(x8);return e?e[0]:""}var N8=/^[^=?&#]+/;function k8(t){let e=t.match(N8);return e?e[0]:""}var O8=/^[^&#]+/;function P8(t){let e=t.match(O8);return e?e[0]:""}var FD=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ne([],{}):new Ne([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[me]=new Ne(e,n)),r}parseSegment(){let e=RD(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Io(lm(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=M8(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=RD(this.remaining);i&&(r=i,this.capture(r))}e[lm(n)]=lm(r)}parseQueryParam(e){let n=k8(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=P8(this.remaining);o&&(r=o,this.capture(r))}let i=h1(n),s=h1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=RD(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[me]:new Ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function R1(t){return t.segments.length>0?new Ne([],{[me]:t}):t}function x1(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=x1(i);if(r===me&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ne(t.segments,e);return F8(n)}function F8(t){if(t.numberOfChildren===1&&t.children[me]){let e=t.children[me];return new Ne(t.segments.concat(e.segments),e.children)}return t}function Jl(t){return t instanceof ns}function L8(t,e,n=null,r=null){let i=M1(t);return N1(i,e,n,r)}function M1(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new Ne(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=R1(r);return e??i}function N1(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xD(i,i,i,n,r);let s=V8(e);if(s.toRoot())return xD(i,i,new Ne([],{}),n,r);let o=j8(s,i,t),a=o.processChildren?Yl(o.segmentGroup,o.index,s.commands):O1(o.segmentGroup,o.index,s.commands);return xD(i,o.segmentGroup,a,n,r)}function dm(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ed(t){return typeof t=="object"&&t!=null&&t.outlets}function xD(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let o;t===e?o=n:o=k1(t,e,n);let a=R1(x1(o));return new ns(a,s,i)}function k1(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=k1(s,e,n)}),new Ne(t.segments,r)}var hm=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dm(r[0]))throw new Q(4003,!1);let i=r.find(ed);if(i&&i!==E1(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function V8(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new hm(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new hm(n,e,r)}var gc=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function j8(t,e,n){if(t.isAbsolute)return new gc(e,!0,0);if(!n)return new gc(e,!1,NaN);if(n.parent===null)return new gc(n,!0,0);let r=dm(t.commands[0])?0:1,i=n.segments.length-1+r;return U8(n,i,t.numberOfDoubleDots)}function U8(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new gc(r,!1,i-s)}function B8(t){return ed(t[0])?t[0].outlets:{[me]:t}}function O1(t,e,n){if(t??=new Ne([],{}),t.segments.length===0&&t.hasChildren())return Yl(t,e,n);let r=$8(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ne(t.segments.slice(0,r.pathIndex),{});return s.children[me]=new Ne(t.segments.slice(r.pathIndex),t.children),Yl(s,0,i)}else return r.match&&i.length===0?new Ne(t.segments,{}):r.match&&!t.hasChildren()?LD(t,e,n):r.match?Yl(t,0,i):LD(t,e,n)}function Yl(t,e,n){if(n.length===0)return new Ne(t.segments,{});{let r=B8(n),i={};if(Object.keys(r).some(s=>s!==me)&&t.children[me]&&t.numberOfChildren===1&&t.children[me].segments.length===0){let s=Yl(t.children[me],e,n);return new Ne(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=O1(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ne(t.segments,i)}}function $8(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ed(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!p1(c,l,o))return s;r+=2}else{if(!p1(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function LD(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ed(s)){let c=H8(s.outlets);return new Ne(r,c)}if(i===0&&dm(n[0])){let c=t.segments[e];r.push(new Io(c.path,f1(n[0]))),i++;continue}let o=ed(s)?s.outlets[me]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&dm(a)?(r.push(new Io(o,f1(a))),i+=2):(r.push(new Io(o,{})),i++)}return new Ne(r,{})}function H8(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=LD(new Ne([],{}),0,r))}),e}function f1(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function p1(t,e,n){return t==n.path&&Dr(e,n.parameters)}var Zl="imperative",yt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(yt||{}),Sn=class{constructor(e,n){this.id=e,this.url=n}},wc=class extends Sn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=yt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cr=class extends Sn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(hn||{}),fm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fm||{}),ei=class extends Sn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},rs=class extends Sn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=yt.NavigationSkipped}},td=class extends Sn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pm=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},VD=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jD=class extends Sn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},UD=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},BD=class extends Sn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$D=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},HD=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zD=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qD=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},GD=class{constructor(e){this.snapshot=e,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},WD=class{constructor(e){this.snapshot=e,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gm=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=yt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},nd=class{},Ic=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};var KD=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new ld(this.injector),this.attachRef=null}},ld=(()=>{let e=class e{constructor(r){this.parentInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new KD(this.parentInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(R(Rt))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mm=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=QD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=QD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=YD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return YD(e,this._root).map(n=>n.value)}};function QD(t,e){if(t===e.value)return e;for(let n of e.children){let r=QD(t,n);if(r)return r}return null}function YD(t,e){if(t===e.value)return[e];for(let n of e.children){let r=YD(t,n);if(r.length)return r.unshift(e),r}return[]}var dn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function pc(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ym=class extends mm{constructor(e,n){super(e),this.snapshot=n,sC(this,e)}toString(){return this.snapshot.toString()}};function P1(t){let e=z8(t),n=new Xe([new Io("",{})]),r=new Xe({}),i=new Xe({}),s=new Xe({}),o=new Xe(""),a=new is(n,r,s,o,i,me,t,e.root);return a.snapshot=e.root,new ym(new dn(a,[]),e)}function z8(t){let e={},n={},r={},i="",s=new mc([],e,r,i,n,me,t,null,{});return new _m("",new dn(s,[]))}var is=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(de(l=>l[cd]))??te(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(de(e=>vc(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(de(e=>vc(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&L1(i)&&(r.resolve[cd]=i.title),r}var mc=class{get title(){return this.data?.[cd]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vc(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},_m=class extends mm{constructor(e,n){super(n),this.url=e,sC(this,n)}toString(){return F1(this._root)}};function sC(t,e){e.value._routerState=t,e.children.forEach(n=>sC(t,n))}function F1(t){let e=t.children.length>0?` { ${t.children.map(F1).join(", ")} } `:"";return`${t.value}${e}`}function MD(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Dr(e.params,n.params)||t.paramsSubject.next(n.params),_8(e.url,n.url)||t.urlSubject.next(n.url),Dr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ZD(t,e){let n=Dr(t.params,e.params)&&b8(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ZD(t.parent,e.parent))}function L1(t){return typeof t.title=="string"||t.title===null}var q8=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=P(ld),this.location=P(wn),this.changeDetector=P(In),this.inputBinder=P(bm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new XD(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=De({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[$t]});let t=e;return t})(),XD=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===is?this.route:e===ld?this.childContexts:this.parent.get(e,n)}},bm=new B(""),g1=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ys([i.queryParams,i.params,i.data]).pipe(tn(([o,a,c],l)=>(c=O(O(O({},o),a),c),l===0?te(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Mx(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function G8(t,e,n){let r=rd(t,e._root,n?n._root:void 0);return new ym(r,e)}function rd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=W8(t,e,n);return new dn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>rd(t,a)),o}}let r=K8(e.value),i=e.children.map(s=>rd(t,s));return new dn(r,i)}}function W8(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return rd(t,r,i);return rd(t,r)})}function K8(t){return new is(new Xe(t.url),new Xe(t.params),new Xe(t.queryParams),new Xe(t.fragment),new Xe(t.data),t.outlet,t.component,t)}var id=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},V1="ngNavigationCancelingError";function wm(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Jl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=j1(!1,hn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function j1(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[V1]=!0,n.cancellationCode=e,n}function Q8(t){return U1(t)&&Jl(t.url)}function U1(t){return!!t&&t[V1]}var Y8=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=cr({type:e,selectors:[["ng-component"]],standalone:!0,features:[fr],decls:1,vars:0,template:function(i,s){i&1&&Ri(0,"router-outlet")},dependencies:[q8],encapsulation:2});let t=e;return t})();function Z8(t,e){return t.providers&&!t._injector&&(t._injector=Wf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function oC(t){let e=t.children&&t.children.map(oC),n=e?pe(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=Y8),n}function Gn(t){return t.outlet||me}function X8(t,e){let n=t.filter(r=>Gn(r)===e);return n.push(...t.filter(r=>Gn(r)!==e)),n}function dd(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var J8=(t,e,n,r)=>de(i=>(new JD(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),JD=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),MD(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=pc(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=pc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=pc(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=pc(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new WD(s.value.snapshot))}),e.children.length&&this.forwardEvent(new qD(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(MD(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),MD(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=dd(i.snapshot);o.attachRef=null,o.route=i,o.injector=a??o.injector,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Im=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},yc=class{constructor(e,n){this.component=e,this.route=n}};function e5(t,e,n){let r=t._root,i=e?e._root:null;return Kl(r,i,n,[r.value])}function t5(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function bc(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!BS(t)?t:e.get(t):r}function Kl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=pc(e);return t.children.forEach(o=>{n5(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Xl(a,n.getContext(o),i)),i}function n5(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=r5(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Im(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Kl(t,e,a?a.children:null,r,i):Kl(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yc(a.outlet.component,o))}else o&&Xl(e,a,i),i.canActivateChecks.push(new Im(r)),s.component?Kl(t,null,a?a.children:null,r,i):Kl(t,null,n,r,i);return i}function r5(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Eo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(t.url,e.url)||!Dr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ZD(t,e)||!Dr(t.queryParams,e.queryParams);case"paramsChange":default:return!ZD(t,e)}}function Xl(t,e,n){let r=pc(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Xl(o,e.children.getContext(s),n):Xl(o,null,n):Xl(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new yc(e.outlet.component,i)):n.canDeactivateChecks.push(new yc(null,i)):n.canDeactivateChecks.push(new yc(null,i))}function hd(t){return typeof t=="function"}function i5(t){return typeof t=="boolean"}function s5(t){return t&&hd(t.canLoad)}function o5(t){return t&&hd(t.canActivate)}function a5(t){return t&&hd(t.canActivateChild)}function c5(t){return t&&hd(t.canDeactivate)}function u5(t){return t&&hd(t.canMatch)}function B1(t){return t instanceof xr||t?.name==="EmptyError"}var am=Symbol("INITIAL_VALUE");function Ec(){return tn(t=>ys(t.map(e=>e.pipe(Je(1),Nn(am)))).pipe(de(e=>{for(let n of e)if(n!==!0){if(n===am)return am;if(n===!1||l5(n))return n}return!0}),He(e=>e!==am),Je(1)))}function l5(t){return Jl(t)||t instanceof id}function d5(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?te(pe(O({},n),{guardsResult:!0})):h5(o,r,i,t).pipe(Ge(a=>a&&i5(a)?f5(r,s,t,e):te(a)),de(a=>pe(O({},n),{guardsResult:a})))})}function h5(t,e,n,r){return Ue(t).pipe(Ge(i=>v5(i.component,i.route,n,e,r)),Jn(i=>i!==!0,!0))}function f5(t,e,n,r){return Ue(e).pipe(vs(i=>Xn(g5(i.route.parent,r),p5(i.route,r),y5(t,i.path,n),m5(t,i.route,n))),Jn(i=>i!==!0,!0))}function p5(t,e){return t!==null&&e&&e(new GD(t)),te(!0)}function g5(t,e){return t!==null&&e&&e(new zD(t)),te(!0)}function m5(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(s=>pi(()=>{let o=dd(e)??n,a=bc(s,o),c=o5(a)?a.canActivate(e,t):yn(o,()=>a(e,t));return ss(c).pipe(Jn())}));return te(i).pipe(Ec())}function y5(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>t5(o)).filter(o=>o!==null).map(o=>pi(()=>{let a=o.guards.map(c=>{let l=dd(o.node)??n,d=bc(c,l),f=a5(d)?d.canActivateChild(r,t):yn(l,()=>d(r,t));return ss(f).pipe(Jn())});return te(a).pipe(Ec())}));return te(s).pipe(Ec())}function v5(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return te(!0);let o=s.map(a=>{let c=dd(e)??i,l=bc(a,c),d=c5(l)?l.canDeactivate(t,e,n,r):yn(c,()=>l(t,e,n,r));return ss(d).pipe(Jn())});return te(o).pipe(Ec())}function _5(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let s=i.map(o=>{let a=bc(o,t),c=s5(a)?a.canLoad(e,n):yn(t,()=>a(e,n));return ss(c)});return te(s).pipe(Ec(),$1(r))}function $1(t){return hh(st(e=>{if(typeof e!="boolean")throw wm(t,e)}),de(e=>e===!0))}function w5(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let s=i.map(o=>{let a=bc(o,t),c=u5(a)?a.canMatch(e,n):yn(t,()=>a(e,n));return ss(c)});return te(s).pipe(Ec(),$1(r))}var sd=class{constructor(e){this.segmentGroup=e||null}},od=class extends Error{constructor(e){super(),this.urlTree=e}};function fc(t){return zo(new sd(t))}function I5(t){return zo(new Q(4e3,!1))}function E5(t){return zo(j1(!1,hn.GuardRejected))}var eC=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[me])return I5(`${e.redirectTo}`);i=i.children[me]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,params:y,data:E,title:S}=i,M=yn(s,()=>a({params:y,data:E,queryParams:c,fragment:l,routeConfig:d,url:f,outlet:g,title:S}));if(M instanceof ns)throw new od(M);n=M}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new od(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ns(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},tC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b5(t,e,n,r,i){let s=aC(t,e,n);return s.matched?(r=Z8(e,r),w5(r,e,n,i).pipe(de(o=>o===!0?s:O({},tC)))):te(s)}function aC(t,e,n){if(e.path==="**")return D5(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},tC):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||v8)(n,t,e);if(!i)return O({},tC);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?O(O({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function D5(t){return{matched:!0,parameters:t.length>0?E1(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function m1(t,e,n,r){return n.length>0&&S5(t,n,r)?{segmentGroup:new Ne(e,T5(r,new Ne(n,t.children))),slicedSegments:[]}:n.length===0&&A5(t,n,r)?{segmentGroup:new Ne(t.segments,C5(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ne(t.segments,t.children),slicedSegments:n}}function C5(t,e,n,r){let i={};for(let s of n)if(Dm(t,e,s)&&!r[Gn(s)]){let o=new Ne([],{});i[Gn(s)]=o}return O(O({},r),i)}function T5(t,e){let n={};n[me]=e;for(let r of t)if(r.path===""&&Gn(r)!==me){let i=new Ne([],{});n[Gn(r)]=i}return n}function S5(t,e,n){return n.some(r=>Dm(t,e,r)&&Gn(r)!==me)}function A5(t,e,n){return n.some(r=>Dm(t,e,r))}function Dm(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function R5(t,e,n,r){return Gn(t)!==r&&(r===me||!Dm(e,n,t))?!1:aC(e,t,n).matched}function x5(t,e,n){return e.length===0&&!t.children[n]}var nC=class{};function M5(t,e,n,r,i,s,o="emptyOnly"){return new rC(t,e,n,r,i,o,s).recognize()}var N5=31,rC=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new eC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=m1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(de(({children:n,rootSnapshot:r})=>{let i=new dn(r,n),s=new _m("",i),o=L8(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new mc([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,n).pipe(de(r=>({children:r,rootSnapshot:n})),gi(r=>{if(r instanceof od)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof sd?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(de(o=>o instanceof dn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ue(s).pipe(vs(o=>{let a=r.children[o],c=X8(n,o);return this.processSegmentGroup(e,c,a,o,i)}),Vh((o,a)=>(o.push(...a),o)),mi(null),Vy(),Ge(o=>{if(o===null)return fc(r);let a=H1(o);return k5(a),te(a)}))}processSegment(e,n,r,i,s,o,a){return Ue(n).pipe(vs(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,s,o,a).pipe(gi(l=>{if(l instanceof sd)return te(null);throw l}))),Jn(c=>!!c),gi(c=>{if(B1(c))return x5(r,i,s)?te(new nC):fc(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,c){return R5(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c):fc(i):fc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:f,remainingSegments:g}=aC(n,i,s);if(!c)return fc(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>N5&&(this.allowRedirects=!1));let y=new mc(s,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,y1(i),Gn(i),i.component??i._loadedComponent??null,i,v1(i)),E=vm(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let S=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,f,y,e);return this.applyRedirects.lineralizeSegments(i,S).pipe(Ge(M=>this.processSegment(e,r,n,M.concat(g),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=b5(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(tn(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(tn(({routes:l})=>{let d=r._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:y}=c,E=new mc(g,f,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,y1(r),Gn(r),r.component??r._loadedComponent??null,r,v1(r)),S=vm(E,o,this.paramsInheritanceStrategy);E.params=Object.freeze(S.params),E.data=Object.freeze(S.data);let{segmentGroup:M,slicedSegments:V}=m1(n,g,y,l);if(V.length===0&&M.hasChildren())return this.processChildren(d,l,M,E).pipe(de(H=>new dn(E,H)));if(l.length===0&&V.length===0)return te(new dn(E,[]));let z=Gn(r)===s;return this.processSegment(d,l,M,V,z?me:s,!0,E).pipe(de(H=>new dn(E,H instanceof dn?[H]:[])))}))):fc(n)))}getChildConfig(e,n,r){return n.children?te({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?te({routes:n._loadedRoutes,injector:n._loadedInjector}):_5(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(st(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):E5(n))):te({routes:[],injector:e})}};function k5(t){t.sort((e,n)=>e.value.outlet===me?-1:n.value.outlet===me?1:e.value.outlet.localeCompare(n.value.outlet))}function O5(t){let e=t.value.routeConfig;return e&&e.path===""}function H1(t){let e=[],n=new Set;for(let r of t){if(!O5(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=H1(r.children);e.push(new dn(r.value,i))}return e.filter(r=>!n.has(r))}function y1(t){return t.data||{}}function v1(t){return t.resolve||{}}function P5(t,e,n,r,i,s){return Ge(o=>M5(t,e,n,r,o.extractedUrl,i,s).pipe(de(({state:a,tree:c})=>pe(O({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function F5(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return te(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of z1(c))o.add(l);let a=0;return Ue(o).pipe(vs(c=>s.has(c)?L5(c,r,t,e):(c.data=vm(c,c.parent,t).resolve,te(void 0))),st(()=>a++),Wo(1),Ge(c=>a===o.size?te(n):Vt))})}function z1(t){let e=t.children.map(n=>z1(n)).flat();return[t,...e]}function L5(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!L1(i)&&(s[cd]=i.title),V5(s,t,e,r).pipe(de(o=>(t._resolvedData=o,t.data=vm(t,t.parent,n).resolve,null)))}function V5(t,e,n,r){let i=OD(t);if(i.length===0)return te({});let s={};return Ue(i).pipe(Ge(o=>j5(t[o],e,n,r).pipe(Jn(),st(a=>{if(a instanceof id)throw wm(new _c,a);s[o]=a}))),Wo(1),uu(s),gi(o=>B1(o)?Vt:zo(o)))}function j5(t,e,n,r){let i=dd(e)??r,s=bc(t,i),o=s.resolve?s.resolve(e,n):yn(i,()=>s(e,n));return ss(o)}function ND(t){return tn(e=>{let n=t(e);return n?Ue(n).pipe(de(()=>e)):te(e)})}var q1=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===me);return i}getResolvedTitleForRoute(r){return r.data[cd]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(U5),providedIn:"root"});let t=e;return t})(),U5=(()=>{let e=class e extends q1{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(R(tM))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fd=new B("",{providedIn:"root",factory:()=>({})}),ad=new B(""),cC=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(Jf)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return te(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=ss(r.loadComponent()).pipe(de(G1),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),du(()=>{this.componentLoaders.delete(r)})),s=new ci(i,()=>new J).pipe(Uo());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=B5(i,this.compiler,r,this.onLoadEndListener).pipe(du(()=>{this.childrenLoaders.delete(i)})),a=new ci(o,()=>new J).pipe(Uo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function B5(t,e,n,r){return ss(t.loadChildren()).pipe(de(G1),Ge(i=>i instanceof Eu||Array.isArray(i)?te(i):Ue(e.compileModuleAsync(i))),de(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(ad,[],{optional:!0,self:!0}).flat()),{routes:o.map(oC),injector:s}}))}function $5(t){return t&&typeof t=="object"&&"default"in t}function G1(t){return $5(t)?t.default:t}var uC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(H5),providedIn:"root"});let t=e;return t})(),H5=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),W1=new B(""),K1=new B("");function z5(t,e,n){let r=t.get(K1),i=t.get(ae);return t.get(W).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),q5(t))),{onViewTransitionCreated:c}=r;return c&&yn(t,()=>c({transition:a,from:e,to:n})),o})}function q5(t){return new Promise(e=>{Ai(e,{injector:t})})}var G5=new B(""),lC=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new J,this.transitionAbortSubject=new J,this.configLoader=P(cC),this.environmentInjector=P(Rt),this.urlSerializer=P(ud),this.rootContexts=P(ld),this.location=P(gr),this.inputBindingEnabled=P(bm,{optional:!0})!==null,this.titleStrategy=P(q1),this.options=P(fd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(uC),this.createViewTransition=P(W1,{optional:!0}),this.navigationErrorHandler=P(G5,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let r=s=>this.events.next(new $D(s)),i=s=>this.events.next(new HD(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(pe(O(O({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Xe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Zl,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(He(o=>o.id!==0),de(o=>pe(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),tn(o=>{let a=!1,c=!1;return te(o).pipe(tn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",hn.SupersededByNewNavigation),Vt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?pe(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&f!=="reload"){let g="";return this.events.next(new rs(l.id,this.urlSerializer.serialize(l.rawUrl),g,fm.IgnoredSameUrlNavigation)),l.resolve(!1),Vt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return te(l).pipe(tn(g=>{let y=this.transitions?.getValue();return this.events.next(new wc(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?Vt:Promise.resolve(g)}),P5(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),st(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=pe(O({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let y=new pm(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:y,source:E,restoredState:S,extras:M}=l,V=new wc(g,this.urlSerializer.serialize(y),E,S);this.events.next(V);let z=P1(this.rootComponentType).snapshot;return this.currentTransition=o=pe(O({},l),{targetSnapshot:z,urlAfterRedirects:y,extras:pe(O({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,te(o)}else{let g="";return this.events.next(new rs(l.id,this.urlSerializer.serialize(l.extractedUrl),g,fm.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Vt}}),st(l=>{let d=new VD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),de(l=>(this.currentTransition=o=pe(O({},l),{guards:e5(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),d5(this.environmentInjector,l=>this.events.next(l)),st(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw wm(this.urlSerializer,l.guardsResult);let d=new jD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),He(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",hn.GuardRejected),!1)),ND(l=>{if(l.guards.canActivateChecks.length)return te(l).pipe(st(d=>{let f=new UD(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),tn(d=>{let f=!1;return te(d).pipe(F5(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",hn.NoDataFromResolver)}}))}),st(d=>{let f=new BD(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),ND(l=>{let d=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(st(y=>{f.component=y}),de(()=>{})));for(let y of f.children)g.push(...d(y));return g};return ys(d(l.targetSnapshot.root)).pipe(mi(null),Je(1))}),ND(()=>this.afterPreactivation()),tn(()=>{let{currentSnapshot:l,targetSnapshot:d}=o,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?Ue(f).pipe(de(()=>o)):te(o)}),de(l=>{let d=G8(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=pe(O({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),st(()=>{this.events.next(new nd)}),J8(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Je(1),st({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),er(this.transitionAbortSubject.pipe(st(l=>{throw l}))),du(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",hn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),gi(l=>{if(c=!0,U1(l))this.events.next(new ei(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Q8(l)?this.events.next(new Ic(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let d=new td(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let f=yn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof id){let{message:g,cancellationCode:y}=wm(this.urlSerializer,f);this.events.next(new ei(o.id,this.urlSerializer.serialize(o.extractedUrl),g,y)),this.events.next(new Ic(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(d);let g=r.errorHandler(l);o.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Vt}))}))}cancelNavigationTransition(r,i,s){let o=new ei(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function W5(t){return t!==Zl}var K5=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(Q5),providedIn:"root"});let t=e;return t})(),iC=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Q5=(()=>{let e=class e extends iC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Q1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:()=>P(Y5),providedIn:"root"});let t=e;return t})(),Y5=(()=>{let e=class e extends Q1{constructor(){super(...arguments),this.location=P(gr),this.urlSerializer=P(ud),this.options=P(fd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(uC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ns,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=P1(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof wc)this.stateMemento=this.createStateMemento();else if(r instanceof rs)this.rawUrlTree=i.initialUrl;else if(r instanceof pm){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof nd?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ei&&(r.code===hn.GuardRejected||r.code===hn.NoDataFromResolver)?this.restoreHistory(i):r instanceof td?this.restoreHistory(i,!0):r instanceof Cr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=O(O({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=O(O({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ql=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ql||{});function Y1(t,e){t.events.pipe(He(n=>n instanceof Cr||n instanceof ei||n instanceof td||n instanceof rs),de(n=>n instanceof Cr||n instanceof rs?Ql.COMPLETE:(n instanceof ei?n.code===hn.Redirect||n.code===hn.SupersededByNewNavigation:!1)?Ql.REDIRECTING:Ql.FAILED),He(n=>n!==Ql.REDIRECTING),Je(1)).subscribe(()=>{e()})}function Z5(t){throw t}var X5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(_a),this.stateManager=P(Q1),this.options=P(fd,{optional:!0})||{},this.pendingTasks=P(ga),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(lC),this.urlSerializer=P(ud),this.location=P(gr),this.urlHandlingStrategy=P(uC),this._events=new J,this.errorHandler=this.options.errorHandler||Z5,this.navigated=!1,this.routeReuseStrategy=P(K5),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(ad,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(bm,{optional:!0}),this.eventsSubscription=new ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ei&&i.code!==hn.Redirect&&i.code!==hn.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Cr)this.navigated=!0;else if(i instanceof Ic){let a=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l=O({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||W5(s.source)},a);this.scheduleNavigation(c,Zl,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}tK(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=O({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(oC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:a,f=null;switch(c){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let y=s?s.snapshot:this.routerState.snapshot.root;g=M1(y)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),g=this.currentUrlTree.root}return N1(g,r,f,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Jl(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Zl,null,i)}navigate(r,i={skipLocationChange:!1}){return eK(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=O({},X5):i===!1?s=O({},J5):s=i,Jl(r))return d1(this.currentUrlTree,r,s);let o=this.parseUrl(r);return d1(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,d;a?(c=a.resolve,l=a.reject,d=a.promise):d=new Promise((g,y)=>{c=g,l=y});let f=this.pendingTasks.add();return Y1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function eK(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function tK(t){return!(t instanceof nd)&&!(t instanceof Ic)}var pue=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new J,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(d=>{d instanceof Cr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let c=this.urlTree;if(c===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:pR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(j(Wn),j(is),w_("tabindex"),j(dr),j(Te),j($r))},e.\u0275dir=De({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&ft("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&hr("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",En],skipLocationChange:[2,"skipLocationChange","skipLocationChange",En],replaceUrl:[2,"replaceUrl","replaceUrl",En],routerLink:"routerLink"},standalone:!0,features:[Lr,$t]});let t=e;return t})();var Em=class{};var nK=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(He(r=>r instanceof Cr),vs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Wf(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Ue(s).pipe(fi())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=te(null);let o=s.pipe(Ge(a=>a===null?te(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Ue([o,a]).pipe(fi())}else return o})}};e.\u0275fac=function(i){return new(i||e)(R(Wn),R(Jf),R(Rt),R(Em),R(cC))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Z1=new B(""),rK=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=P(Rt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof wc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Cr?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof rs&&r.code===fm.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof gm&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>v(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),Ai(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new gm(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){AR()},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})();function gue(t,...e){return Ln([{provide:ad,multi:!0,useValue:t},[],{provide:is,useFactory:X1,deps:[Wn]},{provide:Xf,multi:!0,useFactory:J1},e.map(n=>n.\u0275providers)])}function X1(t){return t.routerState.root}function pd(t,e){return{\u0275kind:t,\u0275providers:e}}function J1(){let t=P(Ce);return e=>{let n=t.get(jr);if(e!==n.components[0])return;let r=t.get(Wn),i=t.get(eF);t.get(dC)===1&&r.initialNavigation(),t.get(tF,null,ve.Optional)?.setUpPreloading(),t.get(Z1,null,ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var eF=new B("",{factory:()=>new J}),dC=new B("",{providedIn:"root",factory:()=>1});function iK(){return pd(2,[{provide:dC,useValue:0},{provide:wa,multi:!0,deps:[Ce],useFactory:e=>{let n=e.get(jx,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Wn),s=e.get(eF);Y1(i,()=>{r(!0)}),e.get(lC).afterPreactivation=()=>(r(!0),s.closed?te(void 0):s),i.initialNavigation()}))}}])}function sK(){return pd(3,[{provide:wa,multi:!0,useFactory:()=>{let e=P(Wn);return()=>{e.setUpLocationChangeListener()}}},{provide:dC,useValue:2}])}var tF=new B("");function oK(t){return pd(0,[{provide:tF,useExisting:nK},{provide:Em,useExisting:t}])}function aK(){return pd(8,[g1,{provide:bm,useExisting:g1}])}function cK(t){let e=[{provide:W1,useValue:z5},{provide:K1,useValue:O({skipNextTransition:!!t?.skipInitialTransition},t)}];return pd(9,e)}var _1=new B("ROUTER_FORROOT_GUARD"),uK=[gr,{provide:ud,useClass:_c},Wn,ld,{provide:is,useFactory:X1,deps:[Wn]},cC,[]],hC=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[uK,[],{provide:ad,multi:!0,useValue:r},{provide:_1,useFactory:fK,deps:[[Wn,new ct,new KS]]},{provide:fd,useValue:i||{}},i?.useHash?dK():hK(),lK(),i?.preloadingStrategy?oK(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?pK(i):[],i?.bindToComponentInputs?aK().\u0275providers:[],i?.enableViewTransitions?cK().\u0275providers:[],gK()]}}static forChild(r){return{ngModule:e,providers:[{provide:ad,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(R(_1,8))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function lK(){return{provide:Z1,useFactory:()=>{let t=P(Gx),e=P(W),n=P(fd),r=P(lC),i=P(ud);return n.scrollOffset&&t.setOffset(n.scrollOffset),new rK(i,r,t,e,n)}}}function dK(){return{provide:$r,useClass:Bx}}function hK(){return{provide:$r,useClass:aw}}function fK(t){return"guarded"}function pK(t){return[t.initialNavigation==="disabled"?sK().\u0275providers:[],t.initialNavigation==="enabledBlocking"?iK().\u0275providers:[]]}var w1=new B("");function gK(){return[{provide:w1,useFactory:J1},{provide:Xf,multi:!0,useExisting:w1}]}var _ue=(()=>{let e=class e{constructor(){this.executingCounter=$_(0),this.loadingStatus$=new Xe(!1)}get loading$(){return this.loadingStatus$.asObservable()}start(){this.executingCounter.update(r=>r+1),this.executingCounter()>0&&this.loadingStatus$.next(!0)}stop(){this.executingCounter()>0&&this.executingCounter.update(r=>r-1),this.executingCounter()<=0&&this.loadingStatus$.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Eue=(()=>{let e=class e{constructor(r,i,s,o,a){this.auth=r,this.messaging=i,this.firestore=s,this.ngZone=o,this.router=a,EN(this.auth,c=>{c&&(this.UserData=c)})}get userUid(){return MI().currentUser?.uid||""}getAuthFire(){return this.auth.currentUser}Register(r,i){return IN(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.sendEmailVerification(),this.router.navigate(["/signIn"])})}).catch(s=>{window.alert(s.message)})}sendEmailVerification(){throw new Error("Method not implemented.")}Login(r,i){return bN(this.auth,r,i).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.router.navigate(["/"])})}).catch(s=>{window.alert(s.message)})}googleSignIn(){return this.loginWithPopup(new vI)}loginWithPopup(r){return DN(this.auth,r).then(i=>(console.log("logged in",i),i)).catch(i=>{console.log(i)})}logout(){CN(this.auth).then(()=>this.router.navigate(["/signIn"]))}isSignedIn(){return MI().currentUser!==null}};e.\u0275fac=function(i){return new(i||e)(R(Gs),R(wo),R(mo),R(W),R(Wn))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yK(t){return t!=null&&`${t}`!="false"}function gd(t,e=0){return vK(t)?Number(t):e}function vK(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Dc(t){return Array.isArray(t)?t:[t]}function it(t){return t==null?"":typeof t=="string"?t:`${t}px`}function ti(t){return t instanceof Te?t.nativeElement:t}function Cue(t,e=/\s+/){let n=[];if(t!=null){let r=Array.isArray(t)?t:`${t}`.split(e);for(let i of r){let s=`${i}`.trim();s&&n.push(s)}}return n}var pC;try{pC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{pC=!1}var Ze=(()=>{let e=class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?uw(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||pC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(R(_n))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Cc,nF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Nue(){if(Cc)return Cc;if(typeof document!="object"||!document)return Cc=new Set(nF),Cc;let t=document.createElement("input");return Cc=new Set(nF.filter(e=>(t.setAttribute("type",e),t.type===e))),Cc}var md;function _K(){if(md==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>md=!0}))}finally{md=md||!1}return md}function Tc(t){return _K()?t:!!t.capture}var bo;function rF(){if(bo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return bo=!1,bo;if("scrollBehavior"in document.documentElement.style)bo=!0;else{let t=Element.prototype.scrollTo;t?bo=!/\{\s*\[native code\]\s*\}/.test(t.toString()):bo=!1}}return bo}var fC;function wK(){if(fC==null){let t=typeof document<"u"?document.head:null;fC=!!(t&&(t.createShadowRoot||t.attachShadow))}return fC}function iF(t){if(wK()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Sc(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function An(t){return t.composedPath?t.composedPath()[0]:t.target}function yd(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var IK=new B("cdk-dir-doc",{providedIn:"root",factory:EK});function EK(){return P(ae)}var bK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function DK(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?bK.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var _d=(()=>{let e=class e{constructor(r){if(this.value="ltr",this.change=new Ae,r){let i=r.body?r.body.dir:null,s=r.documentElement?r.documentElement.dir:null;this.value=DK(i||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(R(IK,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var os=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var TK=20,oF=(()=>{let e=class e{constructor(r,i,s){this._ngZone=r,this._platform=i,this._scrolled=new J,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(r){this.scrollContainers.has(r)||this.scrollContainers.set(r,r.elementScrolled().subscribe(()=>this._scrolled.next(r)))}deregister(r){let i=this.scrollContainers.get(r);i&&(i.unsubscribe(),this.scrollContainers.delete(r))}scrolled(r=TK){return this._platform.isBrowser?new re(i=>{this._globalSubscription||this._addGlobalListener();let s=r>0?this._scrolled.pipe(Oh(r)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):te()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((r,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(r,i){let s=this.getAncestorScrollContainers(r);return this.scrolled(i).pipe(He(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(r){let i=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,r)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(r,i){let s=ti(i),o=r.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let r=this._getWindow();return au(r.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(R(W),R(Ze),R(ae,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var SK=20,gC=(()=>{let e=class e{constructor(r,i,s){this._platform=r,this._change=new J,this._changeListener=o=>{this._change.next(o)},this._document=s,i.runOutsideAngular(()=>{if(r.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let r=this._getWindow();r.removeEventListener("resize",this._changeListener),r.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let r={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),r}getViewportRect(){let r=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:r.top,left:r.left,bottom:r.top+s,right:r.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let r=this._document,i=this._getWindow(),s=r.documentElement,o=s.getBoundingClientRect(),a=-o.top||r.body.scrollTop||i.scrollY||s.scrollTop||0,c=-o.left||r.body.scrollLeft||i.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(r=SK){return r>0?this._change.pipe(Oh(r)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let r=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:r.innerWidth,height:r.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(R(Ze),R(W),R(ae,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})(),mC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[os,sF,os,sF]});let t=e;return t})();var wd=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Ac=class extends wd{constructor(e,n,r,i,s){super(),this.component=e,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=s}},Rc=class extends wd{constructor(e,n,r,i){super(),this.templateRef=e,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},yC=class extends wd{constructor(e){super(),this.element=e instanceof Te?e.nativeElement:e}},xc=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Ac)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Rc)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof yC)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Cm=class extends xc{constructor(e,n,r,i,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){let r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||Ce.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let n=e.viewContainerRef,r=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Id=(()=>{let e=class e extends xc{constructor(r,i,s){super(),this._componentFactoryResolver=r,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ae,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(r){this.hasAttached()&&!r&&!this._isInitialized||(this.hasAttached()&&super.detach(),r&&super.attach(r),this._attachedPortal=r||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(r){r.setAttachedHost(this);let i=r.viewContainerRef!=null?r.viewContainerRef:this._viewContainerRef,o=(r.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(r.component),a=i.createComponent(o,i.length,r.injector||i.injector,r.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=r,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(r){r.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(r.templateRef,r.context,{injector:r.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=r,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){let r=this._viewContainerRef.element.nativeElement;return r.nodeType===r.ELEMENT_NODE?r:r.parentNode}};e.\u0275fac=function(i){return new(i||e)(j(or),j(wn),j(ae))},e.\u0275dir=De({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[et]});let t=e;return t})();var Mc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();function Tm(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var aF=rF(),vC=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=it(-this._previousScrollPosition.left),e.style.top=it(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,r=e.style,i=n.style,s=r.scrollBehavior||"",o=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),aF&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),aF&&(r.scrollBehavior=s,i.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};var _C=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(He(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Sm=class{enable(){}disable(){}attach(){}};function wC(t,e){return e.some(n=>{let r=t.bottom<n.top,i=t.top>n.bottom,s=t.right<n.left,o=t.left>n.right;return r||i||s||o})}function cF(t,e){return e.some(n=>{let r=t.top<n.top,i=t.bottom>n.bottom,s=t.left<n.left,o=t.right>n.right;return r||i||s||o})}var IC=class{constructor(e,n,r,i){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();wC(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},RK=(()=>{let e=class e{constructor(r,i,s,o){this._scrollDispatcher=r,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new Sm,this.close=a=>new _C(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new vC(this._viewportRuler,this._document),this.reposition=a=>new IC(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.\u0275fac=function(i){return new(i||e)(R(oF),R(gC),R(W),R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ed=class{constructor(e){if(this.scrollStrategy=new Sm,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let r of n)e[r]!==void 0&&(this[r]=e[r])}}};var EC=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var fF=(()=>{let e=class e{constructor(r){this._attachedOverlays=[],this._document=r}ngOnDestroy(){this.detach()}add(r){this.remove(r),this._attachedOverlays.push(r)}remove(r){let i=this._attachedOverlays.indexOf(r);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(i){return new(i||e)(R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xK=(()=>{let e=class e extends fF{constructor(r,i){super(r),this._ngZone=i,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(r){super.add(r),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(W,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),MK=(()=>{let e=class e extends fF{constructor(r,i,s){super(r),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=An(o)},this._clickListener=o=>{let a=An(o),c=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let d=l.length-1;d>-1;d--){let f=l[d];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(a)||f.overlayElement.contains(c))break;let g=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(o)):g.next(o)}}}add(r){if(super.add(r),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let r=this._document.body;r.removeEventListener("pointerdown",this._pointerDownListener,!0),r.removeEventListener("click",this._clickListener,!0),r.removeEventListener("auxclick",this._clickListener,!0),r.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(r.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(r){r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(Ze),R(W,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nc=(()=>{let e=class e{constructor(r,i){this._platform=i,this._document=r}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let r="cdk-overlay-container";if(this._platform.isBrowser||yd()){let s=this._document.querySelectorAll(`.${r}[platform="server"], .${r}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let i=this._document.createElement("div");i.classList.add(r),yd()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}};e.\u0275fac=function(i){return new(i||e)(R(ae),R(Ze))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ni=class{constructor(e,n,r,i,s,o,a,c,l,d=!1,f){this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._injector=f,this._backdropElement=null,this._backdropClick=new J,this._attachments=new J,this._detachments=new J,this._locationChanges=ke.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new J,this._outsidePointerEvents=new J,this._renders=new J,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=Z_(()=>j_(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Ai(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=O(O({},this._config),e),this._updateElementSize()}setDirection(e){this._config=pe(O({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=it(this._config.width),e.height=it(this._config.height),e.minWidth=it(this._config.minWidth),e.minHeight=it(this._config.minHeight),e.maxWidth=it(this._config.maxWidth),e.maxHeight=it(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,r){let i=Dc(n||[]).filter(s=>!!s);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(er(cu(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},uF="cdk-overlay-connected-position-bounding-box",NK=/([A-Za-z%]+)$/,bC=class{get positions(){return this._preferredPositions}constructor(e,n,r,i,s){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new J,this._resizeSubscription=ke.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(uF),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),l=this._getOverlayPoint(c,n,a),d=this._getOverlayFit(l,n,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,l,r)){s.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(s.length){let a=null,c=-1;for(let l of s){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Do(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(uF),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?o:a}n.left<0&&(i-=n.left);let s;return r.originY=="center"?s=e.top+e.height/2:s=r.originY=="top"?e.top:e.bottom,n.top<0&&(s-=n.top),{x:i,y:s}}_getOverlayPoint(e,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let s;return r.overlayY=="center"?s=-n.height/2:s=r.overlayY=="top"?0:-n.height,{x:e.x+i,y:e.y+s}}_getOverlayFit(e,n,r,i){let s=dF(n),{x:o,y:a}=e,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(o+=c),l&&(a+=l);let d=0-o,f=o+s.width-r.width,g=0-a,y=a+s.height-r.height,E=this._subtractOverflows(s.width,d,f),S=this._subtractOverflows(s.height,g,y),M=E*S;return{visibleArea:M,isCompletelyWithinViewport:s.width*s.height===M,fitsInViewportVertically:S===s.height,fitsInViewportHorizontally:E==s.width}}_canFitWithFlexibleDimensions(e,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,s=r.right-n.x,o=lF(this._overlayRef.getConfig().minHeight),a=lF(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||o!=null&&o<=i,l=e.fitsInViewportHorizontally||a!=null&&a<=s;return c&&l}return!1}_pushOverlayOnScreen(e,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=dF(n),s=this._viewportRect,o=Math.max(e.x+i.width-s.width,0),a=Math.max(e.y+i.height-s.height,0),c=Math.max(s.top-r.top-e.y,0),l=Math.max(s.left-r.left-e.x,0),d=0,f=0;return i.width<=s.width?d=l||-o:d=e.x<this._viewportMargin?s.left-r.left-e.x:0,i.height<=s.height?f=c||-a:f=e.y<this._viewportMargin?s.top-r.top-e.y:0,this._previousPushAmount={x:d,y:f},{x:e.x+d,y:e.y+f}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!kK(this._lastScrollVisibility,r)){let i=new EC(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,n){let r=this._viewportRect,i=this._isRtl(),s,o,a;if(n.overlayY==="top")o=e.y,s=r.height-o+this._viewportMargin;else if(n.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,s=r.height-a+this._viewportMargin;else{let y=Math.min(r.bottom-e.y+r.top,e.y),E=this._lastBoundingBoxSize.height;s=y*2,o=e.y-y,s>E&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-E/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,l=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,d,f,g;if(l)g=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)f=e.x,d=r.right-e.x;else{let y=Math.min(r.right-e.x+r.left,e.x),E=this._lastBoundingBoxSize.width;d=y*2,f=e.x-y,d>E&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-E/2)}return{top:o,left:f,bottom:a,right:g,width:d,height:s}}_setBoundingBoxStyles(e,n){let r=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=it(r.height),i.top=it(r.top),i.bottom=it(r.bottom),i.width=it(r.width),i.left=it(r.left),i.right=it(r.right),n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(i.maxHeight=it(s)),o&&(i.maxWidth=it(o))}this._lastBoundingBoxSize=r,Do(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Do(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Do(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let r={},i=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();Do(r,this._getExactOverlayY(n,e,d)),Do(r,this._getExactOverlayX(n,e,d))}else r.position="static";let a="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),r.transform=a.trim(),o.maxHeight&&(i?r.maxHeight=it(o.maxHeight):s&&(r.maxHeight="")),o.maxWidth&&(i?r.maxWidth=it(o.maxWidth):s&&(r.maxWidth="")),Do(this._pane.style,r)}_getExactOverlayY(e,n,r){let i={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;i.bottom=`${o-(s.y+this._overlayRect.height)}px`}else i.top=it(s.y);return i}_getExactOverlayX(e,n,r){let i={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,r));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(s.x+this._overlayRect.width)}px`}else i.left=it(s.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cF(e,r),isOriginOutsideView:wC(e,r),isOverlayClipped:cF(n,r),isOverlayOutsideView:wC(n,r)}}_subtractOverflows(e,...n){return n.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Dc(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Te)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+n,height:r,width:n}}};function Do(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function lF(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(NK);return!n||n==="px"?parseFloat(e):null}return t||null}function dF(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function kK(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var hF="cdk-global-overlay-wrapper",DC=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(hF),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:s,maxWidth:o,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!o||o==="100%"||o==="100vw"),l=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,f=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",y="",E="",S="";c?S="flex-start":d==="center"?(S="center",g?E=f:y=f):g?d==="left"||d==="end"?(S="flex-end",y=f):(d==="right"||d==="start")&&(S="flex-start",E=f):d==="left"||d==="start"?(S="flex-start",y=f):(d==="right"||d==="end")&&(S="flex-end",E=f),e.position=this._cssPosition,e.marginLeft=c?"0":y,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":E,n.justifyContent=S,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(hF),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},OK=(()=>{let e=class e{constructor(r,i,s,o){this._viewportRuler=r,this._document=i,this._platform=s,this._overlayContainer=o}global(){return new DC}flexibleConnectedTo(r){return new bC(r,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(i){return new(i||e)(R(gC),R(ae),R(Ze),R(Nc))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PK=0,Kn=(()=>{let e=class e{constructor(r,i,s,o,a,c,l,d,f,g,y,E){this.scrollStrategies=r,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=d,this._directionality=f,this._location=g,this._outsideClickDispatcher=y,this._animationsModuleType=E}create(r){let i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),a=new Ed(r);return a.direction=a.direction||this._directionality.value,new ni(o,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Rt))}position(){return this._positionBuilder}_createPaneElement(r){let i=this._document.createElement("div");return i.id=`cdk-overlay-${PK++}`,i.classList.add("cdk-overlay-pane"),r.appendChild(i),i}_createHostElement(){let r=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalOutlet(r){return this._appRef||(this._appRef=this._injector.get(jr)),new Cm(r,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(i){return new(i||e)(R(RK),R(Nc),R(or),R(OK),R(xK),R(Ce),R(W),R(ae),R(_d),R(gr),R(MK),R(Ti,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FK=new B("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=P(Kn);return()=>t.scrollStrategies.reposition()}});function LK(t){return()=>t.scrollStrategies.reposition()}var VK={provide:FK,deps:[Kn],useFactory:LK},CC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[Kn,VK],imports:[os,Mc,mC,mC]});let t=e;return t})();var jK=(()=>{let e=class e{create(r){return typeof MutationObserver>"u"?null:new MutationObserver(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[jK]});let t=e;return t})();var mF=new Set,Co,UK=(()=>{let e=class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$K}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&BK(r,this._nonce),this._matchMedia(r)}};e.\u0275fac=function(i){return new(i||e)(R(Ze),R(Ru,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BK(t,e){if(!mF.has(t))try{Co||(Co=document.createElement("style"),e&&Co.setAttribute("nonce",e),Co.setAttribute("type","text/css"),document.head.appendChild(Co)),Co.sheet&&(Co.sheet.insertRule(`@media ${t} {body{ }}`,0),mF.add(t))}catch(n){console.error(n)}}function $K(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var vF=(()=>{let e=class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new J}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return yF(Dc(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let s=yF(Dc(r)).map(a=>this._registerQuery(a).observable),o=ys(s);return o=Xn(o.pipe(Je(1)),o.pipe(hu(1),Fh(0))),o.pipe(de(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);let i=this._mediaMatcher.matchMedia(r),o={observable:new re(a=>{let c=l=>this._zone.run(()=>a.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(Nn(i),de(({matches:a})=>({query:r,matches:a})),er(this._destroySubject)),mql:i};return this._queries.set(r,o),o}};e.\u0275fac=function(i){return new(i||e)(R(UK),R(W))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yF(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Mle={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var bd=(()=>{let e=class e{constructor(r){this._platform=r}isDisabled(r){return r.hasAttribute("disabled")}isVisible(r){return zK(r)&&getComputedStyle(r).visibility==="visible"}isTabbable(r){if(!this._platform.isBrowser)return!1;let i=HK(XK(r));if(i&&(_F(i)===-1||!this.isVisible(i)))return!1;let s=r.nodeName.toLowerCase(),o=_F(r);return r.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!YK(r)?!1:s==="audio"?r.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||r.hasAttribute("controls"):r.tabIndex>=0}isFocusable(r,i){return ZK(r)&&!this.isDisabled(r)&&(i?.ignoreVisibility||this.isVisible(r))}};e.\u0275fac=function(i){return new(i||e)(R(Ze))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HK(t){try{return t.frameElement}catch{return null}}function zK(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function qK(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function GK(t){return KK(t)&&t.type=="hidden"}function WK(t){return QK(t)&&t.hasAttribute("href")}function KK(t){return t.nodeName.toLowerCase()=="input"}function QK(t){return t.nodeName.toLowerCase()=="a"}function EF(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function _F(t){if(!EF(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function YK(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function ZK(t){return GK(t)?!1:qK(t)||WK(t)||t.hasAttribute("contenteditable")||EF(t)}function XK(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var SC=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,r,i,s=!1,o){this._element=e,this._checker=n,this._ngZone=r,this._document=i,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(e),!!r}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?this._injector?Ai(e,{injector:this._injector}):e():this._ngZone.onStable.pipe(Je(1)).subscribe(e)}},Dd=(()=>{let e=class e{constructor(r,i,s){this._checker=r,this._ngZone=i,this._injector=P(Ce),this._document=s}create(r,i=!1){return new SC(r,this._checker,this._ngZone,this._document,i,this._injector)}};e.\u0275fac=function(i){return new(i||e)(R(bd),R(W),R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Jle=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(r){this.focusTrap&&(this.focusTrap.enabled=r)}constructor(r,i,s){this._elementRef=r,this._focusTrapFactory=i,this._previouslyFocusedElement=null,P(Ze).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(r){let i=r.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Sc(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(Dd),j(ae))},e.\u0275dir=De({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",En],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",En]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Lr,$t]});let t=e;return t})();function AC(t){return t.buttons===0||t.detail===0}function RC(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var JK=new B("cdk-input-modality-detector-options"),e7={ignoreKeys:[18,17,224,91,16]},bF=650,kc=Tc({passive:!0,capture:!0}),t7=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(r,i,s,o){this._platform=r,this._mostRecentTarget=null,this._modality=new Xe(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=An(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<bF||(this._modality.next(AC(a)?"keyboard":"mouse"),this._mostRecentTarget=An(a))},this._onTouchstart=a=>{if(RC(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=An(a)},this._options=O(O({},e7),o),this.modalityDetected=this._modality.pipe(hu(1)),this.modalityChanged=this.modalityDetected.pipe(lu()),r.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,kc),s.addEventListener("mousedown",this._onMousedown,kc),s.addEventListener("touchstart",this._onTouchstart,kc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,kc),document.removeEventListener("mousedown",this._onMousedown,kc),document.removeEventListener("touchstart",this._onTouchstart,kc))}};e.\u0275fac=function(i){return new(i||e)(R(Ze),R(W),R(ae),R(JK,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),n7=new B("liveAnnouncerElement",{providedIn:"root",factory:r7});function r7(){return null}var i7=new B("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),s7=0,ede=(()=>{let e=class e{constructor(r,i,s,o){this._ngZone=i,this._defaultOptions=o,this._document=s,this._liveElement=r||this._createLiveElement()}announce(r,...i){let s=this._defaultOptions,o,a;return i.length===1&&typeof i[0]=="number"?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=s&&s.politeness?s.politeness:"polite"),a==null&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=r,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let r="cdk-live-announcer-element",i=this._document.getElementsByClassName(r),s=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return s.classList.add(r),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id=`cdk-live-announcer-${s7++}`,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(r){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){let o=i[s],a=o.getAttribute("aria-owns");a?a.indexOf(r)===-1&&o.setAttribute("aria-owns",a+" "+r):o.setAttribute("aria-owns",r)}}};e.\u0275fac=function(i){return new(i||e)(R(n7,8),R(W),R(ae),R(i7,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rm=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Rm||{}),o7=new B("cdk-focus-monitor-default-options"),Am=Tc({passive:!0,capture:!0}),Cd=(()=>{let e=class e{constructor(r,i,s,o,a){this._ngZone=r,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new J,this._rootNodeFocusAndBlurListener=c=>{let l=An(c);for(let d=l;d;d=d.parentElement)c.type==="focus"?this._onFocus(c,d):this._onBlur(c,d)},this._document=o,this._detectionMode=a?.detectionMode||Rm.IMMEDIATE}monitor(r,i=!1){let s=ti(r);if(!this._platform.isBrowser||s.nodeType!==1)return te();let o=iF(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;let c={checkChildren:i,subject:new J,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(r){let i=ti(r),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(r,i,s){let o=ti(r),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,l])=>this._originChanged(c,i,l)):(this._setOrigin(i),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((r,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(r){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(r)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:r&&this._isLastInteractionFromInputLabel(r)?"mouse":"program"}_shouldBeAttributedToTouch(r){return this._detectionMode===Rm.EVENTUAL||!!r?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(r,i){r.classList.toggle("cdk-focused",!!i),r.classList.toggle("cdk-touch-focused",i==="touch"),r.classList.toggle("cdk-keyboard-focused",i==="keyboard"),r.classList.toggle("cdk-mouse-focused",i==="mouse"),r.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(r,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=r,this._originFromTouchInteraction=r==="touch"&&i,this._detectionMode===Rm.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?bF:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(r,i){let s=this._elementInfo.get(i),o=An(r);!s||!s.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),s)}_onBlur(r,i){let s=this._elementInfo.get(i);!s||s.checkChildren&&r.relatedTarget instanceof Node&&i.contains(r.relatedTarget)||(this._setClasses(i),this._emitOrigin(s,null))}_emitOrigin(r,i){r.subject.observers.length&&this._ngZone.run(()=>r.subject.next(i))}_registerGlobalListeners(r){if(!this._platform.isBrowser)return;let i=r.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Am),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Am)}),this._rootNodeFocusListenerCount.set(i,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(er(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(r){let i=r.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Am),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Am),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(r,i,s){this._setClasses(r,i),this._emitOrigin(s,i),this._lastFocusOrigin=i}_getClosestElementsInfo(r){let i=[];return this._elementInfo.forEach((s,o)=>{(o===r||s.checkChildren&&o.contains(r))&&i.push([o,s])}),i}_isLastInteractionFromInputLabel(r){let{_mostRecentTarget:i,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!i||i===r||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA"||r.disabled)return!1;let o=r.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(i))return!0}return!1}};e.\u0275fac=function(i){return new(i||e)(R(W),R(Ze),R(t7),R(ae,8),R(o7,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tde=(()=>{let e=class e{constructor(r,i){this._elementRef=r,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Ae}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let r=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(r,r.nodeType===1&&r.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(Cd))},e.\u0275dir=De({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),To=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(To||{}),wF="cdk-high-contrast-black-on-white",IF="cdk-high-contrast-white-on-black",TC="cdk-high-contrast-active",xC=(()=>{let e=class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=P(vF).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return To.NONE;let r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);let i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return To.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return To.BLACK_ON_WHITE}return To.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let r=this._document.body.classList;r.remove(TC,wF,IF),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===To.BLACK_ON_WHITE?r.add(TC,wF):i===To.WHITE_ON_BLACK&&r.add(TC,IF)}}};e.\u0275fac=function(i){return new(i||e)(R(Ze),R(ae))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),DF=(()=>{let e=class e{constructor(r){r._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(i){return new(i||e)(R(xC))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[gF]});let t=e;return t})();function a7(t,e){}var So=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var OC=(()=>{let e=class e extends xc{constructor(r,i,s,o,a,c,l,d){super(),this._elementRef=r,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=l,this._focusMonitor=d,this._platform=P(Ze),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=P(In),this.attachDomPortal=f=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),g},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(r){this._ariaLabelledByQueue.push(r),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(r){let i=this._ariaLabelledByQueue.indexOf(r);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachComponentPortal(r);return this._contentAttached(),i}attachTemplatePortal(r){this._portalOutlet.hasAttached();let i=this._portalOutlet.attachTemplatePortal(r);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(r,i){this._interactivityChecker.isFocusable(r)||(r.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{r.removeEventListener("blur",s),r.removeEventListener("mousedown",s),r.removeAttribute("tabindex")};r.addEventListener("blur",s),r.addEventListener("mousedown",s)})),r.focus(i)}_focusByCssSelector(r,i){let s=this._elementRef.nativeElement.querySelector(r);s&&this._forceFocus(s,i)}_trapFocus(){let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let r=this._config.restoreFocus,i=null;if(typeof r=="string"?i=this._document.querySelector(r):typeof r=="boolean"?i=r?this._elementFocusedBeforeDialogWasOpened:null:r&&(i=r),this._config.restoreFocus&&i&&typeof i.focus=="function"){let s=Sc(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let r=this._elementRef.nativeElement,i=Sc();return r===i||r.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Sc()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(Dd),j(ae,8),j(So),j(bd),j(W),j(ni),j(Cd))},e.\u0275cmp=cr({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(i&1&&Qf(Id,7),i&2){let o;Ou(o=Pu())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){i&2&&hr("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[et,fr],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){i&1&&Bn(0,a7,0,0,"ng-template",0)},dependencies:[Id],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),Td=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new J,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!Tm(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(e),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},c7=new B("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=P(Kn);return()=>t.scrollStrategies.block()}}),u7=new B("DialogData"),l7=new B("DefaultDialogConfig");var d7=0,PC=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(r,i,s,o,a,c){this._overlay=r,this._injector=i,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this._ariaHiddenElements=new Map,this.afterAllClosed=pi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Nn(void 0))),this._scrollStrategy=c}open(r,i){let s=this._defaultOptions||new So;i=O(O({},s),i),i.id=i.id||`cdk-dialog-${d7++}`,i.id&&this.getDialogById(i.id);let o=this._getOverlayConfig(i),a=this._overlay.create(o),c=new Td(a,i),l=this._attachContainer(a,c,i);return c.containerInstance=l,this._attachDialogContent(r,c,l,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){NC(this.openDialogs,r=>r.close())}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){NC(this._openDialogsAtThisLevel,r=>{r.config.closeOnDestroy===!1&&this._removeOpenDialog(r,!1)}),NC(this._openDialogsAtThisLevel,r=>r.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(r){let i=new Ed({positionStrategy:r.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:r.scrollStrategy||this._scrollStrategy(),panelClass:r.panelClass,hasBackdrop:r.hasBackdrop,direction:r.direction,minWidth:r.minWidth,minHeight:r.minHeight,maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:r.width,height:r.height,disposeOnNavigation:r.closeOnNavigation});return r.backdropClass&&(i.backdropClass=r.backdropClass),i}_attachContainer(r,i,s){let o=s.injector||s.viewContainerRef?.injector,a=[{provide:So,useValue:s},{provide:Td,useValue:i},{provide:ni,useValue:r}],c;s.container?typeof s.container=="function"?c=s.container:(c=s.container.type,a.push(...s.container.providers(s))):c=OC;let l=new Ac(c,s.viewContainerRef,Ce.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return r.attach(l).instance}_attachDialogContent(r,i,s,o){if(r instanceof Fn){let a=this._createInjector(o,i,s,void 0),c={$implicit:o.data,dialogRef:i};o.templateContext&&(c=O(O({},c),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new Rc(r,null,c,a))}else{let a=this._createInjector(o,i,s,this._injector),c=s.attachComponentPortal(new Ac(r,o.viewContainerRef,a,o.componentFactoryResolver));i.componentRef=c,i.componentInstance=c.instance}}_createInjector(r,i,s,o){let a=r.injector||r.viewContainerRef?.injector,c=[{provide:u7,useValue:r.data},{provide:Td,useValue:i}];return r.providers&&(typeof r.providers=="function"?c.push(...r.providers(i,r,s)):c.push(...r.providers)),r.direction&&(!a||!a.get(_d,null,{optional:!0}))&&c.push({provide:_d,useValue:{value:r.direction,change:te()}}),Ce.create({parent:a||o,providers:c})}_removeOpenDialog(r,i){let s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let r=this._overlayContainer.getContainerElement();if(r.parentElement){let i=r.parentElement.children;for(let s=i.length-1;s>-1;s--){let o=i[s];o!==r&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(i){return new(i||e)(R(Kn),R(Ce),R(l7,8),R(e,12),R(Nc),R(c7))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NC(t,e){let n=t.length;for(;n--;)e(t[n])}var h7=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({providers:[PC],imports:[CC,Mc,DF,Mc]});let t=e;return t})();var $de=(()=>{let e=class e{};e.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",e.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",e.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",e.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)";let t=e;return t})(),Hde=(()=>{let e=class e{};e.COMPLEX="375ms",e.ENTERING="225ms",e.EXITING="195ms";let t=e;return t})();function f7(){return!0}var p7=new B("mat-sanity-checks",{providedIn:"root",factory:f7}),CF=(()=>{let e=class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return yd()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[r]}};e.\u0275fac=function(i){return new(i||e)(R(xC),R(p7,8),R(ae))},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[os,os]});let t=e;return t})();var TF=class{constructor(e,n,r,i,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,s=r?.isErrorState(i,n)??!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var SF=new B("MAT_DATE_LOCALE",{providedIn:"root",factory:g7});function g7(){return P(Ia)}var Mm=class{constructor(){this._localeChanges=new J,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let r=this.isValid(e),i=this.isValid(n);return r&&i?!this.compareDate(e,n):r==i}return e==n}clampDate(e,n,r){return n&&this.compareDate(e,n)<0?n:r&&this.compareDate(e,r)>0?r:e}},m7=new B("mat-date-formats"),y7=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function FC(t,e){let n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}var v7=(()=>{let e=class e extends Mm{constructor(r){super(),this.useUtcForDisplay=!1,this._matDateLocale=P(SF,{optional:!0}),r!==void 0&&(this._matDateLocale=r),super.setLocale(this._matDateLocale)}getYear(r){return r.getFullYear()}getMonth(r){return r.getMonth()}getDate(r){return r.getDate()}getDayOfWeek(r){return r.getDay()}getMonthNames(r){let i=new Intl.DateTimeFormat(this.locale,{month:r,timeZone:"utc"});return FC(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){let r=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return FC(31,i=>this._format(r,new Date(2017,0,i+1)))}getDayOfWeekNames(r){let i=new Intl.DateTimeFormat(this.locale,{weekday:r,timeZone:"utc"});return FC(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(r){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,r)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(r){return this.getDate(this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+1,0))}clone(r){return new Date(r.getTime())}createDate(r,i,s){let o=this._createDateWithOverflow(r,i,s);return o.getMonth()!=i,o}today(){return new Date}parse(r,i){return typeof r=="number"?new Date(r):r?new Date(Date.parse(r)):null}format(r,i){if(!this.isValid(r))throw Error("NativeDateAdapter: Cannot format invalid date.");let s=new Intl.DateTimeFormat(this.locale,pe(O({},i),{timeZone:"utc"}));return this._format(s,r)}addCalendarYears(r,i){return this.addCalendarMonths(r,i*12)}addCalendarMonths(r,i){let s=this._createDateWithOverflow(this.getYear(r),this.getMonth(r)+i,this.getDate(r));return this.getMonth(s)!=((this.getMonth(r)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(r,i){return this._createDateWithOverflow(this.getYear(r),this.getMonth(r),this.getDate(r)+i)}toIso8601(r){return[r.getUTCFullYear(),this._2digit(r.getUTCMonth()+1),this._2digit(r.getUTCDate())].join("-")}deserialize(r){if(typeof r=="string"){if(!r)return null;if(y7.test(r)){let i=new Date(r);if(this.isValid(i))return i}}return super.deserialize(r)}isDateInstance(r){return r instanceof Date}isValid(r){return!isNaN(r.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(r,i,s){let o=new Date;return o.setFullYear(r,i,s),o.setHours(0,0,0,0),o}_2digit(r){return("00"+r).slice(-2)}_format(r,i){let s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),r.format(s)}};e.\u0275fac=function(i){return new(i||e)(R(SF,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac});let t=e;return t})(),_7={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function zde(t=_7){return[{provide:Mm,useClass:v7},{provide:m7,useValue:t}]}var qde=(()=>{let e=class e{isErrorState(r,i){return!!(r&&r.invalid&&(r.touched||i&&i.submitted))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Rn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Rn||{}),jC=class{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=Rn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},AF=Tc({passive:!0,capture:!0}),UC=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=An(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){let s=this._events.get(n);if(s){let o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,AF)})}removeHandler(e,n,r){let i=this._events.get(e);if(!i)return;let s=i.get(n);s&&(s.delete(r),s.size===0&&i.delete(n),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,AF)))}},RF={enterDuration:225,exitDuration:150},w7=800,xF=Tc({passive:!0,capture:!0}),MF=["mousedown","touchstart"],NF=["mouseup","mouseleave","touchend","touchcancel"],Sd=class Sd{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ti(r))}fadeInRipple(e,n,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=O(O({},RF),r.animation);r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);let o=r.radius||I7(e,n,i),a=e-i.left,c=n-i.top,l=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-o}px`,d.style.top=`${c-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),g=f.transitionProperty,y=f.transitionDuration,E=g==="none"||y==="0s"||y==="0s, 0s"||i.width===0&&i.height===0,S=new jC(this,d,r,E);d.style.transform="scale3d(1, 1, 1)",S.state=Rn.FADING_IN,r.persistent||(this._mostRecentTransientRipple=S);let M=null;return!E&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let V=()=>this._finishRippleTransition(S),z=()=>this._destroyRipple(S);d.addEventListener("transitionend",V),d.addEventListener("transitioncancel",z),M={onTransitionEnd:V,onTransitionCancel:z}}),this._activeRipples.set(S,M),(E||!l)&&this._finishRippleTransition(S),S}fadeOutRipple(e){if(e.state===Rn.FADING_OUT||e.state===Rn.HIDDEN)return;let n=e.element,r=O(O({},RF),e.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=Rn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=ti(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,MF.forEach(r=>{Sd._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{NF.forEach(n=>{this._triggerElement.addEventListener(n,this,xF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Rn.FADING_IN?this._startFadeOutTransition(e):e.state===Rn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=Rn.VISIBLE,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Rn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=AC(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+w7;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!RC(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Rn.VISIBLE||e.config.terminateOnPointerUp&&e.state===Rn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(MF.forEach(n=>Sd._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(NF.forEach(n=>e.removeEventListener(n,this,xF)),this._pointerUpEventsRegistered=!1))}};Sd._eventManager=new UC;var BC=Sd;function I7(t,e,n){let r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}var FF=new B("mat-ripple-global-options"),E7=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(r){r&&this.fadeOutAllNonPersistent(),this._disabled=r,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(r){this._trigger=r,this._setupTriggerEventsIfEnabled()}constructor(r,i,s,o,a){this._elementRef=r,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new BC(this,i,r,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:O(O(O({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(r,i=0,s){return typeof r=="number"?this._rippleRenderer.fadeInRipple(r,i,O(O({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,O(O({},this.rippleConfig),r))}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(W),j(Ze),j(FF,8),j(Ti,8))},e.\u0275dir=De({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){i&2&&Vr("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),Gde=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[CF,CF]});let t=e;return t})();var kF={capture:!0},OF=["focus","mousedown","mouseenter","touchstart"],LC="mat-ripple-loader-uninitialized",VC="mat-ripple-loader-class-name",PF="mat-ripple-loader-centered",xm="mat-ripple-loader-disabled",Wde=(()=>{let e=class e{constructor(){this._document=P(ae,{optional:!0}),this._animationMode=P(Ti,{optional:!0}),this._globalRippleOptions=P(FF,{optional:!0}),this._platform=P(Ze),this._ngZone=P(W),this._hosts=new Map,this._onInteraction=r=>{let i=An(r);if(i instanceof HTMLElement){let s=i.closest(`[${LC}="${this._globalRippleOptions?.namespace??""}"]`);s&&this._createRipple(s)}},this._ngZone.runOutsideAngular(()=>{for(let r of OF)this._document?.addEventListener(r,this._onInteraction,kF)})}ngOnDestroy(){let r=this._hosts.keys();for(let i of r)this.destroyRipple(i);for(let i of OF)this._document?.removeEventListener(i,this._onInteraction,kF)}configureRipple(r,i){r.setAttribute(LC,this._globalRippleOptions?.namespace??""),(i.className||!r.hasAttribute(VC))&&r.setAttribute(VC,i.className||""),i.centered&&r.setAttribute(PF,""),i.disabled&&r.setAttribute(xm,"")}getRipple(r){return this._hosts.get(r)||this._createRipple(r)}setDisabled(r,i){let s=this._hosts.get(r);if(s){s.disabled=i;return}i?r.setAttribute(xm,""):r.removeAttribute(xm)}_createRipple(r){if(!this._document)return;let i=this._hosts.get(r);if(i)return i;r.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",r.getAttribute(VC)),r.append(s);let o=new E7(new Te(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=r,o.centered=r.hasAttribute(PF),o.disabled=r.hasAttribute(xm),this.attachRipple(r,o),o}attachRipple(r,i){r.removeAttribute(LC),this._hosts.set(r,i)}destroyRipple(r){let i=this._hosts.get(r);i&&(i.ngOnDestroy(),this._hosts.delete(r))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Qn=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(Qn||{}),Yde="*";function Zde(t,e){return{type:Qn.Trigger,name:t,definitions:e,options:{}}}function Xde(t,e=null){return{type:Qn.Animate,styles:e,timings:t}}function Jde(t,e=null){return{type:Qn.Group,steps:t,options:e}}function ehe(t,e=null){return{type:Qn.Sequence,steps:t,options:e}}function the(t){return{type:Qn.Style,styles:t,offset:null}}function nhe(t,e,n){return{type:Qn.State,name:t,styles:e,options:n}}function rhe(t){return{type:Qn.Keyframes,steps:t}}function ihe(t,e,n=null){return{type:Qn.Transition,expr:t,animation:e,options:n}}function she(t=null){return{type:Qn.AnimateChild,options:t}}function ohe(t,e,n=null){return{type:Qn.Query,selector:t,animation:e,options:n}}var LF=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},VF=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},ahe="!";function b7(t,e){}var Ad=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},$C="mdc-dialog--open",jF="mdc-dialog--opening",UF="mdc-dialog--closing",D7=150,C7=75,T7=(()=>{let e=class e extends OC{constructor(r,i,s,o,a,c,l,d,f){super(r,i,s,o,a,c,l,f),this._animationMode=d,this._animationStateChanged=new Ae,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?$F(this._config.enterAnimationDuration)??D7:0,this._exitAnimationDuration=this._animationsEnabled?$F(this._config.exitAnimationDuration)??C7:0,this._animationTimer=null,this._isDestroyed=!1,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(BF,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(jF,$C)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add($C),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove($C),this._animationsEnabled?(this._hostElement.style.setProperty(BF,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(UF)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(r){this._actionSectionCount+=r,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(jF,UF)}_waitForAnimationToComplete(r,i){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,r)}_requestAnimationFrame(r){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(r):r()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(r){this._isDestroyed||(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r}))}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer),this._isDestroyed=!0}attachComponentPortal(r){let i=super.attachComponentPortal(r);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(Dd),j(ae,8),j(Ad),j(bd),j(W),j(ni),j(Ti,8),j(Cd))},e.\u0275cmp=cr({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,s){i&2&&(Kf("id",s._config.id),hr("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Vr("_mat-animation-noopable",!s._animationsEnabled)("mat-mdc-dialog-container-with-actions",s._actionSectionCount>0))},standalone:!0,features:[et,fr],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,s){i&1&&(Ht(0,"div",0)(1,"div",1),Bn(2,b7,0,0,"ng-template",2),Mt()())},dependencies:[Id],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2});let t=e;return t})(),BF="--mat-dialog-transition-duration";function $F(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?gd(t.substring(0,t.length-2)):t.endsWith("s")?gd(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Nm=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Nm||{}),HC=class{constructor(e,n,r){this._ref=e,this._containerInstance=r,this._afterOpened=new J,this._beforeClosed=new J,this._state=Nm.OPEN,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe(He(i=>i.state==="opened"),Je(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(He(i=>i.state==="closed"),Je(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),cu(this.backdropClick(),this.keydownEvents().pipe(He(i=>i.keyCode===27&&!this.disableClose&&!Tm(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),S7(this,i.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(He(n=>n.state==="closing"),Je(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Nm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Nm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function S7(t,e,n){return t._closeInteractionType=e,t.close(n)}var zC=new B("MatMdcDialogData"),A7=new B("mat-mdc-dialog-default-options"),R7=new B("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=P(Kn);return()=>t.scrollStrategies.block()}});var x7=0,HF=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let r=this._parentDialog;return r?r._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(r,i,s,o,a,c,l,d){this._overlay=r,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this.dialogConfigClass=Ad,this.afterAllClosed=pi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Nn(void 0))),this._dialog=i.get(PC),this._dialogRefConstructor=HC,this._dialogContainerType=T7,this._dialogDataToken=zC}open(r,i){let s;i=O(O({},this._defaultOptions||new Ad),i),i.id=i.id||`mat-mdc-dialog-${x7++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(r,pe(O({},i),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:So,useValue:i}]},templateContext:()=>({dialogRef:s}),providers:(a,c,l)=>(s=new this._dialogRefConstructor(a,i,l),s.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=o.componentRef,s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(r){return this.openDialogs.find(i=>i.id===r)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(r){let i=r.length;for(;i--;)r[i].close()}};e.\u0275fac=function(i){return new(i||e)(R(Kn),R(Ce),R(gr,8),R(A7,8),R(R7),R(e,12),R(Nc),R(Ti,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var N7=t=>({"pb-10":t});function k7(t,e){if(t&1){let n=G_();Ht(0,"button",12),ft("click",function(){d_(n);let i=ya();return h_(i.cancel())}),FA(),Ht(1,"svg",13),Ri(2,"path",14),Mt(),LA(),Ht(3,"span",15),va(4,"Close modal"),Mt()()}}function O7(t,e){t&1&&q_(0)}function P7(t,e){if(t&1&&Bn(0,O7,1,0,"ng-container",16),t&2){let n=ya();Ps("ngTemplateOutlet",n.contentTemplateRef)}}function F7(t,e){if(t&1){let n=G_();Ht(0,"button",17),ft("click",function(){d_(n);let i=ya();return h_(i.cancel())}),va(1),Mt()}if(t&2){let n=ya();jn(),Fs(" ",n.cancelText," ")}}var zF=(()=>{let e=class e{constructor(r){if(this.data=r,this.doConfirm=I_(),this.doCancel=I_(),this.title="\u901A\u77E5",this.content="",this.okText="\u78BA\u8A8D",this.cancelText="\u53D6\u6D88",this.outsideClose=!1,this.showCrossBtn=!0,this.showCancelBtn=!0,this.btnCenter=!0,this.fullScreen=!1,this.data){let{title:i,content:s,okText:o,cancelText:a,showCrossBtn:c,outsideClose:l,showCancelBtn:d,contentTemplateRef:f,btnCenter:g,fullScreen:y,afterViewInit:E}=r;this.title=i??this.title,this.content=s??this.content,this.okText=o??this.okText,this.cancelText=a??this.cancelText,this.showCrossBtn=c??this.showCrossBtn,this.outsideClose=l??this.outsideClose,this.showCancelBtn=d??this.showCancelBtn,this.btnCenter=g??this.btnCenter,this.contentTemplateRef=f,this.fullScreen=y??this.fullScreen,this.afterViewInitEvent=E||(()=>{})}}ngOnInit(){}ngAfterViewInit(){this.afterViewInitEvent()}clickOutsideClose(){this.outsideClose&&this.cancel()}cancel(){this.doCancel.emit()}ok(){this.doConfirm.emit()}};e.\u0275fac=function(i){return new(i||e)(j(zC))},e.\u0275cmp=cr({type:e,selectors:[["app-modal"]],outputs:{doConfirm:"doConfirm",doCancel:"doCancel"},standalone:!0,features:[fr],decls:15,vars:10,consts:[[1,"bg-white","dark:bg-gray-700","min-w-72","min-h-48","flex","overflow-y-auto","overflow-x-hidden","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","w-full","max-w-2xl","max-h-screen","overflow-scroll"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide","default-modal",3,"click",4,"ngIf"],[1,"p-4","md:p-5","space-y-4","text-gray-900","dark:text-white","min-h-20"],[3,"innerHTML"],[1,"flex","justify-center","items-center","p-4","md:p-5","border-t","border-gray-200","rounded-b","dark:border-gray-600"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["type","button","class","ms-3 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",3,"click",4,"ngIf"],[1,"fixed","h-full","w-full","top-0","left-0","-z-10",3,"click"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[4,"ngTemplateOutlet"],["type","button",1,"ms-3","text-gray-500","bg-white","hover:bg-gray-100","focus:ring-4","focus:outline-none","focus:ring-blue-300","rounded-lg","border","border-gray-200","text-sm","font-medium","px-5","py-2.5","hover:text-gray-900","focus:z-10","dark:bg-gray-700","dark:text-gray-300","dark:border-gray-500","dark:hover:text-white","dark:hover:bg-gray-600","dark:focus:ring-gray-600",3,"click"]],template:function(i,s){i&1&&(Ht(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),va(5),Mt(),Bn(6,k7,5,0,"button",5),Mt(),Ht(7,"div",6),Ri(8,"p",7),Bn(9,P7,1,1,"ng-container"),Mt(),Ht(10,"div",8)(11,"button",9),ft("click",function(){return s.ok()}),va(12),Mt(),Bn(13,F7,2,1,"button",10),Mt()()()(),Ht(14,"div",11),ft("click",function(){return s.clickOutsideClose()}),Mt()),i&2&&(jn(5),Fs(" ",s.title," "),jn(),Ps("ngIf",s.showCrossBtn&&s.showCancelBtn),jn(2),Ps("innerHTML",s.content,fR),jn(),z_(s.contentTemplateRef?9:-1),jn(),dx(Ex(8,N7,s.fullScreen)),jn(2),Fs(" ",s.okText," "),jn(),Ps("ngIf",s.showCancelBtn))},dependencies:[Vs,zx,qx]});let t=e;return t})();var Vhe=(()=>{let e=class e{constructor(r){this.dialog=r,this.modalQueue=[],this.currentModal$=new su,this.executeStatus$=new J,this.executeModal()}executeModal(){this.executeStatus$.subscribe(()=>{this.modalQueue.length>0&&this.currentModal$.next(this.modalQueue[0])})}openConfirm(r){let i=Date.now();this.pushModalConfig(i);let s=o=>{let a={data:O({},o)};return o.fullScreen?O({maxWidth:"100vw",width:"100%"},a):a};return this.modalQueue.length===1&&this.executeStatus$.next(!0),new Promise(o=>{this.currentModal$.subscribe(a=>{if(a===i){let c=this.dialog.open(zF,s(r));o(c),c.componentInstance.doConfirm.subscribe(()=>{r.onOk&&r.onOk(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)}),c.componentInstance.doCancel.subscribe(()=>{r.onCancel&&r.onCancel(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)})}})})}pushModalConfig(r){this.modalQueue.push(r)}cleanQueue(){let r=this.modalQueue[0];this.modalQueue=[r]}};e.\u0275fac=function(i){return new(i||e)(R(HF))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eL=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(j(dr),j(Te))},e.\u0275dir=De({type:e});let t=e;return t})(),Od=(()=>{let e=class e extends eL{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,features:[et]});let t=e;return t})(),Ro=new B(""),L7={provide:Ro,useExisting:mn(()=>V7),multi:!0},V7=(()=>{let e=class e extends Od{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&ft("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Xt([L7]),et]});let t=e;return t})(),j7={provide:Ro,useExisting:mn(()=>tL),multi:!0};function U7(){let t=pr()?pr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var B7=new B(""),tL=(()=>{let e=class e extends eL{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!U7())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(j(dr),j(Te),j(B7,8))},e.\u0275dir=De({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&ft("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Xt([j7]),et]});let t=e;return t})();function as(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function nL(t){return t!=null&&typeof t.length=="number"}var Hm=new B(""),zm=new B(""),$7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qF=class{static min(e){return H7(e)}static max(e){return z7(e)}static required(e){return q7(e)}static requiredTrue(e){return G7(e)}static email(e){return W7(e)}static minLength(e){return K7(e)}static maxLength(e){return Q7(e)}static pattern(e){return Y7(e)}static nullValidator(e){return rL(e)}static compose(e){return uL(e)}static composeAsync(e){return lL(e)}};function H7(t){return e=>{if(as(e.value)||as(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function z7(t){return e=>{if(as(e.value)||as(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function q7(t){return as(t.value)?{required:!0}:null}function G7(t){return t.value===!0?null:{required:!0}}function W7(t){return as(t.value)||$7.test(t.value)?null:{email:!0}}function K7(t){return e=>as(e.value)||!nL(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Q7(t){return e=>nL(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function Y7(t){if(!t)return rL;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(as(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function rL(t){return null}function iL(t){return t!=null}function sL(t){return Ls(t)?Ue(t):t}function oL(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function aL(t,e){return e.map(n=>n(t))}function Z7(t){return!t.validate}function cL(t){return t.map(e=>Z7(e)?e:n=>e.validate(n))}function uL(t){if(!t)return null;let e=t.filter(iL);return e.length==0?null:function(n){return oL(aL(n,e))}}function KC(t){return t!=null?uL(cL(t)):null}function lL(t){if(!t)return null;let e=t.filter(iL);return e.length==0?null:function(n){let r=aL(n,e).map(sL);return Fy(r).pipe(de(oL))}}function QC(t){return t!=null?lL(cL(t)):null}function GF(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function dL(t){return t._rawValidators}function hL(t){return t._rawAsyncValidators}function qC(t){return t?Array.isArray(t)?t:[t]:[]}function Om(t,e){return Array.isArray(t)?t.includes(e):t===e}function WF(t,e){let n=qC(e);return qC(t).forEach(i=>{Om(n,i)||n.push(i)}),n}function KF(t,e){return qC(e).filter(n=>!Om(t,n))}var Pm=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ri=class extends Pm{get formDirective(){return null}get path(){return null}},Ao=class extends Pm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Fm=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},X7={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nfe=pe(O({},X7),{"[class.ng-submitted]":"isSubmitted"}),rfe=(()=>{let e=class e extends Fm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(Ao,2))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Vr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[et]});let t=e;return t})(),ife=(()=>{let e=class e extends Fm{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(j(ri,10))},e.\u0275dir=De({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Vr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[et]});let t=e;return t})();var Rd="VALID",km="INVALID",Oc="PENDING",xd="DISABLED",cs=class{},Lm=class extends cs{constructor(e,n){super(),this.value=e,this.source=n}},Nd=class extends cs{constructor(e,n){super(),this.pristine=e,this.source=n}},kd=class extends cs{constructor(e,n){super(),this.touched=e,this.source=n}},Pc=class extends cs{constructor(e,n){super(),this.status=e,this.source=n}},GC=class extends cs{constructor(e){super(),this.source=e}},WC=class extends cs{constructor(e){super(),this.source=e}};function fL(t){return(qm(t)?t.validators:t)||null}function J7(t){return Array.isArray(t)?KC(t):t||null}function pL(t,e){return(qm(e)?e.asyncValidators:t)||null}function eQ(t){return Array.isArray(t)?QC(t):t||null}function qm(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tQ(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function nQ(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var Vm=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new J,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Rd}get invalid(){return this.status===km}get pending(){return this.status==Oc}get disabled(){return this.status===xd}get enabled(){return this.status!==xd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(WF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KF(e,this._rawAsyncValidators))}hasValidator(e){return Om(this._rawValidators,e)}hasAsyncValidator(e){return Om(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new kd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new kd(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Nd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Nd(!0,r))}markAsPending(e={}){this.status=Oc;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Pc(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xd,this.errors=null,this._forEachChild(i=>{i.disable(pe(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lm(this.value,r)),this._events.next(new Pc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Rd,this._forEachChild(r=>{r.enable(pe(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rd||this.status===Oc)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Lm(this.value,n)),this._events.next(new Pc(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xd:Rd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Oc,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=sL(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Pc(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?xd:this.errors?km:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oc)?Oc:this._anyControlsHaveStatus(km)?km:Rd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Nd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new kd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=J7(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eQ(this._rawAsyncValidators)}},jm=class extends Vm{constructor(e,n,r){super(fL(n),pL(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nQ(this,!0,e),Object.keys(e).forEach(r=>{tQ(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Pd=new B("CallSetDisabledState",{providedIn:"root",factory:()=>Gm}),Gm="always";function gL(t,e){return[...e.path,t]}function Um(t,e,n=Gm){YC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),iQ(t,e),oQ(t,e),sQ(t,e),rQ(t,e)}function QF(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),$m(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Bm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rQ(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function YC(t,e){let n=dL(t);e.validator!==null?t.setValidators(GF(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=hL(t);e.asyncValidator!==null?t.setAsyncValidators(GF(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Bm(e._rawValidators,i),Bm(e._rawAsyncValidators,i)}function $m(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=dL(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=hL(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Bm(e._rawValidators,r),Bm(e._rawAsyncValidators,r),n}function iQ(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&mL(t,e)})}function sQ(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&mL(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function mL(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function oQ(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function yL(t,e){t==null,YC(t,e)}function aQ(t,e){return $m(t,e)}function vL(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function cQ(t){return Object.getPrototypeOf(t.constructor)===Od}function _L(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function wL(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===tL?n=s:cQ(s)?r=s:i=s}),i||r||n||null}function uQ(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var lQ={provide:ri,useExisting:mn(()=>dQ)},Md=Promise.resolve(),dQ=(()=>{let e=class e extends ri{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ae,this.form=new jm({},KC(r),QC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Md.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Um(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Md.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Md.then(()=>{let i=this._findContainer(r.path),s=new jm({});yL(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Md.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Md.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,_L(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(j(Hm,10),j(zm,10),j(Pd,8))},e.\u0275dir=De({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&ft("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xt([lQ]),et]});let t=e;return t})();function YF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZF(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var IL=class extends Vm{constructor(e=null,n,r){super(fL(n),pL(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ZF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){YF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){YF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ZF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var hQ=t=>t instanceof IL;var fQ={provide:Ao,useExisting:mn(()=>pQ)},XF=Promise.resolve(),pQ=(()=>{let e=class e extends Ao{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new IL,this._registered=!1,this.name="",this.update=new Ae,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=wL(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),vL(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Um(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){XF.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&En(i);XF.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?gL(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(j(ri,9),j(Hm,10),j(zm,10),j(Ro,10),j(In,8),j(Pd,8))},e.\u0275dir=De({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xt([fQ]),et,$t]});let t=e;return t})();var gQ={provide:Ro,useExisting:mn(()=>mQ),multi:!0},mQ=(()=>{let e=class e extends Od{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&ft("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Xt([gQ]),et]});let t=e;return t})();var EL=new B("");var yQ={provide:ri,useExisting:mn(()=>vQ)},vQ=(()=>{let e=class e extends ri{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($m(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return Um(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){QF(r.control||null,r,!1),uQ(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,_L(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new GC(this.control)),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1,this.form._events.next(new WC(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(QF(i||null,r),hQ(s)&&(Um(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);yL(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&aQ(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){YC(this.form,this),this._oldForm&&$m(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(j(Hm,10),j(zm,10),j(Pd,8))},e.\u0275dir=De({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&ft("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xt([yQ]),et,$t]});let t=e;return t})();var _Q={provide:Ao,useExisting:mn(()=>wQ)},wQ=(()=>{let e=class e extends Ao{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=wL(this,o)}ngOnChanges(r){this._added||this._setUpControl(),vL(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return gL(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(j(ri,13),j(Hm,10),j(zm,10),j(Ro,10),j(EL,8))},e.\u0275dir=De({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Xt([_Q]),et,$t]});let t=e;return t})(),IQ={provide:Ro,useExisting:mn(()=>DL),multi:!0};function bL(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function EQ(t){return t.split(":")[0]}var DL=(()=>{let e=class e extends Od{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=bL(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=EQ(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&ft("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xt([IQ]),et]});let t=e;return t})(),ofe=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(bL(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(dr),j(DL,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),bQ={provide:Ro,useExisting:mn(()=>CL),multi:!0};function JF(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function DQ(t){return t.split(":")[0]}var CL=(()=>{let e=class e extends Od{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let l=a[c],d=this._getOptionValue(l.value);s.push(d)}}else{let a=i.options;for(let c=0;c<a.length;c++){let l=a[c];if(l.selected){let d=this._getOptionValue(l.value);s.push(d)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=DQ(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vn(e)))(s||e)}})(),e.\u0275dir=De({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&ft("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xt([bQ]),et]});let t=e;return t})(),afe=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(JF(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(JF(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(j(Te),j(dr),j(CL,9))},e.\u0275dir=De({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var TL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({});let t=e;return t})();var ZC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Pd,useValue:r.callSetDisabledState??Gm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[TL]});let t=e;return t})(),XC=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:EL,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Pd,useValue:r.callSetDisabledState??Gm}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[TL]});let t=e;return t})();var CQ=[Vs,ZC,XC,hC],ffe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=be({type:e}),e.\u0275inj=Ee({imports:[CQ,Vs,ZC,XC,hC]});let t=e;return t})();export{O as a,pe as b,TQ as c,SQ as d,AQ as e,v as f,ke as g,re as h,J as i,Xe as j,DT as k,Vt as l,AZ as m,te as n,zo as o,de as p,Xn as q,pi as r,au as s,WV as t,cu as u,KV as v,He as w,Je as x,YV as y,JV as z,Nn as A,tn as B,er as C,st as D,Q as E,mn as F,L as G,Ee as H,B as I,cj as J,R as K,P as L,ct as M,KS as N,cr as O,be as P,De as Q,Ln as R,$j as S,Rt as T,$t as U,d_ as V,h_ as W,FA as X,LA as Y,Vn as Z,w_ as _,Ce as $,I_ as aa,Vre as ba,Te as ca,Ae as da,_n as ea,Ti as fa,jn as ga,j as ha,AR as ia,Fn as ja,ua as ka,W as la,Ai as ma,wn as na,$_ as oa,$re as pa,et as qa,Lr as ra,Bn as sa,hr as ta,Ps as ua,H_ as va,Vr as wa,dx as xa,z_ as ya,Hre as za,zre as Aa,qre as Ba,Gre as Ca,Ht as Da,Mt as Ea,Ri as Fa,G_ as Ga,Kf as Ha,rH as Ia,ft as Ja,lH as Ka,ya as La,_x as Ma,wx as Na,pH as Oa,Qf as Pa,Ou as Qa,Pu as Ra,Wre as Sa,Kre as Ta,Qre as Ua,va as Va,yH as Wa,Fs as Xa,vH as Ya,Yre as Za,_H as _a,Xt as $a,fr as ab,Ex as bb,Zre as cb,Xre as db,Jre as eb,wa as fb,jr as gb,eie as hb,In as ib,En as jb,xx as kb,tie as lb,ae as mb,Ux as nb,Eie as ob,zx as pb,bie as qb,Vs as rb,uw as sb,Wx as tb,Hie as ub,zie as vb,qie as wb,Nse as xb,kse as yb,Ose as zb,Gs as Ab,Doe as Bb,MI as Cb,EN as Db,rt as Eb,mo as Fb,ice as Gb,sce as Hb,oce as Ib,ace as Jb,cce as Kb,uce as Lb,lce as Mb,dce as Nb,hce as Ob,fce as Pb,pce as Qb,gce as Rb,mce as Sb,yce as Tb,vce as Ub,_ce as Vb,wce as Wb,Ice as Xb,Ece as Yb,wo as Zb,Wce as _b,Qce as $b,Yce as ac,Qn as bc,Yde as cc,Zde as dc,Xde as ec,Jde as fc,ehe as gc,the as hc,nhe as ic,rhe as jc,ihe as kc,she as lc,ohe as mc,LF as nc,VF as oc,ahe as pc,is as qc,q8 as rc,Wn as sc,pue as tc,gue as uc,hC as vc,_ue as wc,Eue as xc,yK as yc,gd as zc,Dc as Ac,ti as Bc,Cue as Cc,Ze as Dc,Nue as Ec,Tc as Fc,iF as Gc,Sc as Hc,An as Ic,_d as Jc,oF as Kc,gC as Lc,sF as Mc,Ac as Nc,Rc as Oc,xc as Pc,Id as Qc,Mc as Rc,Tm as Sc,Ed as Tc,ni as Uc,bC as Vc,Kn as Wc,CC as Xc,gF as Yc,vF as Zc,Mle as _c,bd as $c,Dd as ad,Jle as bd,AC as cd,RC as dd,ede as ed,Cd as fd,tde as gd,DF as hd,So as id,OC as jd,PC as kd,h7 as ld,$de as md,Hde as nd,CF as od,TF as pd,Mm as qd,m7 as rd,v7 as sd,zde as td,qde as ud,Gde as vd,Wde as wd,Vhe as xd,Ro as yd,V7 as zd,tL as Ad,Hm as Bd,qF as Cd,ri as Dd,Ao as Ed,rfe as Fd,ife as Gd,jm as Hd,dQ as Id,IL as Jd,pQ as Kd,mQ as Ld,vQ as Md,wQ as Nd,DL as Od,ofe as Pd,afe as Qd,ZC as Rd,ffe as Sd};
