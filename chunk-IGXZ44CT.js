var aF=Object.create;var Nm=Object.defineProperty,cF=Object.defineProperties,lF=Object.getOwnPropertyDescriptor,uF=Object.getOwnPropertyDescriptors,dF=Object.getOwnPropertyNames,Mu=Object.getOwnPropertySymbols,YD=Object.getPrototypeOf,Pm=Object.prototype.hasOwnProperty,ZD=Object.prototype.propertyIsEnumerable,hF=Reflect.get;var QD=(t,e,n)=>e in t?Nm(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})Pm.call(e,n)&&QD(t,n,e[n]);if(Mu)for(var n of Mu(e))ZD.call(e,n)&&QD(t,n,e[n]);return t},ue=(t,e)=>cF(t,uF(e));var XD=(t,e)=>{var n={};for(var i in t)Pm.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Mu)for(var i of Mu(t))e.indexOf(i)<0&&ZD.call(t,i)&&(n[i]=t[i]);return n};var nK=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var fF=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of dF(e))!Pm.call(t,r)&&r!==n&&Nm(t,r,{get:()=>e[r],enumerable:!(i=lF(e,r))||i.enumerable});return t};var iK=(t,e,n)=>(n=t!=null?aF(YD(t)):{},fF(e||!t||!t.__esModule?Nm(n,"default",{value:t,enumerable:!0}):n,t));var Hi=(t,e,n)=>hF(YD(t),n,e);var m=(t,e,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});function pF(t,e){return Object.is(t,e)}var tt=null,Nu=!1,Pu=1,Xs=Symbol("SIGNAL");function at(t){let e=tt;return tt=t,e}var Om={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function JD(t){if(Nu)throw new Error("");if(tt===null)return;tt.consumerOnSignalRead(t);let e=tt.nextProducerIndex++;if(Zs(tt),e<tt.producerNode.length&&tt.producerNode[e]!==t&&ja(tt)){let n=tt.producerNode[e];Ou(n,tt.producerIndexOfThis[e])}tt.producerNode[e]!==t&&(tt.producerNode[e]=t,tt.producerIndexOfThis[e]=ja(tt)?s0(t,tt,e):0),tt.producerLastReadVersion[e]=t.version}function mF(){Pu++}function gF(t){if(!(ja(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Pu)){if(!t.producerMustRecompute(t)&&!km(t)){t.dirty=!1,t.lastCleanEpoch=Pu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Pu}}function e0(t){if(t.liveConsumerNode===void 0)return;let e=Nu;Nu=!0;try{for(let n of t.liveConsumerNode)n.dirty||yF(n)}finally{Nu=e}}function t0(){return tt?.consumerAllowSignalWrites!==!1}function yF(t){t.dirty=!0,e0(t),t.consumerMarkedDirty?.(t)}function n0(t){return t&&(t.nextProducerIndex=0),at(t)}function i0(t,e){if(at(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ja(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ou(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function km(t){Zs(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(gF(n),i!==n.version))return!0}return!1}function r0(t){if(Zs(t),ja(t))for(let e=0;e<t.producerNode.length;e++)Ou(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function s0(t,e,n){if(o0(t),Zs(t),t.liveConsumerNode.length===0)for(let i=0;i<t.producerNode.length;i++)t.producerIndexOfThis[i]=s0(t.producerNode[i],t,i);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ou(t,e){if(o0(t),Zs(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)Ou(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Zs(r),r.producerIndexOfThis[i]=e}}function ja(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Zs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function o0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function _F(){throw new Error}var a0=_F;function c0(){a0()}function l0(t){a0=t}var vF=null;function u0(t){let e=Object.create(h0);e.value=t;let n=()=>(JD(e),e.value);return n[Xs]=e,n}function Fm(t,e){t0()||c0(),t.equal(t.value,e)||(t.value=e,wF(t))}function d0(t,e){t0()||c0(),Fm(t,e(t.value))}var h0=ue(w({},Om),{equal:pF,value:void 0});function wF(t){t.version++,mF(),e0(t),vF?.()}function O(t){return typeof t=="function"}function Js(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ku=Js(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function jr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ie=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(O(i))try{i()}catch(s){e=s instanceof ku?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{f0(s)}catch(o){e=e??[],o instanceof ku?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ku(e)}}add(e){var n;if(e&&e!==this)if(this.closed)f0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&jr(n,e)}remove(e){let{_finalizers:n}=this;n&&jr(n,e),e instanceof t&&e._removeParent(this)}};Ie.EMPTY=(()=>{let t=new Ie;return t.closed=!0,t})();var Lm=Ie.EMPTY;function Fu(t){return t instanceof Ie||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function f0(t){O(t)?t():t.unsubscribe()}var yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var eo={setTimeout(t,e,...n){let{delegate:i}=eo;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=eo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Lu(t){eo.setTimeout(()=>{let{onUnhandledError:e}=yn;if(e)e(t);else throw t})}function Ei(){}var p0=Vm("C",void 0,void 0);function m0(t){return Vm("E",void 0,t)}function g0(t){return Vm("N",t,void 0)}function Vm(t,e,n){return{kind:t,value:e,error:n}}var Br=null;function to(t){if(yn.useDeprecatedSynchronousErrorHandling){let e=!Br;if(e&&(Br={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Br;if(Br=null,n)throw i}}else t()}function y0(t){yn.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=t)}var Ur=class extends Ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fu(e)&&e.add(this)):this.destination=bF}static create(e,n,i){return new no(e,n,i)}next(e){this.isStopped?Bm(g0(e),this):this._next(e)}error(e){this.isStopped?Bm(m0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bm(p0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},EF=Function.prototype.bind;function jm(t,e){return EF.call(t,e)}var Um=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Vu(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Vu(i)}else Vu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vu(n)}}},no=class extends Ur{constructor(e,n,i){super();let r;if(O(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&yn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&jm(e.next,s),error:e.error&&jm(e.error,s),complete:e.complete&&jm(e.complete,s)}):r=e}this.destination=new Um(r)}};function Vu(t){yn.useDeprecatedSynchronousErrorHandling?y0(t):Lu(t)}function IF(t){throw t}function Bm(t,e){let{onStoppedNotification:n}=yn;n&&eo.setTimeout(()=>n(t,e))}var bF={closed:!0,next:Ei,error:IF,complete:Ei};var io=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Dt(t){return t}function ju(...t){return $m(t)}function $m(t){return t.length===0?Dt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var U=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=CF(n)?n:new no(n,i,r);return to(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=_0(i),new i((r,s)=>{let o=new no({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[io](){return this}pipe(...n){return $m(n)(this)}toPromise(n){return n=_0(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function _0(t){var e;return(e=t??yn.Promise)!==null&&e!==void 0?e:Promise}function DF(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function CF(t){return t&&t instanceof Ur||DF(t)&&Fu(t)}function Hm(t){return O(t?.lift)}function Z(t){return e=>{if(Hm(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,i,r){return new zm(t,e,n,i,r)}var zm=class extends Ur{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ro(){return Z((t,e)=>{let n=null;t._refCount++;let i=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var zi=class extends U{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Hm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ie;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ie.EMPTY)}return e}refCount(){return ro()(this)}};var so={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame,{delegate:i}=so;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);let r=e(s=>{n=void 0,t(s)});return new Ie(()=>n?.(r))},requestAnimationFrame(...t){let{delegate:e}=so;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=so;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var v0=Js(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var $=(()=>{class t extends U{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Bu(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new v0}next(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){to(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?Lm:(this.currentObservers=null,s.push(n),new Ie(()=>{this.currentObservers=null,jr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new U;return n.source=this,n}}return t.create=(e,n)=>new Bu(e,n),t})(),Bu=class extends ${constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:Lm}};var qe=class extends ${constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Ba={now(){return(Ba.delegate||Date).now()},delegate:void 0};var Ua=class extends ${constructor(e=1/0,n=1/0,i=Ba){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=o;c+=2)a=c;a&&i.splice(0,a+1)}}};var Uu=class extends Ie{constructor(e,n){super()}schedule(e,n=0){return this}};var $a={setInterval(t,e,...n){let{delegate:i}=$a;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=$a;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qi=class extends Uu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return $a.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&$a.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,jr(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var oo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};oo.now=Ba.now;var Gi=class extends oo{constructor(e,n=oo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Jt=new Gi(qi),qm=Jt;var $u=class extends qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Hu=class extends Gi{};var Gm=new Hu($u);var zu=class extends qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return i!==null&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=so.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,i=0){var r;if(i!=null?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);let{actions:s}=e;n!=null&&((r=s[s.length-1])===null||r===void 0?void 0:r.id)!==n&&(so.cancelAnimationFrame(n),e._scheduled=void 0)}};var qu=class extends Gi{flush(e){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:i}=this,r;e=e||i.shift();do if(r=e.execute(e.state,e.delay))break;while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}};var w0=new qu(zu);var Nt=new U(t=>t.complete());function Gu(t){return t&&O(t.schedule)}function Wm(t){return t[t.length-1]}function Wu(t){return O(Wm(t))?t.pop():void 0}function kn(t){return Gu(Wm(t))?t.pop():void 0}function E0(t,e){return typeof Wm(t)=="number"?t.pop():e}function Ku(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function i7(t,e,n,i){var r=arguments.length,s=r<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,n,s):o(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}function b0(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):r(u.value).then(a,c)}l((i=i.apply(t,e||[])).next())})}function I0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $r(t){return this instanceof $r?(this.v=t,this):new $r(t)}function D0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof $r?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function C0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof I0=="function"?I0(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var ao=t=>t&&typeof t.length=="number"&&typeof t!="function";function Qu(t){return O(t?.then)}function Yu(t){return O(t[io])}function Zu(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function Xu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ju=TF();function ed(t){return O(t?.[Ju])}function td(t){return D0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield $r(n.read());if(r)return yield $r(void 0);yield yield $r(i)}}finally{n.releaseLock()}})}function nd(t){return O(t?.getReader)}function _e(t){if(t instanceof U)return t;if(t!=null){if(Yu(t))return SF(t);if(ao(t))return AF(t);if(Qu(t))return RF(t);if(Zu(t))return T0(t);if(ed(t))return xF(t);if(nd(t))return MF(t)}throw Xu(t)}function SF(t){return new U(e=>{let n=t[io]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function AF(t){return new U(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function RF(t){return new U(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Lu)})}function xF(t){return new U(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function T0(t){return new U(e=>{NF(t,e).catch(n=>e.error(n))})}function MF(t){return T0(td(t))}function NF(t,e){var n,i,r,s;return b0(this,void 0,void 0,function*(){try{for(n=C0(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function Pt(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function Wi(t,e=0){return Z((n,i)=>{n.subscribe(W(i,r=>Pt(i,t,()=>i.next(r),e),()=>Pt(i,t,()=>i.complete(),e),r=>Pt(i,t,()=>i.error(r),e)))})}function Ki(t,e=0){return Z((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function S0(t,e){return _e(t).pipe(Ki(e),Wi(e))}function A0(t,e){return _e(t).pipe(Ki(e),Wi(e))}function R0(t,e){return new U(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function x0(t,e){return new U(n=>{let i;return Pt(n,e,()=>{i=t[Ju](),Pt(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>O(i?.return)&&i.return()})}function id(t,e){if(!t)throw new Error("Iterable cannot be null");return new U(n=>{Pt(n,e,()=>{let i=t[Symbol.asyncIterator]();Pt(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function M0(t,e){return id(td(t),e)}function N0(t,e){if(t!=null){if(Yu(t))return S0(t,e);if(ao(t))return R0(t,e);if(Qu(t))return A0(t,e);if(Zu(t))return id(t,e);if(ed(t))return x0(t,e);if(nd(t))return M0(t,e)}throw Xu(t)}function Te(t,e){return e?N0(t,e):_e(t)}function F(...t){let e=kn(t);return Te(t,e)}function co(t,e){let n=O(t)?t:()=>t,i=r=>r.error(n());return new U(e?r=>e.schedule(i,0,r):i)}function rd(t){return!!t&&(t instanceof U||O(t.lift)&&O(t.subscribe))}var Ii=Js(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function P0(t){return t instanceof Date&&!isNaN(t)}function K(t,e){return Z((n,i)=>{let r=0;n.subscribe(W(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:PF}=Array;function OF(t,e){return PF(e)?t(...e):t(e)}function lo(t){return K(e=>OF(t,e))}var{isArray:kF}=Array,{getPrototypeOf:FF,prototype:LF,keys:VF}=Object;function sd(t){if(t.length===1){let e=t[0];if(kF(e))return{args:e,keys:null};if(jF(e)){let n=VF(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function jF(t){return t&&typeof t=="object"&&FF(t)===LF}function od(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Hr(...t){let e=kn(t),n=Wu(t),{args:i,keys:r}=sd(t);if(i.length===0)return Te([],e);let s=new U(BF(i,e,r?o=>od(r,o):Dt));return n?s.pipe(lo(n)):s}function BF(t,e,n=Dt){return i=>{O0(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)O0(e,()=>{let l=Te(t[c],e),u=!1;l.subscribe(W(i,d=>{s[c]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function O0(t,e,n){t?Pt(n,t,e):e()}function k0(t,e,n,i,r,s,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=g=>l<i?p(g):c.push(g),p=g=>{s&&e.next(g),l++;let _=!1;_e(n(g,u++)).subscribe(W(e,I=>{r?.(I),s?f(I):e.next(I)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<i;){let I=c.shift();o?Pt(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(W(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Re(t,e,n=1/0){return O(e)?Re((i,r)=>K((s,o)=>e(i,s,r,o))(_e(t(i,r))),n):(typeof e=="number"&&(n=e),Z((i,r)=>k0(i,r,t,n)))}function Qi(t=1/0){return Re(Dt,t)}function F0(){return Qi(1)}function Fn(...t){return F0()(Te(t,kn(t)))}function Yi(t){return new U(e=>{_e(t()).subscribe(e)})}function Km(...t){let e=Wu(t),{args:n,keys:i}=sd(t),r=new U(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;_e(n[u]).subscribe(W(s,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(i?od(i,a):a),s.complete())}))}});return e?r.pipe(lo(e)):r}var UF=["addListener","removeListener"],$F=["addEventListener","removeEventListener"],HF=["on","off"];function Ha(t,e,n,i){if(O(n)&&(i=n,n=void 0),i)return Ha(t,e,n).pipe(lo(i));let[r,s]=GF(t)?$F.map(o=>a=>t[o](e,a,n)):zF(t)?UF.map(L0(t,e)):qF(t)?HF.map(L0(t,e)):[];if(!r&&ao(t))return Re(o=>Ha(o,e,n))(_e(t));if(!r)throw new TypeError("Invalid event target");return new U(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function L0(t,e){return n=>i=>t[n](e,i)}function zF(t){return O(t.addListener)&&O(t.removeListener)}function qF(t){return O(t.on)&&O(t.off)}function GF(t){return O(t.addEventListener)&&O(t.removeEventListener)}function uo(t=0,e,n=qm){let i=-1;return e!=null&&(Gu(e)?n=e:i=e),new U(r=>{let s=P0(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function WF(t=0,e=Jt){return t<0&&(t=0),uo(t,t,e)}function za(...t){let e=kn(t),n=E0(t,1/0),i=t;return i.length?i.length===1?_e(i[0]):Qi(n)(Te(i,e)):Nt}var KF=new U(Ei);function xe(t,e){return Z((n,i)=>{let r=0;n.subscribe(W(i,s=>t.call(e,s,r++)&&i.next(s)))})}function V0(t){return Z((e,n)=>{let i=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;let l=r;r=null,n.next(l)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};e.subscribe(W(n,l=>{i=!0,r=l,s||_e(t(l)).subscribe(s=W(n,a,c))},()=>{o=!0,(!i||!s||s.closed)&&n.complete()}))})}function ad(t,e=Jt){return V0(()=>uo(t,e))}function Zi(t){return Z((e,n)=>{let i=null,r=!1,s;i=e.subscribe(W(n,void 0,void 0,o=>{s=_e(t(o,Zi(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function j0(t,e,n,i,r){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(W(o,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function zr(t,e){return O(e)?Re(t,e,1):Re(t,1)}function B0(t){return new U(e=>t.subscribe(e))}var QF={connector:()=>new $};function cd(t,e=QF){let{connector:n}=e;return Z((i,r)=>{let s=n();_e(t(B0(s))).subscribe(r),r.add(i.subscribe(s))})}function ld(t,e=Jt){return Z((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=s;s=null,i.next(l)}};function c(){let l=o+t,u=e.now();if(u<l){r=this.schedule(void 0,l-u),i.add(r);return}a()}n.subscribe(W(i,l=>{s=l,o=e.now(),r||(r=e.schedule(c,t),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function Xi(t){return Z((e,n)=>{let i=!1;e.subscribe(W(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function ke(t){return t<=0?()=>Nt:Z((e,n)=>{let i=0;e.subscribe(W(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function U0(){return Z((t,e)=>{t.subscribe(W(e,Ei))})}function qa(t){return K(()=>t)}function Qm(t,e){return e?n=>Fn(e.pipe(ke(1),U0()),n.pipe(Qm(t))):Re((n,i)=>_e(t(n,i)).pipe(ke(1),qa(n)))}function YF(t,e=Jt){let n=uo(t,e);return Qm(()=>n)}function Ga(t,e=Dt){return t=t??ZF,Z((n,i)=>{let r,s=!0;n.subscribe(W(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function ZF(t,e){return t===e}function ud(t=XF){return Z((e,n)=>{let i=!1;e.subscribe(W(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function XF(){return new Ii}function Wa(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ln(t,e){let n=arguments.length>=2;return i=>i.pipe(t?xe((r,s)=>t(r,s,i)):Dt,ke(1),n?Xi(e):ud(()=>new Ii))}function ho(t){return t<=0?()=>Nt:Z((e,n)=>{let i=[];e.subscribe(W(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Ym(t,e){let n=arguments.length>=2;return i=>i.pipe(t?xe((r,s)=>t(r,s,i)):Dt,ho(1),n?Xi(e):ud(()=>new Ii))}function $0(t,e){let n=O(t)?t:()=>t;return O(e)?cd(e,{connector:n}):i=>new zi(i,n)}function JF(t){return t?e=>cd(t)(e):e=>$0(new $)(e)}function dd(t,e){return Z(j0(t,e,arguments.length>=2,!0))}function Ka(t){return xe((e,n)=>t<=n)}function _n(...t){let e=kn(t);return Z((n,i)=>{(e?Fn(t,n,e):Fn(t,n)).subscribe(i)})}function Vt(t,e){return Z((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(W(i,c=>{r?.unsubscribe();let l=0,u=s++;_e(t(c,u)).subscribe(r=W(i,d=>i.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function vn(t){return Z((e,n)=>{_e(t).subscribe(W(n,()=>n.complete(),Ei)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let i=O(t)||e||n?{next:t,error:e,complete:n}:t;return i?Z((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(W(s,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),s.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Dt}var AC="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(my(e,n)),this.code=e}};function my(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function e1(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function St(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(St).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function mg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var t1=De({__forward_ref__:De});function rr(t){return t.__forward_ref__=rr,t.toString=function(){return St(this())},t}function Ct(t){return RC(t)?t():t}function RC(t){return typeof t=="function"&&t.hasOwnProperty(t1)&&t.__forward_ref__===rr}function xC(t){return t&&!!t.\u0275providers}var n1=De({\u0275cmp:De}),i1=De({\u0275dir:De}),r1=De({\u0275pipe:De}),s1=De({\u0275mod:De}),Dd=De({\u0275fac:De}),Qa=De({__NG_ELEMENT_ID__:De}),H0=De({__NG_ENV_ID__:De});function cc(t){return typeof t=="string"?t:t==null?"":String(t)}function o1(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():cc(t)}function a1(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,`Circular dependency in DI detected for ${t}${n}`)}function gy(t,e){throw new C(-201,!1)}function c1(t,e){t==null&&l1(e,t,null,"!=")}function l1(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+(i==null?"":` [Expected=> ${n} ${i} ${e} <=Actual]`))}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function X(t){return{providers:t.providers||[],imports:t.imports||[]}}function qd(t){return z0(t,NC)||z0(t,PC)}function MC(t){return qd(t)!==null}function z0(t,e){return t.hasOwnProperty(e)?t[e]:null}function u1(t){let e=t&&(t[NC]||t[PC]);return e||null}function q0(t){return t&&(t.hasOwnProperty(G0)||t.hasOwnProperty(d1))?t[G0]:null}var NC=De({\u0275prov:De}),G0=De({\u0275inj:De}),PC=De({ngInjectableDef:De}),d1=De({ngInjectorDef:De}),ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),gg;function OC(){return gg}function Ot(t){let e=gg;return gg=t,e}function kC(t,e,n){let i=qd(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ae.Optional)return null;if(e!==void 0)return e;gy(t,"Injector")}var Ke=globalThis;var T=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var h1={},Ya=h1,yg="__NG_DI_FLAG__",Cd="ngTempTokenPath",f1="ngTokenPath",p1=/\n/gm,m1="\u0275",W0="__source",yo;function g1(){return yo}function Ji(t){let e=yo;return yo=t,e}function y1(t,e=ae.Default){if(yo===void 0)throw new C(-203,!1);return yo===null?kC(t,void 0,e):yo.get(t,e&ae.Optional?null:void 0,e)}function y(t,e=ae.Default){return(OC()||y1)(Ct(t),e)}function D(t,e=ae.Default){return y(t,Gd(e))}function Gd(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function _g(t){let e=[];for(let n=0;n<t.length;n++){let i=Ct(t[n]);if(Array.isArray(i)){if(i.length===0)throw new C(900,!1);let r,s=ae.Default;for(let o=0;o<i.length;o++){let a=i[o],c=_1(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}e.push(y(r,s))}else e.push(y(i))}return e}function FC(t,e){return t[yg]=e,t.prototype[yg]=e,t}function _1(t){return t[yg]}function v1(t,e,n,i){let r=t[Cd];throw e[W0]&&r.unshift(e[W0]),t.message=w1(`
`+t.message,r,n,i),t[f1]=r,t[Cd]=null,t}function w1(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==m1?t.slice(2):t;let r=St(e);if(Array.isArray(e))r=e.map(St).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):St(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(p1,`
  `)}`}function lc(t){return{toString:t}.toString()}var LC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(LC||{}),Un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Un||{}),vo={},Tt=[],de=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(de||{});function VC(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function vg(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];E1(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function jC(t){return t===3||t===4||t===6}function E1(t){return t.charCodeAt(0)===64}function Za(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?K0(t,n,r,null,e[++i]):K0(t,n,r,null,null))}}return t}function K0(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var BC="ng-template";function I1(t,e,n){let i=0,r=!0;for(;i<t.length;){let s=t[i++];if(typeof s=="string"&&r){let o=t[i++];if(n&&s==="class"&&VC(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;i<t.length&&typeof(s=t[i++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(r=!1)}return!1}function UC(t){return t.type===4&&t.value!==BC}function b1(t,e,n){let i=t.type===4&&!n?BC:t.value;return e===i}function D1(t,e,n){let i=4,r=t.attrs||[],s=S1(r),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!wn(i)&&!wn(c))return!1;if(o&&wn(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!b1(t,c,n)||c===""&&e.length===1){if(wn(i))return!1;o=!0}}else{let l=i&8?c:e[++a];if(i&8&&t.attrs!==null){if(!I1(t.attrs,l,n)){if(wn(i))return!1;o=!0}continue}let u=i&8?"class":c,d=C1(u,r,UC(t),n);if(d===-1){if(wn(i))return!1;o=!0;continue}if(l!==""){let h;d>s?h="":h=r[d+1].toLowerCase();let f=i&8?h:null;if(f&&VC(f,l,0)!==-1||i&2&&l!==h){if(wn(i))return!1;o=!0}}}}return wn(i)||o}function wn(t){return(t&1)===0}function C1(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return A1(e,t)}function $C(t,e,n=!1){for(let i=0;i<e.length;i++)if(D1(t,e[i],n))return!0;return!1}function T1(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function S1(t){for(let e=0;e<t.length;e++){let n=t[e];if(jC(n))return e}return t.length}function A1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function R1(t,e){e:for(let n=0;n<e.length;n++){let i=e[n];if(t.length===i.length){for(let r=0;r<t.length;r++)if(t[r]!==i[r])continue e;return!0}}return!1}function Q0(t,e){return t?":not("+e.trim()+")":e}function x1(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!wn(o)&&(e+=Q0(s,r),r=""),i=o,s=s||!wn(i);n++}return r!==""&&(e+=Q0(s,r)),e}function M1(t){return t.map(x1).join(",")}function N1(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!wn(r))break;r=s}i++}return{attrs:e,classes:n}}function Gn(t){return lc(()=>{let e=KC(t),n=ue(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===LC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Un.Emulated,styles:t.styles||Tt,_:null,schemas:t.schemas||null,tView:null,id:""});QC(n);let i=t.dependencies;return n.directiveDefs=Z0(i,!1),n.pipeDefs=Z0(i,!0),n.id=k1(n),n})}function P1(t){return nr(t)||zC(t)}function O1(t){return t!==null}function J(t){return lc(()=>({type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Y0(t,e){if(t==null)return vo;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=de.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==de.None?[i,a]:i,e[s]=o):n[s]=i}return n}function be(t){return lc(()=>{let e=KC(t);return QC(e),e})}function HC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function nr(t){return t[n1]||null}function zC(t){return t[i1]||null}function qC(t){return t[r1]||null}function GC(t){let e=nr(t)||zC(t)||qC(t);return e!==null?e.standalone:!1}function WC(t,e){let n=t[s1]||null;if(!n&&e===!0)throw new Error(`Type ${St(t)} does not have '\u0275mod' property.`);return n}function KC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||vo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Y0(t.inputs,e),outputs:Y0(t.outputs),debugInfo:null}}function QC(t){t.features?.forEach(e=>e(t))}function Z0(t,e){if(!t)return null;let n=e?qC:P1;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(O1)}function k1(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Wn=0,H=1,Q=2,ct=3,In=4,$t=5,wo=6,Xa=7,nt=8,Eo=9,$n=10,Ve=11,Ja=12,X0=13,Ao=14,tn=15,uc=16,fo=17,Bn=18,dc=19,YC=20,er=21,Zm=22,Wr=23,Xe=25,yy=1;var Kr=7,Td=8,Io=9,ft=10,_y=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(_y||{});function tr(t){return Array.isArray(t)&&typeof t[yy]=="object"}function Ci(t){return Array.isArray(t)&&t[yy]===!0}function vy(t){return(t.flags&4)!==0}function Wd(t){return t.componentOffset>-1}function Kd(t){return(t.flags&1)===1}function bi(t){return!!t.template}function F1(t){return(t[Q]&512)!==0}function Qr(t,e){let n=t.hasOwnProperty(Dd);return n?t[Dd]:null}var wg=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function ZC(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function kt(){return XC}function XC(t){return t.type.prototype.ngOnChanges&&(t.setInput=V1),L1}kt.ngInherit=!0;function L1(){let t=eT(this),e=t?.current;if(e){let n=t.previous;if(n===vo)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function V1(t,e,n,i,r){let s=this.declaredInputs[i],o=eT(t)||j1(t,{previous:vo,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new wg(l&&l.currentValue,n,c===vo),ZC(t,e,r,n)}var JC="__ngSimpleChanges__";function eT(t){return t[JC]||null}function j1(t,e){return t[JC]=e}var J0=null;var Vn=function(t,e,n){J0?.(t,e,n)},tT="svg",B1="math",U1=!1;function $1(){return U1}function jt(t){for(;Array.isArray(t);)t=t[Wn];return t}function H1(t){for(;Array.isArray(t);){if(typeof t[yy]=="object")return t;t=t[Wn]}return null}function nT(t,e){return jt(e[t])}function rn(t,e){return jt(e[t.index])}function wy(t,e){return t.data[e]}function iT(t,e){return t[e]}function Hn(t,e){let n=e[t];return tr(n)?n:n[Wn]}function z1(t){return(t[Q]&4)===4}function Ey(t){return(t[Q]&128)===128}function q1(t){return Ci(t[ct])}function bo(t,e){return e==null?null:t[e]}function rT(t){t[fo]=0}function G1(t){t[Q]&1024||(t[Q]|=1024,Ey(t)&&ec(t))}function W1(t,e){for(;t>0;)e=e[Ao],t--;return e}function sT(t){return t[Q]&9216||t[Wr]?.dirty}function Eg(t){sT(t)?ec(t):t[Q]&64&&($1()?(t[Q]|=1024,ec(t)):t[$n].changeDetectionScheduler?.notify())}function ec(t){t[$n].changeDetectionScheduler?.notify();let e=tc(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Ey(e)));)e=tc(e)}function oT(t,e){if((t[Q]&256)===256)throw new C(911,!1);t[er]===null&&(t[er]=[]),t[er].push(e)}function K1(t,e){if(t[er]===null)return;let n=t[er].indexOf(e);n!==-1&&t[er].splice(n,1)}function tc(t){let e=t[ct];return Ci(e)?e[ct]:e}var ie={lFrame:pT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Q1(){return ie.lFrame.elementDepthCount}function Y1(){ie.lFrame.elementDepthCount++}function Z1(){ie.lFrame.elementDepthCount--}function aT(){return ie.bindingsEnabled}function cT(){return ie.skipHydrationRootTNode!==null}function X1(t){return ie.skipHydrationRootTNode===t}function J1(){ie.skipHydrationRootTNode=null}function re(){return ie.lFrame.lView}function je(){return ie.lFrame.tView}function Iy(t){return ie.lFrame.contextLView=t,t[nt]}function by(t){return ie.lFrame.contextLView=null,t}function pt(){let t=lT();for(;t!==null&&t.type===64;)t=t.parent;return t}function lT(){return ie.lFrame.currentTNode}function eL(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ns(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function Dy(){return ie.lFrame.isParent}function Cy(){ie.lFrame.isParent=!1}function tL(){return ie.lFrame.contextLView}function Ty(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nL(t){return ie.lFrame.bindingIndex=t}function is(){return ie.lFrame.bindingIndex++}function uT(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iL(){return ie.lFrame.inI18n}function rL(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ig(e)}function sL(){return ie.lFrame.currentDirectiveIndex}function Ig(t){ie.lFrame.currentDirectiveIndex=t}function Sy(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function dT(){return ie.lFrame.currentQueryIndex}function Ay(t){ie.lFrame.currentQueryIndex=t}function oL(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[$t]:null}function hT(t,e,n){if(n&ae.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&ae.Host);)if(r=oL(s),r===null||(s=s[Ao],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=ie.lFrame=fT();return i.currentTNode=e,i.lView=t,!0}function Ry(t){let e=fT(),n=t[H];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fT(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?pT(t):e}function pT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function mT(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var gT=mT;function xy(){let t=mT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function aL(t){return(ie.lFrame.contextLView=W1(t,ie.lFrame.contextLView))[nt]}function sr(){return ie.lFrame.selectedIndex}function Yr(t){ie.lFrame.selectedIndex=t}function Qd(){let t=ie.lFrame;return wy(t.tView,t.selectedIndex)}function yT(){ie.lFrame.currentNamespace=tT}function _T(){cL()}function cL(){ie.lFrame.currentNamespace=null}function lL(){return ie.lFrame.currentNamespace}var vT=!0;function Yd(){return vT}function Zd(t){vT=t}function uL(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=XC(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Xd(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function _d(t,e,n){wT(t,e,3,n)}function vd(t,e,n,i){(t[Q]&3)===n&&wT(t,e,n,i)}function Xm(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function wT(t,e,n,i){let r=i!==void 0?t[fo]&65535:0,s=i??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],i!=null&&a>=i)break}else e[c]<0&&(t[fo]+=65536),(a<s||s==-1)&&(dL(t,n,e,c),t[fo]=(t[fo]&4294901760)+c+2),c++}function eC(t,e){Vn(4,t,e);let n=at(null);try{e.call(t)}finally{at(n),Vn(5,t,e)}}function dL(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[Q]>>14<t[fo]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,eC(a,s)):eC(a,s)}var _o=-1,Zr=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function hL(t){return t instanceof Zr}function fL(t){return(t.flags&8)!==0}function pL(t){return(t.flags&16)!==0}function ET(t){return t!==_o}function Sd(t){return t&32767}function mL(t){return t>>16}function Ad(t,e){let n=mL(t),i=e;for(;n>0;)i=i[Ao],n--;return i}var bg=!0;function Rd(t){let e=bg;return bg=t,e}var gL=256,IT=gL-1,bT=5,yL=0,jn={};function _L(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Qa)&&(i=n[Qa]),i==null&&(i=n[Qa]=yL++);let r=i&IT,s=1<<r;e.data[t+(r>>bT)]|=s}function xd(t,e){let n=DT(t,e);if(n!==-1)return n;let i=e[H];i.firstCreatePass&&(t.injectorIndex=e.length,Jm(i.data,t),Jm(e,null),Jm(i.blueprint,null));let r=My(t,e),s=t.injectorIndex;if(ET(r)){let o=Sd(r),a=Ad(r,e),c=a[H].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=r,s}function Jm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function DT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function My(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=RT(r),i===null)return _o;if(n++,r=r[Ao],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return _o}function Dg(t,e,n){_L(t,e,n)}function vL(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(jC(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===e)return n[r+1];r=r+2}}}return null}function CT(t,e,n){if(n&ae.Optional||t!==void 0)return t;gy(e,"NodeInjector")}function TT(t,e,n,i){if(n&ae.Optional&&i===void 0&&(i=null),!(n&(ae.Self|ae.Host))){let r=t[Eo],s=Ot(void 0);try{return r?r.get(e,i,n&ae.Optional):kC(e,i,n&ae.Optional)}finally{Ot(s)}}return CT(i,e,n)}function ST(t,e,n,i=ae.Default,r){if(t!==null){if(e[Q]&2048&&!(i&ae.Self)){let o=bL(t,e,n,i,jn);if(o!==jn)return o}let s=AT(t,e,n,i,jn);if(s!==jn)return s}return TT(e,n,i,r)}function AT(t,e,n,i,r){let s=EL(n);if(typeof s=="function"){if(!hT(e,t,i))return i&ae.Host?CT(r,n,i):TT(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&ae.Optional))gy(n);else return o}finally{gT()}}else if(typeof s=="number"){let o=null,a=DT(t,e),c=_o,l=i&ae.Host?e[tn][$t]:null;for((a===-1||i&ae.SkipSelf)&&(c=a===-1?My(t,e):e[a+8],c===_o||!nC(i,!1)?a=-1:(o=e[H],a=Sd(c),e=Ad(c,e)));a!==-1;){let u=e[H];if(tC(s,a,u.data)){let d=wL(a,e,n,o,i,l);if(d!==jn)return d}c=e[a+8],c!==_o&&nC(i,e[H].data[a+8]===l)&&tC(s,a,e)?(o=u,a=Sd(c),e=Ad(c,e)):a=-1}}return r}function wL(t,e,n,i,r,s){let o=e[H],a=o.data[t+8],c=i==null?Wd(a)&&bg:i!=o&&(a.type&3)!==0,l=r&ae.Host&&s===a,u=wd(a,o,n,c,l);return u!==null?Xr(e,o,u,a):jn}function wd(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,l=t.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:l;for(let f=d;f<h;f++){let p=o[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(r){let f=o[c];if(f&&bi(f)&&f.type===n)return c}return null}function Xr(t,e,n,i){let r=t[n],s=e.data;if(hL(r)){let o=r;o.resolving&&a1(o1(s[n]));let a=Rd(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Ot(o.injectImpl):null,u=hT(t,i,ae.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&uL(n,s[n],e)}finally{l!==null&&Ot(l),Rd(a),o.resolving=!1,gT()}}return r}function EL(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Qa)?t[Qa]:void 0;return typeof e=="number"?e>=0?e&IT:IL:e}function tC(t,e,n){let i=1<<t;return!!(n[e+(t>>bT)]&i)}function nC(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var Gr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return ST(this._tNode,this._lView,e,Gd(i),n)}};function IL(){return new Gr(pt(),re())}function rs(t){return lc(()=>{let e=t.prototype.constructor,n=e[Dd]||Cg(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[Dd]||Cg(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Cg(t){return RC(t)?()=>{let e=Cg(Ct(t));return e&&e()}:Qr(t)}function bL(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[Q]&2048&&!(o[Q]&512);){let a=AT(s,o,n,i|ae.Self,jn);if(a!==jn)return a;let c=s.parent;if(!c){let l=o[YC];if(l){let u=l.get(n,jn,i);if(u!==jn)return u}c=RT(o),o=o[Ao]}s=c}return r}function RT(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[$t]:null}function Ny(t){return vL(pt(),t)}var hd="__parameters__";function DL(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function xT(t,e,n){return lc(()=>{let i=DL(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(hd)?c[hd]:Object.defineProperty(c,hd,{value:[]})[hd];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function CL(t){return typeof t=="function"}function TL(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],s=e[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function SL(t){return t.flat(Number.POSITIVE_INFINITY)}function Py(t,e){t.forEach(n=>Array.isArray(n)?Py(n,e):e(n))}function MT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Md(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function AL(t,e){let n=[];for(let i=0;i<t;i++)n.push(e);return n}function RL(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function Oy(t,e,n){let i=hc(t,e);return i>=0?t[i|1]=n:(i=~i,RL(t,i,e,n)),i}function eg(t,e){let n=hc(t,e);if(n>=0)return t[n|1]}function hc(t,e){return xL(t,e,1)}function xL(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}var mt=FC(xT("Optional"),8);var NT=FC(xT("SkipSelf"),4);var Do=new T("ENVIRONMENT_INITIALIZER"),PT=new T("INJECTOR",-1),OT=new T("INJECTOR_DEF_TYPES"),Nd=class{get(e,n=Ya){if(n===Ya){let i=new Error(`NullInjectorError: No provider for ${St(e)}!`);throw i.name="NullInjectorError",i}return n}};function Jd(t){return{\u0275providers:t}}function ML(...t){return{\u0275providers:kT(!0,t),\u0275fromNgModule:!0}}function kT(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return Py(e,o=>{let a=o;Tg(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&FT(r,s),n}function FT(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];ky(r,s=>{e(s,i)})}}function Tg(t,e,n,i){if(t=Ct(t),!t)return!1;let r=null,s=q0(t),o=!s&&nr(t);if(!s&&!o){let c=t.ngModule;if(s=q0(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Tg(l,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let l;try{Py(s.imports,u=>{Tg(u,e,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&FT(l,e)}if(!a){let l=Qr(r)||(()=>new r);e({provide:r,useFactory:l,deps:Tt},r),e({provide:OT,useValue:r,multi:!0},r),e({provide:Do,useValue:()=>y(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let l=t;ky(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function ky(t,e){for(let n of t)xC(n)&&(n=n.\u0275providers),Array.isArray(n)?ky(n,e):e(n)}var NL=De({provide:String,useValue:De});function LT(t){return t!==null&&typeof t=="object"&&NL in t}function PL(t){return!!(t&&t.useExisting)}function OL(t){return!!(t&&t.useFactory)}function Co(t){return typeof t=="function"}function kL(t){return!!t.useClass}var eh=new T("Set Injector scope."),Ed={},FL={},tg;function Fy(){return tg===void 0&&(tg=new Nd),tg}var Bt=class{},nc=class extends Bt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ag(e,o=>this.processProvider(o)),this.records.set(PT,po(void 0,this)),r.has("environment")&&this.records.set(Bt,po(void 0,this));let s=this.records.get(eh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(OT,Tt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ji(this),i=Ot(void 0),r;try{return e()}finally{Ji(n),Ot(i)}}get(e,n=Ya,i=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(H0))return e[H0](this);i=Gd(i);let r,s=Ji(this),o=Ot(void 0);try{if(!(i&ae.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=UL(e)&&qd(e);l&&this.injectableDefInScope(l)?c=po(Sg(e),Ed):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=i&ae.Self?Fy():this.parent;return n=i&ae.Optional&&n===Ya?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Cd]=a[Cd]||[]).unshift(St(e)),s)throw a;return v1(a,e,"R3InjectorError",this.source)}else throw a}finally{Ot(o),Ji(s)}}resolveInjectorInitializers(){let e=Ji(this),n=Ot(void 0),i;try{let r=this.get(Do,Tt,ae.Self);for(let s of r)s()}finally{Ji(e),Ot(n)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(St(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=Ct(e);let n=Co(e)?e:Ct(e&&e.provide),i=VL(e);if(!Co(e)&&e.multi===!0){let r=this.records.get(n);r||(r=po(void 0,Ed,!0),r.factory=()=>_g(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){return n.value===Ed&&(n.value=FL,n.value=n.factory()),typeof n.value=="object"&&n.value&&BL(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ct(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Sg(t){let e=qd(t),n=e!==null?e.factory:Qr(t);if(n!==null)return n;if(t instanceof T)throw new C(204,!1);if(t instanceof Function)return LL(t);throw new C(204,!1)}function LL(t){if(t.length>0)throw new C(204,!1);let n=u1(t);return n!==null?()=>n.factory(t):()=>new t}function VL(t){if(LT(t))return po(void 0,t.useValue);{let e=VT(t);return po(e,Ed)}}function VT(t,e,n){let i;if(Co(t)){let r=Ct(t);return Qr(r)||Sg(r)}else if(LT(t))i=()=>Ct(t.useValue);else if(OL(t))i=()=>t.useFactory(..._g(t.deps||[]));else if(PL(t))i=()=>y(Ct(t.useExisting));else{let r=Ct(t&&(t.useClass||t.provide));if(jL(t))i=()=>new r(..._g(t.deps));else return Qr(r)||Sg(r)}return i}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function jL(t){return!!t.deps}function BL(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function UL(t){return typeof t=="function"||typeof t=="object"&&t instanceof T}function Ag(t,e){for(let n of t)Array.isArray(n)?Ag(n,e):n&&xC(n)?Ag(n.\u0275providers,e):e(n)}function or(t,e){t instanceof nc&&t.assertNotDestroyed();let n,i=Ji(t),r=Ot(void 0);try{return e()}finally{Ji(i),Ot(r)}}function $L(t){if(!OC()&&!g1())throw new C(-203,!1)}function iC(t,e=null,n=null,i){let r=jT(t,e,n,i);return r.resolveInjectorInitializers(),r}function jT(t,e=null,n=null,i,r=new Set){let s=[n||Tt,ML(t)];return i=i||(typeof t=="object"?void 0:St(t)),new nc(s,e||Fy(),i||null,r)}var Ce=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return iC({name:""},r,i,"");{let s=i.name??"";return iC({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=Ya,e.NULL=new Nd,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>y(PT)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Rg;function BT(t){Rg=t}function UT(){if(Rg!==void 0)return Rg;if(typeof document<"u")return document;throw new C(210,!1)}var fc=new T("AppId",{providedIn:"root",factory:()=>HL}),HL="ng",Ly=new T("Platform Initializer"),sn=new T("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Ft=new T("AnimationModuleType"),pc=new T("CSP nonce",{providedIn:"root",factory:()=>UT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function $T(t){return t instanceof Function?t():t}function zL(t){return(t??D(Ce)).get(sn)==="browser"}function HT(t){return(t.flags&128)===128}var Di=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Di||{}),qL=/^>|^->|<!--|-->|--!>|<!-$/g,GL=/(<|>)/g,WL="\u200B$1\u200B";function KL(t){return t.replace(qL,e=>e.replace(GL,WL))}var Vy=new Map,QL=0;function YL(){return QL++}function ZL(t){Vy.set(t[dc],t)}function zT(t){return Vy.get(t)||null}function XL(t){Vy.delete(t[dc])}var xg=class{get lView(){return zT(this.lViewId)}constructor(e,n,i){this.lViewId=e,this.nodeIndex=n,this.native=i}};function _te(t){let e=ng(t);if(e){if(tr(e)){let n=e,i,r,s;if(qT(t)){if(i=tV(n,t),i==-1)throw new Error("The provided component was not found in the application");r=t}else if(JL(t)){if(i=nV(n,t),i==-1)throw new Error("The provided directive was not found in the application");s=iV(i,n)}else if(i=sC(n,t),i==-1)return null;let o=jt(n[i]),a=ng(o),c=a&&!Array.isArray(a)?a:rC(n,i,o);if(r&&c.component===void 0&&(c.component=r,en(c.component,c)),s&&c.directives===void 0){c.directives=s;for(let l=0;l<s.length;l++)en(s[l],c)}en(c.native,c),e=c}}else{let n=t,i=n;for(;i=i.parentNode;){let r=ng(i);if(r){let s=Array.isArray(r)?r:r.lView;if(!s)return null;let o=sC(s,n);if(o>=0){let a=jt(s[o]),c=rC(s,o,a);en(a,c),e=c;break}}}}return e||null}function rC(t,e,n){return new xg(t[dc],e,n)}var Mg="__ngContext__";function en(t,e){tr(e)?(t[Mg]=e[dc],ZL(e)):t[Mg]=e}function ng(t){let e=t[Mg];return typeof e=="number"?zT(e):e||null}function qT(t){return t&&t.constructor&&t.constructor.\u0275cmp}function JL(t){return t&&t.constructor&&t.constructor.\u0275dir}function sC(t,e){let n=t[H];for(let i=Xe;i<n.bindingStartIndex;i++)if(jt(t[i])===e)return i;return-1}function eV(t){if(t.child)return t.child;if(t.next)return t.next;for(;t.parent&&!t.parent.next;)t=t.parent;return t.parent&&t.parent.next}function tV(t,e){let n=t[H].components;if(n)for(let i=0;i<n.length;i++){let r=n[i];if(Hn(r,t)[nt]===e)return r}else if(Hn(Xe,t)[nt]===e)return Xe;return-1}function nV(t,e){let n=t[H].firstChild;for(;n;){let i=n.directiveStart,r=n.directiveEnd;for(let s=i;s<r;s++)if(t[s]===e)return n.index;n=eV(n)}return-1}function iV(t,e){let n=e[H].data[t];if(n.directiveStart===0)return Tt;let i=[];for(let r=n.directiveStart;r<n.directiveEnd;r++){let s=e[r];qT(s)||i.push(s)}return i}var rV;function jy(t,e){return rV(t,e)}function mo(t,e,n,i,r){if(i!=null){let s,o=!1;Ci(i)?s=i:tr(i)&&(o=!0,i=i[Wn]);let a=jt(i);t===0&&n!==null?r==null?YT(e,n,a):Pd(e,n,a,r||null,!0):t===1&&n!==null?Pd(e,n,a,r||null,!0):t===2?wV(e,a,o):t===3&&e.destroyNode(a),s!=null&&IV(e,t,s,n,r)}}function sV(t,e){return t.createText(e)}function oV(t,e,n){t.setValue(e,n)}function aV(t,e){return t.createComment(KL(e))}function GT(t,e,n){return t.createElement(e,n)}function cV(t,e){WT(t,e),e[Wn]=null,e[$t]=null}function lV(t,e,n,i,r,s){i[Wn]=r,i[$t]=e,ih(t,i,n,1,r,s)}function WT(t,e){e[$n].changeDetectionScheduler?.notify(),ih(t,e,e[Ve],2,null,null)}function uV(t){let e=t[Ja];if(!e)return ig(t[H],t);for(;e;){let n=null;if(tr(e))n=e[Ja];else{let i=e[ft];i&&(n=i)}if(!n){for(;e&&!e[In]&&e!==t;)tr(e)&&ig(e[H],e),e=e[ct];e===null&&(e=t),tr(e)&&ig(e[H],e),n=e&&e[In]}e=n}}function dV(t,e,n,i){let r=ft+i,s=n.length;i>0&&(n[r-1][In]=e),i<s-ft?(e[In]=n[r],MT(n,ft+i,e)):(n.push(e),e[In]=null),e[ct]=n;let o=e[uc];o!==null&&n!==o&&hV(o,e);let a=e[Bn];a!==null&&a.insertView(t),Eg(e),e[Q]|=128}function hV(t,e){let n=t[Io],r=e[ct][ct][tn];e[tn]!==r&&(t[Q]|=_y.HasTransplantedViews),n===null?t[Io]=[e]:n.push(e)}function KT(t,e){let n=t[Io],i=n.indexOf(e);n.splice(i,1)}function ic(t,e){if(t.length<=ft)return;let n=ft+e,i=t[n];if(i){let r=i[uc];r!==null&&r!==t&&KT(r,i),e>0&&(t[n-1][In]=i[In]);let s=Md(t,ft+e);cV(i[H],i);let o=s[Bn];o!==null&&o.detachView(s[H]),i[ct]=null,i[In]=null,i[Q]&=-129}return i}function th(t,e){if(!(e[Q]&256)){let n=e[Ve];n.destroyNode&&ih(t,e,n,3,null,null),uV(e)}}function ig(t,e){if(!(e[Q]&256)){e[Q]&=-129,e[Q]|=256,e[Wr]&&r0(e[Wr]),pV(t,e),fV(t,e),e[H].type===1&&e[Ve].destroy();let n=e[uc];if(n!==null&&Ci(e[ct])){n!==e[ct]&&KT(n,e);let i=e[Bn];i!==null&&i.detachView(t)}XL(e)}}function fV(t,e){let n=t.cleanup,i=e[Xa];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[Xa]=null);let r=e[er];if(r!==null){e[er]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function pV(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Zr)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];Vn(4,a,c);try{c.call(a)}finally{Vn(5,a,c)}}else{Vn(4,r,s);try{s.call(r)}finally{Vn(5,r,s)}}}}}function QT(t,e,n){return mV(t,e.parent,n)}function mV(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Wn];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===Un.None||s===Un.Emulated)return null}return rn(i,n)}}function Pd(t,e,n,i,r){t.insertBefore(e,n,i,r)}function YT(t,e,n){t.appendChild(e,n)}function oC(t,e,n,i,r){i!==null?Pd(t,e,n,i,r):YT(t,e,n)}function gV(t,e,n,i){t.removeChild(e,n,i)}function By(t,e){return t.parentNode(e)}function yV(t,e){return t.nextSibling(e)}function ZT(t,e,n){return vV(t,e,n)}function _V(t,e,n){return t.type&40?rn(t,n):null}var vV=_V,aC;function nh(t,e,n,i){let r=QT(t,i,e),s=e[Ve],o=i.parent||e[$t],a=ZT(o,i,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)oC(s,r,n[c],a,!1);else oC(s,r,n,a,!1);aC!==void 0&&aC(s,i,e,n,r)}function Id(t,e){if(e!==null){let n=e.type;if(n&3)return rn(e,t);if(n&4)return Ng(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Id(t,i);{let r=t[e.index];return Ci(r)?Ng(-1,r):jt(r)}}else{if(n&32)return jy(e,t)()||jt(t[e.index]);{let i=XT(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=tc(t[tn]);return Id(r,i)}else return Id(t,e.next)}}}return null}function XT(t,e){if(e!==null){let i=t[tn][$t],r=e.projection;return i.projection[r]}return null}function Ng(t,e){let n=ft+t+1;if(n<e.length){let i=e[n],r=i[H].firstChild;if(r!==null)return Id(i,r)}return e[Kr]}function wV(t,e,n){let i=By(t,e);i&&gV(t,i,e,n)}function Uy(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],c=n.type;if(o&&e===0&&(a&&en(jt(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Uy(t,e,n.child,i,r,s,!1),mo(e,t,r,a,s);else if(c&32){let l=jy(n,i),u;for(;u=l();)mo(e,t,r,u,s);mo(e,t,r,a,s)}else c&16?JT(t,e,i,n,r,s):mo(e,t,r,a,s);n=o?n.projectionNext:n.next}}function ih(t,e,n,i,r,s){Uy(n,i,t.firstChild,e,r,s,!1)}function EV(t,e,n){let i=e[Ve],r=QT(t,n,e),s=n.parent||e[$t],o=ZT(s,n,e);JT(i,0,e,n,r,o)}function JT(t,e,n,i,r,s){let o=n[tn],c=o[$t].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];mo(e,t,r,u,s)}else{let l=c,u=o[ct];HT(i)&&(l.flags|=128),Uy(t,e,l,u,r,s,!0)}}function IV(t,e,n,i,r){let s=n[Kr],o=jt(n);s!==o&&mo(e,t,i,s,r);for(let a=ft;a<n.length;a++){let c=n[a];ih(c[H],c,t,e,i,s)}}function bV(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Di.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Di.Important),t.setStyle(n,i,r,s))}}function DV(t,e,n){t.setAttribute(e,"style",n)}function eS(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function tS(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&vg(t,e,i),r!==null&&eS(t,e,r),s!==null&&DV(t,e,s)}var fd;function CV(){if(fd===void 0&&(fd=null,Ke.trustedTypes))try{fd=Ke.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return fd}function rh(t){return CV()?.createHTML(t)||t}var pd;function nS(){if(pd===void 0&&(pd=null,Ke.trustedTypes))try{pd=Ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return pd}function cC(t){return nS()?.createHTML(t)||t}function lC(t){return nS()?.createScriptURL(t)||t}var Od=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AC})`}};function ss(t){return t instanceof Od?t.changingThisBreaksApplicationSecurity:t}function sh(t,e){let n=TV(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${AC})`)}return n===e}function TV(t){return t instanceof Od&&t.getTypeName()||null}function SV(t){let e=new Og(t);return AV()?new Pg(e):e}var Pg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(rh(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}},Og=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=rh(e),n}};function AV(){try{return!!new window.DOMParser().parseFromString(rh(""),"text/html")}catch{return!1}}var RV=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $y(t){return t=String(t),t.match(RV)?t:"unsafe:"+t}function Ti(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function mc(...t){let e={};for(let n of t)for(let i in n)n.hasOwnProperty(i)&&(e[i]=!0);return e}var iS=Ti("area,br,col,hr,img,wbr"),rS=Ti("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),sS=Ti("rp,rt"),xV=mc(sS,rS),MV=mc(rS,Ti("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),NV=mc(sS,Ti("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uC=mc(iS,MV,NV,xV),oS=Ti("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),PV=Ti("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),OV=Ti("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),kV=mc(oS,PV,OV),FV=Ti("script,style,template"),kg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,i=!0;for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){n=n.firstChild;continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}}return this.buf.join("")}startElement(e){let n=e.nodeName.toLowerCase();if(!uC.hasOwnProperty(n))return this.sanitizedSomething=!0,!FV.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!kV.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;oS[a]&&(c=$y(c)),this.buf.push(" ",o,'="',dC(c),'"')}return this.buf.push(">"),!0}endElement(e){let n=e.nodeName.toLowerCase();uC.hasOwnProperty(n)&&!iS.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(dC(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}},LV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VV=/([^\#-~ |!])/g;function dC(t){return t.replace(/&/g,"&amp;").replace(LV,function(e){let n=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(VV,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var md;function aS(t,e){let n=null;try{md=md||SV(t);let i=e?String(e):"";n=md.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=md.getInertBodyElement(i)}while(i!==s);let a=new kg().sanitizeChildren(hC(n)||n);return rh(a)}finally{if(n){let i=hC(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function hC(t){return"content"in t&&jV(t)?t.content:null}function jV(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var gc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(gc||{});function cS(t){let e=Hy();return e?cC(e.sanitize(gc.HTML,t)||""):sh(t,"HTML")?cC(ss(t)):aS(UT(),cc(t))}function BV(t){let e=Hy();return e?e.sanitize(gc.URL,t)||"":sh(t,"URL")?ss(t):$y(cc(t))}function UV(t){let e=Hy();if(e)return lC(e.sanitize(gc.RESOURCE_URL,t)||"");if(sh(t,"ResourceURL"))return lC(ss(t));throw new C(904,!1)}function $V(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?UV:BV}function lS(t,e,n){return $V(e,n)(t)}function Hy(){let t=re();return t&&t[$n].sanitizer}var Fg=class{};var HV="h",zV="b";var qV=()=>null;function zy(t,e,n=!1){return qV(t,e,n)}var Lg=class{},kd=class{};function GV(t){let e=Error(`No component factory found for ${St(t)}.`);return e[WV]=t,e}var WV="ngComponent";var Vg=class{resolveComponentFactory(e){throw GV(e)}},ar=(()=>{let e=class e{};e.NULL=new Vg;let t=e;return t})();function KV(){return Ro(pt(),re())}function Ro(t,e){return new pe(rn(t,e))}var pe=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=KV;let t=e;return t})();function QV(t){return t instanceof pe?t.nativeElement:t}var Jr=class{},cr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>YV();let t=e;return t})();function YV(){let t=re(),e=pt(),n=Hn(e.index,t);return(tr(n)?n:t)[Ve]}var ZV=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),rg={};function uS(t,e){let n=u0(t),i=n[Xs];return e?.equal&&(i.equal=e.equal),n.set=r=>Fm(i,r),n.update=r=>d0(i,r),n.asReadonly=XV.bind(n),n}function XV(){let t=this[Xs];if(t.readonlyFn===void 0){let e=()=>this();e[Xs]=t,t.readonlyFn=e}return t.readonlyFn}function Fd(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(jt(s)),Ci(s)&&JV(s,i);let o=n.type;if(o&8)Fd(t,e,n.child,i);else if(o&32){let a=jy(n,e),c;for(;c=a();)i.push(c)}else if(o&16){let a=XT(e,n);if(Array.isArray(a))i.push(...a);else{let c=tc(e[tn]);Fd(c[H],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function JV(t,e){for(let n=ft;n<t.length;n++){let i=t[n],r=i[H].firstChild;r!==null&&Fd(i[H],i,r,e)}t[Kr]!==t[Wn]&&e.push(t[Kr])}var dS=[];function ej(t){return t[Wr]??tj(t)}function tj(t){let e=dS.pop()??Object.create(ij);return e.lView=t,e}function nj(t){t.lView[Wr]!==t&&(t.lView=null,dS.push(t))}var ij=ue(w({},Om),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ec(t.lView)},consumerOnSignalRead(){this.lView[Wr]=this}});function hS(t){return pS(t[Ja])}function fS(t){return pS(t[In])}function pS(t){for(;t!==null&&!Ci(t);)t=t[In];return t}var rj="ngOriginalError";function sg(t){return t[rj]}var zn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&sg(e);for(;n&&sg(n);)n=sg(n);return n||null}},mS=new T("",{providedIn:"root",factory:()=>D(zn).handleError.bind(void 0)});var gS=!1,sj=new T("",{providedIn:"root",factory:()=>gS});var Si={};function Kn(t=1){yS(je(),re(),sr()+t,!1)}function yS(t,e,n,i){if(!i)if((e[Q]&3)===3){let s=t.preOrderCheckHooks;s!==null&&_d(e,s,n)}else{let s=t.preOrderHooks;s!==null&&vd(e,s,0,n)}Yr(n)}function S(t,e=ae.Default){let n=re();if(n===null)return y(t,e);let i=pt();return ST(i,n,Ct(t),e)}function _S(){let t="invalid";throw new Error(t)}function vS(t,e,n,i,r,s){let o=at(null);try{let a=null;r&de.SignalBased&&(a=e[i][Xs]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&de.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):ZC(e,a,i,s)}finally{at(o)}}function oj(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Yr(~r);else{let s=r,o=n[++i],a=n[++i];rL(o,s);let c=e[s];a(2,c)}}}finally{Yr(-1)}}function oh(t,e,n,i,r,s,o,a,c,l,u){let d=e.blueprint.slice();return d[Wn]=r,d[Q]=i|4|128|8|64,(l!==null||t&&t[Q]&2048)&&(d[Q]|=2048),rT(d),d[ct]=d[Ao]=t,d[nt]=n,d[$n]=o||t&&t[$n],d[Ve]=a||t&&t[Ve],d[Eo]=c||t&&t[Eo]||null,d[$t]=s,d[dc]=YL(),d[wo]=u,d[YC]=l,d[tn]=e.type==2?t[tn]:d,d}function xo(t,e,n,i,r){let s=t.data[e];if(s===null)s=aj(t,e,n,i,r),iL()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=eL();s.injectorIndex=o===null?-1:o.injectorIndex}return ns(s,!0),s}function aj(t,e,n,i,r){let s=lT(),o=Dy(),a=o?s:s&&s.parent,c=t.data[e]=fj(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function wS(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function ES(t,e,n,i,r){let s=sr(),o=i&2;try{Yr(-1),o&&e.length>Xe&&yS(t,e,Xe,!1),Vn(o?2:0,r),n(i,r)}finally{Yr(s),Vn(o?3:1,r)}}function qy(t,e,n){if(vy(e)){let i=at(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{at(i)}}}function Gy(t,e,n){aT()&&(vj(t,e,n,rn(n,e)),(n.flags&64)===64&&DS(t,e,n))}function Wy(t,e,n=rn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function IS(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ky(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ky(t,e,n,i,r,s,o,a,c,l,u){let d=Xe+i,h=d+r,f=cj(d,h),p=typeof l=="function"?l():l;return f[H]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function cj(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Si);return n}function lj(t,e,n,i){let s=i.get(sj,gS)||n===Un.ShadowDom,o=t.selectRootElement(e,s);return uj(o),o}function uj(t){dj(t)}var dj=()=>null;function hj(t,e,n,i){let r=SS(e);r.push(n),t.firstCreatePass&&AS(t).push(i,r.length-1)}function fj(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return cT()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fC(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,c=de.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(r!==null){if(!r.hasOwnProperty(s))continue;l=r[s]}t===0?pC(i,n,l,a,c):pC(i,n,l,a)}return i}function pC(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function pj(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;c=fC(0,d.inputs,u,c,f),l=fC(1,d.outputs,u,l,p);let g=c!==null&&o!==null&&!UC(e)?xj(c,u,o):null;a.push(g)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function mj(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Qy(t,e,n,i,r,s,o,a){let c=rn(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[i])?(Zy(t,n,u,i,r),Wd(e)&&gj(n,e.index)):e.type&3?(i=mj(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(c,i,r)):e.type&12}function gj(t,e){let n=Hn(e,t);n[Q]&16||(n[Q]|=64)}function Yy(t,e,n,i){if(aT()){let r=i===null?null:{"":-1},s=Ej(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&bS(t,e,n,o,r,a),r&&Ij(n,i,r)}n.mergedAttrs=Za(n.mergedAttrs,n.attrs)}function bS(t,e,n,i,r,s){for(let l=0;l<i.length;l++)Dg(xd(n,e),t,i[l].type);Dj(n,t.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=wS(t,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=Za(n.mergedAttrs,u.hostAttrs),Cj(t,n,e,c,u),bj(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}pj(t,n,s)}function yj(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;_j(o)!=a&&o.push(a),o.push(n,i,s)}}function _j(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function vj(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Wd(n)&&Tj(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||xd(n,e),en(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let c=t.data[a],l=Xr(e,t,a,n);if(en(l,e),o!==null&&Rj(e,a-r,l,c,n,o),bi(c)){let u=Hn(n.index,e);u[nt]=Xr(e,t,a,n)}}}function DS(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=sL();try{Yr(s);for(let a=i;a<r;a++){let c=t.data[a],l=e[a];Ig(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&wj(c,l)}}finally{Yr(-1),Ig(o)}}function wj(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Ej(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if($C(e,o.selectors,!1))if(i||(i=[]),bi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;jg(t,e,c)}else i.unshift(o),jg(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function jg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Ij(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new C(-301,!1);i.push(e[r],s)}}}function bj(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;bi(e)&&(n[""]=t)}}function Dj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Cj(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=Qr(r.type,!0)),o=new Zr(s,bi(r),S);t.blueprint[i]=o,n[i]=o,yj(t,e,i,wS(t,n,r.hostVars,Si),r)}function Tj(t,e,n){let i=rn(e,t),r=IS(n),s=t[$n].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=ah(t,oh(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function Sj(t,e,n,i,r,s){let o=rn(t,e);Aj(e[Ve],o,s,t.value,n,i,r)}function Aj(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?cc(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function Rj(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];vS(i,n,c,l,u,d)}}function xj(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function CS(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function TS(t,e){let n=t.contentQueries;if(n!==null){let i=at(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];Ay(s),a.contentQueries(2,e[o],o)}}}finally{at(i)}}}function ah(t,e){return t[Ja]?t[X0][In]=e:t[Ja]=e,t[X0]=e,e}function Bg(t,e,n){Ay(0);let i=at(null);try{e(t,n)}finally{at(i)}}function SS(t){return t[Xa]||(t[Xa]=[])}function AS(t){return t.cleanup||(t.cleanup=[])}function RS(t,e,n){return(t===null||bi(t))&&(n=H1(n[e.index])),n[Ve]}function xS(t,e){let n=t[Eo],i=n?n.get(zn,null):null;i&&i.handleError(e)}function Zy(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=e[o],u=t.data[o];vS(u,l,i,a,c,r)}}function Mj(t,e,n){let i=nT(e,t);oV(t[Ve],i,n)}var Nj=100;function Pj(t,e=!0){let n=t[$n],i=n.rendererFactory,r=!1;r||i.begin?.();try{Oj(t)}catch(s){throw e&&xS(t,s),s}finally{r||(i.end?.(),n.inlineEffectRunner?.flush())}}function Oj(t){Ug(t,0);let e=0;for(;sT(t);){if(e===Nj)throw new C(103,!1);e++,Ug(t,1)}}function kj(t,e,n,i){let r=e[Q];if((r&256)===256)return;let s=!1;!s&&e[$n].inlineEffectRunner?.flush(),Ry(e);let o=null,a=null;!s&&Fj(t)&&(a=ej(e),o=n0(a));try{rT(e),nL(t.bindingStartIndex),n!==null&&ES(t,e,n,2,i);let c=(r&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&_d(e,d,null)}else{let d=t.preOrderHooks;d!==null&&vd(e,d,0,null),Xm(e,0)}if(Lj(e),MS(e,0),t.contentQueries!==null&&TS(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&_d(e,d)}else{let d=t.contentHooks;d!==null&&vd(e,d,1),Xm(e,1)}oj(t,e);let l=t.components;l!==null&&PS(e,l,0);let u=t.viewQuery;if(u!==null&&Bg(2,u,i),!s)if(c){let d=t.viewCheckHooks;d!==null&&_d(e,d)}else{let d=t.viewHooks;d!==null&&vd(e,d,2),Xm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zm]){for(let d of e[Zm])d();e[Zm]=null}s||(e[Q]&=-73)}catch(c){throw ec(e),c}finally{a!==null&&(i0(a,o),nj(a)),xy()}}function Fj(t){return t.type!==2}function MS(t,e){for(let n=hS(t);n!==null;n=fS(n))for(let i=ft;i<n.length;i++){let r=n[i];NS(r,e)}}function Lj(t){for(let e=hS(t);e!==null;e=fS(e)){if(!(e[Q]&_y.HasTransplantedViews))continue;let n=e[Io];for(let i=0;i<n.length;i++){let r=n[i],s=r[ct];G1(r)}}}function Vj(t,e,n){let i=Hn(e,t);NS(i,n)}function NS(t,e){Ey(t)&&Ug(t,e)}function Ug(t,e){let i=t[H],r=t[Q],s=t[Wr],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&km(s)),s&&(s.dirty=!1),t[Q]&=-9217,o)kj(i,t,i.template,t[nt]);else if(r&8192){MS(t,1);let a=i.components;a!==null&&PS(t,a,1)}}function PS(t,e,n){for(let i=0;i<e.length;i++)Vj(t,e[i],n)}function Xy(t){for(t[$n].changeDetectionScheduler?.notify();t;){t[Q]|=64;let e=tc(t);if(F1(t)&&!e)return t;t=e}return null}var es=class{get rootNodes(){let e=this._lView,n=e[H];return Fd(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[nt]}set context(e){this._lView[nt]=e}get destroyed(){return(this._lView[Q]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(Ci(e)){let n=e[Td],i=n?n.indexOf(this):-1;i>-1&&(ic(e,i),Md(n,i))}this._attachedToViewContainer=!1}th(this._lView[H],this._lView)}onDestroy(e){oT(this._lView,e)}markForCheck(){Xy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Eg(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,Pj(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,WT(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,Eg(this._lView)}},Qn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=jj;let t=e;return t})();function jj(t){return Bj(pt(),re(),(t&16)===16)}function Bj(t,e,n){if(Wd(t)&&!n){let i=Hn(t.index,e);return new es(i,i)}else if(t.type&47){let i=e[tn];return new es(i,e)}return null}var OS=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Uj,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),$g=class extends OS{constructor(e){super(),this._lView=e}onDestroy(e){return oT(this._lView,e),()=>K1(this._lView,e)}};function Uj(){return new $g(re())}var mC=new Set;function yc(t){mC.has(t)||(mC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Hg=class extends ${constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=og(s),r&&(r=og(r)),o&&(o=og(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ie&&e.add(a),a}};function og(t){return e=>{setTimeout(t,void 0,e)}}var ge=Hg;function gC(...t){}function $j(){let t=typeof Ke.requestAnimationFrame=="function",e=Ke[t?"requestAnimationFrame":"setTimeout"],n=Ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var P=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=$j().nativeRequestAnimationFrame,qj(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Hj,gC,gC);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},Hj={};function Jy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zj(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,zg(t),t.isCheckStableRunning=!0,Jy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),zg(t))}function qj(t){let e=()=>{zj(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(Gj(a))return n.invokeTask(r,s,o,a);try{return yC(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),_C(t)}},onInvoke:(n,i,r,s,o,a,c)=>{try{return yC(t),n.invoke(r,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),_C(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,zg(t),Jy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function zg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function yC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _C(t){t._nesting--,Jy(t)}function Gj(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var go=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(go||{}),Wj={destroy(){}};function e_(t,e){!e&&$L(e_);let n=e?.injector??D(Ce);if(!zL(n))return Wj;yc("NgAfterNextRender");let i=n.get(t_),r=i.handler??=new Gg,s=e?.phase??go.MixedReadWrite,o=()=>{r.unregister(c),a()},a=n.get(OS).onDestroy(o),c=new qg(n,s,()=>{o(),t()});return r.register(c),{destroy:o}}var qg=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(P),this.errorHandler=e.get(zn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Gg=class{constructor(){this.executingCallbacks=!1,this.buckets={[go.EarlyRead]:new Set,[go.Write]:new Set,[go.MixedReadWrite]:new Set,[go.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){let e=!1;this.executingCallbacks=!0;for(let n of Object.values(this.buckets))for(let i of n)e=!0,i.invoke();this.executingCallbacks=!1;for(let n of this.deferredCallbacks)this.buckets[n.phase].add(n);return this.deferredCallbacks.clear(),e}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},t_=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of i)s();return!!this.handler?.execute()||i.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Kj(t,e){let n=Hn(e,t),i=n[H];Qj(i,n);let r=n[Wn];r!==null&&n[wo]===null&&(n[wo]=zy(r,n[Eo])),n_(i,n,n[nt])}function Qj(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function n_(t,e,n){Ry(e);try{let i=t.viewQuery;i!==null&&Bg(1,i,n);let r=t.template;r!==null&&ES(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&TS(t,e),t.staticViewQueries&&Bg(2,t.viewQuery,n);let s=t.components;s!==null&&Yj(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[Q]&=-5,xy()}}function Yj(t,e){for(let n=0;n<e.length;n++)Kj(t,e[n])}function Ld(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=mg(r,a);else if(s==2){let c=a,l=e[++o];i=mg(i,c+": "+l+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Vd=class extends ar{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=nr(e);return new To(n,this.ngModule)}};function vC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function Zj(t){let e=t.toLowerCase();return e==="svg"?tT:e==="math"?B1:null}var Wg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Gd(i);let r=this.injector.get(e,rg,i);return r!==rg||n===rg?r:this.parentInjector.get(e,n,i)}},To=class extends kd{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=vC(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return vC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=M1(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){r=r||this.ngModule;let s=r instanceof Bt?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Wg(e,s):e,a=o.get(Jr,null);if(a===null)throw new C(407,!1);let c=o.get(ZV,null),l=o.get(t_,null),u=o.get(Fg,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:l,changeDetectionScheduler:u},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?lj(h,i,this.componentDef.encapsulation,o):GT(h,f,Zj(f)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let _=null;p!==null&&(_=zy(p,o,!0));let I=Ky(0,null,null,1,0,null,null,null,null,null,null),M=oh(null,I,null,g,null,null,d,h,o,null,_);Ry(M);let V,j;try{let me=this.componentDef,oe,we=null;me.findHostDirectiveDefs?(oe=[],we=new Map,me.findHostDirectiveDefs(me,oe,we),oe.push(me)):oe=[me];let Pe=Xj(M,p),bt=Jj(Pe,p,me,oe,M,d,h);j=wy(I,Xe),p&&nB(h,me,p,i),n!==void 0&&iB(j,this.ngContentSelectors,n),V=tB(bt,me,oe,we,M,[rB]),n_(I,M,null)}finally{xy()}return new Kg(this.componentType,V,Ro(j,M),M,j)}},Kg=class extends Lg{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new es(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Zy(s[H],s,r,e,n),this.previousInputValues.set(e,n);let o=Hn(this._tNode.index,s);Xy(o)}}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Xj(t,e){let n=t[H],i=Xe;return t[i]=e,xo(n,i,2,"#host",null)}function Jj(t,e,n,i,r,s,o){let a=r[H];eB(i,t,e,o);let c=null;e!==null&&(c=zy(e,r[Eo]));let l=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=oh(r,IS(n),null,u,r[t.index],t,s,l,null,null,c);return a.firstCreatePass&&jg(a,t,i.length-1),ah(r,d),r[t.index]=d}function eB(t,e,n,i){for(let r of t)e.mergedAttrs=Za(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Ld(e,e.mergedAttrs,!0),n!==null&&tS(i,n,e))}function tB(t,e,n,i,r,s){let o=pt(),a=r[H],c=rn(o,r);bS(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Xr(r,a,d,o);en(h,r)}DS(a,r,o),c&&en(c,r);let l=Xr(r,a,o.directiveStart+o.componentOffset,o);if(t[nt]=r[nt]=l,s!==null)for(let u of s)u(l,e);return qy(a,o,t),l}function nB(t,e,n,i){if(i)vg(t,n,["ng-version","17.1.0"]);else{let{attrs:r,classes:s}=N1(e.selectors[0]);r&&vg(t,n,r),s&&s.length>0&&eS(t,n,s.join(" "))}}function iB(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function rB(){let t=pt();Xd(re()[H],t)}function sB(t){return Object.getPrototypeOf(t.prototype).constructor}function gt(t){let e=sB(t.type),n=!0,i=[t];for(;e;){let r;if(bi(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=gd(t.inputs),o.inputTransforms=gd(t.inputTransforms),o.declaredInputs=gd(t.declaredInputs),o.outputs=gd(t.outputs);let a=r.hostBindings;a&&uB(t,a);let c=r.viewQuery,l=r.contentQueries;if(c&&cB(t,c),l&&lB(t,l),oB(t,r),e1(t.outputs,r.outputs),bi(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===gt&&(n=!1)}}e=Object.getPrototypeOf(e)}aB(i)}function oB(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function aB(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Za(r.hostAttrs,n=Za(n,r.hostAttrs))}}function gd(t){return t===vo?{}:t===Tt?[]:t}function cB(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function lB(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function uB(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}function Ai(t){let e=t.inputConfig,n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}t.inputTransforms=n}var vte=new RegExp(`^(\\d+)*(${zV}|${HV})*(.*)`);var dB=()=>null;function rc(t,e){return dB(t,e)}function ch(t,e,n,i){let r=e.tView,o=t[Q]&4096?4096:16,a=oh(t,r,n,o,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];a[uc]=c;let l=t[Bn];return l!==null&&(a[Bn]=l.createEmbeddedView(r)),n_(r,a,n),a}function kS(t,e){let n=ft+e;if(n<t.length)return t[n]}function sc(t,e){return!e||e.firstChild===null||HT(t)}function lh(t,e,n,i=!0){let r=e[H];if(dV(r,e,t,n),i){let o=Ng(n,t),a=e[Ve],c=By(a,t[Kr]);c!==null&&lV(r,t[$t],a,e,c,o)}let s=e[wo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function FS(t,e){let n=ic(t,e);return n!==void 0&&th(n[H],n),n}var on=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=hB;let t=e;return t})();function hB(){let t=pt();return VS(t,re())}var fB=on,LS=class extends fB{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Ro(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){let e=My(this._hostTNode,this._hostLView);if(ET(e)){let n=Ad(e,this._hostLView),i=Sd(e),r=n[H].data[i+8];return new Gr(r,n)}else return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=wC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=rc(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,sc(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!CL(e),a;if(o)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?e:new To(nr(e)),l=i||this.parentInjector;if(!s&&c.ngModule==null){let g=(o?l:this.parentInjector).get(Bt,null);g&&(s=g)}let u=nr(c.componentType??{}),d=rc(this._lContainer,u?.id??null),h=d?.firstChild??null,f=c.create(l,r,h,s);return this.insertImpl(f.hostView,a,sc(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(q1(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=r[ct],l=new LS(c,c[$t],c[ct]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return lh(o,r,s,i),e.attachToViewContainerRef(),MT(ag(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=wC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=ic(this._lContainer,n);i&&(Md(ag(this._lContainer),n),th(i[H],i))}detach(e){let n=this._adjustIndex(e,-1),i=ic(this._lContainer,n);return i&&Md(ag(this._lContainer),n)!=null?new es(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function wC(t){return t[Td]}function ag(t){return t[Td]||(t[Td]=[])}function VS(t,e){let n,i=e[t.index];return Ci(i)?n=i:(n=CS(i,e,null,t),e[t.index]=n,ah(e,n)),mB(n,e,t,i),new LS(n,t,e)}function pB(t,e){let n=t[Ve],i=n.createComment(""),r=rn(e,t),s=By(n,r);return Pd(n,s,i,yV(n,r),!1),i}var mB=_B,gB=()=>!1;function yB(t,e,n){return gB(t,e,n)}function _B(t,e,n,i){if(t[Kr])return;let r;n.type&8?r=jt(i):r=pB(e,n),t[Kr]=r}function jS(t,e,n){return t[e]=n}function nn(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function vB(t,e,n,i){let r=nn(t,e,n);return nn(t,e+1,i)||r}function wB(t,e,n,i,r,s,o,a,c){let l=e.consts,u=xo(e,t,4,o||null,bo(l,a));Yy(e,n,u,bo(l,c)),Xd(e,u);let d=u.tView=Ky(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Ut(t,e,n,i,r,s,o,a){let c=re(),l=je(),u=t+Xe,d=l.firstCreatePass?wB(u,l,c,e,n,i,r,s,o):l.data[u];ns(d,!1);let h=EB(l,c,d,t);Yd()&&nh(l,c,h,d),en(h,c);let f=CS(h,c,h,d);return c[u]=f,ah(c,f),yB(f,d,c),Kd(d)&&Gy(l,c,d),o!=null&&Wy(c,d,a),Ut}var EB=IB;function IB(t,e,n,i){return Zd(!0),e[Ve].createComment("")}function Yn(t,e,n,i){let r=re(),s=is();if(nn(r,s,e)){let o=je(),a=Qd();Sj(a,r,t,e,n,i)}return Yn}function bB(t,e,n,i){return nn(t,is(),n)?e+cc(n)+i:Si}function yd(t,e){return t<<17|e<<2}function ts(t){return t>>17&32767}function DB(t){return(t&2)==2}function CB(t,e){return t&131071|e<<17}function Qg(t){return t|2}function So(t){return(t&131068)>>2}function cg(t,e){return t&-131069|e<<2}function TB(t){return(t&1)===1}function Yg(t){return t|1}function SB(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=ts(o),c=So(o);t[i]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||hc(d,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let h=ts(t[a+1]);t[i+1]=yd(h,a),h!==0&&(t[h+1]=cg(t[h+1],i)),t[a+1]=CB(t[a+1],i)}else t[i+1]=yd(a,0),a!==0&&(t[a+1]=cg(t[a+1],i)),a=i;else t[i+1]=yd(c,0),a===0?a=i:t[c+1]=cg(t[c+1],i),c=i;l&&(t[i+1]=Qg(t[i+1])),EC(t,u,i,!0),EC(t,u,i,!1),AB(e,u,t,i,s),o=yd(a,c),s?e.classBindings=o:e.styleBindings=o}function AB(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&hc(s,e)>=0&&(n[i+1]=Yg(n[i+1]))}function EC(t,e,n,i){let r=t[n+1],s=e===null,o=i?ts(r):So(r),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],l=t[o+1];RB(c,e)&&(a=!0,t[o+1]=i?Yg(l):Qg(l)),o=i?ts(l):So(l)}a&&(t[n+1]=i?Qg(r):Yg(r))}function RB(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?hc(t,e)>=0:!1}var En={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xB(t){return t.substring(En.key,En.keyEnd)}function MB(t){return NB(t),BS(t,US(t,0,En.textEnd))}function BS(t,e){let n=En.textEnd;return n===e?-1:(e=En.keyEnd=PB(t,En.key=e,n),US(t,e,n))}function NB(t){En.key=0,En.keyEnd=0,En.value=0,En.valueEnd=0,En.textEnd=t.length}function US(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function PB(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function os(t,e,n){let i=re(),r=is();if(nn(i,r,e)){let s=je(),o=Qd();Qy(s,o,i,t,e,i[Ve],n,!1)}return os}function Zg(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";Zy(t,n,s[o],o,i)}function i_(t,e,n){return $S(t,e,n,!1),i_}function lr(t,e){return $S(t,e,null,!0),lr}function Ete(t){kB(UB,OB,t,!0)}function OB(t,e){for(let n=MB(e);n>=0;n=BS(e,n))Oy(t,xB(e),!0)}function $S(t,e,n,i){let r=re(),s=je(),o=uT(2);if(s.firstUpdatePass&&zS(s,t,o,i),e!==Si&&nn(r,o,e)){let a=s.data[sr()];qS(s,a,r,r[Ve],t,r[o+1]=HB(e,n),i,o)}}function kB(t,e,n,i){let r=je(),s=uT(2);r.firstUpdatePass&&zS(r,null,s,i);let o=re();if(n!==Si&&nn(o,s,n)){let a=r.data[sr()];if(GS(a,i)&&!HS(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=mg(c,n||"")),Zg(r,a,o,n,i)}else $B(r,a,o,o[Ve],o[s+1],o[s+1]=BB(t,e,n),i,s)}}function HS(t,e){return e>=t.expandoStartIndex}function zS(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[sr()],o=HS(t,n);GS(s,i)&&e===null&&!o&&(e=!1),e=FB(r,s,e,i),SB(r,s,e,n,o,i)}}function FB(t,e,n,i){let r=Sy(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=lg(null,t,e,n,i),n=oc(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=lg(r,t,e,n,i),s===null){let c=LB(t,e,i);c!==void 0&&Array.isArray(c)&&(c=lg(null,t,e,c[1],i),c=oc(c,e.attrs,i),VB(t,e,i,c))}else s=jB(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function LB(t,e,n){let i=n?e.classBindings:e.styleBindings;if(So(i)!==0)return t[ts(i)]}function VB(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[ts(r)]=i}function jB(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=oc(i,o,n)}return oc(i,e.attrs,n)}function lg(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=oc(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function oc(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Oy(t,o,n?!0:e[++s]))}return t===void 0?null:t}function BB(t,e,n){if(n==null||n==="")return Tt;let i=[],r=ss(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function UB(t,e,n){let i=String(e);i!==""&&!i.includes(" ")&&Oy(t,i,n)}function $B(t,e,n,i,r,s,o,a){r===Si&&(r=Tt);let c=0,l=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let h=c<r.length?r[c+1]:void 0,f=l<s.length?s[l+1]:void 0,p=null,g;u===d?(c+=2,l+=2,h!==f&&(p=d,g=f)):d===null||u!==null&&u<d?(c+=2,p=u):(l+=2,p=d,g=f),p!==null&&qS(t,e,n,i,p,g,o,a),u=c<r.length?r[c]:null,d=l<s.length?s[l]:null}}function qS(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=TB(l)?IC(c,e,n,r,So(l),o):void 0;if(!jd(u)){jd(s)||DB(l)&&(s=IC(c,null,n,r,a,o));let d=nT(sr(),n);bV(i,o,d,r,s)}}function IC(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let c=t[r],l=Array.isArray(c),u=l?c[1]:c,d=u===null,h=n[r+1];h===Si&&(h=d?Tt:void 0);let f=d?eg(h,i):u===i?h:void 0;if(l&&!jd(f)&&(f=eg(c,i)),jd(f)&&(a=f,o))return a;let p=t[r+1];r=o?ts(p):So(p)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=eg(c,i))}return a}function jd(t){return t!==void 0}function HB(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=St(ss(t)))),t}function GS(t,e){return(t.flags&(e?8:16))!==0}var Xg=class{destroy(e){}updateValue(e,n){}swap(e,n){let i=Math.min(e,n),r=Math.max(e,n),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,n){this.attach(n,this.detach(e))}};function ug(t,e,n,i,r){return t===n&&Object.is(e,i)?1:Object.is(r(t,e),r(n,i))?-1:0}function zB(t,e,n){let i,r,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),l=e[s],u=ug(s,c,s,l,n);if(u!==0){u<0&&t.updateValue(s,l),s++;continue}let d=t.at(o),h=e[a],f=ug(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let p=n(s,c),g=n(o,d),_=n(s,l);if(Object.is(_,g)){let I=n(a,h);Object.is(I,p)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,l),s++;continue}if(i??=new Bd,r??=DC(t,s,o,n),Jg(t,i,s,_))t.updateValue(s,l),s++,o++;else if(r.has(_))i.set(p,t.detach(s)),o--;else{let I=t.create(s,e[s]);t.attach(s,I),s++,o++}}for(;s<=a;)bC(t,i,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let l=t.at(s),u=c.value,d=ug(s,l,s,u,n);if(d!==0)d<0&&t.updateValue(s,u),s++,c=a.next();else{i??=new Bd,r??=DC(t,s,o,n);let h=n(s,u);if(Jg(t,i,s,h))t.updateValue(s,u),s++,o++,c=a.next();else if(!r.has(h))t.attach(s,t.create(s,u)),s++,o++,c=a.next();else{let f=n(s,l);i.set(f,t.detach(s)),o--}}}for(;!c.done;)bC(t,i,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));i?.forEach(a=>{t.destroy(a)})}function Jg(t,e,n,i){return e!==void 0&&e.has(i)?(t.attach(n,e.get(i)),e.delete(i),!0):!1}function bC(t,e,n,i,r){if(Jg(t,e,i,n(i,r)))t.updateValue(i,r);else{let s=t.create(i,r);t.attach(i,s)}}function DC(t,e,n,i){let r=new Set;for(let s=e;s<=n;s++)r.add(i(s,t.at(s)));return r}var Bd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,i]of this.kvMap)if(e(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,n)}}};function r_(t,e,n){yc("NgControlFlow");let i=re(),r=is(),s=iy(i,Xe+t),o=0;if(nn(i,r,e)){let a=at(null);try{if(FS(s,o),e!==-1){let c=ry(i[H],Xe+e),l=rc(s,c.tView.ssrId),u=ch(i,c,n,{dehydratedView:l});lh(s,u,o,sc(c,l))}}finally{at(a)}}else{let a=kS(s,o);a!==void 0&&(a[nt]=n)}}var ey=class{constructor(e,n,i){this.lContainer=e,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-ft}};function Ite(t,e){return e}var ty=class{constructor(e,n,i){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=i}};function bte(t,e,n,i,r,s,o,a,c,l,u,d,h){yc("NgControlFlow");let f=c!==void 0,p=re(),g=a?o.bind(p[tn][nt]):o,_=new ty(f,g);p[Xe+t]=_,Ut(t+1,e,n,i,r,s),f&&Ut(t+2,c,l,u,d,h)}var ny=class extends Xg{constructor(e,n,i){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ft}at(e){return this.getLView(e)[nt].$implicit}attach(e,n){let i=n[wo];this.needsIndexUpdate||=e!==this.length,lh(this.lContainer,n,e,sc(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,qB(this.lContainer,e)}create(e,n){let i=rc(this.lContainer,this.templateTNode.tView.ssrId);return ch(this.hostLView,this.templateTNode,new ey(this.lContainer,n,e),{dehydratedView:i})}destroy(e){th(e[H],e)}updateValue(e,n){this.getLView(e)[nt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[nt].$index=e}getLView(e){return GB(this.lContainer,e)}};function Dte(t){let e=at(null),n=sr();try{let i=re(),r=i[H],s=i[n];if(s.liveCollection===void 0){let a=n+1,c=iy(i,a),l=ry(r,a);s.liveCollection=new ny(c,i,l)}else s.liveCollection.reset();let o=s.liveCollection;if(zB(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=is(),c=o.length===0;if(nn(i,a,c)){let l=n+2,u=iy(i,l);if(c){let d=ry(r,l),h=rc(u,d.tView.ssrId),f=ch(i,d,void 0,{dehydratedView:h});lh(u,f,0,sc(d,h))}else FS(u,0)}}}finally{at(e)}}function iy(t,e){return t[e]}function qB(t,e){return ic(t,e)}function GB(t,e){return kS(t,e)}function ry(t,e){return wy(t,e)}function WB(t,e,n,i,r,s){let o=e.consts,a=bo(o,r),c=xo(e,t,2,i,a);return Yy(e,n,c,bo(o,s)),c.attrs!==null&&Ld(c,c.attrs,!1),c.mergedAttrs!==null&&Ld(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function At(t,e,n,i){let r=re(),s=je(),o=Xe+t,a=r[Ve],c=s.firstCreatePass?WB(o,s,r,e,n,i):s.data[o],l=KB(s,r,c,a,e,t);r[o]=l;let u=Kd(c);return ns(c,!0),tS(a,l,c),(c.flags&32)!==32&&Yd()&&nh(s,r,l,c),Q1()===0&&en(l,r),Y1(),u&&(Gy(s,r,c),qy(s,c,r)),i!==null&&Wy(r,c),At}function yt(){let t=pt();Dy()?Cy():(t=t.parent,ns(t,!1));let e=t;X1(e)&&J1(),Z1();let n=je();return n.firstCreatePass&&(Xd(n,t),vy(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fL(e)&&Zg(n,e,re(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pL(e)&&Zg(n,e,re(),e.stylesWithoutHost,!1),yt}function ur(t,e,n,i){return At(t,e,n,i),yt(),ur}var KB=(t,e,n,i,r,s)=>(Zd(!0),GT(i,r,lL()));function QB(t,e,n,i,r){let s=e.consts,o=bo(s,i),a=xo(e,t,8,"ng-container",o);o!==null&&Ld(a,o,!0);let c=bo(s,r);return Yy(e,n,a,c),e.queries!==null&&e.queries.elementStart(e,a),a}function WS(t,e,n){let i=re(),r=je(),s=t+Xe,o=r.firstCreatePass?QB(s,r,i,e,n):r.data[s];ns(o,!0);let a=YB(r,i,o,t);return i[s]=a,Yd()&&nh(r,i,a,o),en(a,i),Kd(o)&&(Gy(r,i,o),qy(r,o,i)),n!=null&&Wy(i,o),WS}function KS(){let t=pt(),e=je();return Dy()?Cy():(t=t.parent,ns(t,!1)),e.firstCreatePass&&(Xd(e,t),vy(t)&&e.queries.elementEnd(t)),KS}function s_(t,e,n){return WS(t,e,n),KS(),s_}var YB=(t,e,n,i)=>(Zd(!0),aV(e[Ve],""));function o_(){return re()}function uh(t,e,n){let i=re(),r=is();if(nn(i,r,e)){let s=je(),o=Qd();Qy(s,o,i,t,e,i[Ve],n,!0)}return uh}function ZB(t,e,n){let i=re(),r=is();if(nn(i,r,e)){let s=je(),o=Qd(),a=Sy(s.data),c=RS(a,o,i);Qy(s,o,i,t,e,c,n,!0)}return ZB}var qr=void 0;function XB(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var JB=["en",[["a","p"],["AM","PM"],qr],[["AM","PM"],qr,qr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qr,"{1} 'at' {0}",qr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",XB],dg={};function a_(t){let e=eU(t),n=CC(e);if(n)return n;let i=e.split("-")[0];if(n=CC(i),n)return n;if(i==="en")return JB;throw new C(701,!1)}function CC(t){return t in dg||(dg[t]=Ke.ng&&Ke.ng.common&&Ke.ng.common.locales&&Ke.ng.common.locales[t]),dg[t]}var Mo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Mo||{});function eU(t){return t.toLowerCase().replace(/_/g,"-")}var Ud="en-US";var tU=Ud;function nU(t){c1(t,"Expected localeId to be defined"),typeof t=="string"&&(tU=t.toLowerCase().replace(/_/g,"-"))}function as(t){return!!t&&typeof t.then=="function"}function QS(t){return!!t&&typeof t.subscribe=="function"}function Rt(t,e,n,i){let r=re(),s=je(),o=pt();return YS(s,r,r[Ve],o,t,e,i),Rt}function iU(t,e){let n=pt(),i=re(),r=je(),s=Sy(r.data),o=RS(s,n,i);return YS(r,i,o,n,t,e),iU}function rU(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[Xa],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function YS(t,e,n,i,r,s,o){let a=Kd(i),l=t.firstCreatePass&&AS(t),u=e[nt],d=SS(e),h=!0;if(i.type&3||o){let g=rn(i,e),_=o?o(g):g,I=d.length,M=o?j=>o(jt(j[i.index])):i.index,V=null;if(!o&&a&&(V=rU(t,e,r,i.index)),V!==null){let j=V.__ngLastListenerFn__||V;j.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,h=!1}else{s=SC(i,e,u,s,!1);let j=n.listen(_,r,s);d.push(s,j),l&&l.push(r,M,I,I+1)}}else s=SC(i,e,u,s,!1);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let g=p.length;if(g)for(let _=0;_<g;_+=2){let I=p[_],M=p[_+1],me=e[I][M].subscribe(s),oe=d.length;d.push(s,me),l&&l.push(r,i.index,oe,-(oe+1))}}}function TC(t,e,n,i){try{return Vn(6,e,n),n(i)!==!1}catch(r){return xS(t,r),!1}finally{Vn(7,e,n)}}function SC(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?Hn(t.index,e):e;Xy(a);let c=TC(e,n,i,o),l=s.__ngNextListenerFn__;for(;l;)c=TC(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return r&&c===!1&&o.preventDefault(),c}}function No(t=1){return aL(t)}function sU(t,e){let n=null,i=T1(t);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){n=r;continue}if(i===null?$C(t,s,!0):R1(i,s))return r}return n}function ZS(t){let e=re()[tn][$t];if(!e.projection){let n=t?t.length:1,i=e.projection=AL(n,null),r=i.slice(),s=e.child;for(;s!==null;){let o=t?sU(s,t):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function XS(t,e=0,n){let i=re(),r=je(),s=xo(r,Xe+t,16,null,n||null);s.projection===null&&(s.projection=e),Cy(),(!i[wo]||cT())&&(s.flags&32)!==32&&EV(r,i,s)}function oU(){return this._results[Symbol.iterator]()}var $d=class t{get changes(){return this._changes??=new ge}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=oU)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=SL(e);(this._changesDetected=!TL(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},bn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lU;let t=e;return t})(),aU=bn,cU=class extends aU{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=ch(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new es(r)}};function lU(){return dh(pt(),re())}function dh(t,e){return t.type&4?new cU(e,t,Ro(t,e)):null}var sy=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},oy=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)nA(e,n).matches!==null&&this.queries[n].setDirty()}},Hd=class{constructor(e,n,i=null){this.predicate=e,this.flags=n,this.read=i}},ay=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},cy=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,n,uU(n,s)),this.matchTNodeWithReadOption(e,n,wd(n,e,s,!1,!1))}else i===bn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,wd(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===pe||r===on||r===bn&&n.type&4)this.addMatch(n.index,-2);else{let s=wd(n,e,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function uU(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function dU(t,e){return t.type&11?Ro(t,e):t.type&4?dh(t,e):null}function hU(t,e,n,i){return n===-1?dU(e,t):n===-2?fU(t,e,i):Xr(t,t[H],n,e)}function fU(t,e,n){if(n===pe)return Ro(e,t);if(n===bn)return dh(e,t);if(n===on)return VS(e,t)}function JS(t,e,n,i){let r=e[Bn].queries[i];if(r.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(hU(e,u,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function ly(t,e,n,i){let r=t.queries.getByIndex(n),s=r.matches;if(s!==null){let o=JS(t,e,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let l=s[a+1],u=e[-c];for(let d=ft;d<u.length;d++){let h=u[d];h[uc]===h[ct]&&ly(h[H],h,l,i)}if(u[Io]!==null){let d=u[Io];for(let h=0;h<d.length;h++){let f=d[h];ly(f[H],f,l,i)}}}}}return i}function pU(t,e){return t[Bn].queries[e].queryList}function eA(t,e,n){let i=new $d((n&4)===4);hj(t,e,i,i.destroy),e[Bn]===null&&(e[Bn]=new oy),e[Bn].queries.push(new sy(i))}function tA(t,e,n){t.queries===null&&(t.queries=new ay),t.queries.track(new cy(e,n))}function mU(t,e){let n=t.contentQueries||(t.contentQueries=[]),i=n.length?n[n.length-1]:-1;e!==i&&n.push(t.queries.length-1,e)}function nA(t,e){return t.queries.getByIndex(e)}function gU(t,e,n,i){let r=je();if(r.firstCreatePass){let s=pt();tA(r,new Hd(e,n,i),s.index),mU(r,t),(n&2)===2&&(r.staticContentQueries=!0)}eA(r,re(),n)}function hh(t,e,n){let i=je();i.firstCreatePass&&(tA(i,new Hd(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),eA(i,re(),e)}function _c(t){let e=re(),n=je(),i=dT();Ay(i+1);let r=nA(n,i);if(t.dirty&&z1(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let s=r.crossesNgTemplate?ly(n,e,i,[]):JS(n,e,r,i);t.reset(s,QV),t.notifyOnChanges()}return!0}return!1}function vc(){return pU(re(),dT())}function yU(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function Tte(t){let e=tL();return iT(e,Xe+t)}function Po(t,e=""){let n=re(),i=je(),r=t+Xe,s=i.firstCreatePass?xo(i,r,1,e,null):i.data[r],o=_U(i,n,s,e,t);n[r]=o,Yd()&&nh(i,n,o,s),ns(s,!1)}var _U=(t,e,n,i,r)=>(Zd(!0),sV(e[Ve],i));function vU(t){return cs("",t,""),vU}function cs(t,e,n){let i=re(),r=bB(i,t,e,n);return r!==Si&&Mj(i,sr(),r),cs}function wU(t,e,n){let i=je();if(i.firstCreatePass){let r=bi(t);uy(n,i.data,i.blueprint,r,!0),uy(e,i.data,i.blueprint,r,!1)}}function uy(t,e,n,i,r){if(t=Ct(t),Array.isArray(t))for(let s=0;s<t.length;s++)uy(t[s],e,n,i,r);else{let s=je(),o=re(),a=pt(),c=Co(t)?t:Ct(t.provide),l=VT(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Co(t)||!t.multi){let f=new Zr(l,r,S),p=fg(c,e,r?u:u+h,d);p===-1?(Dg(xd(a,o),s,c),hg(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=fg(c,e,u+h,d),p=fg(c,e,u,u+h),g=f>=0&&n[f],_=p>=0&&n[p];if(r&&!_||!r&&!g){Dg(xd(a,o),s,c);let I=bU(r?IU:EU,n.length,r,i,l);!r&&_&&(n[p].providerFactory=I),hg(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(I),o.push(I)}else{let I=iA(n[r?p:f],l,!r&&i);hg(s,t,f>-1?f:p,I)}!r&&i&&_&&n[p].componentProviders++}}}function hg(t,e,n,i){let r=Co(e),s=kL(e);if(r||s){let c=(s?Ct(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function iA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fg(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function EU(t,e,n,i){return dy(this.multi,[])}function IU(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Xr(n,n[H],this.providerFactory.index,i);s=a.slice(0,o),dy(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],dy(r,s);return s}function dy(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function bU(t,e,n,i,r){let s=new Zr(t,n,S);return s.multi=[],s.index=e,s.componentProviders=0,iA(s,r,i&&!n),s}function Zn(t,e=[]){return n=>{n.providersResolver=(i,r)=>wU(i,r?r(t):t,e)}}var ir=class{},ac=class{};var hy=class extends ir{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Vd(this);let r=WC(e);this._bootstrapComponents=$T(r.bootstrap),this._r3Injector=jT(e,n,[{provide:ir,useValue:this},{provide:ar,useValue:this.componentFactoryResolver},...i],St(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},fy=class extends ac{constructor(e){super(),this.moduleType=e}create(e){return new hy(this.moduleType,e,[])}};var zd=class extends ir{constructor(e){super(),this.componentFactoryResolver=new Vd(this),this.instance=null;let n=new nc([...e.providers,{provide:ir,useValue:this},{provide:ar,useValue:this.componentFactoryResolver}],e.parent||Fy(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fh(t,e,n=null){return new zd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var DU=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=kT(!1,i.type),s=r.length>0?fh([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(y(Bt))});let t=e;return t})();function Xn(t){yc("NgStandalone"),t.getStandaloneInjector=e=>e.get(DU).getOrCreateStandaloneInjector(t)}function Ste(t,e,n,i){return sA(re(),Ty(),t,e,n,i)}function Ate(t,e,n,i,r){return CU(re(),Ty(),t,e,n,i,r)}function rA(t,e){let n=t[e];return n===Si?void 0:n}function sA(t,e,n,i,r,s){let o=e+n;return nn(t,o,r)?jS(t,o+1,s?i.call(s,r):i(r)):rA(t,o+1)}function CU(t,e,n,i,r,s,o){let a=e+n;return vB(t,a,r,s)?jS(t,a+2,o?i.call(o,r,s):i(r,s)):rA(t,a+2)}function Rte(t,e){let n=je(),i,r=t+Xe;n.firstCreatePass?(i=TU(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=Qr(i.type,!0)),o,a=Ot(S);try{let c=Rd(!1),l=s();return Rd(c),yU(n,re(),r,l),l}finally{Ot(a)}}function TU(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function xte(t,e,n){let i=t+Xe,r=re(),s=iT(r,i);return SU(r,i)?sA(r,Ty(),e,s.transform,n,s):s.transform(n)}function SU(t,e){return t[H].data[e].pure}function Mte(t,e){return dh(t,e)}var qn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},oA=new qn("17.1.0");var Oo=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),py=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ph=(()=>{let e=class e{compileModuleSync(i){return new fy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=WC(i),o=$T(s.declarations).reduce((a,c)=>{let l=nr(c);return l&&a.push(new To(l)),a},[]);return new py(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mh=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var c_=new T(""),wc=new T(""),gh=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,l_||(AU(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(y(P),y(yh),y(wc))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),yh=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return l_?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function AU(t){l_=t}var l_,_h=new T("Application Initializer"),aA=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=D(_h,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(as(o))i.push(o);else if(QS(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vh=new T("appBootstrapListener");function RU(){l0(()=>{throw new C(600,!1)})}function xU(t){return t.isBoundToModule}function MU(t,e,n){try{let i=n();return as(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}var Jn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=D(mS),this.afterRenderEffectManager=D(t_),this.componentTypes=[],this.components=[],this.isStable=D(mh).hasPendingTasks.pipe(K(i=>!i)),this._injector=D(Bt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof kd;if(!this._injector.get(aA).done){let f=!s&&GC(i),p=!1;throw new C(405,p)}let a;s?a=i:a=this._injector.get(ar).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let c=xU(a)?void 0:this._injector.get(ir),l=r||a.selector,u=a.create(Ce.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(c_,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),pg(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new C(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this.internalErrorHandler(i)}finally{try{let i=this.afterRenderEffectManager.execute()}catch(i){this.internalErrorHandler(i)}this._runningTick=!1}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;pg(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(vh,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>pg(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new C(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pg(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var NU=(()=>{let e=class e{constructor(){this.zone=D(P),this.applicationRef=D(Jn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PU(t){return[{provide:P,useFactory:t},{provide:Do,multi:!0,useFactory:()=>{let e=D(NU,{optional:!0});return()=>e.initialize()}},{provide:Do,multi:!0,useFactory:()=>{let e=D(LU);return()=>{e.initialize()}}},{provide:mS,useFactory:OU}]}function OU(){let t=D(P),e=D(zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function kU(t){let e=PU(()=>new P(FU(t)));return Jd([[],e])}function FU(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var LU=(()=>{let e=class e{constructor(){this.subscription=new Ie,this.initialized=!1,this.zone=D(P),this.pendingTasks=D(mh)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{P.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{P.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VU(){return typeof $localize<"u"&&$localize.locale||Ud}var ko=new T("LocaleId",{providedIn:"root",factory:()=>D(ko,ae.Optional|ae.SkipSelf)||VU()});var cA=new T("PlatformDestroyListeners");var bd=null;function jU(t=[],e){return Ce.create({name:e,providers:[{provide:eh,useValue:"platform"},{provide:cA,useValue:new Set([()=>bd=null])},...t]})}function BU(t=[]){if(bd)return bd;let e=jU(t);return bd=e,RU(),UU(e),e}function UU(t){t.get(Ly,null)?.forEach(n=>n())}function Nte(){return!1}var lA=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(y(Jn))},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();function uA(t){try{let{rootComponent:e,appProviders:n,platformProviders:i}=t,r=BU(i),s=[kU(),...n||[]],a=new zd({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(P);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(zn,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:f=>{l.handleError(f)}})});let d=()=>a.destroy(),h=r.get(cA);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),MU(l,c,()=>{let f=a.get(aA);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(ko,Ud);nU(p||Ud);let g=a.get(Jn);return e!==void 0&&g.bootstrap(e),g})})})}catch(e){return Promise.reject(e)}}function an(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function dA(t){let e=nr(t);if(!e)return null;let n=new To(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var f_=null;function ti(){return f_}function yA(t){f_||(f_=t)}var wh=class{},z=new T("DocumentToken"),y_=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>D(HU),providedIn:"platform"});let t=e;return t})(),_A=new T("Location Initialized"),HU=(()=>{let e=class e extends y_{constructor(){super(),this._doc=D(z),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ti().getBaseHref(this._doc)}onPopState(i){let r=ti().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ti().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function __(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function hA(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Ri(t){return t&&t[0]!=="?"?"?"+t:t}var xi=(()=>{let e=class e{historyGo(i){throw new Error("Not implemented")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>D(v_),providedIn:"root"});let t=e;return t})(),vA=new T("appBaseHref"),v_=(()=>{let e=class e extends xi{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??D(z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return __(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Ri(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Ri(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Ri(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(y(y_),y(vA,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wA=(()=>{let e=class e extends xi{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return r==null&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=__(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Ri(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Ri(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(y(y_),y(vA,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),ni=(()=>{let e=class e{constructor(i){this._subject=new ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=GU(hA(fA(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Ri(r))}normalize(i){return e.stripTrailingSlash(qU(this._basePath,fA(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ri(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ri(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=Ri,e.joinWithSlash=__,e.stripTrailingSlash=hA,e.\u0275fac=function(r){return new(r||e)(y(xi))},e.\u0275prov=E({token:e,factory:()=>zU(),providedIn:"root"});let t=e;return t})();function zU(){return new ni(y(xi))}function qU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function fA(t){return t.replace(/\/index.html$/,"")}function GU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var EA=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(EA||{});var ei=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(ei||{});function Ec(t,e){let n=a_(t),i=n[Mo.NumberSymbols][e];if(typeof i>"u"){if(e===ei.CurrencyDecimal)return n[Mo.NumberSymbols][ei.Decimal];if(e===ei.CurrencyGroup)return n[Mo.NumberSymbols][ei.Group]}return i}function WU(t,e){return a_(t)[Mo.NumberFormats][e]}var KU=/^(\d+)?\.((\d+)(-(\d+))?)?$/,pA=22,Eh=".",Ic="0",QU=";",YU=",",u_="#";function ZU(t,e,n,i,r,s,o=!1){let a="",c=!1;if(!isFinite(t))a=Ec(n,ei.Infinity);else{let l=t2(t);o&&(l=e2(l));let u=e.minInt,d=e.minFrac,h=e.maxFrac;if(s){let M=s.match(KU);if(M===null)throw new Error(`${s} is not a valid digit info`);let V=M[1],j=M[3],me=M[5];V!=null&&(u=d_(V)),j!=null&&(d=d_(j)),me!=null?h=d_(me):j!=null&&d>h&&(h=d)}n2(l,d,h);let f=l.digits,p=l.integerLen,g=l.exponent,_=[];for(c=f.every(M=>!M);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?_=f.splice(p,f.length):(_=f,f=[0]);let I=[];for(f.length>=e.lgSize&&I.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)I.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&I.unshift(f.join("")),a=I.join(Ec(n,i)),_.length&&(a+=Ec(n,r)+_.join("")),g&&(a+=Ec(n,ei.Exponential)+"+"+g)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function XU(t,e,n){let i=WU(e,EA.Decimal),r=JU(i,Ec(e,ei.MinusSign));return ZU(t,r,e,ei.Group,ei.Decimal,n)}function JU(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(QU),r=i[0],s=i[1],o=r.indexOf(Eh)!==-1?r.split(Eh):[r.substring(0,r.lastIndexOf(Ic)+1),r.substring(r.lastIndexOf(Ic)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(u_));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===Ic?n.minFrac=n.maxFrac=u+1:d===u_?n.maxFrac=u+1:n.posSuf+=d}let l=a.split(YU);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let u=r.length-n.posPre.length-n.posSuf.length,d=s.indexOf(u_);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function e2(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function t2(t){let e=Math.abs(t)+"",n=0,i,r,s,o,a;for((r=e.indexOf(Eh))>-1&&(e=e.replace(Eh,"")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charAt(s)===Ic;s++);if(s===(a=e.length))i=[0],r=1;else{for(a--;e.charAt(a)===Ic;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(e.charAt(s))}return r>pA&&(i=i.splice(0,pA-1),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}function n2(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,r=i.length-t.integerLen,s=Math.min(Math.max(e,r),n),o=s+t.integerLen,a=i[o];if(o>0){i.splice(Math.max(t.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),t.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=s!==0,l=e+t.integerLen,u=i.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,c&&(p[f]===0&&f>=l?p.pop():c=!1),h>=10?1:0},0);u&&(i.unshift(u),t.integerLen++)}function d_(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function IA(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var h_=/\s+/,mA=[],ene=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=mA,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(h_):mA}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(h_):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(h_).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(S(pe),S(cr))},e.\u0275dir=be({type:e,selectors:[["","ngClass",""]],inputs:{klass:[de.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var bA=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new p_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){gA("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){gA("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(S(on),S(bn))},e.\u0275dir=be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),p_=class{constructor(){this.$implicit=null,this.ngIf=null}};function gA(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${St(e)}'.`)}var DA=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(S(on))},e.\u0275dir=be({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[kt]});let t=e;return t})();function i2(t,e){return new C(2100,!1)}var tne=(()=>{let e=class e{constructor(i){this._locale=i}transform(i,r,s){if(!r2(i))return null;s=s||this._locale;try{let o=s2(i);return XU(o,s,r)}catch(o){throw i2(e,o.message)}}};e.\u0275fac=function(r){return new(r||e)(S(ko,16))},e.\u0275pipe=HC({name:"number",type:e,pure:!0,standalone:!0});let t=e;return t})();function r2(t){return!(t==null||t===""||t!==t)}function s2(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ls=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})(),w_="browser",o2="server";function E_(t){return t===w_}function I_(t){return t===o2}var CA=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>E_(D(sn))?new m_(D(z),window):new g_});let t=e;return t})(),m_=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=a2(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function a2(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var g_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ih=class{};var C_=class extends wh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},T_=class t extends C_{static makeCurrent(){yA(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=c2();return n==null?null:l2(n)}resetBaseElement(){bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return IA(document.cookie,e)}},bc=null;function c2(){return bc=bc||document.querySelector("base"),bc?bc.getAttribute("href"):null}function l2(t){return new URL(t,document.baseURI).pathname}var S_=class{addToWindow(e){Ke.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new C(5103,!1);return s},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=Ke.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?ti().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},u2=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Dh=new T("EventManagerPlugins"),AA=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(y(Dh),y(P))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Dc=class{constructor(e){this._doc=e}},b_="ng-app-id",RA=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=I_(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${b_}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(b_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(b_,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(y(z),y(fc),y(pc,8),y(sn))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),D_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},x_=/%COMP%/g,xA="%COMP%",d2=`_nghost-${xA}`,h2=`_ngcontent-${xA}`,f2=!0,p2=new T("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>f2});function m2(t){return h2.replace(x_,t)}function g2(t){return d2.replace(x_,t)}function MA(t,e){return e.map(n=>n.replace(x_,t))}var Ch=(()=>{let e=class e{constructor(i,r,s,o,a,c,l,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=I_(c),this.defaultRenderer=new Cc(i,a,l,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Un.ShadowDom&&(r=ue(w({},r),{encapsulation:Un.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Th?s.applyToHost(i):s instanceof Tc&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Un.Emulated:o=new Th(l,u,r,this.appId,d,a,c,h);break;case Un.ShadowDom:return new A_(l,u,i,r,a,c,this.nonce,h);default:o=new Tc(l,u,r,d,a,c,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(y(AA),y(RA),y(fc),y(p2),y(z),y(sn),y(P),y(pc))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Cc=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(D_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(TA(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(TA(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new C(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=D_[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=D_[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Di.DashCase|Di.Important)?e.style.setProperty(n,i,r&Di.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Di.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ti().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function TA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var A_=class extends Cc{constructor(e,n,i,r,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=MA(r.id,r.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Tc=class extends Cc{constructor(e,n,i,r,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?MA(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Th=class extends Tc{constructor(e,n,i,r,s,o,a,c){let l=r+"-"+i.id;super(e,n,i,s,o,a,c,l),this.contentAttr=m2(l),this.hostAttr=g2(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},y2=(()=>{let e=class e extends Dc{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(y(z))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),SA=["alt","control","meta","shift"],_2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},v2={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},w2=(()=>{let e=class e extends Dc{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ti().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),SA.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(i,r){let s=_2[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),SA.forEach(a=>{if(a!==s){let c=v2[a];c(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(y(z))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function Ene(t,e){return uA(w({rootComponent:t},E2(e)))}function E2(t){return{appProviders:[...NA,...t?.providers??[]],platformProviders:C2}}function I2(){T_.makeCurrent()}function b2(){return new zn}function D2(){return BT(document),document}var C2=[{provide:sn,useValue:w_},{provide:Ly,useValue:I2,multi:!0},{provide:z,useFactory:D2,deps:[]}];var T2=new T(""),S2=[{provide:wc,useClass:S_,deps:[]},{provide:c_,useClass:gh,deps:[P,yh,wc]},{provide:gh,useClass:gh,deps:[P,yh,wc]}],NA=[{provide:eh,useValue:"root"},{provide:zn,useFactory:b2,deps:[]},{provide:Dh,useClass:y2,multi:!0,deps:[z,P,sn]},{provide:Dh,useClass:w2,multi:!0,deps:[z]},Ch,RA,AA,{provide:Jr,useExisting:Ch},{provide:Ih,useClass:u2,deps:[]},[]],PA=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:fc,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(y(T2,12))},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:[...NA,...S2],imports:[ls,lA]});let t=e;return t})();function A2(){return new M_(y(z))}var M_=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(y(z))},e.\u0275prov=E({token:e,factory:function(r){let s=null;return r?s=new r:s=A2(),s},providedIn:"root"});let t=e;return t})();var R2={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},R_=new T("HammerGestureConfig"),OA=new T("HammerLoader"),x2=(()=>{let e=class e{constructor(){this.events=[],this.overrides={}}buildHammer(i){let r=new Hammer(i,this.options);r.get("pinch").set({enable:!0}),r.get("rotate").set({enable:!0});for(let s in this.overrides)r.get(s).set(this.overrides[s]);return r}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),M2=(()=>{let e=class e extends Dc{constructor(i,r,s,o){super(i),this._config=r,this.console=s,this.loader=o,this._loaderPromise=null}supports(i){return!(!R2.hasOwnProperty(i.toLowerCase())&&!this.isCustomEvent(i)||!window.Hammer&&!this.loader)}addEventListener(i,r,s){let o=this.manager.getZone();if(r=r.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||o.runOutsideAngular(()=>this.loader());let a=!1,c=()=>{a=!0};return o.runOutsideAngular(()=>this._loaderPromise.then(()=>{if(!window.Hammer){c=()=>{};return}a||(c=this.addEventListener(i,r,s))}).catch(()=>{c=()=>{}})),()=>{c()}}return o.runOutsideAngular(()=>{let a=this._config.buildHammer(i),c=function(l){o.runGuarded(function(){s(l)})};return a.on(r,c),()=>{a.off(r,c),typeof a.destroy=="function"&&a.destroy()}})}isCustomEvent(i){return this._config.events.indexOf(i)>-1}};e.\u0275fac=function(r){return new(r||e)(y(z),y(R_),y(Oo),y(OA,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ine=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:[{provide:Dh,useClass:M2,multi:!0,deps:[z,R_,Oo,[new mt,OA]]},{provide:R_,useClass:x2,deps:[]}]});let t=e;return t})();var se="primary",$c=Symbol("RouteTitle"),F_=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Bo(t){return new F_(t)}function P2(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function O2(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ii(t[n],e[n]))return!1;return!0}function ii(t,e){let n=t?L_(t):void 0,i=e?L_(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!HA(t[r],e[r]))return!1;return!0}function L_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function HA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function mr(t){return rd(t)?t:as(t)?Te(Promise.resolve(t)):F(t)}var k2={exact:qA,subset:GA},zA={exact:F2,subset:L2,ignored:()=>!0};function kA(t,e,n){return k2[n.paths](t.root,e.root,n.matrixParams)&&zA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function F2(t,e){return ii(t,e)}function qA(t,e,n){if(!ds(t.segments,e.segments)||!Rh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!qA(t.children[i],e.children[i],n))return!1;return!0}function L2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>HA(t[n],e[n]))}function GA(t,e,n){return WA(t,e,e.segments,n)}function WA(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!ds(r,n)||e.hasChildren()||!Rh(r,n,i))}else if(t.segments.length===n.length){if(!ds(t.segments,n)||!Rh(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!GA(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ds(t.segments,r)||!Rh(t.segments,r,i)||!t.children[se]?!1:WA(t.children[se],e,s,i)}}function Rh(t,e,n){return e.every((i,r)=>zA[n](t[r].parameters,i.parameters))}var dr=class{constructor(e=new ve([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){return B2.serialize(this)}},ve=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xh(this)}},us=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Bo(this.parameters),this._parameterMap}toString(){return QA(this)}};function V2(t,e){return ds(t,e)&&t.every((n,i)=>ii(n.parameters,e[i].parameters))}function ds(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function j2(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===se&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==se&&(n=n.concat(e(r,i)))}),n}var Hc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>new Pc,providedIn:"root"});let t=e;return t})(),Pc=class{parse(e){let n=new j_(e);return new dr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Sc(e.root,!0)}`,i=H2(e.queryParams),r=typeof e.fragment=="string"?`#${U2(e.fragment)}`:"";return`${n}${i}${r}`}},B2=new Pc;function xh(t){return t.segments.map(e=>QA(e)).join("/")}function Sc(t,e){if(!t.hasChildren())return xh(t);if(e){let n=t.children[se]?Sc(t.children[se],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==se&&i.push(`${r}:${Sc(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=j2(t,(i,r)=>r===se?[Sc(t.children[se],!1)]:[`${r}:${Sc(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[se]!=null?`${xh(t)}/${n[0]}`:`${xh(t)}/(${n.join("//")})`}}function KA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sh(t){return KA(t).replace(/%3B/gi,";")}function U2(t){return encodeURI(t)}function V_(t){return KA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mh(t){return decodeURIComponent(t)}function FA(t){return Mh(t.replace(/\+/g,"%20"))}function QA(t){return`${V_(t.path)}${$2(t.parameters)}`}function $2(t){return Object.entries(t).map(([e,n])=>`;${V_(e)}=${V_(n)}`).join("")}function H2(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Sh(n)}=${Sh(r)}`).join("&"):`${Sh(n)}=${Sh(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var z2=/^[^\/()?;#]+/;function N_(t){let e=t.match(z2);return e?e[0]:""}var q2=/^[^\/()?;=#]+/;function G2(t){let e=t.match(q2);return e?e[0]:""}var W2=/^[^=?&#]+/;function K2(t){let e=t.match(W2);return e?e[0]:""}var Q2=/^[^&#]+/;function Y2(t){let e=t.match(Q2);return e?e[0]:""}var j_=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[se]=new ve(e,n)),i}parseSegment(){let e=N_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new us(Mh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=G2(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=N_(this.remaining);r&&(i=r,this.capture(i))}e[Mh(n)]=Mh(i)}parseQueryParam(e){let n=K2(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=Y2(this.remaining);o&&(i=o,this.capture(i))}let r=FA(n),s=FA(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=N_(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new C(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=se);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[se]:new ve([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function YA(t){return t.segments.length>0?new ve([],{[se]:t}):t}function ZA(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=ZA(r);if(i===se&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new ve(t.segments,e);return Z2(n)}function Z2(t){if(t.numberOfChildren===1&&t.children[se]){let e=t.children[se];return new ve(t.segments.concat(e.segments),e.children)}return t}function Uo(t){return t instanceof dr}function X2(t,e,n=null,i=null){let r=XA(t);return JA(r,e,n,i)}function XA(t){let e;function n(s){let o={};for(let c of s.children){let l=n(c);o[c.outlet]=l}let a=new ve(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=YA(i);return e??r}function JA(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return P_(r,r,r,n,i);let s=J2(e);if(s.toRoot())return P_(r,r,new ve([],{}),n,i);let o=e$(s,r,t),a=o.processChildren?xc(o.segmentGroup,o.index,s.commands):tR(o.segmentGroup,o.index,s.commands);return P_(r,o.segmentGroup,a,n,i)}function Nh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Oc(t){return typeof t=="object"&&t!=null&&t.outlets}function P_(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let o;t===e?o=n:o=eR(t,e,n);let a=YA(ZA(o));return new dr(a,s,r)}function eR(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=eR(s,e,n)}),new ve(t.segments,i)}var Ph=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Nh(i[0]))throw new C(4003,!1);let r=i.find(Oc);if(r&&r!==i.at(-1))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function J2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ph(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Ph(n,e,i)}var Vo=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function e$(t,e,n){if(t.isAbsolute)return new Vo(e,!0,0);if(!n)return new Vo(e,!1,NaN);if(n.parent===null)return new Vo(n,!0,0);let i=Nh(t.commands[0])?0:1,r=n.segments.length-1+i;return t$(n,r,t.numberOfDoubleDots)}function t$(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new C(4005,!1);r=i.segments.length}return new Vo(i,!1,r-s)}function n$(t){return Oc(t[0])?t[0].outlets:{[se]:t}}function tR(t,e,n){if(t??=new ve([],{}),t.segments.length===0&&t.hasChildren())return xc(t,e,n);let i=i$(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new ve(t.segments.slice(0,i.pathIndex),{});return s.children[se]=new ve(t.segments.slice(i.pathIndex),t.children),xc(s,0,r)}else return i.match&&r.length===0?new ve(t.segments,{}):i.match&&!t.hasChildren()?B_(t,e,n):i.match?xc(t,0,r):B_(t,e,n)}function xc(t,e,n){if(n.length===0)return new ve(t.segments,{});{let i=n$(n),r={};if(Object.keys(i).some(s=>s!==se)&&t.children[se]&&t.numberOfChildren===1&&t.children[se].segments.length===0){let s=xc(t.children[se],e,n);return new ve(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=tR(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new ve(t.segments,r)}}function i$(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Oc(a))break;let c=`${a}`,l=i<n.length-1?n[i+1]:null;if(r>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!VA(c,l,o))return s;i+=2}else{if(!VA(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function B_(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Oc(s)){let c=r$(s.outlets);return new ve(i,c)}if(r===0&&Nh(n[0])){let c=t.segments[e];i.push(new us(c.path,LA(n[0]))),r++;continue}let o=Oc(s)?s.outlets[se]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Nh(a)?(i.push(new us(o,LA(a))),r+=2):(i.push(new us(o,{})),r++)}return new ve(i,{})}function r$(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=B_(new ve([],{}),0,i))}),e}function LA(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function VA(t,e,n){return t==n.path&&ii(e,n.parameters)}var Mc="imperative",it=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(it||{}),ln=class{constructor(e,n){this.id=e,this.url=n}},$o=class extends ln{constructor(e,n,i="imperative",r=null){super(e,n),this.type=it.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ri=class extends ln{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=it.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},cn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(cn||{}),Oh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Oh||{}),hr=class extends ln{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=it.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fr=class extends ln{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=it.NavigationSkipped}},kc=class extends ln{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=it.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kh=class extends ln{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=it.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U_=class extends ln{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=it.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$_=class extends ln{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=it.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},H_=class extends ln{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=it.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},z_=class extends ln{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=it.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},q_=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},G_=class{constructor(e){this.route=e,this.type=it.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},W_=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},K_=class{constructor(e){this.snapshot=e,this.type=it.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Q_=class{constructor(e){this.snapshot=e,this.type=it.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Y_=class{constructor(e){this.snapshot=e,this.type=it.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=it.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Fc=class{},Lc=class{constructor(e){this.url=e}};var Z_=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zc,this.attachRef=null}},zc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Z_,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=X_(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=X_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=J_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return J_(e,this._root).map(n=>n.value)}};function X_(t,e){if(t===e.value)return e;for(let n of e.children){let i=X_(t,n);if(i)return i}return null}function J_(t,e){if(t===e.value)return[e];for(let n of e.children){let i=J_(t,n);if(i.length)return i.unshift(e),i}return[]}var Ht=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Lo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Vh=class extends Lh{constructor(e,n){super(e),this.snapshot=n,lv(this,e)}toString(){return this.snapshot.toString()}};function nR(t){let e=s$(t),n=new qe([new us("",{})]),i=new qe({}),r=new qe({}),s=new qe({}),o=new qe(""),a=new pr(n,i,s,o,r,se,t,e.root);return a.snapshot=e.root,new Vh(new Ht(a,[]),e)}function s$(t){let e={},n={},i={},r="",s=new Vc([],e,i,r,n,se,t,null,{});return new jh("",new Ht(s,[]))}var pr=class{constructor(e,n,i,r,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(K(l=>l[$c]))??F(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(K(e=>Bo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(K(e=>Bo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cv(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),r?.data),t._resolvedData)}:i={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},r&&rR(r)&&(i.resolve[$c]=r.title),i}var Vc=class{get title(){return this.data?.[$c]}constructor(e,n,i,r,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Bo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Bo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jh=class extends Lh{constructor(e,n){super(n),this.url=e,lv(this,n)}toString(){return iR(this._root)}};function lv(t,e){e.value._routerState=t,e.children.forEach(n=>lv(t,n))}function iR(t){let e=t.children.length>0?` { ${t.children.map(iR).join(", ")} } `:"";return`${t.value}${e}`}function O_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ii(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ii(e.params,n.params)||t.paramsSubject.next(n.params),O2(e.url,n.url)||t.urlSubject.next(n.url),ii(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ev(t,e){let n=ii(t.params,e.params)&&V2(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||ev(t.parent,e.parent))}function rR(t){return typeof t.title=="string"||t.title===null}var o$=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=se,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=D(zc),this.location=D(on),this.changeDetector=D(Qn),this.environmentInjector=D(Bt),this.inputBinder=D(Hh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new tv(i,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[kt]});let t=e;return t})(),tv=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===pr?this.route:e===zc?this.childContexts:this.parent.get(e,n)}},Hh=new T(""),jA=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=Hr([r.queryParams,r.params,r.data]).pipe(Vt(([o,a,c],l)=>(c=w(w(w({},o),a),c),l===0?F(c):Promise.resolve(c)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=dA(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:c}of a.inputs)i.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function a$(t,e,n){let i=jc(t,e._root,n?n._root:void 0);return new Vh(i,e)}function jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=c$(t,e,n);return new Ht(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>jc(t,a)),o}}let i=l$(e.value),r=e.children.map(s=>jc(t,s));return new Ht(i,r)}}function c$(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return jc(t,i,r);return jc(t,i)})}function l$(t){return new pr(new qe(t.url),new qe(t.params),new qe(t.queryParams),new qe(t.fragment),new qe(t.data),t.outlet,t.component,t)}var sR="ngNavigationCancelingError";function oR(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Uo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=aR(!1,cn.Redirect,e);return r.url=n,r.navigationBehaviorOptions=i,r}function aR(t,e,n){let i=new Error("NavigationCancelingError: "+(t||""));return i[sR]=!0,i.cancellationCode=e,n&&(i.url=n),i}function u$(t){return cR(t)&&Uo(t.url)}function cR(t){return t&&t[sR]}var d$=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Gn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Xn],decls:1,vars:0,template:function(r,s){r&1&&ur(0,"router-outlet")},dependencies:[o$],encapsulation:2});let t=e;return t})();function h$(t,e){return t.providers&&!t._injector&&(t._injector=fh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function uv(t){let e=t.children&&t.children.map(uv),n=e?ue(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==se&&(n.component=d$),n}function si(t){return t.outlet||se}function f$(t,e){let n=t.filter(i=>si(i)===e);return n.push(...t.filter(i=>si(i)!==e)),n}function qc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var p$=(t,e,n,i)=>K(r=>(new nv(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),nv=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),O_(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Lo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Lo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Lo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Lo(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Y_(s.value.snapshot))}),e.children.length&&this.forwardEvent(new K_(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(O_(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),O_(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=qc(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Bh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},jo=class{constructor(e,n){this.component=e,this.route=n}};function m$(t,e,n){let i=t._root,r=e?e._root:null;return Ac(i,r,n,[i.value])}function g$(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function zo(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!MC(t)?t:e.get(t):i}function Ac(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Lo(e);return t.children.forEach(o=>{y$(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Nc(a,n.getContext(o),r)),r}function y$(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=_$(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Bh(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ac(t,e,a?a.children:null,i,r):Ac(t,e,n,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new jo(a.outlet.component,o))}else o&&Nc(e,a,r),r.canActivateChecks.push(new Bh(i)),s.component?Ac(t,null,a?a.children:null,i,r):Ac(t,null,n,i,r);return r}function _$(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ds(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ds(t.url,e.url)||!ii(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ev(t,e)||!ii(t.queryParams,e.queryParams);case"paramsChange":default:return!ev(t,e)}}function Nc(t,e,n){let i=Lo(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Nc(o,e.children.getContext(s),n):Nc(o,null,n):Nc(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new jo(e.outlet.component,r)):n.canDeactivateChecks.push(new jo(null,r)):n.canDeactivateChecks.push(new jo(null,r))}function Gc(t){return typeof t=="function"}function v$(t){return typeof t=="boolean"}function w$(t){return t&&Gc(t.canLoad)}function E$(t){return t&&Gc(t.canActivate)}function I$(t){return t&&Gc(t.canActivateChild)}function b$(t){return t&&Gc(t.canDeactivate)}function D$(t){return t&&Gc(t.canMatch)}function lR(t){return t instanceof Ii||t?.name==="EmptyError"}var Ah=Symbol("INITIAL_VALUE");function Ho(){return Vt(t=>Hr(t.map(e=>e.pipe(ke(1),_n(Ah)))).pipe(K(e=>{for(let n of e)if(n!==!0){if(n===Ah)return Ah;if(n===!1||n instanceof dr)return n}return!0}),xe(e=>e!==Ah),ke(1)))}function C$(t,e){return Re(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?F(ue(w({},n),{guardsResult:!0})):T$(o,i,r,t).pipe(Re(a=>a&&v$(a)?S$(i,s,t,e):F(a)),K(a=>ue(w({},n),{guardsResult:a})))})}function T$(t,e,n,i){return Te(t).pipe(Re(r=>N$(r.component,r.route,n,e,i)),Ln(r=>r!==!0,!0))}function S$(t,e,n,i){return Te(e).pipe(zr(r=>Fn(R$(r.route.parent,i),A$(r.route,i),M$(t,r.path,n),x$(t,r.route,n))),Ln(r=>r!==!0,!0))}function A$(t,e){return t!==null&&e&&e(new Q_(t)),F(!0)}function R$(t,e){return t!==null&&e&&e(new W_(t)),F(!0)}function x$(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return F(!0);let r=i.map(s=>Yi(()=>{let o=qc(e)??n,a=zo(s,o),c=E$(a)?a.canActivate(e,t):or(o,()=>a(e,t));return mr(c).pipe(Ln())}));return F(r).pipe(Ho())}function M$(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>g$(o)).filter(o=>o!==null).map(o=>Yi(()=>{let a=o.guards.map(c=>{let l=qc(o.node)??n,u=zo(c,l),d=I$(u)?u.canActivateChild(i,t):or(l,()=>u(i,t));return mr(d).pipe(Ln())});return F(a).pipe(Ho())}));return F(s).pipe(Ho())}function N$(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return F(!0);let o=s.map(a=>{let c=qc(e)??r,l=zo(a,c),u=b$(l)?l.canDeactivate(t,e,n,i):or(c,()=>l(t,e,n,i));return mr(u).pipe(Ln())});return F(o).pipe(Ho())}function P$(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return F(!0);let s=r.map(o=>{let a=zo(o,t),c=w$(a)?a.canLoad(e,n):or(t,()=>a(e,n));return mr(c)});return F(s).pipe(Ho(),uR(i))}function uR(t){return ju(Ge(e=>{if(Uo(e))throw oR(t,e)}),K(e=>e===!0))}function O$(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return F(!0);let s=r.map(o=>{let a=zo(o,t),c=D$(a)?a.canMatch(e,n):or(t,()=>a(e,n));return mr(c)});return F(s).pipe(Ho(),uR(i))}var Bc=class{constructor(e){this.segmentGroup=e||null}},Uh=class extends Error{constructor(e){super(),this.urlTree=e}};function Fo(t){return co(new Bc(t))}function k$(t){return co(new C(4e3,!1))}function F$(t){return co(aR(!1,cn.GuardRejected))}var iv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return F(i);if(r.numberOfChildren>1||!r.children[se])return k$(e.redirectTo);r=r.children[se]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Uh(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new dr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,i,r)}),new ve(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new C(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},rv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function L$(t,e,n,i,r){let s=dv(t,e,n);return s.matched?(i=h$(e,i),O$(i,e,n,r).pipe(K(o=>o===!0?s:w({},rv)))):F(s)}function dv(t,e,n){if(e.path==="**")return V$(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},rv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||P2)(n,t,e);if(!r)return w({},rv);let s={};Object.entries(r.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=r.consumed.length>0?w(w({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function V$(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function BA(t,e,n,i){return n.length>0&&U$(t,n,i)?{segmentGroup:new ve(e,B$(i,new ve(n,t.children))),slicedSegments:[]}:n.length===0&&$$(t,n,i)?{segmentGroup:new ve(t.segments,j$(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new ve(t.segments,t.children),slicedSegments:n}}function j$(t,e,n,i){let r={};for(let s of n)if(zh(t,e,s)&&!i[si(s)]){let o=new ve([],{});r[si(s)]=o}return w(w({},i),r)}function B$(t,e){let n={};n[se]=e;for(let i of t)if(i.path===""&&si(i)!==se){let r=new ve([],{});n[si(i)]=r}return n}function U$(t,e,n){return n.some(i=>zh(t,e,i)&&si(i)!==se)}function $$(t,e,n){return n.some(i=>zh(t,e,i))}function zh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function H$(t,e,n,i){return si(t)!==i&&(i===se||!zh(e,n,t))?!1:dv(e,t,n).matched}function z$(t,e,n){return e.length===0&&!t.children[n]}var sv=class{};function q$(t,e,n,i,r,s,o="emptyOnly"){return new ov(t,e,n,i,r,o,s).recognize()}var G$=31,ov=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new iv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=BA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(K(n=>{let i=new Vc([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},se,this.rootComponentType,null,{}),r=new Ht(i,n),s=new jh("",r),o=X2(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,se).pipe(Zi(i=>{if(i instanceof Uh)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Bc?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=cv(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(K(s=>s instanceof Ht?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return Te(r).pipe(zr(s=>{let o=i.children[s],a=f$(n,s);return this.processSegmentGroup(e,a,o,s)}),dd((s,o)=>(s.push(...o),s)),Xi(null),Ym(),Re(s=>{if(s===null)return Fo(i);let o=dR(s);return W$(o),F(o)}))}processSegment(e,n,i,r,s,o){return Te(n).pipe(zr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(Zi(c=>{if(c instanceof Bc)return F(null);throw c}))),Ln(a=>!!a),Zi(a=>{if(lR(a))return z$(i,r,s)?F(new sv):Fo(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return H$(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):Fo(r):Fo(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=dv(n,r,s);if(!a)return Fo(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>G$&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,d).pipe(Re(h=>this.processSegment(e,i,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=L$(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(Vt(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Vt(({routes:c})=>{let l=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new Vc(u,h,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Q$(i),si(i),i.component??i._loadedComponent??null,i,Y$(i)),{segmentGroup:p,slicedSegments:g}=BA(n,u,d,c);if(g.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(K(I=>I===null?null:new Ht(f,I)));if(c.length===0&&g.length===0)return F(new Ht(f,[]));let _=si(i)===s;return this.processSegment(l,c,p,g,_?se:s,!0).pipe(K(I=>new Ht(f,I instanceof Ht?[I]:[])))}))):Fo(n)))}getChildConfig(e,n,i){return n.children?F({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?F({routes:n._loadedRoutes,injector:n._loadedInjector}):P$(e,n,i,this.urlSerializer).pipe(Re(r=>r?this.configLoader.loadChildren(e,n).pipe(Ge(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):F$(n))):F({routes:[],injector:e})}};function W$(t){t.sort((e,n)=>e.value.outlet===se?-1:n.value.outlet===se?1:e.value.outlet.localeCompare(n.value.outlet))}function K$(t){let e=t.value.routeConfig;return e&&e.path===""}function dR(t){let e=[],n=new Set;for(let i of t){if(!K$(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=dR(i.children);e.push(new Ht(i.value,r))}return e.filter(i=>!n.has(i))}function Q$(t){return t.data||{}}function Y$(t){return t.resolve||{}}function Z$(t,e,n,i,r,s){return Re(o=>q$(t,e,n,i,o.extractedUrl,r,s).pipe(K(({state:a,tree:c})=>ue(w({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function X$(t,e){return Re(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return F(n);let s=new Set(r.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let l of hR(c))o.add(l);let a=0;return Te(o).pipe(zr(c=>s.has(c)?J$(c,i,t,e):(c.data=cv(c,c.parent,t).resolve,F(void 0))),Ge(()=>a++),ho(1),Re(c=>a===o.size?F(n):Nt))})}function hR(t){let e=t.children.map(n=>hR(n)).flat();return[t,...e]}function J$(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!rR(r)&&(s[$c]=r.title),eH(s,t,e,i).pipe(K(o=>(t._resolvedData=o,t.data=cv(t,t.parent,n).resolve,null)))}function eH(t,e,n,i){let r=L_(t);if(r.length===0)return F({});let s={};return Te(r).pipe(Re(o=>tH(t[o],e,n,i).pipe(Ln(),Ge(a=>{s[o]=a}))),ho(1),qa(s),Zi(o=>lR(o)?Nt:co(o)))}function tH(t,e,n,i){let r=qc(e)??i,s=zo(t,r),o=s.resolve?s.resolve(e,n):or(r,()=>s(e,n));return mr(o)}function k_(t){return Vt(e=>{let n=t(e);return n?Te(n).pipe(K(()=>e)):F(e)})}var fR=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(i){return i.data[$c]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>D(nH),providedIn:"root"});let t=e;return t})(),nH=(()=>{let e=class e extends fR{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(y(M_))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wc=new T("",{providedIn:"root",factory:()=>({})}),Uc=new T("ROUTES"),hv=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=D(ph)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return F(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=mr(i.loadComponent()).pipe(K(pR),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Wa(()=>{this.componentLoaders.delete(i)})),s=new zi(r,()=>new $).pipe(ro());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return F({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=iH(r,this.compiler,i,this.onLoadEndListener).pipe(Wa(()=>{this.childrenLoaders.delete(r)})),a=new zi(o,()=>new $).pipe(ro());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function iH(t,e,n,i){return mr(t.loadChildren()).pipe(K(pR),Re(r=>r instanceof ac||Array.isArray(r)?F(r):Te(e.compileModuleAsync(r))),K(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Uc,[],{optional:!0,self:!0}).flat()),{routes:o.map(uv),injector:s}}))}function rH(t){return t&&typeof t=="object"&&"default"in t}function pR(t){return rH(t)?t.default:t}var fv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>D(sH),providedIn:"root"});let t=e;return t})(),sH=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mR=new T(""),gR=new T("");function oH(t,e,n){let i=t.get(gR),r=t.get(z);return t.get(P).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(l=>{s=l}),a=r.startViewTransition(()=>(s(),aH(t))),{onViewTransitionCreated:c}=i;return c&&or(t,()=>c({transition:a,from:e,to:n})),o})}function aH(t){return new Promise(e=>{e_(e,{injector:t})})}var pv=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $,this.transitionAbortSubject=new $,this.configLoader=D(hv),this.environmentInjector=D(Bt),this.urlSerializer=D(Hc),this.rootContexts=D(zc),this.location=D(ni),this.inputBindingEnabled=D(Hh,{optional:!0})!==null,this.titleStrategy=D(fR),this.options=D(Wc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=D(fv),this.createViewTransition=D(mR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let i=s=>this.events.next(new q_(s)),r=s=>this.events.next(new G_(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ue(w(w({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xe(o=>o.id!==0),K(o=>ue(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Vt(o=>{this.currentTransition=o;let a=!1,c=!1;return F(o).pipe(Ge(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vt(l=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new fr(l.id,this.urlSerializer.serialize(l.rawUrl),h,Oh.IgnoredSameUrlNavigation)),l.resolve(null),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return F(l).pipe(Vt(h=>{let f=this.transitions?.getValue();return this.events.next(new $o(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Nt:Promise.resolve(h)}),Z$(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ue(w({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new kh(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=l,I=new $o(h,this.urlSerializer.serialize(f),p,g);this.events.next(I);let M=nR(this.rootComponentType).snapshot;return this.currentTransition=o=ue(w({},l),{targetSnapshot:M,urlAfterRedirects:f,extras:ue(w({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,F(o)}else{let h="";return this.events.next(new fr(l.id,this.urlSerializer.serialize(l.extractedUrl),h,Oh.IgnoredByUrlHandlingStrategy)),l.resolve(null),Nt}}),Ge(l=>{let u=new U_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),K(l=>(this.currentTransition=o=ue(w({},l),{guards:m$(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),C$(this.environmentInjector,l=>this.events.next(l)),Ge(l=>{if(o.guardsResult=l.guardsResult,Uo(l.guardsResult))throw oR(this.urlSerializer,l.guardsResult);let u=new $_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),xe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",cn.GuardRejected),!1)),k_(l=>{if(l.guards.canActivateChecks.length)return F(l).pipe(Ge(u=>{let d=new H_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Vt(u=>{let d=!1;return F(u).pipe(X$(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",cn.NoDataFromResolver)}}))}),Ge(u=>{let d=new z_(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),k_(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ge(f=>{d.component=f}),K(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Hr(u(l.targetSnapshot.root)).pipe(Xi(null),ke(1))}),k_(()=>this.afterPreactivation()),Vt(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Te(d).pipe(K(()=>o)):F(o)}),K(l=>{let u=a$(i.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=ue(w({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ge(()=>{this.events.next(new Fc)}),p$(this.rootContexts,i.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),ke(1),Ge({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),vn(this.transitionAbortSubject.pipe(Ge(l=>{throw l}))),Wa(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",cn.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Zi(l=>{if(c=!0,cR(l))this.events.next(new hr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),u$(l)?this.events.next(new Lc(l.url)):o.resolve(!1);else{this.events.next(new kc(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Nt}))}))}cancelNavigationTransition(i,r,s){let o=new hr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cH(t){return t!==Mc}var lH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>D(uH),providedIn:"root"});let t=e;return t})(),av=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},uH=(()=>{let e=class e extends av{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=rs(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:()=>D(dH),providedIn:"root"});let t=e;return t})(),dH=(()=>{let e=class e extends yR{constructor(){super(...arguments),this.location=D(ni),this.urlSerializer=D(Hc),this.options=D(Wc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=D(fv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new dr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=nR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof $o)this.stateMemento=this.createStateMemento();else if(i instanceof fr)this.rawUrlTree=r.initialUrl;else if(i instanceof kh){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof Fc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof hr&&(i.code===cn.GuardRejected||i.code===cn.NoDataFromResolver)?this.restoreHistory(r):i instanceof kc?this.restoreHistory(r,!0):i instanceof ri&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=w(w({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=w(w({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=rs(e)))(s||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Rc||{});function _R(t,e){t.events.pipe(xe(n=>n instanceof ri||n instanceof hr||n instanceof kc||n instanceof fr),K(n=>n instanceof ri||n instanceof fr?Rc.COMPLETE:(n instanceof hr?n.code===cn.Redirect||n.code===cn.SupersededByNewNavigation:!1)?Rc.REDIRECTING:Rc.FAILED),xe(n=>n!==Rc.REDIRECTING),ke(1)).subscribe(()=>{e()})}function hH(t){throw t}var fH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=D(Oo),this.stateManager=D(yR),this.options=D(Wc,{optional:!0})||{},this.pendingTasks=D(mh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=D(pv),this.urlSerializer=D(Hc),this.location=D(ni),this.urlHandlingStrategy=D(fv),this._events=new $,this.errorHandler=this.options.errorHandler||hH,this.navigated=!1,this.routeReuseStrategy=D(lH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=D(Uc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!D(Hh,{optional:!0}),this.eventsSubscription=new Ie,this.isNgZoneEnabled=D(P)instanceof P&&P.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof hr&&r.code!==cn.Redirect&&r.code!==cn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ri)this.navigated=!0;else if(r instanceof Lc){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||cH(s.source)};this.scheduleNavigation(a,Mc,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}gH(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Mc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=w({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let c=this.parseUrl(i);this.scheduleNavigation(c,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(uv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=XA(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return JA(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Uo(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Mc,null,r)}navigate(i,r={skipLocationChange:!1}){return mH(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=w({},fH):r===!1?s=w({},pH):s=r,Uo(i))return kA(this.currentUrlTree,i,s);let o=this.parseUrl(i);return kA(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((h,f)=>{c=h,l=f});let d=this.pendingTasks.add();return _R(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function gH(t){return!(t instanceof Fc)&&!(t instanceof Lc)}var Bne=(()=>{let e=class e{constructor(i,r,s,o,a,c){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new $,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=i.events.subscribe(u=>{u instanceof ri&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let i=this.href===null?null:lS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(S(Dn),S(pr),Ny("tabindex"),S(cr),S(pe),S(xi))},e.\u0275dir=be({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Rt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Yn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[de.HasDecoratorInputTransform,"preserveFragment","preserveFragment",an],skipLocationChange:[de.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",an],replaceUrl:[de.HasDecoratorInputTransform,"replaceUrl","replaceUrl",an],routerLink:"routerLink"},standalone:!0,features:[Ai,kt]});let t=e;return t})();var $h=class{};var yH=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(xe(i=>i instanceof ri),zr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=fh(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Te(s).pipe(Qi())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=F(null);let o=s.pipe(Re(a=>a===null?F(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Te([o,a]).pipe(Qi())}else return o})}};e.\u0275fac=function(r){return new(r||e)(y(Dn),y(ph),y(Bt),y($h),y(hv))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vR=new T(""),_H=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof $o?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ri?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof fr&&i.code===Oh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Fh&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Fh(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){_S()},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function Une(t,...e){return Jd([{provide:Uc,multi:!0,useValue:t},[],{provide:pr,useFactory:wR,deps:[Dn]},{provide:vh,multi:!0,useFactory:ER},e.map(n=>n.\u0275providers)])}function wR(t){return t.routerState.root}function Kc(t,e){return{\u0275kind:t,\u0275providers:e}}function ER(){let t=D(Ce);return e=>{let n=t.get(Jn);if(e!==n.components[0])return;let i=t.get(Dn),r=t.get(IR);t.get(mv)===1&&i.initialNavigation(),t.get(bR,null,ae.Optional)?.setUpPreloading(),t.get(vR,null,ae.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var IR=new T("",{factory:()=>new $}),mv=new T("",{providedIn:"root",factory:()=>1});function vH(){return Kc(2,[{provide:mv,useValue:0},{provide:_h,multi:!0,deps:[Ce],useFactory:e=>{let n=e.get(_A,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Dn),s=e.get(IR);_R(r,()=>{i(!0)}),e.get(pv).afterPreactivation=()=>(i(!0),s.closed?F(void 0):s),r.initialNavigation()}))}}])}function wH(){return Kc(3,[{provide:_h,multi:!0,useFactory:()=>{let e=D(Dn);return()=>{e.setUpLocationChangeListener()}}},{provide:mv,useValue:2}])}var bR=new T("");function EH(t){return Kc(0,[{provide:bR,useExisting:yH},{provide:$h,useExisting:t}])}function IH(){return Kc(8,[jA,{provide:Hh,useExisting:jA}])}function bH(t){let e=[{provide:mR,useValue:oH},{provide:gR,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return Kc(9,e)}var UA=new T("ROUTER_FORROOT_GUARD"),DH=[ni,{provide:Hc,useClass:Pc},Dn,zc,{provide:pr,useFactory:wR,deps:[Dn]},hv,[]],gv=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[DH,[],{provide:Uc,multi:!0,useValue:i},{provide:UA,useFactory:AH,deps:[[Dn,new mt,new NT]]},{provide:Wc,useValue:r||{}},r?.useHash?TH():SH(),CH(),r?.preloadingStrategy?EH(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?RH(r):[],r?.bindToComponentInputs?IH().\u0275providers:[],r?.enableViewTransitions?bH().\u0275providers:[],xH()]}}static forChild(i){return{ngModule:e,providers:[{provide:Uc,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(y(UA,8))},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();function CH(){return{provide:vR,useFactory:()=>{let t=D(CA),e=D(P),n=D(Wc),i=D(pv),r=D(Hc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _H(r,i,t,e,n)}}}function TH(){return{provide:xi,useClass:wA}}function SH(){return{provide:xi,useClass:v_}}function AH(t){return"guarded"}function RH(t){return[t.initialNavigation==="disabled"?wH().\u0275providers:[],t.initialNavigation==="enabledBlocking"?vH().\u0275providers:[]]}var $A=new T("");function xH(){return[{provide:$A,useFactory:ER},{provide:vh,multi:!0,useExisting:$A}]}var qne=(()=>{let e=class e{constructor(){this.executingCounter=uS(0),this.loadingStatus$=new qe(!1)}get loading$(){return this.loadingStatus$.asObservable()}start(){this.executingCounter.update(i=>i+1),this.executingCounter()>0&&this.loadingStatus$.next(!0)}stop(){this.executingCounter()>0&&this.executingCounter.update(i=>i-1),this.executingCounter()<=0&&this.loadingStatus$.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var CR=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},NH=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},TR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;let l=r<t.length?n[t.charAt(r)]:64;++r;let d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||l==null||d==null)throw new _v;let h=s<<2|a>>4;if(i.push(h),l!==64){let f=a<<4&240|l>>2;if(i.push(f),d!==64){let p=l<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},_v=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},PH=function(t){let e=CR(t);return TR.encodeByteArray(e,!0)},Qc=function(t){return PH(t).replace(/\./g,"")},wv=function(t){try{return TR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var kH=()=>OH().__FIREBASE_DEFAULTS__,FH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wv(t[1]);return e&&JSON.parse(e)},Gh=()=>{try{return kH()||FH()||LH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ev=t=>{var e,n;return(n=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SR=t=>{let e=Ev(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Iv=()=>{var t;return(t=Gh())===null||t===void 0?void 0:t.config},bv=t=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${t}`]};var qh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function AR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qc(JSON.stringify(n)),Qc(JSON.stringify(o)),""].join(".")}function Be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function VH(){var t;let e=(t=Gh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NR(){let t=Be();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PR(){return!VH()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wh(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var jH="FirebaseError",zt=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=jH,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mi.prototype.create)}},Mi=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?BH(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new zt(r,a,i)}};function BH(t,e){return t.replace(UH,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var UH=/\{\$([^}]+)}/g;function kR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function hs(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let s=t[r],o=e[r];if(DR(s)&&DR(o)){if(!hs(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function DR(t){return t!==null&&typeof t=="object"}function qo(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Go(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Wo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FR(t,e){let n=new vv(t,e);return n.subscribe.bind(n)}var vv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");$H(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=yv),r.error===void 0&&(r.error=yv),r.complete===void 0&&(r.complete=yv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $H(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yv(){}var Wne=4*60*60*1e3;function Fe(t){return t&&t._delegate?t._delegate:t}var un=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var fs="[DEFAULT]";var Dv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new qh;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zH(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return m(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HH(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function HH(t){return t===fs?void 0:t}function zH(t){return t.instantiationMode==="EAGER"}var Kh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Dv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var qH=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),GH={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},WH=ce.INFO,KH={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},QH=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=KH[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gr=class{constructor(e){this.name=e,this._logLevel=WH,this._logHandler=QH,this._userLogHandler=null,qH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var YH=(t,e)=>e.some(n=>t instanceof n),LR,VR;function ZH(){return LR||(LR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XH(){return VR||(VR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jR=new WeakMap,Tv=new WeakMap,BR=new WeakMap,Cv=new WeakMap,Av=new WeakMap;function JH(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oi(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jR.set(n,t)}).catch(()=>{}),Av.set(e,t),e}function ez(t){if(Tv.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tv.set(t,e)}var Sv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UR(t){Sv=t(Sv)}function tz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(Qh(this),e,...n);return BR.set(i,e.sort?e.sort():[e]),oi(i)}:XH().includes(t)?function(...e){return t.apply(Qh(this),e),oi(jR.get(this))}:function(...e){return oi(t.apply(Qh(this),e))}}function nz(t){return typeof t=="function"?tz(t):(t instanceof IDBTransaction&&ez(t),YH(t,ZH())?new Proxy(t,Sv):t)}function oi(t){if(t instanceof IDBRequest)return JH(t);if(Cv.has(t))return Cv.get(t);let e=nz(t);return e!==t&&(Cv.set(t,e),Av.set(e,t)),e}var Qh=t=>Av.get(t);function HR(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),a=oi(o);return i&&o.addEventListener("upgradeneeded",c=>{i(oi(o.result),c.oldVersion,c.newVersion,oi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var iz=["get","getKey","getAll","getAllKeys","count"],rz=["put","add","delete","clear"],Rv=new Map;function $R(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rv.get(e))return Rv.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=rz.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||iz.includes(n)))return;let s=function(o,...a){return m(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Rv.set(e,s),s}UR(t=>ue(w({},t),{get:(e,n,i)=>$R(e,n)||t.get(e,n,i),has:(e,n)=>!!$R(e,n)||t.has(e,n)}));var Mv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sz(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function sz(t){let e=t.getComponent();return e?.type==="VERSION"}var Nv="@firebase/app",zR="0.9.26";var ps=new gr("@firebase/app"),oz="@firebase/app-compat",az="@firebase/analytics-compat",cz="@firebase/analytics",lz="@firebase/app-check-compat",uz="@firebase/app-check",dz="@firebase/auth",hz="@firebase/auth-compat",fz="@firebase/database",pz="@firebase/database-compat",mz="@firebase/functions",gz="@firebase/functions-compat",yz="@firebase/installations",_z="@firebase/installations-compat",vz="@firebase/messaging",wz="@firebase/messaging-compat",Ez="@firebase/performance",Iz="@firebase/performance-compat",bz="@firebase/remote-config",Dz="@firebase/remote-config-compat",Cz="@firebase/storage",Tz="@firebase/storage-compat",Sz="@firebase/firestore",Az="@firebase/firestore-compat",Rz="firebase",xz="10.7.2";var Pv="[DEFAULT]",Mz={[Nv]:"fire-core",[oz]:"fire-core-compat",[cz]:"fire-analytics",[az]:"fire-analytics-compat",[uz]:"fire-app-check",[lz]:"fire-app-check-compat",[dz]:"fire-auth",[hz]:"fire-auth-compat",[fz]:"fire-rtdb",[pz]:"fire-rtdb-compat",[mz]:"fire-fn",[gz]:"fire-fn-compat",[yz]:"fire-iid",[_z]:"fire-iid-compat",[vz]:"fire-fcm",[wz]:"fire-fcm-compat",[Ez]:"fire-perf",[Iz]:"fire-perf-compat",[bz]:"fire-rc",[Dz]:"fire-rc-compat",[Cz]:"fire-gcs",[Tz]:"fire-gcs-compat",[Sz]:"fire-fst",[Az]:"fire-fst-compat","fire-js":"fire-js",[Rz]:"fire-js-all"};var Yc=new Map,Ov=new Map;function Nz(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _r(t){let e=t.name;if(Ov.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;Ov.set(e,t);for(let n of Yc.values())Nz(n,t);return!0}function Xc(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var Pz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},yr=new Mi("app","Firebase",Pz);var kv=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}};var vr=xz;function Vv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Pv,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw yr.create("bad-app-name",{appName:String(r)});if(n||(n=Iv()),!n)throw yr.create("no-options");let s=Yc.get(r);if(s){if(hs(n,s.options)&&hs(i,s.config))return s;throw yr.create("duplicate-app",{appName:r})}let o=new Kh(r);for(let c of Ov.values())o.addComponent(c);let a=new kv(n,i,o);return Yc.set(r,a),a}function Ko(t=Pv){let e=Yc.get(t);if(!e&&t===Pv&&Iv())return Vv();if(!e)throw yr.create("no-app",{appName:t});return e}function Yh(){return Array.from(Yc.values())}function Je(t,e,n){var i;let r=(i=Mz[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(a.join(" "));return}_r(new un(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var Oz="firebase-heartbeat-database",kz=1,Zc="firebase-heartbeat-store",xv=null;function KR(){return xv||(xv=HR(Oz,kz,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),xv}function Fz(t){return m(this,null,function*(){try{return yield(yield KR()).transaction(Zc).objectStore(Zc).get(QR(t))}catch(e){if(e instanceof zt)ps.warn(e.message);else{let n=yr.create("idb-get",{originalErrorMessage:e?.message});ps.warn(n.message)}}})}function qR(t,e){return m(this,null,function*(){try{let i=(yield KR()).transaction(Zc,"readwrite");yield i.objectStore(Zc).put(e,QR(t)),yield i.done}catch(n){if(n instanceof zt)ps.warn(n.message);else{let i=yr.create("idb-set",{originalErrorMessage:n?.message});ps.warn(i.message)}}})}function QR(t){return`${t.name}!${t.options.appId}`}var Lz=1024,Vz=30*24*60*60*1e3,Fv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Lv(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return m(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=GR();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Vz}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return m(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=GR(),{heartbeatsToSend:i,unsentEntries:r}=jz(this._heartbeatsCache.heartbeats),s=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function GR(){return new Date().toISOString().substring(0,10)}function jz(t,e=Lz){let n=[],i=t.slice();for(let r of t){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),WR(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),WR(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var Lv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(this,null,function*(){return Wh()?OR().then(()=>!0).catch(()=>!1):!1})}read(){return m(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Fz(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return qR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return m(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return qR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function WR(t){return Qc(JSON.stringify({version:2,heartbeats:t})).length}function Bz(t){_r(new un("platform-logger",e=>new Mv(e),"PRIVATE")),_r(new un("heartbeat",e=>new Fv(e),"PRIVATE")),Je(Nv,zR,t),Je(Nv,zR,"esm2017"),Je("fire-js","")}Bz("");var Uz="firebase",$z="10.7.2";Je(Uz,$z,"app");var gs=new qn("ANGULARFIRE2_VERSION");function Xh(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Jc=(t,e)=>{let n=e?[e]:Yh(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Yo=class{constructor(){return Jc(Hz)}},Hz="app-check";function Qo(){}var Zh=class{zone;delegate;constructor(e,n=Gm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},jv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qo,{},Qo,Qo)),n.pipe(Ge({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Zo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Zh(Zone.current)),this.insideAngular=n.run(()=>new Zh(Zone.current,Jt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(y(P))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jh(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function zz(t){return Jh().ngZone.runOutsideAngular(()=>t())}function ms(t){return Jh().ngZone.run(()=>t())}function qz(t){return Gz(Jh())(t)}function Gz(t){return function(n){return n=n.lift(new jv(t.ngZone)),n.pipe(Ki(t.outsideAngular),Wi(t.insideAngular))}}var Wz=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ms(()=>t.apply(void 0,i))},Me=(t,e)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(n||=ms(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Qo,{},Qo,Qo))),i[s]=Wz(i[s],n));let r=zz(()=>t.apply(this,i));if(!e)if(r instanceof U){let s=Jh();return r.pipe(Ki(s.outsideAngular),Wi(s.insideAngular))}else return ms(()=>r);return r instanceof U?r.pipe(qz):r instanceof Promise?ms(()=>new Promise((s,o)=>r.then(a=>ms(()=>s(a)),a=>ms(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:ms(()=>r)};var Ni=class{constructor(e){return e}},ys=class{constructor(){return Yh()}};function Kz(t){return t&&t.length===1?t[0]:new Ni(Ko())}var Bv=new T("angularfire2._apps"),Qz={provide:Ni,useFactory:Kz,deps:[[new mt,Bv]]},Yz={provide:ys,deps:[[new mt,Bv]]};function Zz(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Ni(i)}}var Xz=(()=>{class t{constructor(n){Je("angularfire",gs.full,"core"),Je("angularfire",gs.full,"app"),Je("angular",oA.full,n.toString())}static \u0275fac=function(i){return new(i||t)(y(sn))};static \u0275mod=J({type:t});static \u0275inj=X({providers:[Qz,Yz]})}return t})();function xie(t,...e){return{ngModule:Xz,providers:[{provide:Bv,useFactory:Zz(t),multi:!0,deps:[P,Ce,Zo,...e]}]}}var Mie=Me(Vv,!0);function dx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hx=dx,fx=new Mi("auth","Firebase",dx());var of=new gr("@firebase/auth");function Jz(t,...e){of.logLevel<=ce.WARN&&of.warn(`Auth (${vr}): ${t}`,...e)}function tf(t,...e){of.logLevel<=ce.ERROR&&of.error(`Auth (${vr}): ${t}`,...e)}function dn(t,...e){throw ow(t,...e)}function ai(t,...e){return ow(t,...e)}function px(t,e,n){let i=Object.assign(Object.assign({},hx()),{[e]:n});return new Mi("auth","Firebase",i).create(e,{appName:t.name})}function eq(t,e,n){let i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&dn(t,"argument-error"),px(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ow(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return fx.create(t,...e)}function G(t,e,...n){if(!t)throw ow(e,...n)}function Pi(t){let e="INTERNAL ASSERTION FAILED: "+t;throw tf(e),new Error(e)}function ki(t,e){t||Pi(e)}function Hv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tq(){return YR()==="http:"||YR()==="https:"}function YR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function nq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tq()||xR()||"connection"in navigator)?navigator.onLine:!0}function iq(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var _s=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=RR()||MR()}get(){return nq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function aw(t,e){ki(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var af=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var rq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var sq=new _s(3e4,6e4);function Er(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ir(s,o,a,c){return m(this,arguments,function*(t,e,n,i,r={}){return mx(t,r,()=>m(this,null,function*(){let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});let d=qo(Object.assign({key:t.config.apiKey},u)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),af.fetch()(gx(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},l))}))})}function mx(t,e,n){return m(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},rq),e);try{let r=new zv(t),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ef(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ef(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw ef(t,"user-disabled",o);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw px(t,u,l);dn(t,u)}}catch(r){if(r instanceof zt)throw r;dn(t,"network-request-failed",{message:String(r)})}})}function ol(s,o,a,c){return m(this,arguments,function*(t,e,n,i,r={}){let l=yield Ir(t,e,n,i,r);return"mfaPendingCredential"in l&&dn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function gx(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?aw(t.config,r):`${t.config.apiScheme}://${r}`}function oq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var zv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ai(this.auth,"network-request-failed")),sq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ef(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=ai(t,e,i);return r.customData._tokenResponse=n,r}function ZR(t){return t!==void 0&&t.enterprise!==void 0}var qv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function aq(t,e){return m(this,null,function*(){return Ir(t,"GET","/v2/recaptchaConfig",Er(t,e))})}function cq(t,e){return m(this,null,function*(){return Ir(t,"POST","/v1/accounts:delete",e)})}function lq(t,e){return m(this,null,function*(){return Ir(t,"POST","/v1/accounts:lookup",e)})}function el(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function cw(t,e=!1){return m(this,null,function*(){let n=Fe(t),i=yield n.getIdToken(e),r=lw(i);G(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:el(Uv(r.auth_time)),issuedAtTime:el(Uv(r.iat)),expirationTime:el(Uv(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Uv(t){return Number(t)*1e3}function lw(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return tf("JWT malformed, contained fewer than 3 sections"),null;try{let r=wv(n);return r?JSON.parse(r):(tf("Failed to decode base64 JWT payload"),null)}catch(r){return tf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function uq(t){let e=lw(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function tl(t,e,n=!1){return m(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof zt&&dq(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function dq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Gv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>m(this,null,function*(){yield this.iteration()}),n)}iteration(){return m(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var cf=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function lf(t){return m(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield tl(t,lq(n,{idToken:i}));G(r?.users.length,n,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?fq(s.providerUserInfo):[],a=hq(t.providerData,o),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new cf(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function uw(t){return m(this,null,function*(){let e=Fe(t);yield lf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function hq(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function fq(t){return t.map(e=>{var{providerId:n}=e,i=Ku(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function pq(t,e){return m(this,null,function*(){let n=yield mx(t,{},()=>m(this,null,function*(){let i=qo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=gx(t,r,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",af.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function mq(t,e){return m(this,null,function*(){return Ir(t,"POST","/v2/accounts:revokeToken",Er(t,e))})}var uf=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return m(this,null,function*(){return G(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return m(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield pq(e,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new t;return i&&(G(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(G(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(G(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pi("not implemented")}};function wr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var nl=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Ku(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new cf(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return m(this,null,function*(){let n=yield tl(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return cw(this,e)}reload(){return uw(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return m(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield lf(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return m(this,null,function*(){let e=yield this.getIdToken();return yield tl(this,cq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,c,l,u;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(l=n.createdAt)!==null&&l!==void 0?l:void 0,M=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:V,emailVerified:j,isAnonymous:me,providerData:oe,stsTokenManager:we}=n;G(V&&we,e,"internal-error");let Pe=uf.fromJSON(this.name,we);G(typeof V=="string",e,"internal-error"),wr(d,e.name),wr(h,e.name),G(typeof j=="boolean",e,"internal-error"),G(typeof me=="boolean",e,"internal-error"),wr(f,e.name),wr(p,e.name),wr(g,e.name),wr(_,e.name),wr(I,e.name),wr(M,e.name);let bt=new t({uid:V,auth:e,email:h,emailVerified:j,displayName:d,isAnonymous:me,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Pe,createdAt:I,lastLoginAt:M});return oe&&Array.isArray(oe)&&(bt.providerData=oe.map(gn=>Object.assign({},gn))),_&&(bt._redirectEventId=_),bt}static _fromIdTokenResponse(e,n,i=!1){return m(this,null,function*(){let r=new uf;r.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield lf(s),s})}};var XR=new Map;function Oi(t){ki(t instanceof Function,"Expected a class definition");let e=XR.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XR.set(t,e),e)}var gq=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(this,null,function*(){return!0})}_set(n,i){return m(this,null,function*(){this.storage[n]=i})}_get(n){return m(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return m(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),Wv=gq;function nf(t,e,n){return`firebase:${t}:${e}:${n}`}var df=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=nf(this.userKey,r.apiKey,s),this.fullPersistenceKey=nf("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return m(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?nl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return m(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return m(this,null,function*(){if(!n.length)return new t(Oi(Wv),e,i);let r=(yield Promise.all(n.map(l=>m(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||Oi(Wv),o=nf(i,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=nl._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>m(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,i))})}};function JR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ex(e))return"Blackberry";if(Ix(e))return"Webos";if(dw(e))return"Safari";if((e.includes("chrome/")||_x(e))&&!e.includes("edge/"))return"Chrome";if(wx(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function yx(t=Be()){return/firefox\//i.test(t)}function dw(t=Be()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _x(t=Be()){return/crios\//i.test(t)}function vx(t=Be()){return/iemobile/i.test(t)}function wx(t=Be()){return/android/i.test(t)}function Ex(t=Be()){return/blackberry/i.test(t)}function Ix(t=Be()){return/webos/i.test(t)}function Ef(t=Be()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yq(t=Be()){var e;return Ef(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _q(){return NR()&&document.documentMode===10}function bx(t=Be()){return Ef(t)||wx(t)||Ix(t)||Ex(t)||/windows phone/i.test(t)||vx(t)}function vq(){try{return!!(window&&window!==window.top)}catch{return!1}}function Dx(t,e=[]){let n;switch(t){case"Browser":n=JR(Be());break;case"Worker":n=`${JR(Be())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vr}/${i}`}var Kv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return m(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function wq(n){return m(this,arguments,function*(t,e={}){return Ir(t,"GET","/v2/passwordPolicy",Er(t,e))})}var Eq=6,Qv=class{constructor(e){var n,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Eq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Yv=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hf(this),this.idTokenSubscription=new hf(this),this.beforeStateQueue=new Kv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(()=>m(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield df.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return m(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return m(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return m(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return m(this,null,function*(){try{yield lf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=iq()}_delete(){return m(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return m(this,null,function*(){let n=e?Fe(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return m(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>m(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return m(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>m(this,null,function*(){yield this.assertedPersistence.setPersistence(Oi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return m(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return m(this,null,function*(){let e=yield wq(this),n=new Qv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mi("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return m(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield mq(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return m(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return m(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Oi(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield df.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return m(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>m(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return m(this,null,function*(){if(e===this.currentUser)return this.queue(()=>m(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return m(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return m(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return m(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Jz(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function br(t){return Fe(t)}var hf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=FR(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function Iq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Cx(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let s=ai("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",Iq().appendChild(i)})}function Tx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var bq="https://www.google.com/recaptcha/enterprise.js?render=",Dq="recaptcha-enterprise",Cq="NO_RECAPTCHA",Zv=class{constructor(e){this.type=Dq,this.auth=br(e)}verify(e="verify",n=!1){return m(this,null,function*(){function i(s){return m(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>m(this,null,function*(){aq(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new qv(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;ZR(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Cq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&ZR(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Cx(bq+a).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function ex(t,e,n,i=!1){return m(this,null,function*(){let r=new Zv(t),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},e);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Xv(t,e,n,i){return m(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield ex(t,e,n,n==="getOobCode");return i(t,s)}else return i(t,e).catch(s=>m(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield ex(t,e,n,n==="getOobCode");return i(t,o)}else return Promise.reject(s)}))})}function hw(t,e){let n=Xc(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(hs(s,e??{}))return r;dn(r,"already-initialized")}return n.initialize({options:e})}function Tq(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Oi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function fw(t,e,n){let i=br(t);G(i._canInitEmulator,i,"emulator-config-failed"),G(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=Sx(e),{host:o,port:a}=Sq(e),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Aq()}function Sx(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sq(t){let e=Sx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:tx(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:tx(o)}}}function tx(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Aq(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Jo=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,n){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}};function Rq(t,e){return m(this,null,function*(){return Ir(t,"POST","/v1/accounts:signUp",e)})}function xq(t,e){return m(this,null,function*(){return ol(t,"POST","/v1/accounts:signInWithPassword",Er(t,e))})}function Mq(t,e){return m(this,null,function*(){return ol(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))})}function Nq(t,e){return m(this,null,function*(){return ol(t,"POST","/v1/accounts:signInWithEmailLink",Er(t,e))})}var il=class t extends Jo{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return m(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xv(e,n,"signInWithPassword",xq);case"emailLink":return Mq(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}})}_linkToIdToken(e,n){return m(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xv(e,i,"signUpPassword",Rq);case"emailLink":return Nq(e,{idToken:n,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Xo(t,e){return m(this,null,function*(){return ol(t,"POST","/v1/accounts:signInWithIdp",Er(t,e))})}var Pq="http://localhost",ff=class t extends Jo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Ku(n,["providerId","signInMethod"]);if(!i||!r)return null;let o=new t(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){let i=this.buildRequest();return i.idToken=n,Xo(e,i)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){let e={requestUri:Pq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qo(n)}return e}};function Oq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kq(t){let e=Go(Wo(t)).link,n=e?Go(Wo(e)).deep_link_id:null,i=Go(Wo(t)).deep_link_id;return(i?Go(Wo(i)).link:null)||i||n||e||t}var pf=class t{constructor(e){var n,i,r,s,o,a;let c=Go(Wo(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(i=c.oobCode)!==null&&i!==void 0?i:null,d=Oq((r=c.mode)!==null&&r!==void 0?r:null);G(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=kq(e);try{return new t(n)}catch{return null}}};var Ax=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return il._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=pf.parseLink(i);return G(r,"argument-error"),il._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),rl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var mf=class extends rl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var pw=(()=>{class t extends mf{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return ff._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return t.credential(i,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function Fq(t,e){return m(this,null,function*(){return ol(t,"POST","/v1/accounts:signUp",Er(t,e))})}var ea=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return m(this,null,function*(){let s=yield nl._fromIdTokenResponse(e,i,r),o=nx(i);return new t({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return m(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=nx(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function nx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Jv=class t extends zt{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function Rx(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Jv._fromErrorAndOperation(t,s,e,i):s})}function Lq(t,e,n=!1){return m(this,null,function*(){let i=yield tl(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ea._forOperation(t,"link",i)})}function Vq(t,e,n=!1){return m(this,null,function*(){let{auth:i}=t,r="reauthenticate";try{let s=yield tl(t,Rx(i,r,e,t),n);G(s.idToken,i,"internal-error");let o=lw(s.idToken);G(o,i,"internal-error");let{sub:a}=o;return G(t.uid===a,i,"user-mismatch"),ea._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&dn(i,"user-mismatch"),s}})}function xx(t,e,n=!1){return m(this,null,function*(){let i="signIn",r=yield Rx(t,i,e),s=yield ea._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(s.user)),s})}function mw(t,e){return m(this,null,function*(){return xx(br(t),e)})}function Mx(t){return m(this,null,function*(){let e=br(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function gw(t,e,n){return m(this,null,function*(){let i=br(t),o=yield Xv(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fq).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Mx(t),c}),a=yield ea._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function yw(t,e,n){return mw(Fe(t),Ax.credential(e,n)).catch(i=>m(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&Mx(t),i}))}function _w(t,e,n,i){return Fe(t).onIdTokenChanged(e,n,i)}function vw(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function ww(t,e,n,i){return Fe(t).onAuthStateChanged(e,n,i)}function Ew(t){return Fe(t).signOut()}var gf="__sak";var yf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function jq(){let t=Be();return dw(t)||Ef(t)}var Bq=1e3,Uq=10,$q=(()=>{class t extends yf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=jq()&&vq(),this.fallbackToPolling=bx(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(r);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);_q()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Uq):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},Bq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return m(this,null,function*(){yield Hi(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return m(this,null,function*(){let i=yield Hi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return m(this,null,function*(){yield Hi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Nx=$q;var Hq=(()=>{class t extends yf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Iw=Hq;function zq(t){return Promise.all(t.map(e=>m(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var qq=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return m(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(u=>m(this,null,function*(){return u(i.origin,o)})),l=yield zq(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function bw(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var ew=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return m(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=bw("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){let h=d;if(h.data.eventId===l)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ci(){return window}function Gq(t){ci().location.href=t}function Px(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}function Wq(){return m(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Kq(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Qq(){return Px()?self:null}var Ox="firebaseLocalStorageDb",Yq=1,_f="firebaseLocalStorage",kx="fbase_key",vs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function If(t,e){return t.transaction([_f],e?"readwrite":"readonly").objectStore(_f)}function Zq(){let t=indexedDB.deleteDatabase(Ox);return new vs(t).toPromise()}function tw(){let t=indexedDB.open(Ox,Yq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(_f,{keyPath:kx})}catch(r){n(r)}}),t.addEventListener("success",()=>m(this,null,function*(){let i=t.result;i.objectStoreNames.contains(_f)?e(i):(i.close(),yield Zq(),e(yield tw()))}))})}function ix(t,e,n){return m(this,null,function*(){let i=If(t,!0).put({[kx]:e,value:n});return new vs(i).toPromise()})}function Xq(t,e){return m(this,null,function*(){let n=If(t,!1).get(e),i=yield new vs(n).toPromise();return i===void 0?null:i.value})}function rx(t,e){let n=If(t,!0).delete(e);return new vs(n).toPromise()}var Jq=800,eG=3,tG=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return m(this,null,function*(){return this.db?this.db:(this.db=yield tw(),this.db)})}_withRetries(n){return m(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>eG)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return m(this,null,function*(){return Px()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return m(this,null,function*(){this.receiver=qq._getInstance(Qq()),this.receiver._subscribe("keyChanged",(n,i)=>m(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>m(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return m(this,null,function*(){var n,i;if(this.activeServiceWorker=yield Wq(),!this.activeServiceWorker)return;this.sender=new ew(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return m(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Kq()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return m(this,null,function*(){try{if(!indexedDB)return!1;let n=yield tw();return yield ix(n,gf,"1"),yield rx(n,gf),!0}catch{}return!1})}_withPendingWrite(n){return m(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(r=>ix(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return m(this,null,function*(){let i=yield this._withRetries(r=>Xq(r,n));return this.localCache[n]=i,i})}_remove(n){return m(this,null,function*(){return this._withPendingWrite(()=>m(this,null,function*(){return yield this._withRetries(i=>rx(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return m(this,null,function*(){let n=yield this._withRetries(s=>{let o=If(s,!1).getAll();return new vs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>m(this,null,function*(){return this._poll()}),Jq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Fx=tG;var jie=Tx("rcb"),Bie=new _s(3e4,6e4);function Lx(t,e){return e?Oi(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var sl=class extends Jo{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function nG(t){return xx(t.auth,new sl(t),t.bypassAuthState)}function iG(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),Vq(n,new sl(t),t.bypassAuthState)}function rG(t){return m(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),Lq(n,new sl(t),t.bypassAuthState)})}var vf=class{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>m(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return m(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nG;case"linkViaPopup":case"linkViaRedirect":return rG;case"reauthViaPopup":case"reauthViaRedirect":return iG;default:dn(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var sG=new _s(2e3,1e4);function Dw(t,e,n){return m(this,null,function*(){let i=br(t);eq(t,e,rl);let r=Lx(i,n);return new oG(i,"signInViaPopup",e,r).executeNotNull()})}var oG=(()=>{class t extends vf{constructor(n,i,r,s,o){super(n,i,s,o),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return m(this,null,function*(){let n=yield this.execute();return G(n,this.auth,"internal-error"),n})}onExecution(){return m(this,null,function*(){ki(this.filter.length===1,"Popup operations only handle one event");let n=bw();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,sG.get())};n()}}t.currentPopupAction=null;return t})(),aG="pendingRedirect",rf=new Map,nw=class t extends vf{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return m(this,null,function*(){let e=rf.get(this.auth._key());if(!e){try{let i=(yield cG(this.resolver,this.auth))?yield Hi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}rf.set(this.auth._key(),e)}return this.bypassAuthState||rf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return m(this,null,function*(){if(e.type==="signInViaRedirect")return Hi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Hi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return m(this,null,function*(){})}cleanUp(){}};function cG(t,e){return m(this,null,function*(){let n=dG(e),i=uG(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function lG(t,e){rf.set(t._key(),e)}function uG(t){return Oi(t._redirectPersistence)}function dG(t){return nf(aG,t.config.apiKey,t.name)}function hG(t,e,n=!1){return m(this,null,function*(){let i=br(t),r=Lx(i,e),o=yield new nw(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,e)),o})}var fG=10*60*1e3,iw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Vx(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fG&&this.cachedEventUids.clear(),this.cachedEventUids.has(sx(e))}saveEventToCache(e){this.cachedEventUids.add(sx(e)),this.lastProcessedEventTime=Date.now()}};function sx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Vx({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function pG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vx(t);default:return!1}}function mG(n){return m(this,arguments,function*(t,e={}){return Ir(t,"GET","/v1/projects",e)})}var gG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yG=/^https?/;function _G(t){return m(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield mG(t);for(let n of e)try{if(vG(n))return}catch{}dn(t,"unauthorized-domain")})}function vG(t){let e=Hv(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!yG.test(n))return!1;if(gG.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var wG=new _s(3e4,6e4);function ox(){let t=ci().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function EG(t){return new Promise((e,n)=>{var i,r,s;function o(){ox(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ox(),n(ai(t,"network-request-failed"))},timeout:wG.get()})}if(!((r=(i=ci().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ci().gapi)===null||s===void 0)&&s.load)o();else{let a=Tx("iframefcb");return ci()[a]=()=>{gapi.load?o():n(ai(t,"network-request-failed"))},Cx(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw sf=null,e})}var sf=null;function IG(t){return sf=sf||EG(t),sf}var bG=new _s(5e3,15e3),DG="__/auth/iframe",CG="emulator/auth/iframe",TG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AG(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?aw(e,CG):`https://${t.config.authDomain}/${DG}`,i={apiKey:e.apiKey,appName:t.name,v:vr},r=SG.get(t.config.apiHost);r&&(i.eid=r);let s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${qo(i).slice(1)}`}function RG(t){return m(this,null,function*(){let e=yield IG(t),n=ci().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:AG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TG,dontclear:!0},i=>new Promise((r,s)=>m(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=ai(t,"network-request-failed"),a=ci().setTimeout(()=>{s(o)},bG.get());function c(){ci().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var xG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MG=500,NG=600,PG="_blank",OG="http://localhost",wf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function kG(t,e,n,i=MG,r=NG){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},xG),{width:i.toString(),height:r.toString(),top:s,left:o}),l=Be().toLowerCase();n&&(a=_x(l)?PG:n),yx(l)&&(e=e||OG,c.scrollbars="yes");let u=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(yq(l)&&a!=="_self")return FG(e||"",a),new wf(null);let d=window.open(e||"",a,u);G(d,t,"popup-blocked");try{d.focus()}catch{}return new wf(d)}function FG(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var LG="__/auth/handler",VG="emulator/auth/handler",jG=encodeURIComponent("fac");function ax(t,e,n,i,r,s){return m(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:vr,eventId:r};if(e instanceof rl){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof mf){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${jG}=${encodeURIComponent(c)}`:"";return`${BG(t)}?${qo(a).slice(1)}${l}`})}function BG({config:t}){return t.emulator?aw(t,VG):`https://${t.authDomain}/${LG}`}var $v="webStorageSupport",rw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Iw,this._completeRedirectFn=hG,this._overrideRedirectResult=lG}_openPopup(e,n,i,r){return m(this,null,function*(){var s;ki((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield ax(e,n,i,Hv(),r);return kG(e,o,bw())})}_openRedirect(e,n,i,r){return m(this,null,function*(){yield this._originValidation(e);let s=yield ax(e,n,i,Hv(),r);return Gq(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ki(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return m(this,null,function*(){let n=yield RG(e),i=new iw(e);return n.register("authEvent",r=>(G(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($v,{type:$v},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[$v];o!==void 0&&n(!!o),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_G(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bx()||dw()||Ef()}},jx=rw;var cx="@firebase/auth",lx="1.5.1";var sw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return m(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function UG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $G(t){_r(new un("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;G(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dx(t)},l=new Yv(i,r,s,c);return Tq(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),_r(new un("auth-internal",e=>{let n=br(e.getProvider("auth").getImmediate());return(i=>new sw(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Je(cx,lx,UG(t)),Je(cx,lx,"esm2017")}var HG=5*60,zG=bv("authIdTokenMaxAge")||HG,ux=null,qG=t=>e=>m(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>zG)return;let r=n?.token;ux!==r&&(ux=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Cw(t=Ko()){let e=Xc(t,"auth");if(e.isInitialized())return e.getImmediate();let n=hw(t,{popupRedirectResolver:jx,persistence:[Fx,Nx,Iw]}),i=bv("authTokenSyncURL");if(i){let s=qG(i);vw(n,s,()=>s(n.currentUser)),_w(n,o=>s(o))}let r=Ev("auth");return r&&fw(n,`http://${r}`),n}$G("Browser");var Bx="auth",ws=class{constructor(e){return e}},al=class{constructor(){return Jc(Bx)}};var Tw=new T("angularfire2.auth-instances");function PW(t,e){let n=Xh(Bx,t,e);return n&&new ws(n)}function OW(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new ws(i)}}var kW={provide:al,deps:[[new mt,Tw]]},FW={provide:ws,useFactory:PW,deps:[[new mt,Tw],Ni]},LW=(()=>{class t{constructor(){Je("angularfire",gs.full,"auth")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=J({type:t});static \u0275inj=X({providers:[FW,kW]})}return t})();function Ere(t,...e){return{ngModule:LW,providers:[{provide:Tw,useFactory:OW(t),multi:!0,deps:[P,Ce,Zo,ys,[new mt,Yo],...e]}]}}var Ux=Me(gw,!0);var Sw=Me(Cw,!0);var $x=Me(ww,!0);var Hx=Me(yw,!0);var zx=Me(Dw,!0);var qx=Me(Ew,!0);var Dre=(()=>{let e=class e{constructor(i,r,s){this.auth=i,this.ngZone=r,this.router=s,$x(this.auth,o=>{o?(this.UserData=o,localStorage.setItem("user",JSON.stringify(this.UserData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}get userUid(){return Sw().currentUser?.uid||""}getAuthFire(){return this.auth.currentUser}get isLoggedIn(){let i=localStorage.getItem("user");return JSON.parse(i)!==null}getAuthLocal(){let i=localStorage.getItem("user");return JSON.parse(i)}Register(i,r){return Ux(this.auth,i,r).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.sendEmailVerification(),this.router.navigate(["/signIn"])})}).catch(s=>{window.alert(s.message)})}sendEmailVerification(){throw new Error("Method not implemented.")}Login(i,r){return Hx(this.auth,i,r).then(s=>{this.UserData=s.user,this.ngZone.run(()=>{this.router.navigate(["/"])})}).catch(s=>{window.alert(s.message)})}googleSignIn(){return this.loginWithPopup(new pw)}loginWithPopup(i){return zx(this.auth,i).then(r=>(console.log("logged in",r),r)).catch(r=>{console.log(r)})}logout(){qx(this.auth).then(()=>this.router.navigate(["/signIn"]))}isSignedIn(){return Sw().currentUser!==null}};e.\u0275fac=function(r){return new(r||e)(y(ws),y(P),y(Dn))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tn={},A,Qw=Qw||{},Y=jW||self;function Ff(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function El(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function BW(t){return Object.prototype.hasOwnProperty.call(t,Aw)&&t[Aw]||(t[Aw]=++UW)}var Aw="closure_uid_"+(1e9*Math.random()>>>0),UW=0;function $W(t,e,n){return t.call.apply(t.bind,arguments)}function HW(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function _t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=$W:_t=HW,_t.apply(null,arguments)}function bf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function st(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(i,o)}}function Dr(){this.s=this.s,this.o=this.o}var zW=0;Dr.prototype.s=!1;Dr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),zW!=0)&&BW(this)};Dr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var rM=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yw(t){let e=t.length;if(0<e){let n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function Gx(t,e){for(let n=1;n<arguments.length;n++){let i=arguments[n];if(Ff(i)){let r=t.length||0,s=i.length||0;t.length=r+s;for(let o=0;o<s;o++)t[r+o]=i[o]}else t.push(i)}}function vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var qW=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};Y.addEventListener("test",n,e),Y.removeEventListener("test",n,e)}catch{}return t}();function fl(t){return/^[\s\xa0]*$/.test(t)}function Lf(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function li(t){return Lf().indexOf(t)!=-1}function Zw(t){return Zw[" "](t),t}Zw[" "]=function(){};function GW(t,e){var n=O4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var WW=li("Opera"),ra=li("Trident")||li("MSIE"),sM=li("Edge"),Pw=sM||ra,oM=li("Gecko")&&!(Lf().toLowerCase().indexOf("webkit")!=-1&&!li("Edge"))&&!(li("Trident")||li("MSIE"))&&!li("Edge"),KW=Lf().toLowerCase().indexOf("webkit")!=-1&&!li("Edge");function aM(){var t=Y.document;return t?t.documentMode:void 0}var Ow;e:{if(Df="",Cf=function(){var t=Lf();if(oM)return/rv:([^\);]+)(\)|;)/.exec(t);if(sM)return/Edge\/([\d\.]+)/.exec(t);if(ra)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(KW)return/WebKit\/(\S+)/.exec(t);if(WW)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Cf&&(Df=Cf?Cf[1]:""),ra&&(Tf=aM(),Tf!=null&&Tf>parseFloat(Df))){Ow=String(Tf);break e}Ow=Df}var Df,Cf,Tf,kw;Y.document&&ra?(Rw=aM(),kw=Rw||parseInt(Ow,10)||void 0):kw=void 0;var Rw,QW=kw;function pl(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(oM){e:{try{Zw(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:YW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&pl.$.h.call(this)}}st(pl,vt);var YW={2:"touch",3:"pen",4:"mouse"};pl.prototype.h=function(){pl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Il="closure_listenable_"+(1e6*Math.random()|0),ZW=0;function XW(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++ZW,this.fa=this.ia=!1}function Vf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Xw(t,e,n){for(let i in t)e.call(n,t[i],i,t)}function JW(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function cM(t){let e={};for(let n in t)e[n]=t[n];return e}var Wx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lM(t,e){let n,i;for(let r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(let s=0;s<Wx.length;s++)n=Wx[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function jf(t){this.src=t,this.g={},this.h=0}jf.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Lw(t,e,i,r);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new XW(e,this.src,s,!!i,r),e.ia=n,t.push(e)),e};function Fw(t,e){var n=e.type;if(n in t.g){var i=t.g[n],r=rM(i,e),s;(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(Vf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Lw(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}var Jw="closure_lm_"+(1e6*Math.random()|0),xw={};function uM(t,e,n,i,r){if(i&&i.once)return hM(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uM(t,e[s],n,i,r);return null}return n=nE(n),t&&t[Il]?t.O(e,n,El(i)?!!i.capture:!!i,r):dM(t,e,n,!1,i,r)}function dM(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=El(r)?!!r.capture:!!r,a=tE(t);if(a||(t[Jw]=a=new jf(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=e4(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)qW||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(pM(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function e4(){function t(n){return e.call(t.src,t.listener,n)}let e=t4;return t}function hM(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)hM(t,e[s],n,i,r);return null}return n=nE(n),t&&t[Il]?t.P(e,n,El(i)?!!i.capture:!!i,r):dM(t,e,n,!0,i,r)}function fM(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)fM(t,e[s],n,i,r);else i=El(i)?!!i.capture:!!i,n=nE(n),t&&t[Il]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Lw(s,n,i,r),-1<n&&(Vf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=tE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lw(e,n,i,r)),(n=-1<t?e[t]:null)&&eE(n))}function eE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Il])Fw(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(pM(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=tE(e))?(Fw(n,t),n.h==0&&(n.src=null,e[Jw]=null)):Vf(t)}}}function pM(t){return t in xw?xw[t]:xw[t]="on"+t}function t4(t,e){if(t.fa)t=!0;else{e=new pl(e,this);var n=t.listener,i=t.la||t.src;t.ia&&eE(t),t=n.call(i,e)}return t}function tE(t){return t=t[Jw],t instanceof jf?t:null}var Mw="__closure_events_fn_"+(1e9*Math.random()>>>0);function nE(t){return typeof t=="function"?t:(t[Mw]||(t[Mw]=function(e){return t.handleEvent(e)}),t[Mw])}function rt(){Dr.call(this),this.i=new jf(this),this.S=this,this.J=null}st(rt,Dr);rt.prototype[Il]=!0;rt.prototype.removeEventListener=function(t,e,n,i){fM(this,t,e,n,i)};function ut(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,typeof e=="string")e=new vt(e,t);else if(e instanceof vt)e.target=e.target||t;else{var r=e;e=new vt(i,t),lM(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Sf(o,i,!0,e)&&r}if(o=e.g=t,r=Sf(o,i,!0,e)&&r,r=Sf(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=Sf(o,i,!1,e)&&r}rt.prototype.N=function(){if(rt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Vf(n[i]);delete t.g[e],t.h--}}this.J=null};rt.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};rt.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function Sf(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Fw(t.i,o),r=a.call(c,i)!==!1&&r}}return r&&!i.defaultPrevented}var iE=Y.JSON.stringify,Vw=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function n4(){var t=rE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var jw=class{constructor(){this.h=this.g=null}add(e,n){let i=mM.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},mM=new Vw(()=>new Bw,t=>t.reset()),Bw=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function i4(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function r4(t){Y.setTimeout(()=>{throw t},0)}var ml,gl=!1,rE=new jw,gM=()=>{let t=Y.Promise.resolve(void 0);ml=()=>{t.then(s4)}},s4=()=>{for(var t;t=n4();){try{t.h.call(t.g)}catch(n){r4(n)}var e=mM;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}gl=!1};function Bf(t,e){rt.call(this),this.h=t||1,this.g=e||Y,this.j=_t(this.qb,this),this.l=Date.now()}st(Bf,rt);A=Bf.prototype;A.ga=!1;A.T=null;A.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(sE(this),this.start()))}};A.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}A.N=function(){Bf.$.N.call(this),sE(this),delete this.g};function oE(t,e,n){if(typeof t=="function")n&&(t=_t(t,n));else if(t&&typeof t.handleEvent=="function")t=_t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function yM(t){t.g=oE(()=>{t.g=null,t.i&&(t.i=!1,yM(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var Uw=class extends Dr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yM(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function yl(t){Dr.call(this),this.h=t,this.g={}}st(yl,Dr);var Kx=[];function _M(t,e,n,i){Array.isArray(n)||(n&&(Kx[0]=n.toString()),n=Kx);for(var r=0;r<n.length;r++){var s=uM(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function vM(t){Xw(t.g,function(e,n){this.g.hasOwnProperty(n)&&eE(e)},t),t.g={}}yl.prototype.N=function(){yl.$.N.call(this),vM(this)};yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uf(){this.g=!0}Uf.prototype.Ea=function(){this.g=!1};function o4(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function a4(t,e,n,i,r,s,o){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+`
`+n+`
`+s+" "+o})}function na(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+l4(t,n)+(i?" "+i:"")})}function c4(t,e){t.info(function(){return"TIMEOUT: "+e})}Uf.prototype.info=function(){};function l4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return iE(n)}catch{return e}}var Ds={},Qx=null;function $f(){return Qx=Qx||new rt}Ds.Ta="serverreachability";function wM(t){vt.call(this,Ds.Ta,t)}st(wM,vt);function _l(t){let e=$f();ut(e,new wM(e))}Ds.STAT_EVENT="statevent";function EM(t,e){vt.call(this,Ds.STAT_EVENT,t),this.stat=e}st(EM,vt);function xt(t){let e=$f();ut(e,new EM(e,t))}Ds.Ua="timingevent";function IM(t,e){vt.call(this,Ds.Ua,t),this.size=e}st(IM,vt);function bl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var Hf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},bM={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function aE(){}aE.prototype.h=null;function Yx(t){return t.h||(t.h=t.i())}function DM(){}var Dl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cE(){vt.call(this,"d")}st(cE,vt);function lE(){vt.call(this,"c")}st(lE,vt);var $w;function zf(){}st(zf,aE);zf.prototype.g=function(){return new XMLHttpRequest};zf.prototype.i=function(){return{}};$w=new zf;function Cl(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new yl(this),this.P=u4,t=Pw?125:void 0,this.V=new Bf(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CM}function CM(){this.i=null,this.g="",this.h=!1}var u4=45e3,TM={},Hw={};A=Cl.prototype;A.setTimeout=function(t){this.P=t};function zw(t,e,n){t.L=1,t.A=Gf(Li(e)),t.u=n,t.S=!0,SM(t,null)}function SM(t,e){t.G=Date.now(),Tl(t),t.B=Li(t.A);var n=t.B,i=t.W;Array.isArray(i)||(i=[String(i)]),kM(n.i,"t",i),t.o=0,n=t.l.J,t.h=new CM,t.g=nN(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Uw(_t(t.Pa,t,t.g),t.O)),_M(t.U,t.g,"readystatechange",t.nb),e=t.I?cM(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),_l(),o4(t.j,t.v,t.B,t.m,t.W,t.u)}A.nb=function(t){t=t.target;let e=this.M;e&&ui(t)==3?e.l():this.Pa(t)};A.Pa=function(t){try{if(t==this.g)e:{let u=ui(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>u)&&(u!=3||Pw||this.g&&(this.h.h||this.g.ja()||eM(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?_l(3):_l(2)),qf(this);var n=this.g.da();this.ca=n;t:if(AM(this)){var i=eM(this.g);t="";var r=i.length,s=ui(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),hl(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,a4(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fl(a)){var l=a;break t}}l=null}if(n=l)na(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qw(this,n);else{this.i=!1,this.s=3,xt(12),Es(this),hl(this);break e}}this.S?(RM(this,u,o),Pw&&this.i&&u==3&&(_M(this.U,this.V,"tick",this.mb),this.V.start())):(na(this.j,this.m,o,null),qw(this,o)),u==4&&Es(this),this.i&&!this.J&&(u==4?XM(this.l,this):(this.i=!1,Tl(this)))}else M4(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,xt(12)):(this.s=0,xt(13)),Es(this),hl(this)}}}catch{}finally{}};function AM(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function RM(t,e,n){let i=!0,r;for(;!t.J&&t.o<n.length;)if(r=d4(t,n),r==Hw){e==4&&(t.s=4,xt(14),i=!1),na(t.j,t.m,null,"[Incomplete Response]");break}else if(r==TM){t.s=4,xt(15),na(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else na(t.j,t.m,r,null),qw(t,r);AM(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,xt(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),mE(e),e.M=!0,xt(11))):(na(t.j,t.m,n,"[Invalid Chunked Response]"),Es(t),hl(t))}A.mb=function(){if(this.g){var t=ui(this.g),e=this.g.ja();this.o<e.length&&(qf(this),RM(this,t,e),this.i&&t!=4&&Tl(this))}};function d4(t,e){var n=t.o,i=e.indexOf(`
`,n);return i==-1?Hw:(n=Number(e.substring(n,i)),isNaN(n)?TM:(i+=1,i+n>e.length?Hw:(e=e.slice(i,i+n),t.o=i+n,e)))}A.cancel=function(){this.J=!0,Es(this)};function Tl(t){t.Y=Date.now()+t.P,xM(t,t.P)}function xM(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=bl(_t(t.lb,t),e)}function qf(t){t.C&&(Y.clearTimeout(t.C),t.C=null)}A.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(c4(this.j,this.B),this.L!=2&&(_l(),xt(17)),Es(this),this.s=2,hl(this)):xM(this,this.Y-t)};function hl(t){t.l.H==0||t.J||XM(t.l,t)}function Es(t){qf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,sE(t.V),vM(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function qw(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Gw(n.i,t))){if(!t.K&&Gw(n.i,t)&&n.H==3){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var r=i;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Nf(n),Qf(n);else break e;pE(n),xt(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&n.A==0&&!n.v&&(n.v=bl(_t(n.ib,n),6e3));if(1>=VM(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Is(n,11)}else if((t.K||n.g==t)&&Nf(n),!fl(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];let u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));let d=l[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=l[5];h!=null&&typeof h=="number"&&0<h&&(i=1.5*h,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;let f=t.g;if(f){let p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=i.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(uE(s,s.h),s.h=null))}if(i.F){let g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,Ne(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=t;if(i.wa=tN(i,i.J?i.pa:null,i.Y),o.K){jM(i.i,o);var a=o,c=i.L;c&&a.setTimeout(c),a.C&&(qf(a),Tl(a)),i.g=o}else YM(i);0<n.j.length&&Yf(n)}else l[0]!="stop"&&l[0]!="close"||Is(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Is(n,7):fE(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}_l(4)}catch{}}function h4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ff(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function f4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ff(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let i in t)e[n++]=i;return e}}}function MM(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ff(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=f4(t),i=h4(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}var NM=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function p4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function bs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof bs){this.h=t.h,xf(this,t.j),this.s=t.s,this.g=t.g,Mf(this,t.m),this.l=t.l;var e=t.i,n=new vl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Zx(this,n),this.o=t.o}else t&&(e=String(t).match(NM))?(this.h=!1,xf(this,e[1]||"",!0),this.s=ul(e[2]||""),this.g=ul(e[3]||"",!0),Mf(this,e[4]),this.l=ul(e[5]||"",!0),Zx(this,e[6]||"",!0),this.o=ul(e[7]||"")):(this.h=!1,this.i=new vl(null,this.h))}bs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dl(e,Xx,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dl(e,Xx,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(dl(n,n.charAt(0)=="/"?y4:g4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dl(n,v4)),t.join("")};function Li(t){return new bs(t)}function xf(t,e,n){t.j=n?ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Zx(t,e,n){e instanceof vl?(t.i=e,w4(t.i,t.h)):(n||(e=dl(e,_4)),t.i=new vl(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function Gf(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,m4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function m4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Xx=/[#\/\?@]/g,g4=/[#\?:]/g,y4=/[#\?]/g,_4=/[#\?@]/g,v4=/#/g;function vl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Cr(t){t.g||(t.g=new Map,t.h=0,t.i&&p4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}A=vl.prototype;A.add=function(t,e){Cr(this),this.i=null,t=sa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function PM(t,e){Cr(t),e=sa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function OM(t,e){return Cr(t),e=sa(t,e),t.g.has(e)}A.forEach=function(t,e){Cr(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)};A.ta=function(){Cr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){let r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n};A.Z=function(t){Cr(this);let e=[];if(typeof t=="string")OM(this,t)&&(e=e.concat(this.g.get(sa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};A.set=function(t,e){return Cr(this),this.i=null,t=sa(this,t),OM(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};A.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function kM(t,e,n){PM(t,e),0<n.length&&(t.i=null,t.g.set(sa(t,e),Yw(n)),t.h+=n.length)}A.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];let s=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var r=s;o[i]!==""&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};function sa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function w4(t,e){e&&!t.j&&(Cr(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(PM(this,i),kM(this,r,n))},t)),t.j=e}var E4=class{constructor(t,e){this.g=t,this.map=e}};function FM(t){this.l=t||I4,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var I4=10;function LM(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function VM(t){return t.h?1:t.g?t.g.size:0}function Gw(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uE(t,e){t.g?t.g.add(e):t.h=e}function jM(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}FM.prototype.cancel=function(){if(this.i=BM(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function BM(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Yw(t.i)}var b4=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function D4(){this.g=new b4}function C4(t,e,n){let i=n||"";try{MM(t,function(r,s){let o=r;El(r)&&(o=iE(r)),e.push(i+s+"="+encodeURIComponent(o))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function T4(t,e){let n=new Uf;if(Y.Image){let i=new Image;i.onload=bf(Af,n,i,"TestLoadImage: loaded",!0,e),i.onerror=bf(Af,n,i,"TestLoadImage: error",!1,e),i.onabort=bf(Af,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=bf(Af,n,i,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function Af(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Sl(t){this.l=t.ec||null,this.j=t.ob||!1}st(Sl,aE);Sl.prototype.g=function(){return new Wf(this.l,this.j)};Sl.prototype.i=function(t){return function(){return t}}({});function Wf(t,e){rt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=dE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}st(Wf,rt);var dE=0;A=Wf.prototype;A.open=function(t,e){if(this.readyState!=dE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wl(this)};A.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};A.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Al(this)),this.readyState=dE};A.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wl(this)),this.g&&(this.readyState=3,wl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function UM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}A.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Al(this):wl(this),this.readyState==3&&UM(this)}};A.Za=function(t){this.g&&(this.response=this.responseText=t,Al(this))};A.Ya=function(t){this.g&&(this.response=t,Al(this))};A.ka=function(){this.g&&Al(this)};function Al(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wl(t)}A.setRequestHeader=function(t,e){this.v.append(t,e)};A.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};A.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function wl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Wf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var S4=Y.JSON.parse;function Ue(t){rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$M,this.L=this.M=!1}st(Ue,rt);var $M="",A4=/^https?$/i,R4=["POST","PUT"];A=Ue.prototype;A.Oa=function(t){this.M=t};A.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$w.g(),this.C=this.u?Yx(this.u):Yx($w),this.g.onreadystatechange=_t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Jx(this,s);return}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(let s of i.keys())n.set(s,i.get(s));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),r=Y.FormData&&t instanceof Y.FormData,!(0<=rM(R4,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qM(this),0<this.B&&((this.L=x4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.ua,this)):this.A=oE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Jx(this,s)}};function x4(t){return ra&&typeof t.timeout=="number"&&t.ontimeout!==void 0}A.ua=function(){typeof Qw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function Jx(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HM(t),Kf(t)}function HM(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}A.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),Kf(this))};A.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kf(this,!0)),Ue.$.N.call(this)};A.La=function(){this.s||(this.G||this.v||this.l?zM(this):this.kb())};A.kb=function(){zM(this)};function zM(t){if(t.h&&typeof Qw<"u"&&(!t.C[1]||ui(t)!=4||t.da()!=2)){if(t.v&&ui(t)==4)oE(t.La,0,t);else if(ut(t,"readystatechange"),ui(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=o===0){var r=String(t.I).match(NM)[1]||null;!r&&Y.self&&Y.self.location&&(r=Y.self.location.protocol.slice(0,-1)),i=!A4.test(r?r.toLowerCase():"")}n=i}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var s=2<ui(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",HM(t)}}finally{Kf(t)}}}}function Kf(t,e){if(t.g){qM(t);let n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=i}catch{}}}function qM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}A.isActive=function(){return!!this.g};function ui(t){return t.g?t.g.readyState:0}A.da=function(){try{return 2<ui(this)?this.g.status:-1}catch{return-1}};A.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};A.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),S4(e)}};function eM(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $M:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function M4(t){let e={};t=(t.g&&2<=ui(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<t.length;i++){if(fl(t[i]))continue;var n=i4(t[i]);let r=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[r]||[];e[r]=s,s.push(n)}JW(e,function(i){return i.join(", ")})}A.Ia=function(){return this.m};A.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GM(t){let e="";return Xw(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function hE(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=GM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ne(t,e,n))}function cl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function WM(t){this.Ga=0,this.j=[],this.l=new Uf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cl("baseRetryDelayMs",5e3,t),this.hb=cl("retryDelaySeedMs",1e4,t),this.eb=cl("forwardChannelMaxRetries",2,t),this.xa=cl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new FM(t&&t.concurrentRequestLimit),this.Ja=new D4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}A=WM.prototype;A.ra=8;A.H=1;function fE(t){if(KM(t),t.H==3){var e=t.W++,n=Li(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Rl(t,n),e=new Cl(t,t.l,e),e.L=2,e.A=Gf(Li(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.A,n=!0),n||(e.g=nN(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Tl(e)}eN(t)}function Qf(t){t.g&&(mE(t),t.g.cancel(),t.g=null)}function KM(t){Qf(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Nf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function Yf(t){if(!LM(t.i)&&!t.m){t.m=!0;var e=t.Na;ml||gM(),gl||(ml(),gl=!0),rE.add(e,t),t.C=0}}function N4(t,e){return VM(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=bl(_t(t.Na,t,e),JM(t,t.C)),t.C++,!0)}A.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let r=new Cl(this,this.l,t),s=this.s;if(this.U&&(s?(s=cM(s),lM(s,this.U)):s=this.U),this.o!==null||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break t}i=void 0}if(i===void 0)break;if(e+=i,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=QM(this,r,e),n=Li(this.I),Ne(n,"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),Rl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(GM(s)))+"&"+e:this.o&&hE(n,this.o,s)),uE(this.i,r),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),r.aa=!0,zw(r,n,null)):zw(r,n,e),this.H=2}}else this.H==3&&(t?tM(this,t):this.j.length==0||LM(this.i)||tM(this))};function tM(t,e){var n;e?n=e.m:n=t.W++;let i=Li(t.I);Ne(i,"SID",t.K),Ne(i,"RID",n),Ne(i,"AID",t.V),Rl(t,i),t.o&&t.s&&hE(i,t.o,t.s),n=new Cl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=QM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),uE(t.i,n),zw(n,i,e)}function Rl(t,e){t.na&&Xw(t.na,function(n,i){Ne(e,i,n)}),t.h&&MM({},function(n,i){Ne(e,i,n)})}function QM(t,e,n){n=Math.min(t.j.length,n);var i=t.h?_t(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=r[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=r[c].g,u=r[c].map;if(l-=s,0>l)s=Math.max(0,r[c].g-100),a=!1;else try{C4(u,o,"req"+l+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function YM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ml||gM(),gl||(ml(),gl=!0),rE.add(e,t),t.A=0}}function pE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=bl(_t(t.Ma,t),JM(t,t.A)),t.A++,!0)}A.Ma=function(){if(this.u=null,ZM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=bl(_t(this.jb,this),t)}};A.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xt(10),Qf(this),ZM(this))};function mE(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function ZM(t){t.g=new Cl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Li(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),Rl(t,e),t.o&&t.s&&hE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Gf(Li(e)),n.u=null,n.S=!0,SM(n,t)}A.ib=function(){this.v!=null&&(this.v=null,Qf(this),pE(this),xt(19))};function Nf(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function XM(t,e){var n=null;if(t.g==e){Nf(t),mE(t),t.g=null;var i=2}else if(Gw(t.i,e))n=e.F,jM(t.i,e),i=1;else return;if(t.H!=0){if(e.i)if(i==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var r=t.C;i=$f(),ut(i,new IM(i,n)),Yf(t)}else YM(t);else if(r=e.s,r==3||r==0&&0<e.ca||!(i==1&&N4(t,e)||i==2&&pE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Is(t,5);break;case 4:Is(t,10);break;case 3:Is(t,6);break;default:Is(t,2)}}}function JM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Is(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var i=_t(t.pb,t);n||(n=new bs("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||xf(n,"https"),Gf(n)),T4(n.toString(),i)}else xt(2);t.H=0,t.h&&t.h.za(e),eN(t),KM(t)}A.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xt(2)):(this.l.info("Failed to ping google.com"),xt(1))};function eN(t){if(t.H=0,t.ma=[],t.h){let e=BM(t.i);(e.length!=0||t.j.length!=0)&&(Gx(t.ma,e),Gx(t.ma,t.j),t.i.i.length=0,Yw(t.j),t.j.length=0),t.h.ya()}}function tN(t,e,n){var i=n instanceof bs?Li(n):new bs(n);if(i.g!="")e&&(i.g=e+"."+i.g),Mf(i,i.m);else{var r=Y.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new bs(null);i&&xf(s,i),e&&(s.g=e),r&&Mf(s,r),n&&(s.l=n),i=s}return n=t.F,e=t.Da,n&&e&&Ne(i,n,e),Ne(i,"VER",t.ra),Rl(t,i),i}function nN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ue(new Sl({ob:n})):new Ue(t.va),e.Oa(t.J),e}A.isActive=function(){return!!this.h&&this.h.isActive(this)};function iN(){}A=iN.prototype;A.Ba=function(){};A.Aa=function(){};A.za=function(){};A.ya=function(){};A.isActive=function(){return!0};A.Va=function(){};function Pf(){if(ra&&!(10<=Number(QW)))throw Error("Environmental error: no available transport.")}Pf.prototype.g=function(t,e){return new qt(t,e)};function qt(t,e){rt.call(this),this.g=new WM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!fl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new oa(this)}st(qt,rt);qt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=tN(t,null,t.Y),Yf(t)};qt.prototype.close=function(){fE(this.g)};qt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=iE(t),t=n);e.j.push(new E4(e.fb++,t)),e.H==3&&Yf(e)};qt.prototype.N=function(){this.g.h=null,delete this.j,fE(this.g),delete this.g,qt.$.N.call(this)};function rN(t){cE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}st(rN,cE);function sN(){lE.call(this),this.status=1}st(sN,lE);function oa(t){this.g=t}st(oa,iN);oa.prototype.Ba=function(){ut(this.g,"a")};oa.prototype.Aa=function(t){ut(this.g,new rN(t))};oa.prototype.za=function(t){ut(this.g,new sN)};oa.prototype.ya=function(){ut(this.g,"b")};function P4(){this.blockSize=-1}function Cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}st(Cn,P4);Cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Nw(t,e,n){n||(n=0);var i=Array(16);if(typeof e=="string")for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],r=t.g[2];var s=t.g[3],o=e+(s^n&(r^s))+i[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[2]+606105819&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[3]+3250441966&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[6]+2821735955&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[7]+4249261313&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[10]+4294925233&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[11]+2304563134&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(s^n&(r^s))+i[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(r^e&(n^r))+i[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=r+(n^s&(e^n))+i[14]+2792965006&4294967295,r=s+(o<<17&4294967295|o>>>15),o=n+(e^r&(s^e))+i[15]+1236535329&4294967295,n=r+(o<<22&4294967295|o>>>10),o=e+(r^s&(n^r))+i[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[11]+643717713&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[0]+3921069994&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[15]+3634488961&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[4]+3889429448&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[3]+4107603335&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[8]+1163531501&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(r^s&(n^r))+i[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^r&(e^n))+i[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=r+(e^n&(s^e))+i[7]+1735328473&4294967295,r=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(r^s))+i[12]+2368359562&4294967295,n=r+(o<<20&4294967295|o>>>12),o=e+(n^r^s)+i[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[11]+1839030562&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[14]+4259657740&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[7]+4139469664&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[10]+3200236656&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[3]+3572445317&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[6]+76029189&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(n^r^s)+i[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^r)+i[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=r+(s^e^n)+i[15]+530742520&4294967295,r=s+(o<<16&4294967295|o>>>16),o=n+(r^s^e)+i[2]+3299628645&4294967295,n=r+(o<<23&4294967295|o>>>9),o=e+(r^(n|~s))+i[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[14]+2878612391&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[5]+4237533241&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[10]+4293915773&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[1]+2240044497&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[6]+2734768916&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[13]+1309151649&4294967295,n=r+(o<<21&4294967295|o>>>11),o=e+(r^(n|~s))+i[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~r))+i[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=r+(e^(s|~n))+i[2]+718787259&4294967295,r=s+(o<<15&4294967295|o>>>17),o=n+(s^(r|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}Cn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(r==0)for(;s<=n;)Nw(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){Nw(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){Nw(this,i),r=0;break}}this.h=r,this.i+=e};Cn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};function Ee(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=t[r]|0;i&&s==e||(n[r]=s,i=!1)}this.g=n}var O4={};function gE(t){return-128<=t&&128>t?GW(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function di(t){if(isNaN(t)||!isFinite(t))return ia;if(0>t)return lt(di(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=Ww;return new Ee(e,0)}function oN(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return lt(oN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=di(Math.pow(e,8)),i=ia,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+s),e);8>s?(s=di(Math.pow(e,s)),i=i.R(s).add(di(o))):(i=i.R(n),i=i.add(di(o)))}return i}var Ww=4294967296,ia=gE(0),Kw=gE(1),nM=gE(16777216);A=Ee.prototype;A.ea=function(){if(hn(this))return-lt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:Ww+i)*e,e*=Ww}return t};A.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Fi(this))return"0";if(hn(this))return"-"+lt(this).toString(t);for(var e=di(Math.pow(t,6)),n=this,i="";;){var r=kf(n,e).g;n=Of(n,r.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=r,Fi(n))return s+i;for(;6>s.length;)s="0"+s;i=s+i}};A.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Fi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hn(t){return t.h==-1}A.X=function(t){return t=Of(this,t),hn(t)?-1:Fi(t)?0:1};function lt(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new Ee(n,~t.h).add(Kw)}A.abs=function(){return hn(this)?lt(this):this};A.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(this.D(r)&65535)+(t.D(r)&65535),o=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=o>>>16,s&=65535,o&=65535,n[r]=o<<16|s}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function Of(t,e){return t.add(lt(e))}A.R=function(t){if(Fi(this)||Fi(t))return ia;if(hn(this))return hn(t)?lt(this).R(lt(t)):lt(lt(this).R(t));if(hn(t))return lt(this.R(lt(t)));if(0>this.X(nM)&&0>t.X(nM))return di(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,o=this.D(i)&65535,a=t.D(r)>>>16,c=t.D(r)&65535;n[2*i+2*r]+=o*c,Rf(n,2*i+2*r),n[2*i+2*r+1]+=s*c,Rf(n,2*i+2*r+1),n[2*i+2*r+1]+=o*a,Rf(n,2*i+2*r+1),n[2*i+2*r+2]+=s*a,Rf(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new Ee(n,0)};function Rf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ll(t,e){this.g=t,this.h=e}function kf(t,e){if(Fi(e))throw Error("division by zero");if(Fi(t))return new ll(ia,ia);if(hn(t))return e=kf(lt(t),e),new ll(lt(e.g),lt(e.h));if(hn(e))return e=kf(t,lt(e)),new ll(lt(e.g),e.h);if(30<t.g.length){if(hn(t)||hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Kw,i=e;0>=i.X(t);)n=iM(n),i=iM(i);var r=ta(n,1),s=ta(i,1);for(i=ta(i,2),n=ta(n,2);!Fi(i);){var o=s.add(i);0>=o.X(t)&&(r=r.add(n),s=o),i=ta(i,1),n=ta(n,1)}return e=Of(t,r.R(e)),new ll(r,e)}for(r=ia;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),s=di(n),o=s.R(e);hn(o)||0<o.X(t);)n-=i,s=di(n),o=s.R(e);Fi(s)&&(s=Kw),r=r.add(s),t=Of(t,o)}return new ll(r,t)}A.gb=function(t){return kf(this,t).h};A.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new Ee(n,this.h&t.h)};A.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new Ee(n,this.h|t.h)};A.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new Ee(n,this.h^t.h)};function iM(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new Ee(n,t.h)}function ta(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ee(r,t.h)}Pf.prototype.createWebChannel=Pf.prototype.g;qt.prototype.send=qt.prototype.u;qt.prototype.open=qt.prototype.m;qt.prototype.close=qt.prototype.close;Hf.NO_ERROR=0;Hf.TIMEOUT=8;Hf.HTTP_ERROR=6;bM.COMPLETE="complete";DM.EventType=Dl;Dl.OPEN="a";Dl.CLOSE="b";Dl.ERROR="c";Dl.MESSAGE="d";rt.prototype.listen=rt.prototype.O;Ue.prototype.listenOnce=Ue.prototype.P;Ue.prototype.getLastError=Ue.prototype.Sa;Ue.prototype.getLastErrorCode=Ue.prototype.Ia;Ue.prototype.getStatus=Ue.prototype.da;Ue.prototype.getResponseJson=Ue.prototype.Wa;Ue.prototype.getResponseText=Ue.prototype.ja;Ue.prototype.send=Ue.prototype.ha;Ue.prototype.setWithCredentials=Ue.prototype.Oa;Cn.prototype.digest=Cn.prototype.l;Cn.prototype.reset=Cn.prototype.reset;Cn.prototype.update=Cn.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=di;Ee.fromString=oN;var aN=Tn.createWebChannelTransport=function(){return new Pf},cN=Tn.getStatEventTarget=function(){return $f()},Zf=Tn.ErrorCode=Hf,lN=Tn.EventType=bM,uN=Tn.Event=Ds,yE=Tn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tre=Tn.FetchXmlHttpFactory=Sl,xl=Tn.WebChannel=DM,dN=Tn.XhrIo=Ue,hN=Tn.Md5=Cn,Cs=Tn.Integer=Ee;var fN="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var Ca="10.7.2";var Ms=new gr("@firebase/firestore");function Ml(){return Ms.logLevel}function R(t,...e){if(Ms.logLevel<=ce.DEBUG){let n=e.map(ob);Ms.debug(`Firestore (${Ca}): ${t}`,...n)}}function gi(t,...e){if(Ms.logLevel<=ce.ERROR){let n=e.map(ob);Ms.error(`Firestore (${Ca}): ${t}`,...n)}}function fa(t,...e){if(Ms.logLevel<=ce.WARN){let n=e.map(ob);Ms.warn(`Firestore (${Ca}): ${t}`,...n)}}function ob(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function q(t="Unexpected state"){let e=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: `+t;throw gi(e),new Error(e)}function Ae(t,e){t||q()}function ne(t,e){return t}var v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},x=class extends zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Sn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var np=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},DE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},CE=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve(),s=new Sn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Sn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>m(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},a=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Sn)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ae(typeof i.accessToken=="string"),new np(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new ot(e)}},TE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},SE=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new TE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},AE=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},RE=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=s=>{s.error!=null&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,R("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new AE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function k4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var ip=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=k4(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}};function ye(t,e){return t<e?-1:t>e?1:0}function pa(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var dt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new x(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new x(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new x(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new x(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new dt(0,0))}static max(){return new t(new dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var rp=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&q(),i===void 0?i=e.length-n:i>e.length-n&&q(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Le=class t extends rp{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new x(v.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},F4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wt=class t extends rp{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return F4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,s=()=>{if(i.length===0)throw new x(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new x(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new x(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new x(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var L=class t{constructor(e){this.path=e}static fromPath(e){return new t(Le.fromString(e))}static fromName(e){return new t(Le.fromString(e).popFirst(5))}static empty(){return new t(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Le(e.slice()))}};var xE=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};xE.UNKNOWN_ID=-1;function L4(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=te.fromTimestamp(i===1e9?new dt(n+1,0):new dt(n,i));return new Ns(r,L.empty(),e)}function V4(t){return new Ns(t.readTime,t.key,-1)}var Ns=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(te.min(),L.empty(),-1)}static max(){return new t(te.max(),L.empty(),-1)}};function j4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}var B4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ME=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ql(t){return m(this,null,function*(){if(t.code!==v.FAILED_PRECONDITION||t.message!==B4)throw t;R("LocalStore","Unexpectedly lost primary lease")})}var b=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},c=>i(c))}),o=!0,s===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let l=c;n(e[l]).next(u=>{o[l]=u,++a,a===s&&i(o)},u=>r(u))}})}static doWhile(e,n){return new t((i,r)=>{let s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}};var NE=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Sn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new xs(e,n.error)):this.V.resolve()},this.transaction.onerror=i=>{let r=ab(i.target.error);this.V.reject(new xs(e,r))}}static open(e,n,i,r){try{return new t(n,e.transaction(r,i))}catch(s){throw new xs(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(R("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new OE(n)}},sp=class t{constructor(e,n,i){this.name=e,this.version=n,this.p=i,t.S(Be())===12.2&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return R("SimpleDb","Removing database:",e),Ts(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Wh())return!1;if(t.C())return!0;let e=Be(),n=t.S(e),i=0<n&&n<10,r=t.v(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static v(e){let n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(e){return m(this,null,function*(){return this.db||(R("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,i)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=s=>{let o=s.target.result;n(o)},r.onblocked=()=>{i(new xs(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=s=>{let o=s.target.error;o.name==="VersionError"?i(new x(v.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?i(new x(v.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):i(new xs(e,o))},r.onupgradeneeded=s=>{R("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,r.transaction,s.oldVersion,this.version).next(()=>{R("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){return m(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=NE.open(this.db,e,s?"readonly":"readwrite",i),c=r(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),b.reject(l))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,l=c.name!=="FirebaseError"&&o<3;if(R("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},PE=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ts(this.k.delete())}},xs=class extends x{constructor(e,n){super(v.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function Yl(t){return t.name==="IndexedDbTransactionError"}var OE=class{constructor(e){this.store=e}put(e,n){let i;return n!==void 0?(R("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(R("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ts(i)}add(e){return R("SimpleDb","ADD",this.store.name,e,e),Ts(this.store.add(e))}get(e){return Ts(this.store.get(e)).next(n=>(n===void 0&&(n=null),R("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return R("SimpleDb","DELETE",this.store.name,e),Ts(this.store.delete(e))}count(){return R("SimpleDb","COUNT",this.store.name),Ts(this.store.count())}W(e,n){let i=this.options(e,n),r=i.index?this.store.index(i.index):this.store;if(typeof r.getAll=="function"){let s=r.getAll(i.range);return new b((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(i),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let i=this.store.getAll(e,n===null?void 0:n);return new b((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}H(e,n){R("SimpleDb","DELETE ALL",this.store.name);let i=this.options(e,n);i.J=!1;let r=this.cursor(i);return this.G(r,(s,o,a)=>a.delete())}Y(e,n){let i;n?i=e:(i={},n=e);let r=this.cursor(i);return this.G(r,n)}Z(e){let n=this.cursor({});return new b((i,r)=>{n.onerror=s=>{let o=ab(s.target.error);r(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}G(e,n){let i=[];return new b((r,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void r();let c=new PE(a),l=n(a.primaryKey,a.value,c);if(l instanceof b){let u=l.catch(d=>(c.done(),b.reject(d)));i.push(u)}c.isDone?r():c.$===null?a.continue():a.continue(c.$)}}).next(()=>b.waitFor(i))}options(e,n){let i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let i=this.store.index(e.index);return e.J?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Ts(t){return new b((e,n)=>{t.onsuccess=i=>{let r=i.target.result;e(r)},t.onerror=i=>{let r=ab(i.target.error);n(r)}})}var pN=!1;function ab(t){let e=sp.S(Be());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let i=new x("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pN||(pN=!0,setTimeout(()=>{throw i},0)),i}}return t}var qN=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Lp(t){return t==null}function Ll(t){return t===0&&1/t==-1/0}function U4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ll(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var $4=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fre=[...$4,"documentOverlays"],H4=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],z4=H4,Lre=[...z4,"indexConfiguration","indexState","indexEntries"];function mN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function js(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GN(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var He=class t{constructor(e,n){this.comparator=e,this.root=n||fi.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fi.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ua(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ua(this.root,e,this.comparator,!1)}getReverseIterator(){return new ua(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ua(this.root,e,this.comparator,!0)}},ua=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fi=class t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw q();let e=this.left.check();if(e!==this.right.check())throw q();return e+(this.isRed()?0:1)}};fi.EMPTY=null,fi.RED=!0,fi.BLACK=!1;fi.EMPTY=new class{constructor(){this.size=0}get key(){throw q()}get value(){throw q()}get color(){throw q()}get left(){throw q()}get right(){throw q()}copy(e,n,i,r,s){return this}insert(e,n,i){return new fi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Et=class t{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new op(this.data.getIterator())}getIteratorFrom(e){return new op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},op=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var fn=class t{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Et(Wt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var ap=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ap("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(Ae(!!t),typeof t=="string"){let e=0,n=q4.exec(t);if(Ae(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ar(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}function cb(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lb(t){let e=t.mapValue.fields.__previous_value__;return cb(e)?lb(e):e}function Vl(t){let e=Sr(t.mapValue.fields.__local_write_time__.timestampValue);return new dt(e.seconds,e.nanos)}var kE=class{constructor(e,n,i,r,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}},cp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Xf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cb(t)?4:WN(t)?9007199254740991:10:q()}function yi(t,e){if(t===e)return!0;let n=Ps(t);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vl(t).isEqual(Vl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Sr(r.timestampValue),a=Sr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ar(r.bytesValue).isEqual(Ar(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return $e(r.geoPointValue.latitude)===$e(s.geoPointValue.latitude)&&$e(r.geoPointValue.longitude)===$e(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return $e(r.integerValue)===$e(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=$e(r.doubleValue),a=$e(s.doubleValue);return o===a?Ll(o)===Ll(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return pa(t.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(mN(o)!==mN(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!yi(o[c],a[c])))return!1;return!0}(t,e);default:return q()}}function jl(t,e){return(t.values||[]).find(n=>yi(n,e))!==void 0}function ma(t,e){if(t===e)return 0;let n=Ps(t),i=Ps(e);if(n!==i)return ye(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=$e(s.integerValue||s.doubleValue),c=$e(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return gN(t.timestampValue,e.timestampValue);case 4:return gN(Vl(t),Vl(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Ar(s),c=Ar(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){let u=ye(a[l],c[l]);if(u!==0)return u}return ye(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ye($e(s.latitude),$e(o.latitude));return a!==0?a:ye($e(s.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){let u=ma(a[l],c[l]);if(u)return u}return ye(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Xf.mapValue&&o===Xf.mapValue)return 0;if(s===Xf.mapValue)return 1;if(o===Xf.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let d=0;d<c.length&&d<u.length;++d){let h=ye(c[d],u[d]);if(h!==0)return h;let f=ma(a[c[d]],l[u[d]]);if(f!==0)return f}return ye(c.length,u.length)}(t.mapValue,e.mapValue);default:throw q()}}function gN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);let n=Sr(t),i=Sr(e),r=ye(n.seconds,i.seconds);return r!==0?r:ye(n.nanos,i.nanos)}function ga(t){return FE(t)}function FE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Sr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ar(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return L.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let s of n.values||[])r?r=!1:i+=",",i+=FE(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${FE(n.fields[o])}`;return r+"}"}(t.mapValue):q()}function yN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function LE(t){return!!t&&"integerValue"in t}function ub(t){return!!t&&"arrayValue"in t}function _N(t){return!!t&&"nullValue"in t}function vN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ep(t){return!!t&&"mapValue"in t}function Pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return js(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Pl(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function WN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Gt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!ep(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Wt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Pl(o):r.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){let n=this.field(e.popLast());ep(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];ep(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){js(n,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new t(Pl(this.value))}};function KN(t){let e=[];return js(t.fields,(n,i)=>{let r=new Wt([n]);if(ep(i)){let s=KN(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new fn(e)}var An=class t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Gt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,te.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ya=class{constructor(e,n){this.position=e,this.inclusive=n}};function wN(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?i=L.comparator(L.fromName(o.referenceValue),n.key):i=ma(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function EN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yi(t.position[n],e.position[n]))return!1;return!0}var Os=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function G4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var lp=class{},Ze=class t extends lp{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new jE(e,n,i):n==="array-contains"?new $E(e,i):n==="in"?new HE(e,i):n==="not-in"?new zE(e,i):n==="array-contains-any"?new qE(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new BE(e,i):new UE(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ma(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(ma(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Rn=class t extends lp{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return QN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function QN(t){return t.op==="and"}function YN(t){return W4(t)&&QN(t)}function W4(t){for(let e of t.filters)if(e instanceof Rn)return!1;return!0}function VE(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+ga(t.value);if(YN(t))return t.filters.map(e=>VE(e)).join(",");{let e=t.filters.map(n=>VE(n)).join(",");return`${t.op}(${e})`}}function ZN(t,e){return t instanceof Ze?function(i,r){return r instanceof Ze&&i.op===r.op&&i.field.isEqual(r.field)&&yi(i.value,r.value)}(t,e):t instanceof Rn?function(i,r){return r instanceof Rn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&ZN(o,r.filters[a]),!0):!1}(t,e):void q()}function XN(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${ga(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(XN).join(" ,")+"}"}(t):"Filter"}var jE=class extends Ze{constructor(e,n,i){super(e,n,i),this.key=L.fromName(i.referenceValue)}matches(e){let n=L.comparator(e.key,this.key);return this.matchesComparison(n)}},BE=class extends Ze{constructor(e,n){super(e,"in",n),this.keys=JN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},UE=class extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=JN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function JN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>L.fromName(i.referenceValue))}var $E=class extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return ub(n)&&jl(n.arrayValue,this.value)}},HE=class extends Ze{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}},zE=class extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!jl(this.value.arrayValue,n)}},qE=class extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!ub(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>jl(this.value.arrayValue,i))}};var GE=class{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function IN(t,e=null,n=[],i=[],r=null,s=null,o=null){return new GE(t,e,n,i,r,s,o)}function db(t){let e=ne(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>VE(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Lp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>ga(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>ga(i)).join(",")),e.ce=n}return e.ce}function hb(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!G4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EN(t.startAt,e.startAt)&&EN(t.endAt,e.endAt)}function WE(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Rr=class{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function K4(t,e,n,i,r,s,o,a){return new Rr(t,e,n,i,r,s,o,a)}function Vp(t){return new Rr(t)}function bN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eP(t){return t.collectionGroup!==null}function Ol(t){let e=ne(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Et(Wt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Os(s,i))}),n.has(Wt.keyField().canonicalString())||e.le.push(new Os(Wt.keyField(),i))}return e.le}function pi(t){let e=ne(t);return e.he||(e.he=Q4(e,Ol(t))),e.he}function Q4(t,e){if(t.limitType==="F")return IN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Os(r.field,s)});let n=t.endAt?new ya(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ya(t.startAt.position,t.startAt.inclusive):null;return IN(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function KE(t,e){let n=t.filters.concat([e]);return new Rr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function up(t,e,n){return new Rr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jp(t,e){return hb(pi(t),pi(e))&&t.limitType===e.limitType}function tP(t){return`${db(pi(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>XN(r)).join(", ")}]`),Lp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>ga(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>ga(r)).join(",")),`Target(${i})`}(pi(t))}; limitType=${t.limitType})`}function Bp(t,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):L.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(let s of Ol(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,c){let l=wN(o,a,c);return o.inclusive?l<=0:l<0}(i.startAt,Ol(i),r)||i.endAt&&!function(o,a,c){let l=wN(o,a,c);return o.inclusive?l>=0:l>0}(i.endAt,Ol(i),r))}(t,e)}function Y4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nP(t){return(e,n)=>{let i=!1;for(let r of Ol(t)){let s=Z4(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Z4(t,e,n){let i=t.field.isKeyField()?L.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),l=a.data.field(s);return c!==null&&l!==null?ma(c,l):q()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return q()}}var xr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(n,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return GN(this.inner)}size(){return this.innerSize}};var X4=new He(L.comparator);function Vi(){return X4}var iP=new He(L.comparator);function Nl(...t){let e=iP;for(let n of t)e=e.insert(n.key,n);return e}function rP(t){let e=iP;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ss(){return kl()}function sP(){return kl()}function kl(){return new xr(t=>t.toString(),(t,e)=>t.isEqual(e))}var J4=new He(L.comparator),e3=new Et(L.comparator);function le(...t){let e=e3;for(let n of t)e=e.add(n);return e}var t3=new Et(ye);function n3(){return t3}function oP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ll(e)?"-0":e}}function aP(t){return{integerValue:""+t}}function i3(t,e){return U4(e)?aP(e):oP(t,e)}var _a=class{constructor(){this._=void 0}};function r3(t,e,n){return t instanceof va?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&cb(s)&&(s=lb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ks?lP(t,e):t instanceof Fs?uP(t,e):function(r,s){let o=cP(r,s),a=DN(o)+DN(r.Ie);return LE(o)&&LE(r.Ie)?aP(a):oP(r.serializer,a)}(t,e)}function s3(t,e,n){return t instanceof ks?lP(t,e):t instanceof Fs?uP(t,e):n}function cP(t,e){return t instanceof wa?function(i){return LE(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var va=class extends _a{},ks=class extends _a{constructor(e){super(),this.elements=e}};function lP(t,e){let n=dP(e);for(let i of t.elements)n.some(r=>yi(r,i))||n.push(i);return{arrayValue:{values:n}}}var Fs=class extends _a{constructor(e){super(),this.elements=e}};function uP(t,e){let n=dP(e);for(let i of t.elements)n=n.filter(r=>!yi(r,i));return{arrayValue:{values:n}}}var wa=class extends _a{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function DN(t){return $e(t.integerValue||t.doubleValue)}function dP(t){return ub(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function o3(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof ks&&r instanceof ks||i instanceof Fs&&r instanceof Fs?pa(i.elements,r.elements,yi):i instanceof wa&&r instanceof wa?yi(i.Ie,r.Ie):i instanceof va&&r instanceof va}(t.transform,e.transform)}var QE=class{constructor(e,n){this.version=e,this.transformResults=n}},Kt=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ea=class{};function hP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ia(t.key,Kt.none()):new Ls(t.key,t.data,Kt.none());{let n=t.data,i=Gt.empty(),r=new Et(Wt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new _i(t.key,i,new fn(r.toArray()),Kt.none())}}function a3(t,e,n){t instanceof Ls?function(r,s,o){let a=r.value.clone(),c=TN(r.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof _i?function(r,s,o){if(!tp(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=TN(r.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(fP(r)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,i){return t instanceof Ls?function(s,o,a,c){if(!tp(s.precondition,o))return a;let l=s.value.clone(),u=SN(s.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,i):t instanceof _i?function(s,o,a,c){if(!tp(s.precondition,o))return a;let l=SN(s.fieldTransforms,c,o),u=o.data;return u.setAll(fP(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return tp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function c3(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),s=cP(i.transform,r||null);s!=null&&(n===null&&(n=Gt.empty()),n.set(i.field,s))}return n||null}function CN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&pa(i,r,(s,o)=>o3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ls=class extends Ea{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},_i=class extends Ea{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function fP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function TN(t,e,n){let i=new Map;Ae(t.length===n.length);for(let r=0;r<n.length;r++){let s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,s3(o,a,n[r]))}return i}function SN(t,e,n){let i=new Map;for(let r of t){let s=r.transform,o=n.data.field(r.field);i.set(r.field,r3(s,o,e))}return i}var Ia=class extends Ea{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},YE=class extends Ea{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ZE=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&a3(s,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=Fl(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=Fl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=sP();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;let c=hP(o,a);c!==null&&i.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(te.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(n,i)=>CN(n,i))&&pa(this.baseMutations,e.baseMutations,(n,i)=>CN(n,i))}},XE=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ae(e.mutations.length===i.length);let r=function(){return J4}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new t(e,n,i,r)}};var JE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var eI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Qe,he;function l3(t){switch(t){default:return q();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function pP(t){if(t===void 0)return gi("GRPC error has no .code"),v.UNKNOWN;switch(t){case Qe.OK:return v.OK;case Qe.CANCELLED:return v.CANCELLED;case Qe.UNKNOWN:return v.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return v.INTERNAL;case Qe.UNAVAILABLE:return v.UNAVAILABLE;case Qe.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Qe.NOT_FOUND:return v.NOT_FOUND;case Qe.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Qe.ABORTED:return v.ABORTED;case Qe.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Qe.DATA_LOSS:return v.DATA_LOSS;default:return q()}}(he=Qe||(Qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var AN=null;function u3(){return new TextEncoder}var d3=new Cs([4294967295,4294967295],0);function RN(t){let e=u3().encode(t),n=new hN;return n.update(e),new Uint8Array(n.digest())}function xN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Cs([n,i],0),new Cs([r,s],0)]}var tI=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new As(`Invalid padding: ${n}`);if(i<0)throw new As(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new As(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new As(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Cs.fromNumber(this.Te)}de(e,n,i){let r=e.add(n.multiply(Cs.fromNumber(i)));return r.compare(d3)===1&&(r=new Cs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=RN(e),[i,r]=xN(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);if(!this.Ae(o))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=RN(e),[i,r]=xN(n);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},As=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var dp=class t{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,Bl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(te.min(),r,new He(ye),Vi(),le())}},Bl=class t{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,le(),le(),le())}};var da=class{constructor(e,n,i,r){this.Ve=e,this.removedTargetIds=n,this.key=i,this.me=r}},hp=class{constructor(e,n){this.targetId=e,this.fe=n}},fp=class{constructor(e,n,i=Mt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},pp=class{constructor(){this.ge=0,this.pe=NN(),this.ye=Mt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=le(),n=le(),i=le();return this.pe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:q()}}),new Bl(this.ye,this.we,e,n,i)}Fe(){this.Se=!1,this.pe=NN()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ae(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},nI=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=Vi(),this.Qe=MN(),this.Ke=new He(ye)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let i=this.ze(n);switch(e.state){case 0:this.je(n)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(n);break;case 3:this.je(n)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),i.Ce(e.resumeToken));break;default:q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((i,r)=>{this.je(r)&&n(r)})}Je(e){let n=e.targetId,i=e.fe.count,r=this.Ye(n);if(r){let s=r.target;if(WE(s))if(i===0){let o=new L(s.path);this.We(n,o,An.newNoDocument(o,te.min()))}else Ae(i===1);else{let o=this.Ze(n);if(o!==i){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}AN?.tt(function(u,d,h,f,p){var g,_,I,M,V,j;let me={localCacheCount:u,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},oe=d.unchangedNames;return oe&&(me.bloomFilter={applied:p===0,hashCount:(g=oe?.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(M=(I=(_=oe?.bits)===null||_===void 0?void 0:_.bitmap)===null||I===void 0?void 0:I.length)!==null&&M!==void 0?M:0,padding:(j=(V=oe?.bits)===null||V===void 0?void 0:V.padding)!==null&&j!==void 0?j:0,mightContain:we=>{var Pe;return(Pe=f?.mightContain(we))!==null&&Pe!==void 0&&Pe}}),me}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n,o,a;try{o=Ar(i).toUint8Array()}catch(c){if(c instanceof ap)return fa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new tI(o,r,s)}catch(c){return fa(c instanceof As?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,i){return n.fe.count===i-this.rt(e,n.targetId)?0:2}rt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),r++)}),r}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&WE(a.target)){let c=new L(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,An.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let i=le();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let r=new dp(e,n,this.Ke,this.qe,i);return this.qe=Vi(),this.Qe=MN(),this.Ke=new He(ye),r}Ue(e,n){if(!this.je(e))return;let i=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,i),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,i){if(!this.je(e))return;let r=this.ze(e);this.st(e,n)?r.Me(n,1):r.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),i&&(this.qe=this.qe.insert(n,i))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new pp,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Et(ye),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||R("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new pp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function MN(){return new He(L.comparator)}function NN(){return new He(L.comparator)}var h3={asc:"ASCENDING",desc:"DESCENDING"},f3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p3={and:"AND",or:"OR"},iI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function rI(t,e){return t.useProto3Json||Lp(e)?e:{value:e}}function mp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function m3(t,e){return mp(t,e.toTimestamp())}function mi(t){return Ae(!!t),te.fromTimestamp(function(n){let i=Sr(n);return new dt(i.seconds,i.nanos)}(t))}function fb(t,e){return sI(t,e).canonicalString()}function sI(t,e){let n=function(r){return new Le(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gP(t){let e=Le.fromString(t);return Ae(EP(e)),e}function oI(t,e){return fb(t.databaseId,e.path)}function _E(t,e){let n=gP(e);if(n.get(1)!==t.databaseId.projectId)throw new x(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new x(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L(_P(n))}function yP(t,e){return fb(t.databaseId,e)}function g3(t){let e=gP(t);return e.length===4?Le.emptyPath():_P(e)}function aI(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _P(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function PN(t,e,n){return{name:oI(t,e),fields:n.value.mapValue.fields}}function y3(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Ae(u===void 0||typeof u=="string"),Mt.fromBase64String(u||"")):(Ae(u===void 0||u instanceof Uint8Array),Mt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let u=l.code===void 0?v.UNKNOWN:pP(l.code);return new x(u,l.message||"")}(o);n=new fp(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=_E(t,i.document.name),s=mi(i.document.updateTime),o=i.document.createTime?mi(i.document.createTime):te.min(),a=new Gt({mapValue:{fields:i.document.fields}}),c=An.newFoundDocument(r,s,o,a),l=i.targetIds||[],u=i.removedTargetIds||[];n=new da(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=_E(t,i.document),s=i.readTime?mi(i.readTime):te.min(),o=An.newNoDocument(r,s),a=i.removedTargetIds||[];n=new da([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=_E(t,i.document),s=i.removedTargetIds||[];n=new da([],s,r,null)}else{if(!("filter"in e))return q();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new eI(r,s),a=i.targetId;n=new hp(a,o)}}return n}function _3(t,e){let n;if(e instanceof Ls)n={update:PN(t,e.key,e.value)};else if(e instanceof Ia)n={delete:oI(t,e.key)};else if(e instanceof _i)n={update:PN(t,e.key,e.data),updateMask:S3(e.fieldMask)};else{if(!(e instanceof YE))return q();n={verify:oI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof va)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ks)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wa)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw q()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:m3(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:q()}(t,e.precondition)),n}function v3(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?mi(r.updateTime):mi(s);return o.isEqual(te.min())&&(o=mi(s)),new QE(o,r.transformResults||[])}(n,e))):[]}function w3(t,e){return{documents:[yP(t,e.path)]}}function E3(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=yP(t,r);let s=function(l){if(l.length!==0)return wP(Rn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:ca(h.field),direction:D3(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=rI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:r}}function I3(t){let e=g3(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){Ae(i===1);let u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){let h=vP(d);return h instanceof Rn&&YN(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new Os(la(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Lp(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,f=d.values||[];return new ya(f,h)}(n.startAt));let l=null;return n.endAt&&(l=function(d){let h=!d.before,f=d.values||[];return new ya(f,h)}(n.endAt)),K4(e,r,o,s,a,"F",c,l)}function b3(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=la(n.unaryFilter.field);return Ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=la(n.unaryFilter.field);return Ze.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=la(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=la(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return q()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(la(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(i=>vP(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return q()}}(n.compositeFilter.op))}(t):q()}function D3(t){return h3[t]}function C3(t){return f3[t]}function T3(t){return p3[t]}function ca(t){return{fieldPath:t.canonicalString()}}function la(t){return Wt.fromServerFormat(t.fieldPath)}function wP(t){return t instanceof Ze?function(n){if(n.op==="=="){if(vN(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NAN"}};if(_N(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vN(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NAN"}};if(_N(n.value))return{unaryFilter:{field:ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(n.field),op:C3(n.op),value:n.value}}}(t):t instanceof Rn?function(n){let i=n.getFilters().map(r=>wP(r));return i.length===1?i[0]:{compositeFilter:{op:T3(n.op),filters:i}}}(t):q()}function S3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ul=class t{constructor(e,n,i,r,s=te.min(),o=te.min(),a=Mt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var cI=class{constructor(e){this.ct=e}};function A3(t){let e=I3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?up(e,e.limit,"L"):e}var gp=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt($e(e.integerValue));else if("doubleValue"in e){let i=$e(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),Ll(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"?n.At(i):(n.At(`${i.seconds||""}`),n.dt(i.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Ar(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?WN(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):q()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),L.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};gp.bt=new gp;var lI=class{constructor(){this._n=new uI}addToCollectionParentIndex(e,n){return this._n.add(n),b.resolve()}getCollectionParents(e,n){return b.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return b.resolve()}deleteFieldIndex(e,n){return b.resolve()}deleteAllFieldIndexes(e){return b.resolve()}createTargetIndexes(e,n){return b.resolve()}getDocumentsMatchingTarget(e,n){return b.resolve(null)}getIndexType(e,n){return b.resolve(0)}getFieldIndexes(e,n){return b.resolve([])}getNextCollectionGroupToUpdate(e){return b.resolve(null)}getMinOffset(e,n){return b.resolve(Ns.min())}getMinOffsetFromCollectionGroup(e,n){return b.resolve(Ns.min())}updateCollectionGroup(e,n,i){return b.resolve()}updateIndexEntries(e,n){return b.resolve()}},uI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Et(Le.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Et(Le.comparator)).toArray()}};var jre=new Uint8Array(0);var hi=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};hi.DEFAULT_COLLECTION_PERCENTILE=10,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hi.DEFAULT=new hi(41943040,hi.DEFAULT_COLLECTION_PERCENTILE,hi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hi.DISABLED=new hi(-1,0,0);var $l=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var dI=class{constructor(){this.changes=new xr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?b.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var hI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var fI=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Fl(i.mutation,r,fn.empty(),dt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=le()){let r=Ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Nl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let i=Ss();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,le()))}populateOverlays(e,n,i){let r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Vi(),o=kl(),a=function(){return kl()}();return n.forEach((c,l)=>{let u=i.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof _i)?s=s.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),Fl(u.mutation,l,u.mutation.getFieldMask(),dt.now())):o.set(l.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var d;return a.set(l,new hI(u,(d=o.get(l))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let i=kl(),r=new He((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let l=n.get(c);if(l===null)return;let u=i.get(c)||fn.empty();u=a.applyToLocalView(l,u),i.set(c,u);let d=(r.get(a.batchId)||le()).add(c);r=r.insert(a.batchId,d)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),l=c.key,u=c.value,d=sP();u.forEach(h=>{if(!s.has(h)){let f=hP(n.get(h),i.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,d))}return b.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return L.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):b.resolve(Ss()),a=-1,c=s;return o.next(l=>b.forEach(l,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?b.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,c,l,le())).next(u=>({batchId:a,changes:rP(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(i=>{let r=Nl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let s=n.collectionGroup,o=Nl();return this.indexManager.getCollectionParents(e,s).next(a=>b.forEach(a,c=>{let l=function(d,h){return new Rr(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,i,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((c,l)=>{let u=l.getKey();o.get(u)===null&&(o=o.insert(u,An.newInvalidDocument(u)))});let a=Nl();return o.forEach((c,l)=>{let u=s.get(c);u!==void 0&&Fl(u.mutation,l,fn.empty(),dt.now()),Bp(n,l)&&(a=a.insert(c,l))}),a})}};var pI=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return b.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:mi(r.createTime)}}(n)),b.resolve()}getNamedQuery(e,n){return b.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:A3(r.bundledQuery),readTime:mi(r.readTime)}}(n)),b.resolve()}};var mI=class{constructor(){this.overlays=new He(L.comparator),this.hr=new Map}getOverlay(e,n){return b.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Ss();return b.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),b.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(i)),b.resolve()}getOverlaysForCollection(e,n,i){let r=Ss(),s=n.length+1,o=new L(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&c.largestBatchId>i&&r.set(c.getKey(),c)}return b.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new He((l,u)=>l-u),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>i){let u=s.get(l.largestBatchId);u===null&&(u=Ss(),s=s.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}let a=Ss(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return b.resolve(a)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new JE(n,i));let s=this.hr.get(n);s===void 0&&(s=le(),this.hr.set(n,s)),this.hr.set(n,s.add(i.key))}};var Hl=class{constructor(){this.Pr=new Et(Ye.Ir),this.Tr=new Et(Ye.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Ye(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Ye(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new L(new Le([])),i=new Ye(n,e),r=new Ye(n,e+1),s=[];return this.Tr.forEachInRange([i,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new L(new Le([])),i=new Ye(n,e),r=new Ye(n,e+1),s=le();return this.Tr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ye(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Ye=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return L.comparator(e.key,n.key)||ye(e.pr,n.pr)}static Er(e,n){return ye(e.pr,n.pr)||L.comparator(e.key,n.key)}};var gI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Et(Ye.Ir)}checkEmpty(e){return b.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ZE(s,n,i,r);this.mutationQueue.push(o);for(let a of r)this.wr=this.wr.add(new Ye(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return b.resolve(o)}lookupMutationBatch(e,n){return b.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),s=r<0?0:r;return b.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return b.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return b.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Ye(n,0),r=new Ye(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([i,r],o=>{let a=this.Sr(o.pr);s.push(a)}),b.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Et(ye);return n.forEach(r=>{let s=new Ye(r,0),o=new Ye(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{i=i.add(a.pr)})}),b.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,s=i;L.isDocumentKey(s)||(s=s.child(""));let o=new Ye(new L(s),0),a=new Et(ye);return this.wr.forEachWhile(c=>{let l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.pr)),!0)},o),b.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ae(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return b.forEach(n.mutations,r=>{let s=new Ye(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Ye(n,0),r=this.wr.firstAfterOrEqual(i);return b.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,b.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var yI=class{constructor(e){this.vr=e,this.docs=function(){return new He(L.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return b.resolve(i?i.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let i=Vi();return n.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():An.newInvalidDocument(r))}),b.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Vi(),o=n.path,a=new L(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||j4(V4(u),i)<=0||(r.has(u.key)||Bp(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return b.resolve(s)}getAllFromCollectionGroup(e,n,i,r){q()}Fr(e,n){return b.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new _I(this)}getSize(e){return b.resolve(this.size)}},_I=class extends dI{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),b.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var vI=class{constructor(e){this.persistence=e,this.Mr=new xr(n=>db(n),hb),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Hl,this.targetCount=0,this.Br=$l.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),b.resolve()}getLastRemoteSnapshotVersion(e){return b.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return b.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),b.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),b.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,b.resolve()}updateTargetData(e,n){return this.qn(n),b.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,b.resolve()}removeTargets(e,n,i){let r=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),b.waitFor(s).next(()=>r)}getTargetCount(e){return b.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return b.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),b.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),b.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),b.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return b.resolve(i)}containsKey(e,n){return b.resolve(this.Nr.containsKey(n))}};var wI=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new qN(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new vI(this),this.indexManager=new lI,this.remoteDocumentCache=function(r){return new yI(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new cI(n),this.$r=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Lr[e.toKey()];return i||(i=new gI(n,this.referenceDelegate),this.Lr[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){R("MemoryPersistence","Starting transaction:",e);let r=new EI(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,n){return b.or(Object.values(this.Lr).map(i=>()=>i.containsKey(e,n)))}},EI=class extends ME{constructor(e){super(),this.currentSequenceNumber=e}},II=class t{constructor(e){this.persistence=e,this.zr=new Hl,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw q()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),b.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),b.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),b.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return b.forEach(this.Jr,i=>{let r=L.fromPath(i);return this.Yr(e,r).next(s=>{s||n.removeEntry(r,te.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return b.or([()=>b.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var bI=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=le(),r=le();for(let s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,n.fromCache,i,r)}};var DI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var CI=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return PR()?8:sp.v(Be())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new DI;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Ml()<=ce.DEBUG&&R("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),b.resolve()):(Ml()<=ce.DEBUG&&R("QueryEngine","Query:",aa(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Ml()<=ce.DEBUG&&R("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):b.resolve())}ji(e,n){if(bN(n))return b.resolve(null);let i=pi(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=up(n,null,"F"),i=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=le(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(c=>{let l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,up(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,i,r){return bN(n)||r.isEqual(te.min())?b.resolve(null):this.zi.getDocuments(e,i).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,i,r)?b.resolve(null):(Ml()<=ce.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),aa(n)),this.es(e,o,n,L4(r,-1)).next(a=>a))})}Zi(e,n){let i=new Et(nP(e));return n.forEach((r,s)=>{Bp(e,s)&&(i=i.add(s))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,n,i){return Ml()<=ce.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",aa(n)),this.zi.getDocumentsMatchingQuery(e,n,Ns.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var TI=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new He(ye),this.rs=new xr(s=>db(s),hb),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fI(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function R3(t,e,n,i){return new TI(t,e,n,i)}function IP(t,e){return m(this,null,function*(){let n=ne(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],c=le();for(let l of r){o.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}for(let l of s){a.push(l.batchId);for(let u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(i,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function x3(t,e){let n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){let d=l.batch,h=d.keys(),f=b.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(c,p)).next(g=>{let _=l.docVersions.get(p);Ae(_!==null),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),u.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function bP(t){let e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function M3(t,e){let n=ne(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let a=[];e.targetChanges.forEach((u,d)=>{let h=r.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Mt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),function(g,_,I){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(h,f,u)&&a.push(n.Qr.updateTargetData(s,f))});let c=Vi(),l=le();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(N3(s,o,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!i.isEqual(te.min())){let u=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(u)}return b.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,l)).next(()=>c)}).then(s=>(n.ns=r,s))}function N3(t,e,n){let i=le(),r=le();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Vi();return n.forEach((a,c)=>{let l=s.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:r}})}function P3(t,e){let n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function O3(t,e){let n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(s=>s?(r=s,b.resolve(r)):n.Qr.allocateTargetId(i).next(o=>(r=new Ul(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function SI(t,e,n){return m(this,null,function*(){let i=ne(t),r=i.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Yl(o))throw o;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function ON(t,e,n){let i=ne(t),r=te.min(),s=le();return i.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){let d=ne(c),h=d.rs.get(u);return h!==void 0?b.resolve(d.ns.get(h)):d.Qr.getTargetData(l,u)}(i,o,pi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>i.ts.getDocumentsMatchingQuery(o,e,n?r:te.min(),n?s:le())).next(a=>(k3(i,Y4(e),a),{documents:a,hs:s})))}function k3(t,e,n){let i=t.ss.get(e)||te.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.ss.set(e,i)}var yp=class{constructor(){this.activeTargetIds=n3()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var AI=class{constructor(){this.no=new yp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new yp,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var RI=class{io(e){}shutdown(){}};var _p=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Jf=null;function vE(){return Jf===null?Jf=function(){return 268435456+Math.round(2147483648*Math.random())}():Jf++,"0x"+Jf.toString(16)}var F3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var xI=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var wt="WebChannelConnection",MI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=i+"://"+n.host,this.po=`projects/${r}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get wo(){return!1}So(n,i,r,s,o){let a=vE(),c=this.bo(n,i.toUriEncodedString());R("RestConnection",`Sending RPC '${n}' ${a}:`,c,r);let l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,c,l,r).then(u=>(R("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw fa("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}vo(n,i,r,s,o,a){return this.So(n,i,r,s,o)}Do(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ca}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}bo(n,i){let r=F3[n];return`${this.fo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,i,r){let s=vE();return new Promise((o,a)=>{let c=new dN;c.setWithCredentials(!0),c.listenOnce(lN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Zf.NO_ERROR:let u=c.getResponseJson();R(wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case Zf.TIMEOUT:R(wt,`RPC '${e}' ${s} timed out`),a(new x(v.DEADLINE_EXCEEDED,"Request time out"));break;case Zf.HTTP_ERROR:let d=c.getStatus();if(R(wt,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let f=h?.error;if(f&&f.status&&f.message){let p=function(_){let I=_.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(I)>=0?I:v.UNKNOWN}(f.status);a(new x(p,f.message))}else a(new x(v.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new x(v.UNAVAILABLE,"Connection failed."));break;default:q()}}finally{R(wt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(r);R(wt,`RPC '${e}' ${s} sending request:`,r),c.send(n,"POST",l,i,15)})}Fo(e,n,i){let r=vE(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=aN(),a=cN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,i),c.encodeInitMessageHeaders=!0;let u=s.join("");R(wt,`Creating RPC '${e}' stream ${r}: ${u}`,c);let d=o.createWebChannel(u,c),h=!1,f=!1,p=new xI({lo:_=>{f?R(wt,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(h||(R(wt,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),R(wt,`RPC '${e}' stream ${r} sending:`,_),d.send(_))},ho:()=>d.close()}),g=(_,I,M)=>{_.listen(I,V=>{try{M(V)}catch(j){setTimeout(()=>{throw j},0)}})};return g(d,xl.EventType.OPEN,()=>{f||R(wt,`RPC '${e}' stream ${r} transport opened.`)}),g(d,xl.EventType.CLOSE,()=>{f||(f=!0,R(wt,`RPC '${e}' stream ${r} transport closed`),p.Vo())}),g(d,xl.EventType.ERROR,_=>{f||(f=!0,fa(wt,`RPC '${e}' stream ${r} transport errored:`,_),p.Vo(new x(v.UNAVAILABLE,"The operation could not be completed")))}),g(d,xl.EventType.MESSAGE,_=>{var I;if(!f){let M=_.data[0];Ae(!!M);let V=M,j=V.error||((I=V[0])===null||I===void 0?void 0:I.error);if(j){R(wt,`RPC '${e}' stream ${r} received error:`,j);let me=j.status,oe=function(bt){let gn=Qe[bt];if(gn!==void 0)return pP(gn)}(me),we=j.message;oe===void 0&&(oe=v.INTERNAL,we="Unknown error status: "+me+" with message "+j.message),f=!0,p.Vo(new x(oe,we)),d.close()}else R(wt,`RPC '${e}' stream ${r} received:`,M),p.mo(M)}}),g(a,uN.STAT_EVENT,_=>{_.stat===yE.PROXY?R(wt,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===yE.NOPROXY&&R(wt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}};function wE(){return typeof document<"u"?document:null}function Up(t){return new iI(t,!0)}var vp=class{constructor(e,n,i=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=i,this.xo=r,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),i=Math.max(0,Date.now()-this.Lo),r=Math.max(0,n-i);r>0&&R("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var wp=class{constructor(e,n,i,r,s,o,a,c){this.oi=e,this.$o=i,this.Uo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new vp(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return m(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return m(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return m(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Wo===n&&this.o_(i,r)},i=>{e(()=>{let r=new x(v.UNKNOWN,"Fetching auth token failed: "+i.message);return this.__(r)})})}o_(e,n){let i=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{i(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(r=>{i(()=>this.__(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Yo(){this.state=5,this.jo.qo(()=>m(this,null,function*(){this.state=0,this.start()}))}__(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},NI=class extends wp{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=y3(this.serializer,e),i=function(s){if(!("targetChange"in s))return te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?mi(o.readTime):te.min()}(e);return this.listener.u_(n,i)}c_(e){let n={};n.database=aI(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=WE(c)?{documents:w3(s,c)}:{query:E3(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mP(s,o.resumeToken);let l=rI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=mp(s,o.snapshotVersion.toTimestamp());let l=rI(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let i=b3(this.serializer,e);i&&(n.labels=i),this.t_(n)}l_(e){let n={};n.database=aI(this.serializer),n.removeTarget=e,this.t_(n)}},PI=class extends wp{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=v3(e.writeResults,e.commitTime),i=mi(e.commitTime);return this.listener.T_(i,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=aI(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>_3(this.serializer,i))};this.t_(n)}};var OI=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new x(v.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,sI(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new x(v.UNKNOWN,s.toString())})}vo(e,n,i,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,sI(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new x(v.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var kI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(gi(n),this.g_=!1):R("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var FI=class{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{i.enqueueAndForget(()=>m(this,null,function*(){Bs(this)&&(R("RemoteStore","Restarting streams for network reachability change."),yield function(c){return m(this,null,function*(){let l=ne(c);l.v_.add(4),yield Zl(l),l.x_.set("Unknown"),l.v_.delete(4),yield $p(l)})}(this))}))}),this.x_=new kI(i,r)}};function $p(t){return m(this,null,function*(){if(Bs(t))for(let e of t.F_)yield e(!0)})}function Zl(t){return m(this,null,function*(){for(let e of t.F_)yield e(!1)})}function DP(t,e){let n=ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),gb(n)?mb(n):Ta(n).Jo()&&pb(n,e))}function CP(t,e){let n=ne(t),i=Ta(n);n.C_.delete(e),i.Jo()&&TP(n,e),n.C_.size===0&&(i.Jo()?i.Xo():Bs(n)&&n.x_.set("Unknown"))}function pb(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ta(t).c_(e)}function TP(t,e){t.O_.Oe(e),Ta(t).l_(e)}function mb(t){t.O_=new nI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ta(t).start(),t.x_.p_()}function gb(t){return Bs(t)&&!Ta(t).Ho()&&t.C_.size>0}function Bs(t){return ne(t).v_.size===0}function SP(t){t.O_=void 0}function L3(t){return m(this,null,function*(){t.C_.forEach((e,n)=>{pb(t,e)})})}function V3(t,e){return m(this,null,function*(){SP(t),gb(t)?(t.x_.S_(e),mb(t)):t.x_.set("Unknown")})}function j3(t,e,n){return m(this,null,function*(){if(t.x_.set("Online"),e instanceof fp&&e.state===2&&e.cause)try{yield function(r,s){return m(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.C_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.C_.delete(a),r.O_.removeTarget(a))})}(t,e)}catch(i){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield Ep(t,i)}else if(e instanceof da?t.O_.$e(e):e instanceof hp?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(te.min()))try{let i=yield bP(t.localStore);n.compareTo(i)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){let u=s.C_.get(l);u&&s.C_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{let u=s.C_.get(c);if(!u)return;s.C_.set(c,u.withResumeToken(Mt.EMPTY_BYTE_STRING,u.snapshotVersion)),TP(s,c);let d=new Ul(u.target,c,l,u.sequenceNumber);pb(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(i){R("RemoteStore","Failed to raise snapshot:",i),yield Ep(t,i)}})}function Ep(t,e,n){return m(this,null,function*(){if(!Yl(e))throw e;t.v_.add(1),yield Zl(t),t.x_.set("Offline"),n||(n=()=>bP(t.localStore)),t.asyncQueue.enqueueRetryable(()=>m(this,null,function*(){R("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield $p(t)}))})}function AP(t,e){return e().catch(n=>Ep(t,n,e))}function Hp(t){return m(this,null,function*(){let e=ne(t),n=Mr(e),i=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;B3(e);)try{let r=yield P3(e.localStore,i);if(r===null){e.D_.length===0&&n.Xo();break}i=r.batchId,U3(e,r)}catch(r){yield Ep(e,r)}RP(e)&&xP(e)})}function B3(t){return Bs(t)&&t.D_.length<10}function U3(t,e){t.D_.push(e);let n=Mr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function RP(t){return Bs(t)&&!Mr(t).Ho()&&t.D_.length>0}function xP(t){Mr(t).start()}function $3(t){return m(this,null,function*(){Mr(t).d_()})}function H3(t){return m(this,null,function*(){let e=Mr(t);for(let n of t.D_)e.I_(n.mutations)})}function z3(t,e,n){return m(this,null,function*(){let i=t.D_.shift(),r=XE.from(i,e,n);yield AP(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Hp(t)})}function q3(t,e){return m(this,null,function*(){e&&Mr(t).P_&&(yield function(i,r){return m(this,null,function*(){if(function(o){return l3(o)&&o!==v.ABORTED}(r.code)){let s=i.D_.shift();Mr(i).Zo(),yield AP(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Hp(i)}})}(t,e)),RP(t)&&xP(t)})}function kN(t,e){return m(this,null,function*(){let n=ne(t);n.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");let i=Bs(n);n.v_.add(3),yield Zl(n),i&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield $p(n)})}function G3(t,e){return m(this,null,function*(){let n=ne(t);e?(n.v_.delete(2),yield $p(n)):e||(n.v_.add(2),yield Zl(n),n.x_.set("Unknown"))})}function Ta(t){return t.N_||(t.N_=function(n,i,r){let s=ne(n);return s.R_(),new NI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:L3.bind(null,t),To:V3.bind(null,t),u_:j3.bind(null,t)}),t.F_.push(e=>m(this,null,function*(){e?(t.N_.Zo(),gb(t)?mb(t):t.x_.set("Unknown")):(yield t.N_.stop(),SP(t))}))),t.N_}function Mr(t){return t.B_||(t.B_=function(n,i,r){let s=ne(n);return s.R_(),new PI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:$3.bind(null,t),To:q3.bind(null,t),E_:H3.bind(null,t),T_:z3.bind(null,t)}),t.F_.push(e=>m(this,null,function*(){e?(t.B_.Zo(),yield Hp(t)):(yield t.B_.stop(),t.D_.length>0&&(R("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var LI=class t{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Sn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){let o=Date.now()+i,a=new t(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new x(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yb(t,e){if(gi("AsyncQueue",`${e}: ${t}`),Yl(t))return new x(v.UNAVAILABLE,`${e}: ${t}`);throw t}var Ip=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||L.comparator(n.key,i.key):(n,i)=>L.comparator(n.key,i.key),this.keyedMap=Nl(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var bp=class{constructor(){this.L_=new He(L.comparator)}track(e){let n=e.doc.key,i=this.L_.get(n);i?e.type!==0&&i.type===3?this.L_=this.L_.insert(n,e):e.type===3&&i.type!==1?this.L_=this.L_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.L_=this.L_.remove(n):e.type===1&&i.type===2?this.L_=this.L_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):q():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,i)=>{e.push(i)}),e}},ba=class t{constructor(e,n,i,r,s,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,i,r,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Ip.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var VI=class{constructor(){this.q_=void 0,this.Q_=[]}},jI=class{constructor(){this.queries=new xr(e=>tP(e),jp),this.onlineState="Unknown",this.K_=new Set}};function MP(t,e){return m(this,null,function*(){let n=ne(t),i=e.query,r=!1,s=n.queries.get(i);if(s||(r=!0,s=new VI),r)try{s.q_=yield n.onListen(i)}catch(o){let a=yb(o,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&_b(n)})}function NP(t,e){return m(this,null,function*(){let n=ne(t),i=e.query,r=!1,s=n.queries.get(i);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),r=s.Q_.length===0)}if(r)return n.queries.delete(i),n.onUnlisten(i)})}function W3(t,e){let n=ne(t),i=!1;for(let r of e){let s=r.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(r)&&(i=!0);o.q_=r}}i&&_b(n)}function K3(t,e,n){let i=ne(t),r=i.queries.get(e);if(r)for(let s of r.Q_)s.onError(n);i.queries.delete(e)}function _b(t){t.K_.forEach(e=>{e.next()})}var Dp=class{constructor(e,n,i){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=i||{}}W_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ba(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let i=n!=="Offline";return(!this.options.Z_||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ba.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Cp=class{constructor(e){this.key=e}},Tp=class{constructor(e){this.key=e}},BI=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=le(),this.mutatedKeys=le(),this.ua=nP(e),this.ca=new Ip(this.ua)}get la(){return this.oa}ha(e,n){let i=n?n.Pa:new bp,r=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1,c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{let h=r.get(u),f=Bp(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations),_=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(i.track({type:3,doc:f}),_=!0):this.Ia(h,f)||(i.track({type:2,doc:f}),_=!0,(c&&this.ua(f,c)>0||l&&this.ua(f,l)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),_=!0):h&&!f&&(i.track({type:1,doc:h}),_=!0,(c||l)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),i.track({type:1,doc:u})}return{ca:o,Pa:i,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((u,d)=>function(f,p){let g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q()}};return g(f)-g(p)}(u.type,d.type)||this.ua(u.doc,d.doc)),this.Ta(i),r=r!=null&&r;let a=n&&!r?this.Ea():[],c=this.aa.size===0&&this.current&&!r?1:0,l=c!==this._a;return this._a=c,o.length!==0||l?{snapshot:new ba(this.query,e.ca,s,o,e.mutatedKeys,c===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new bp,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=le(),this.ca.forEach(i=>{this.Aa(i.key)&&(this.aa=this.aa.add(i.key))});let n=[];return e.forEach(i=>{this.aa.has(i)||n.push(new Tp(i))}),this.aa.forEach(i=>{e.has(i)||n.push(new Cp(i))}),n}Ra(e){this.oa=e.hs,this.aa=le();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ba.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},UI=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},$I=class{constructor(e){this.key=e,this.ma=!1}},HI=class{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new xr(a=>tP(a),jp),this.pa=new Map,this.ya=new Set,this.wa=new He(L.comparator),this.Sa=new Map,this.ba=new Hl,this.Da={},this.Ca=new Map,this.va=$l.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function Q3(t,e){return m(this,null,function*(){let n=s9(t),i,r,s=n.ga.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Va();else{let o=yield O3(n.localStore,pi(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,r=yield Y3(n,e,i,a==="current",o.resumeToken),n.isPrimaryClient&&DP(n.remoteStore,o)}return r})}function Y3(t,e,n,i,r){return m(this,null,function*(){t.Ma=(d,h,f)=>function(g,_,I,M){return m(this,null,function*(){let V=_.view.ha(I);V.Xi&&(V=yield ON(g.localStore,_.query,!1).then(({documents:we})=>_.view.ha(we,V)));let j=M&&M.targetChanges.get(_.targetId),me=M&&M.targetMismatches.get(_.targetId)!=null,oe=_.view.applyChanges(V,g.isPrimaryClient,j,me);return LN(g,_.targetId,oe.da),oe.snapshot})}(t,d,h,f);let s=yield ON(t.localStore,e,!0),o=new BI(e,s.hs),a=o.ha(s.documents),c=Bl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);LN(t,n,l.da);let u=new UI(e,n,o);return t.ga.set(e,u),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot})}function Z3(t,e){return m(this,null,function*(){let n=ne(t),i=n.ga.get(e),r=n.pa.get(i.targetId);if(r.length>1)return n.pa.set(i.targetId,r.filter(s=>!jp(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield SI(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),CP(n.remoteStore,i.targetId),zI(n,i.targetId)}).catch(Ql))):(zI(n,i.targetId),yield SI(n.localStore,i.targetId,!0))})}function X3(t,e,n){return m(this,null,function*(){let i=o9(t);try{let r=yield function(o,a){let c=ne(o),l=dt.now(),u=a.reduce((f,p)=>f.add(p.key),le()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Vi(),g=le();return c.os.getEntries(f,u).next(_=>{p=_,p.forEach((I,M)=>{M.isValidDocument()||(g=g.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,p)).next(_=>{d=_;let I=[];for(let M of a){let V=c3(M,d.get(M.key).overlayedDocument);V!=null&&I.push(new _i(M.key,V,KN(V.value.mapValue),Kt.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,I,a)}).next(_=>{h=_;let I=_.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(f,_.batchId,I)})}).then(()=>({batchId:h.batchId,changes:rP(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,c){let l=o.Da[o.currentUser.toKey()];l||(l=new He(ye)),l=l.insert(a,c),o.Da[o.currentUser.toKey()]=l}(i,r.batchId,n),yield Xl(i,r.changes),yield Hp(i.remoteStore)}catch(r){let s=yb(r,"Failed to persist write");n.reject(s)}})}function PP(t,e){return m(this,null,function*(){let n=ne(t);try{let i=yield M3(n.localStore,e);e.targetChanges.forEach((r,s)=>{let o=n.Sa.get(s);o&&(Ae(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ma=!0:r.modifiedDocuments.size>0?Ae(o.ma):r.removedDocuments.size>0&&(Ae(o.ma),o.ma=!1))}),yield Xl(n,i,e)}catch(i){yield Ql(i)}})}function FN(t,e,n){let i=ne(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let c=ne(o);c.onlineState=a;let l=!1;c.queries.forEach((u,d)=>{for(let h of d.Q_)h.U_(a)&&(l=!0)}),l&&_b(c)}(i.eventManager,e),r.length&&i.fa.u_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function J3(t,e,n){return m(this,null,function*(){let i=ne(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Sa.get(e),s=r&&r.key;if(s){let o=new He(L.comparator);o=o.insert(s,An.newNoDocument(s,te.min()));let a=le().add(s),c=new dp(te.min(),new Map,new He(ye),o,a);yield PP(i,c),i.wa=i.wa.remove(s),i.Sa.delete(e),vb(i)}else yield SI(i.localStore,e,!1).then(()=>zI(i,e,n)).catch(Ql)})}function e9(t,e){return m(this,null,function*(){let n=ne(t),i=e.batch.batchId;try{let r=yield x3(n.localStore,e);kP(n,i,null),OP(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield Xl(n,r)}catch(r){yield Ql(r)}})}function t9(t,e,n){return m(this,null,function*(){let i=ne(t);try{let r=yield function(o,a){let c=ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(d=>(Ae(d!==null),u=d.keys(),c.mutationQueue.removeMutationBatch(l,d))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,e);kP(i,e,n),OP(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield Xl(i,r)}catch(r){yield Ql(r)}})}function OP(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function kP(t,e,n){let i=ne(t),r=i.Da[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Da[i.currentUser.toKey()]=r}}function zI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.pa.get(e))t.ga.delete(i),n&&t.fa.xa(i,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(i=>{t.ba.containsKey(i)||FP(t,i)})}function FP(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(CP(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),vb(t))}function LN(t,e,n){for(let i of n)i instanceof Cp?(t.ba.addReference(i.key,e),n9(t,i)):i instanceof Tp?(R("SyncEngine","Document no longer in limbo: "+i.key),t.ba.removeReference(i.key,e),t.ba.containsKey(i.key)||FP(t,i.key)):q()}function n9(t,e){let n=e.key,i=n.path.canonicalString();t.wa.get(n)||t.ya.has(i)||(R("SyncEngine","New document in limbo: "+n),t.ya.add(i),vb(t))}function vb(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new L(Le.fromString(e)),i=t.va.next();t.Sa.set(i,new $I(n)),t.wa=t.wa.insert(n,i),DP(t.remoteStore,new Ul(pi(Vp(n.path)),i,"TargetPurposeLimboResolution",qN._e))}}function Xl(t,e,n){return m(this,null,function*(){let i=ne(t),r=[],s=[],o=[];i.ga.isEmpty()||(i.ga.forEach((a,c)=>{o.push(i.Ma(c,e,n).then(l=>{if((l||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(c.targetId,l?.fromCache?"not-current":"current"),l){r.push(l);let u=bI.Ki(c.targetId,l);s.push(u)}}))}),yield Promise.all(o),i.fa.u_(r),yield function(c,l){return m(this,null,function*(){let u=ne(c);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>b.forEach(l,h=>b.forEach(h.qi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>b.forEach(h.Qi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Yl(d))throw d;R("LocalStore","Failed to update sequence numbers: "+d)}for(let d of l){let h=d.targetId;if(!d.fromCache){let f=u.ns.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);u.ns=u.ns.insert(h,g)}}})}(i.localStore,s))})}function i9(t,e){return m(this,null,function*(){let n=ne(t);if(!n.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());let i=yield IP(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new x(v.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Xl(n,i.us)}})}function r9(t,e){let n=ne(t),i=n.Sa.get(e);if(i&&i.ma)return le().add(i.key);{let r=le(),s=n.pa.get(e);if(!s)return r;for(let o of s){let a=n.ga.get(o);r=r.unionWith(a.view.la)}return r}}function s9(t){let e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J3.bind(null,e),e.fa.u_=W3.bind(null,e.eventManager),e.fa.xa=K3.bind(null,e.eventManager),e}function o9(t){let e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t9.bind(null,e),e}var Sp=class{constructor(){this.synchronizeTabs=!1}initialize(e){return m(this,null,function*(){this.serializer=Up(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return R3(this.persistence,new CI,e.initialUser,this.serializer)}createPersistence(e){return new wI(II.Hr,this.serializer)}createSharedClientState(e){return new AI}terminate(){return m(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var qI=class{initialize(e,n){return m(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=i9.bind(null,this.syncEngine),yield G3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new jI}()}createDatastore(e){let n=Up(e.databaseInfo.databaseId),i=function(s){return new MI(s)}(e.databaseInfo);return function(s,o,a,c){return new OI(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new FI(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>FN(this.syncEngine,n,0),function(){return _p.D()?new _p:new RI}())}createSyncEngine(e,n){return function(r,s,o,a,c,l,u){let d=new HI(r,s,o,a,c,l);return u&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return m(this,null,function*(){var e;yield function(i){return m(this,null,function*(){let r=ne(i);R("RemoteStore","RemoteStore shutting down."),r.v_.add(5),yield Zl(r),r.M_.shutdown(),r.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Ap=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var GI=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=ot.UNAUTHENTICATED,this.clientId=ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>m(this,null,function*(){R("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new x(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Sn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>m(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=yb(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function EE(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>m(this,null,function*(){i.isEqual(r)||(yield IP(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function VN(t,e){return m(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield c9(t);R("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>kN(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>kN(e.remoteStore,r)),t._onlineComponents=e})}function a9(t){return t.name==="FirebaseError"?t.code===v.FAILED_PRECONDITION||t.code===v.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function c9(t){return m(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield EE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!a9(n))throw n;fa("Error using user provided cache. Falling back to memory cache: "+n),yield EE(t,new Sp)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield EE(t,new Sp);return t._offlineComponents})}function LP(t){return m(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield VN(t,t._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield VN(t,new qI))),t._onlineComponents})}function l9(t){return LP(t).then(e=>e.syncEngine)}function WI(t){return m(this,null,function*(){let e=yield LP(t),n=e.eventManager;return n.onListen=Q3.bind(null,e.syncEngine),n.onUnlisten=Z3.bind(null,e.syncEngine),n})}function u9(t,e,n={}){let i=new Sn;return t.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return function(s,o,a,c,l){let u=new Ap({next:h=>{o.enqueueAndForget(()=>NP(s,d));let f=h.docs.has(a);!f&&h.fromCache?l.reject(new x(v.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&c&&c.source==="server"?l.reject(new x(v.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new Dp(Vp(a.path),u,{includeMetadataChanges:!0,Z_:!0});return MP(s,d)}(yield WI(t),t.asyncQueue,e,n,i)})),i.promise}function VP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var jN=new Map;function jP(t,e,n){if(!n)throw new x(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function d9(t,e,n,i){if(e===!0&&i===!0)throw new x(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BN(t){if(!L.isDocumentKey(t))throw new x(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UN(t){if(L.isDocumentKey(t))throw new x(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":q()}function Qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new x(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=zp(t);throw new x(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function h9(t,e){if(e<=0)throw new x(v.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}var Rp=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new x(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new x(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VP((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new x(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new x(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new x(v.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Da=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new x(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new x(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rp(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new bE;switch(i.type){case"firstParty":return new SE(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new x(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=jN.get(n);i&&(R("ComponentProvider","Removing Datastore"),jN.delete(n),i.terminate())}(this),Promise.resolve()}};function BP(t,e,n,i={}){var r;let s=(t=Qt(t,Da))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,c;if(typeof i.mockUserToken=="string")a=i.mockUserToken,c=ot.MOCK_USER;else{a=AR(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new x(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ot(l)}t._authCredentials=new DE(new np(a,c))}}var Nr=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},It=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Tr=class t extends Nr{constructor(e,n,i){super(e,n,Vp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new L(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function UP(t,e,...n){if(t=Fe(t),jP("collection","path",e),t instanceof Da){let i=Le.fromString(e,...n);return UN(i),new Tr(t,null,i)}{if(!(t instanceof It||t instanceof Tr))throw new x(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Le.fromString(e,...n));return UN(i),new Tr(t.firestore,null,i)}}function wb(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=ip.newId()),jP("doc","path",e),t instanceof Da){let i=Le.fromString(e,...n);return BN(i),new It(t,null,new L(i))}{if(!(t instanceof It||t instanceof Tr))throw new x(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Le.fromString(e,...n));return BN(i),new It(t.firestore,t instanceof Tr?t.converter:null,new L(i))}}var KI=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new vp(this,"async_queue_retry"),this._u=()=>{let n=wE();n&&R("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=wE();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=wE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new Sn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return m(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Yl(e))throw e;R("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(i=>{this.ru=i,this.iu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw gi("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.iu=!1,i))));return this.Xa=n,n}enqueueAfterDelay(e,n,i){this.au(),this.ou.indexOf(e)>-1&&(n=0);let r=LI.createAndSchedule(this,e,n,i,s=>this.lu(s));return this.nu.push(r),r}au(){this.ru&&q()}verifyOperationInProgress(){}hu(){return m(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function $N(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var xn=class extends Da{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new KI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||HP(this),this._firestoreClient.terminate()}};function $P(t,e){let n=typeof t=="object"?t:Ko(),i=typeof t=="string"?t:e||"(default)",r=Xc(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=SR("firestore");s&&BP(r,...s)}return r}function qp(t){return t._firestoreClient||HP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function HP(t){var e,n,i;let r=t._freezeSettings(),s=function(a,c,l,u){return new kE(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,VP(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new GI(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var zl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mt.fromBase64String(e))}catch(n){throw new x(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Vs=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new x(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ql=class{constructor(e){this._methodName=e}};var Gl=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new x(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new x(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}};var f9=/^__.*__$/,QI=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new _i(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ls(e,this.data,n,this.fieldTransforms)}},xp=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new _i(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function zP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q()}}var YI=class t{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.mu(e),r}fu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Au({path:i,Vu:!1});return r.Eu(),r}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Np(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(zP(this.du)&&f9.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},ZI=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Up(e)}Su(e,n,i,r=!1){return new YI({du:e,methodName:n,wu:i,path:Wt.emptyPath(),Vu:!1,yu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Jl(t){let e=t._freezeSettings(),n=Up(t._databaseId);return new ZI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Eb(t,e,n,i,r,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,r);Ib("Data must be an object, but it was:",o,i);let a=WP(i,o),c,l;if(s.merge)c=new fn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let u=[];for(let d of s.mergeFields){let h=XI(e,d,n);if(!o.contains(h))throw new x(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QP(u,h)||u.push(h)}c=new fn(u),l=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,l=o.fieldTransforms;return new QI(new Gt(a),c,l)}var Mp=class t extends ql{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function qP(t,e,n,i){let r=t.Su(1,e,n);Ib("Data must be an object, but it was:",r,i);let s=[],o=Gt.empty();js(i,(c,l)=>{let u=bb(e,c,n);l=Fe(l);let d=r.fu(u);if(l instanceof Mp)s.push(u);else{let h=eu(l,d);h!=null&&(s.push(u),o.set(u,h))}});let a=new fn(s);return new xp(o,a,r.fieldTransforms)}function GP(t,e,n,i,r,s){let o=t.Su(1,e,n),a=[XI(e,i,n)],c=[r];if(s.length%2!=0)throw new x(v.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(XI(e,s[h])),c.push(s[h+1]);let l=[],u=Gt.empty();for(let h=a.length-1;h>=0;--h)if(!QP(l,a[h])){let f=a[h],p=c[h];p=Fe(p);let g=o.fu(f);if(p instanceof Mp)l.push(f);else{let _=eu(p,g);_!=null&&(l.push(f),u.set(f,_))}}let d=new fn(l);return new xp(u,d,o.fieldTransforms)}function p9(t,e,n,i=!1){return eu(n,t.Su(i?4:3,e))}function eu(t,e){if(KP(t=Fe(t)))return Ib("Unsupported field value:",e,t),WP(t,e);if(t instanceof ql)return function(i,r){if(!zP(r.du))throw r.pu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.pu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let c=eu(a,r.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Fe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return i3(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=dt.fromDate(i);return{timestampValue:mp(r.serializer,s)}}if(i instanceof dt){let s=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mp(r.serializer,s)}}if(i instanceof Gl)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zl)return{bytesValue:mP(r.serializer,i._byteString)};if(i instanceof It){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fb(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.pu(`Unsupported field value: ${zp(i)}`)}(t,e)}function WP(t,e){let n={};return GN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(i,r)=>{let s=eu(r,e.Ru(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function KP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof Gl||t instanceof zl||t instanceof It||t instanceof ql)}function Ib(t,e,n){if(!KP(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=zp(n);throw i==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+i)}}function XI(t,e,n){if((e=Fe(e))instanceof Vs)return e._internalPath;if(typeof e=="string")return bb(t,e);throw Np("Field path arguments must be of type string or ",t,!1,void 0,n)}var m9=new RegExp("[~\\*/\\[\\]]");function bb(t,e,n){if(e.search(m9)>=0)throw Np(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Vs(...e.split("."))._internalPath}catch{throw Np(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Np(t,e,n,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${i}`),o&&(c+=` in document ${r}`),c+=")"),new x(v.INVALID_ARGUMENT,a+t+c)}function QP(t,e){return t.some(n=>n.isEqual(e))}var Pp=class{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new JI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Gp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},JI=class extends Pp{data(){return super.data()}};function Gp(t,e){return typeof e=="string"?bb(t,e):e instanceof Vs?e._internalPath:e._delegate._internalPath}function g9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new x(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wl=class{},Kl=class extends Wl{};function YP(t,e,...n){let i=[];e instanceof Wl&&i.push(e),i=i.concat(n),function(s){let o=s.filter(c=>c instanceof eb).length,a=s.filter(c=>c instanceof Op).length;if(o>1||o>0&&a>0)throw new x(v.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)t=r._apply(t);return t}var Op=class t extends Kl{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new t(e,n,i)}_apply(e){let n=this._parse(e);return eO(e._query,n),new Nr(e.firestore,e.converter,KE(e._query,n))}_parse(e){let n=Jl(e.firestore);return function(s,o,a,c,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new x(v.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){zN(d,u);let f=[];for(let p of d)f.push(HN(c,s,p));h={arrayValue:{values:f}}}else h=HN(c,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||zN(d,u),h=p9(a,o,d,u==="in"||u==="not-in");return Ze.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ZP(t,e,n){let i=e,r=Gp("where",t);return Op._create(r,i,n)}var eb=class t extends Wl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let c of a)eO(o,c),o=KE(o,c)}(e._query,n),new Nr(e.firestore,e.converter,KE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var tb=class t extends Kl{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(r,s,o){if(r.startAt!==null)throw new x(v.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new x(v.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Os(s,o)}(e._query,this._field,this._direction);return new Nr(e.firestore,e.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Rr(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}};function XP(t,e="asc"){let n=e,i=Gp("orderBy",t);return tb._create(i,n)}var nb=class t extends Kl{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new t(e,n,i)}_apply(e){return new Nr(e.firestore,e.converter,up(e._query,this._limit,this._limitType))}};function JP(t){return h9("limit",t),nb._create("limit",t,"F")}function HN(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new x(v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eP(e)&&n.indexOf("/")!==-1)throw new x(v.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let i=e.path.child(Le.fromString(n));if(!L.isDocumentKey(i))throw new x(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yN(t,new L(i))}if(n instanceof It)return yN(t,n._key);throw new x(v.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zp(n)}.`)}function zN(t,e){if(!Array.isArray(t)||t.length===0)throw new x(v.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eO(t,e){let n=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new x(v.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new x(v.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ib=class{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return js(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new Gl($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=lb(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){let n=Sr(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Le.fromString(e);Ae(EP(i));let r=new cp(i.get(1),i.get(3)),s=new L(i.popFirst(5));return r.isEqual(n)||gi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Db(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Rs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},kp=class extends Pp{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ha(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(Gp("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},ha=class extends kp{data(e={}){return super.data(e)}},rb=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Rs(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new ha(this._firestore,this._userDataWriter,i.key,i,new Rs(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new x(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let c=new ha(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Rs(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new ha(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Rs(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:y9(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function y9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q()}}function tO(t){t=Qt(t,It);let e=Qt(t.firestore,xn);return u9(qp(e),t._key).then(n=>oO(e,t,n))}var Fp=class extends ib{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}};function nO(t,e,n){t=Qt(t,It);let i=Qt(t.firestore,xn),r=Db(t.converter,e,n);return tu(i,[Eb(Jl(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Kt.none())])}function iO(t,e,n,...i){t=Qt(t,It);let r=Qt(t.firestore,xn),s=Jl(r),o;return o=typeof(e=Fe(e))=="string"||e instanceof Vs?GP(s,"updateDoc",t._key,e,n,i):qP(s,"updateDoc",t._key,e),tu(r,[o.toMutation(t._key,Kt.exists(!0))])}function rO(t){return tu(Qt(t.firestore,xn),[new Ia(t._key,Kt.none())])}function sO(t,e){let n=Qt(t.firestore,xn),i=wb(t),r=Db(t.converter,e);return tu(n,[Eb(Jl(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Kt.exists(!1))]).then(()=>i)}function Cb(t,...e){var n,i,r;t=Fe(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||$N(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if($N(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(i=d.error)===null||i===void 0?void 0:i.bind(d),e[o+2]=(r=d.complete)===null||r===void 0?void 0:r.bind(d)}let c,l,u;if(t instanceof It)l=Qt(t.firestore,xn),u=Vp(t._key.path),c={next:d=>{e[o]&&e[o](oO(l,t,d))},error:e[o+1],complete:e[o+2]};else{let d=Qt(t,Nr);l=Qt(d.firestore,xn),u=d._query;let h=new Fp(l);c={next:f=>{e[o]&&e[o](new rb(l,h,d,f))},error:e[o+1],complete:e[o+2]},g9(t._query)}return function(h,f,p,g){let _=new Ap(g),I=new Dp(f,_,p);return h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return MP(yield WI(h),I)})),()=>{_.La(),h.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return NP(yield WI(h),I)}))}}(qp(l),u,a,c)}function tu(t,e){return function(i,r){let s=new Sn;return i.asyncQueue.enqueueAndForget(()=>m(this,null,function*(){return X3(yield l9(i),r,s)})),s.promise}(qp(t),e)}function oO(t,e,n){let i=n.docs.get(e._key),r=new Fp(t);return new kp(t,r,e._key,i,new Rs(n.hasPendingWrites,n.fromCache),e.converter)}var sb=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jl(e)}set(e,n,i){this._verifyNotCommitted();let r=IE(e,this._firestore),s=Db(r.converter,n,i),o=Eb(this._dataReader,"WriteBatch.set",r._key,s,r.converter!==null,i);return this._mutations.push(o.toMutation(r._key,Kt.none())),this}update(e,n,i,...r){this._verifyNotCommitted();let s=IE(e,this._firestore),o;return o=typeof(n=Fe(n))=="string"||n instanceof Vs?GP(this._dataReader,"WriteBatch.update",s._key,n,i,r):qP(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Kt.exists(!0))),this}delete(e){this._verifyNotCommitted();let n=IE(e,this._firestore);return this._mutations=this._mutations.concat(new Ia(n._key,Kt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new x(v.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function IE(t,e){if((t=Fe(t)).firestore!==e)throw new x(v.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function aO(t){return qp(t=Qt(t,xn)),new sb(t,e=>tu(t,e))}(function(e,n=!0){(function(r){Ca=r})(vr),_r(new un("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new xn(new CE(i.getProvider("auth-internal")),new RE(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new x(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cp(l.options.projectId,u)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Je(fN,"4.4.1",e),Je(fN,"4.4.1","esm2017")})();var Wp=function(){return Wp=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wp.apply(this,arguments)};var E9={includeMetadataChanges:!1};function Tb(t,e){return e===void 0&&(e=E9),new U(function(n){var i=Cb(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function cO(t){return Tb(t,{includeMetadataChanges:!0})}function lO(t,e){return e===void 0&&(e={}),cO(t).pipe(K(function(n){return Sb(n,e)}))}function Sb(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:Wp(Wp({},i),(n={},n[e.idField]=t.id,n))}function uO(t){return Tb(t,{includeMetadataChanges:!0}).pipe(K(function(e){return e.docs}))}function dO(t,e){return e===void 0&&(e={}),uO(t).pipe(K(function(n){return n.map(function(i){return Sb(i,e)})}))}var nu=class{constructor(e){return e}},hO="firestore",Ab=class{constructor(){return Jc(hO)}};var Rb=new T("angularfire2.firestore-instances");function I9(t,e){let n=Xh(hO,t,e);return n&&new nu(n)}function b9(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new nu(i)}}var D9={provide:Ab,deps:[[new mt,Rb]]},C9={provide:nu,useFactory:I9,deps:[[new mt,Rb],Ni]},T9=(()=>{class t{constructor(){Je("angularfire",gs.full,"fst")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=J({type:t});static \u0275inj=X({providers:[C9,D9]})}return t})();function ooe(t,...e){return{ngModule:T9,providers:[{provide:Rb,useFactory:b9(t),multi:!0,deps:[P,Ce,Zo,ys,[new mt,al],[new mt,Yo],...e]}]}}var aoe=Me(dO,!0);var coe=Me(lO,!0);var loe=Me(sO,!0);var uoe=Me(UP,!0);var doe=Me(rO,!0);var hoe=Me(wb,!0);var foe=Me(tO,!0);var poe=Me($P,!0);var moe=Me(JP,!0);var goe=Me(XP,!0);var yoe=Me(YP,!0);var _oe=Me(nO,!0);var voe=Me(iO,!0);var woe=Me(ZP,!0),Eoe=Me(aO,!0);var ee=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ee||{}),vi="*";function Doe(t,e){return{type:ee.Trigger,name:t,definitions:e,options:{}}}function Coe(t,e=null){return{type:ee.Animate,styles:e,timings:t}}function fO(t,e=null){return{type:ee.Sequence,steps:t,options:e}}function xb(t){return{type:ee.Style,styles:t,offset:null}}function Toe(t,e,n){return{type:ee.State,name:t,styles:e,options:n}}function Soe(t){return{type:ee.Keyframes,steps:t}}function Aoe(t,e,n=null){return{type:ee.Transition,expr:t,animation:e,options:n}}var Pr=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},iu=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((n,i)=>n===null||i.totalTime>n.totalTime?i:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},Kp="!";function pO(t){return new C(3e3,!1)}function S9(){return new C(3100,!1)}function A9(){return new C(3101,!1)}function R9(t){return new C(3001,!1)}function x9(t){return new C(3003,!1)}function M9(t){return new C(3004,!1)}function N9(t,e){return new C(3005,!1)}function P9(){return new C(3006,!1)}function O9(){return new C(3007,!1)}function k9(t,e){return new C(3008,!1)}function F9(t){return new C(3002,!1)}function L9(t,e,n,i,r){return new C(3010,!1)}function V9(){return new C(3011,!1)}function j9(){return new C(3012,!1)}function B9(){return new C(3200,!1)}function U9(){return new C(3202,!1)}function $9(){return new C(3013,!1)}function H9(t){return new C(3014,!1)}function z9(t){return new C(3015,!1)}function q9(t){return new C(3016,!1)}function G9(t,e){return new C(3404,!1)}function W9(t){return new C(3502,!1)}function K9(t){return new C(3503,!1)}function Q9(){return new C(3300,!1)}function Y9(t){return new C(3504,!1)}function Z9(t){return new C(3301,!1)}function X9(t,e){return new C(3302,!1)}function J9(t){return new C(3303,!1)}function e6(t,e){return new C(3400,!1)}function t6(t){return new C(3401,!1)}function n6(t){return new C(3402,!1)}function i6(t,e){return new C(3505,!1)}function Or(t){switch(t.length){case 0:return new Pr;case 1:return t[0];default:return new iu(t)}}function AO(t,e,n=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(c=>{let l=c.get("offset"),u=l==o,d=u&&a||new Map;c.forEach((h,f)=>{let p=f,g=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,r),g){case Kp:g=n.get(f);break;case vi:g=i.get(f);break;default:g=t.normalizeStyleValue(f,p,g,r);break}d.set(p,g)}),u||s.push(d),a=d,o=l}),r.length)throw W9(r);return s}function Xb(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&Mb(n,"start",t)));break;case"done":t.onDone(()=>i(n&&Mb(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&Mb(n,"destroy",t)));break}}function Mb(t,e,n){let i=n.totalTime,r=!!n.disabled,s=Jb(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,i??t.totalTime,r),o=t._data;return o!=null&&(s._data=o),s}function Jb(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Zt(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function mO(t){let e=t.indexOf(":"),n=t.substring(1,e),i=t.slice(e+1);return[n,i]}var r6=typeof document>"u"?null:document.documentElement;function eD(t){let e=t.parentNode||t.host||null;return e===r6?null:e}function s6(t){return t.substring(1,6)=="ebkit"}var Us=null,gO=!1;function o6(t){Us||(Us=a6()||{},gO=Us.style?"WebkitAppearance"in Us.style:!1);let e=!0;return Us.style&&!s6(t)&&(e=t in Us.style,!e&&gO&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Us.style)),e}function a6(){return typeof document<"u"?document.body:null}function RO(t,e){for(;e;){if(e===t)return!0;e=eD(e)}return!1}function xO(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let i=t.querySelector(e);return i?[i]:[]}var tD=(()=>{let e=class e{validateStyleProperty(i){return o6(i)}matchesElement(i,r){return!1}containsElement(i,r){return RO(i,r)}getParentElement(i){return eD(i)}query(i,r,s){return xO(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,c=[],l){return new Pr(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),uu=(()=>{let e=class e{};e.NOOP=new tD;let t=e;return t})(),zs=class{};var c6=1e3,MO="{{",l6="}}",NO="ng-enter",Lb="ng-leave",Qp="ng-trigger",em=".ng-trigger",yO="ng-animating",Vb=".ng-animating";function ji(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jb(parseFloat(e[1]),e[2])}function jb(t,e){switch(e){case"s":return t*c6;default:return t}}function tm(t,e,n){return t.hasOwnProperty("duration")?t:u6(t,e,n)}function u6(t,e,n){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof t=="string"){let a=t.match(i);if(a===null)return e.push(pO(t)),{duration:0,delay:0,easing:""};r=jb(parseFloat(a[1]),a[2]);let c=a[3];c!=null&&(s=jb(parseFloat(c),a[4]));let l=a[5];l&&(o=l)}else r=t;if(!n){let a=!1,c=e.length;r<0&&(e.push(S9()),a=!0),s<0&&(e.push(A9()),a=!0),a&&e.splice(c,0,pO(t))}return{duration:r,delay:s,easing:o}}function d6(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function wi(t,e,n){e.forEach((i,r)=>{let s=nD(r);n&&!n.has(r)&&n.set(r,t.style[s]),t.style[s]=i})}function Hs(t,e){e.forEach((n,i)=>{let r=nD(i);t.style[r]=""})}function ru(t){return Array.isArray(t)?t.length==1?t[0]:fO(t):t}function h6(t,e,n){let i=e.params||{},r=PO(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(R9(s))})}var Bb=new RegExp(`${MO}\\s*(.+?)\\s*${l6}`,"g");function PO(t){let e=[];if(typeof t=="string"){let n;for(;n=Bb.exec(t);)e.push(n[1]);Bb.lastIndex=0}return e}function ou(t,e,n){let i=`${t}`,r=i.replace(Bb,(s,o)=>{let a=e[o];return a==null&&(n.push(x9(o)),a=""),a.toString()});return r==i?t:r}var f6=/-+([a-z0-9])/g;function nD(t){return t.replace(f6,(...e)=>e[1].toUpperCase())}function p6(t,e){return t===0||e===0}function m6(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,iD(t,a)))}}return e}function Yt(t,e,n){switch(e.type){case ee.Trigger:return t.visitTrigger(e,n);case ee.State:return t.visitState(e,n);case ee.Transition:return t.visitTransition(e,n);case ee.Sequence:return t.visitSequence(e,n);case ee.Group:return t.visitGroup(e,n);case ee.Animate:return t.visitAnimate(e,n);case ee.Keyframes:return t.visitKeyframes(e,n);case ee.Style:return t.visitStyle(e,n);case ee.Reference:return t.visitReference(e,n);case ee.AnimateChild:return t.visitAnimateChild(e,n);case ee.AnimateRef:return t.visitAnimateRef(e,n);case ee.Query:return t.visitQuery(e,n);case ee.Stagger:return t.visitStagger(e,n);default:throw M9(e.type)}}function iD(t,e){return window.getComputedStyle(t)[e]}var g6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),nm=class extends zs{normalizePropertyName(e,n){return nD(e)}normalizeStyleValue(e,n,i,r){let s="",o=i.toString().trim();if(g6.has(n)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(N9(e,i))}return o+s}};var im="*";function y6(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(i=>_6(i,n,e)):n.push(t),n}function _6(t,e,n){if(t[0]==":"){let c=v6(t,n);if(typeof c=="function"){e.push(c);return}t=c}let i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return n.push(z9(t)),e;let r=i[1],s=i[2],o=i[3];e.push(_O(r,o));let a=r==im&&o==im;s[0]=="<"&&!a&&e.push(_O(o,r))}function v6(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(q9(t)),"* => *"}}var Yp=new Set(["true","1"]),Zp=new Set(["false","0"]);function _O(t,e){let n=Yp.has(t)||Zp.has(t),i=Yp.has(e)||Zp.has(e);return(r,s)=>{let o=t==im||t==r,a=e==im||e==s;return!o&&n&&typeof r=="boolean"&&(o=r?Yp.has(t):Zp.has(t)),!a&&i&&typeof s=="boolean"&&(a=s?Yp.has(e):Zp.has(e)),o&&a}}var OO=":self",w6=new RegExp(`s*${OO}s*,?`,"g");function kO(t,e,n,i){return new Ub(t).build(e,n,i)}var vO="",Ub=class{constructor(e){this._driver=e}build(e,n,i){let r=new $b(n);return this._resetContextStyleTimingState(r),Yt(this,ru(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=vO,e.collectedStyles=new Map,e.collectedStyles.set(vO,new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(P9()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==ee.State){let c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,s.push(this.visitState(c,n))}),c.name=l}else if(a.type==ee.Transition){let c=this.visitTransition(a,n);i+=c.queryCount,r+=c.depCount,o.push(c)}else n.errors.push(O9())}),{type:ee.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,n){let i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{PO(c).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&n.errors.push(k9(e.name,[...s.values()]))}return{type:ee.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let i=Yt(this,ru(e.animation),n),r=y6(e.expr,n.errors);return{type:ee.Transition,matchers:r,animation:i,queryCount:n.queryCount,depCount:n.depCount,options:$s(e.options)}}visitSequence(e,n){return{type:ee.Sequence,steps:e.steps.map(i=>Yt(this,i,n)),options:$s(e.options)}}visitGroup(e,n){let i=n.currentTime,r=0,s=e.steps.map(o=>{n.currentTime=i;let a=Yt(this,o,n);return r=Math.max(r,n.currentTime),a});return n.currentTime=r,{type:ee.Group,steps:s,options:$s(e.options)}}visitAnimate(e,n){let i=D6(e.timings,n.errors);n.currentAnimateTimings=i;let r,s=e.styles?e.styles:xb({});if(s.type==ee.Keyframes)r=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let l={};i.easing&&(l.easing=i.easing),o=xb(l)}n.currentTime+=i.duration+i.delay;let c=this.visitStyle(o,n);c.isEmptyStep=a,r=c}return n.currentAnimateTimings=null,{type:ee.Animate,timings:i,style:r,options:null}}visitStyle(e,n){let i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===vi?i.push(a):n.errors.push(F9(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let c of a.values())if(c.toString().indexOf(MO)>=0){s=!0;break}}}),{type:ee.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let i=n.currentAnimateTimings,r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,c)=>{let l=n.collectedStyles.get(n.currentQuerySelector),u=l.get(c),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(n.errors.push(L9(c,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&l.set(c,{startTime:s,endTime:r}),n.options&&h6(a,n.options,n.errors)})})}visitKeyframes(e,n){let i={type:ee.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(V9()),i;let r=1,s=0,o=[],a=!1,c=!1,l=0,u=e.steps.map(I=>{let M=this._makeStyleAst(I,n),V=M.offset!=null?M.offset:b6(M.styles),j=0;return V!=null&&(s++,j=M.offset=V),c=c||j<0||j>1,a=a||j<l,l=j,o.push(j),M});c&&n.errors.push(j9()),a&&n.errors.push(B9());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(U9()):s==0&&(h=r/(d-1));let f=d-1,p=n.currentTime,g=n.currentAnimateTimings,_=g.duration;return u.forEach((I,M)=>{let V=h>0?M==f?1:h*M:o[M],j=V*_;n.currentTime=p+g.delay+j,g.duration=j,this._validateStyleAst(I,n),I.offset=V,i.styles.push(I)}),i}visitReference(e,n){return{type:ee.Reference,animation:Yt(this,ru(e.animation),n),options:$s(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:ee.AnimateChild,options:$s(e.options)}}visitAnimateRef(e,n){return{type:ee.AnimateRef,animation:this.visitReference(e.animation,n),options:$s(e.options)}}visitQuery(e,n){let i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=E6(e.selector);n.currentQuerySelector=i.length?i+" "+s:s,Zt(n.collectedStyles,n.currentQuerySelector,new Map);let a=Yt(this,ru(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:ee.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:$s(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push($9());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:tm(e.timings,n.errors,!0);return{type:ee.Stagger,animation:Yt(this,ru(e.animation),n),timings:i,options:null}}};function E6(t){let e=!!t.split(/\s*,\s*/).find(n=>n==OO);return e&&(t=t.replace(w6,"")),t=t.replace(/@\*/g,em).replace(/@\w+/g,n=>em+"-"+n.slice(1)).replace(/:animating/g,Vb),[t,e]}function I6(t){return t?w({},t):null}var $b=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function b6(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function D6(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=tm(t,e).duration;return Nb(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Nb(0,0,"");return s.dynamic=!0,s.strValue=n,s}let r=tm(n,e);return Nb(r.duration,r.delay,r.easing)}function $s(t){return t?(t=w({},t),t.params&&(t.params=I6(t.params))):t={},t}function Nb(t,e,n){return{duration:t,delay:e,easing:n}}function rD(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var au=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},C6=1,T6=":enter",S6=new RegExp(T6,"g"),A6=":leave",R6=new RegExp(A6,"g");function FO(t,e,n,i,r,s=new Map,o=new Map,a,c,l=[]){return new Hb().buildKeyframes(t,e,n,i,r,s,o,a,c,l)}var Hb=class{buildKeyframes(e,n,i,r,s,o,a,c,l,u=[]){l=l||new au;let d=new zb(e,n,l,r,s,u,[]);d.options=c;let h=c.delay?ji(c.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,c),Yt(this,i,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){let _=f[g];if(_.element===n){p=_;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,c)}return f.length?f.map(p=>p.buildKeyframes()):[rD(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let i=n.subInstructions.get(n.element);if(i){let r=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:ji(ou(s,r?.params??{},n.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,n,i){let s=n.currentTimeline.currentTime,o=i.duration!=null?ji(i.duration):null,a=i.delay!=null?ji(i.delay):null;return o!==0&&e.forEach(c=>{let l=n.appendInstructionToTimeline(c,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Yt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let i=n.subContextCount,r=n,s=e.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==ee.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=rm);let o=ji(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Yt(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let i=[],r=n.currentTimeline.currentTime,s=e.options&&e.options.delay?ji(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Yt(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let i=e.strValue,r=n.params?ou(i,n.params,n.errors):i;return tm(r,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==ee.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,a=n.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{let l=c.offset||0;a.forwardTime(l*s),a.setStyles(c.styles,c.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(r+s),n.previousNode=e}visitQuery(e,n){let i=n.currentTimeline.currentTime,r=e.options||{},s=r.delay?ji(r.delay):0;s&&(n.previousNode.type===ee.Style||i==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=rm);let o=i,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,l);s&&d.delayNextStep(s),l===n.element&&(c=d.currentTimeline),Yt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),c&&(n.currentTimeline.mergeTimelineCollectedStyles(c),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let i=n.parentContext,r=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),c=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime;break}let u=n.currentTimeline;c&&u.delayNextStep(c);let d=u.currentTime;Yt(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}},rm={},zb=class t{constructor(e,n,i,r,s,o,a,c){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new sm(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=ji(i.duration)),i.delay!=null&&(r.delay=ji(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=ou(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){let r=n||this.element,s=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=rm,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){let r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new qb(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(S6,"."+this._enterClassName),e=e.replace(R6,"."+this._leaveClassName);let c=i!=1,l=this._driver.query(this.element,e,c);i!==0&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!s&&a.length==0&&o.push(H9(n)),a}},sm=class t{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=C6,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||vi),this._currentKeyframe.set(n,vi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);let s=r&&r.params||{},o=x6(e,this._globalTimelineStyles);for(let[a,c]of o){let l=ou(c,s,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??vi),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{let r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,c)=>{let l=new Map([...this._backFill,...a]);l.forEach((u,d)=>{u===Kp?e.add(d):u===vi&&n.add(d)}),i||l.set("offset",c/this.duration),r.push(l)});let s=[...e.values()],o=[...n.values()];if(i){let a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return rD(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},qb=class extends sm{constructor(e,n,i,r,s,o,a=!1){super(e,n,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=i+n,a=n/o,c=new Map(e[0]);c.set("offset",0),s.push(c);let l=new Map(e[0]);l.set("offset",wO(a)),s.push(l);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),p=n+f*i;h.set("offset",wO(p/o)),s.push(h)}i=o,n=0,r="",e=s}return rD(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}};function wO(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function x6(t,e){let n=new Map,i;return t.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)n.set(s,vi)}else for(let[s,o]of r)n.set(s,o)}),n}function EO(t,e,n,i,r,s,o,a,c,l,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:d,errors:h}}var Pb={},om=class{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return M6(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,s,o,a,c,l,u){let d=[],h=this.ast.options&&this.ast.options.params||Pb,f=a&&a.params||Pb,p=this.buildStyles(i,f,d),g=c&&c.params||Pb,_=this.buildStyles(r,g,d),I=new Set,M=new Map,V=new Map,j=r==="void",me={params:LO(g,h),delay:this.ast.options?.delay},oe=u?[]:FO(e,n,this.ast.animation,s,o,p,_,me,l,d),we=0;return oe.forEach(Pe=>{we=Math.max(Pe.duration+Pe.delay,we)}),d.length?EO(n,this._triggerName,i,r,j,p,_,[],[],M,V,we,d):(oe.forEach(Pe=>{let bt=Pe.element,gn=Zt(M,bt,new Set);Pe.preStyleProps.forEach(Lr=>gn.add(Lr));let qD=Zt(V,bt,new Set);Pe.postStyleProps.forEach(Lr=>qD.add(Lr)),bt!==n&&I.add(bt)}),EO(n,this._triggerName,i,r,j,p,_,oe,[...I.values()],M,V,we))}};function M6(t,e,n,i,r){return t.some(s=>s(e,n,i,r))}function LO(t,e){let n=w({},e);return Object.entries(t).forEach(([i,r])=>{r!=null&&(n[i]=r)}),n}var Gb=class{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){let i=new Map,r=LO(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=ou(o,r,n));let c=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,c,o,n),i.set(a,o)})}),i}};function N6(t,e,n){return new Wb(t,e,n)}var Wb=class{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new Gb(r.style,s,i))}),IO(this.states,"true","1"),IO(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new om(e,r,this.states))}),this.fallbackTransition=P6(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(o=>o.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}};function P6(t,e,n){let i=[(o,a)=>!0],r={type:ee.Sequence,steps:[],options:null},s={type:ee.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new om(t,s,e)}function IO(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var O6=new au,Kb=class{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let i=[],r=[],s=kO(this._driver,n,i,r);if(i.length)throw K9(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,i){let r=e.element,s=AO(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=FO(this._driver,n,s,NO,Lb,new Map,new Map,i,O6,r),o.forEach(u=>{let d=Zt(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(Q9()),o=[]),r.length)throw Y9(r);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,vi))})});let c=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),l=Or(c);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw Z9(e);return n}listen(e,n,i,r){let s=Jb(n,"","","");return Xb(this._getPlayer(e),i,s,r),()=>{}}command(e,n,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},bO="ng-animate-queued",k6=".ng-animate-queued",Ob="ng-animate-disabled",F6=".ng-animate-disabled",L6="ng-star-inserted",V6=".ng-star-inserted",j6=[],VO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},B6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mn="__ng_removed",cu=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=$6(r),i){let s=e,{value:o}=s,a=XD(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let i=this.options.params;Object.keys(n).forEach(r=>{i[r]==null&&(i[r]=n[r])})}}},su="void",kb=new cu(su),Qb=class{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,pn(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw X9(i,n);if(i==null||i.length==0)throw J9(n);if(!H6(i))throw e6(i,n);let s=Zt(this._elementListeners,e,[]),o={name:n,phase:i,callback:r};s.push(o);let a=Zt(this._engine.statesByElement,e,new Map);return a.has(n)||(pn(e,Qp),pn(e,Qp+"-"+n),a.set(n,kb)),()=>{this._engine.afterFlush(()=>{let c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw t6(e);return n}trigger(e,n,i,r=!0){let s=this._getTrigger(n),o=new lu(this.id,n,e),a=this._engine.statesByElement.get(e);a||(pn(e,Qp),pn(e,Qp+"-"+n),this._engine.statesByElement.set(e,a=new Map));let c=a.get(n),l=new cu(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(n,l),c||(c=kb),!(l.value===su)&&c.value===l.value){if(!G6(c.params,l.params)){let g=[],_=s.matchStyles(c.value,c.params,g),I=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Hs(e,_),wi(e,I)})}return}let h=Zt(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==n&&g.queued&&g.destroy()});let f=s.matchTransition(c.value,l.value,e,l.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:c,toState:l,player:o,isFallbackTransition:p}),p||(pn(e,bO),o.onStart(()=>{Sa(e,bO)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);let _=this._engine.playersByElement.get(e);if(_){let I=_.indexOf(o);I>=0&&_.splice(I,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let i=this._engine.driver.query(e,em,!0);i.forEach(r=>{if(r[Mn])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((c,l)=>{if(o.set(l,c.value),this._triggers.has(l)){let u=this.trigger(e,l,su,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),i&&Or(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){let r=new Set;n.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let c=this._triggers.get(o).fallbackTransition,l=i.get(o)||kb,u=new cu(su),d=new lu(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:l,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{let s=e[Mn];(!s||s===VO)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){pn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let c=Jb(s,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Xb(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Yb=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){let i=new Qb(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let c=r.get(a);if(c){let l=i.indexOf(c);i.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}}return n}trigger(e,n,i,r){if(Xp(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!Xp(n))return;let s=n[Mn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),pn(e,Ob)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sa(e,Ob))}removeNode(e,n,i){if(Xp(n)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,s){this.collectedLeaveElements.push(n),n[Mn]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,i,r,s){return Xp(n)?this._fetchNamespace(e).listen(n,i,r,s):()=>{}}_buildInstruction(e,n,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,em,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Vb,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Or(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Mn];if(n&&n.setForRemoval){if(e[Mn]=VO,n.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Ob)&&this.markElementAsDisabled(e,!1),this.driver.query(e,F6,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];pn(r,L6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],n.length?Or(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw n6(e)}_flushAnimations(e,n){let i=new au,r=[],s=new Map,o=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(N=>{u.add(N);let k=this.driver.query(N,k6,!0);for(let B=0;B<k.length;B++)u.add(k[B])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=TO(h,this.collectedEnterElements),p=new Map,g=0;f.forEach((N,k)=>{let B=NO+g++;p.set(k,B),N.forEach(fe=>pn(fe,B))});let _=[],I=new Set,M=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){let k=this.collectedLeaveElements[N],B=k[Mn];B&&B.setForRemoval&&(_.push(k),I.add(k),B.hasAnimation?this.driver.query(k,V6,!0).forEach(fe=>I.add(fe)):M.add(k))}let V=new Map,j=TO(h,Array.from(I));j.forEach((N,k)=>{let B=Lb+g++;V.set(k,B),N.forEach(fe=>pn(fe,B))}),e.push(()=>{f.forEach((N,k)=>{let B=p.get(k);N.forEach(fe=>Sa(fe,B))}),j.forEach((N,k)=>{let B=V.get(k);N.forEach(fe=>Sa(fe,B))}),_.forEach(N=>{this.processLeaveNode(N)})});let me=[],oe=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(n).forEach(B=>{let fe=B.player,et=B.element;if(me.push(fe),this.collectedEnterElements.length){let ht=et[Mn];if(ht&&ht.setForMove){if(ht.previousTriggersValues&&ht.previousTriggersValues.has(B.triggerName)){let Vr=ht.previousTriggersValues.get(B.triggerName),Xt=this.statesByElement.get(B.element);if(Xt&&Xt.has(B.triggerName)){let xu=Xt.get(B.triggerName);xu.value=Vr,Xt.set(B.triggerName,xu)}}fe.destroy();return}}let On=!d||!this.driver.containsElement(d,et),Lt=V.get(et),$i=p.get(et),Oe=this._buildInstruction(B,i,$i,Lt,On);if(Oe.errors&&Oe.errors.length){oe.push(Oe);return}if(On){fe.onStart(()=>Hs(et,Oe.fromStyles)),fe.onDestroy(()=>wi(et,Oe.toStyles)),r.push(fe);return}if(B.isFallbackTransition){fe.onStart(()=>Hs(et,Oe.fromStyles)),fe.onDestroy(()=>wi(et,Oe.toStyles)),r.push(fe);return}let KD=[];Oe.timelines.forEach(ht=>{ht.stretchStartingKeyframe=!0,this.disabledNodes.has(ht.element)||KD.push(ht)}),Oe.timelines=KD,i.append(et,Oe.timelines);let oF={instruction:Oe,player:fe,element:et};o.push(oF),Oe.queriedElements.forEach(ht=>Zt(a,ht,[]).push(fe)),Oe.preStyleProps.forEach((ht,Vr)=>{if(ht.size){let Xt=c.get(Vr);Xt||c.set(Vr,Xt=new Set),ht.forEach((xu,Mm)=>Xt.add(Mm))}}),Oe.postStyleProps.forEach((ht,Vr)=>{let Xt=l.get(Vr);Xt||l.set(Vr,Xt=new Set),ht.forEach((xu,Mm)=>Xt.add(Mm))})});if(oe.length){let N=[];oe.forEach(k=>{N.push(i6(k.triggerName,k.errors))}),me.forEach(k=>k.destroy()),this.reportError(N)}let we=new Map,Pe=new Map;o.forEach(N=>{let k=N.element;i.has(k)&&(Pe.set(k,k),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,we))}),r.forEach(N=>{let k=N.element;this._getPreviousPlayers(k,!1,N.namespaceId,N.triggerName,null).forEach(fe=>{Zt(we,k,[]).push(fe),fe.destroy()})});let bt=_.filter(N=>SO(N,c,l)),gn=new Map;CO(gn,this.driver,M,l,vi).forEach(N=>{SO(N,c,l)&&bt.push(N)});let Lr=new Map;f.forEach((N,k)=>{CO(Lr,this.driver,new Set(N),c,Kp)}),bt.forEach(N=>{let k=gn.get(N),B=Lr.get(N);gn.set(N,new Map([...k?.entries()??[],...B?.entries()??[]]))});let xm=[],GD=[],WD={};o.forEach(N=>{let{element:k,player:B,instruction:fe}=N;if(i.has(k)){if(u.has(k)){B.onDestroy(()=>wi(k,fe.toStyles)),B.disabled=!0,B.overrideTotalTime(fe.totalTime),r.push(B);return}let et=WD;if(Pe.size>1){let Lt=k,$i=[];for(;Lt=Lt.parentNode;){let Oe=Pe.get(Lt);if(Oe){et=Oe;break}$i.push(Lt)}$i.forEach(Oe=>Pe.set(Oe,et))}let On=this._buildAnimation(B.namespaceId,fe,we,s,Lr,gn);if(B.setRealPlayer(On),et===WD)xm.push(B);else{let Lt=this.playersByElement.get(et);Lt&&Lt.length&&(B.parentPlayer=Or(Lt)),r.push(B)}}else Hs(k,fe.fromStyles),B.onDestroy(()=>wi(k,fe.toStyles)),GD.push(B),u.has(k)&&r.push(B)}),GD.forEach(N=>{let k=s.get(N.element);if(k&&k.length){let B=Or(k);N.setRealPlayer(B)}}),r.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<_.length;N++){let k=_[N],B=k[Mn];if(Sa(k,Lb),B&&B.hasAnimation)continue;let fe=[];if(a.size){let On=a.get(k);On&&On.length&&fe.push(...On);let Lt=this.driver.query(k,Vb,!0);for(let $i=0;$i<Lt.length;$i++){let Oe=a.get(Lt[$i]);Oe&&Oe.length&&fe.push(...Oe)}}let et=fe.filter(On=>!On.destroyed);et.length?z6(this,k,et):this.processLeaveNode(k)}return _.length=0,xm.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();let k=this.players.indexOf(N);this.players.splice(k,1)}),N.play()}),xm}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let c=!s||s==su;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||o.push(l)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,n,i){let r=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:r;for(let c of n.timelines){let l=c.element,u=l!==s,d=Zt(i,l,[]);this._getPreviousPlayers(l,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Hs(s,n.fromStyles)}_buildAnimation(e,n,i,r,s,o){let a=n.triggerName,c=n.element,l=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let g=p.element;u.add(g);let _=g[Mn];if(_&&_.removedBeforeQueried)return new Pr(p.duration,p.delay);let I=g!==c,M=q6((i.get(g)||j6).map(we=>we.getRealPlayer())).filter(we=>{let Pe=we;return Pe.element?Pe.element===g:!1}),V=s.get(g),j=o.get(g),me=AO(this._normalizer,p.keyframes,V,j),oe=this._buildPlayer(p,me,M);if(p.subTimeline&&r&&d.add(g),I){let we=new lu(e,a,g);we.setRealPlayer(oe),l.push(we)}return oe});l.forEach(p=>{Zt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>U6(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>pn(p,yO));let f=Or(h);return f.onDestroy(()=>{u.forEach(p=>Sa(p,yO)),wi(c,n.toStyles)}),d.forEach(p=>{Zt(r,p,[]).push(f)}),f}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new Pr(e.duration,e.delay)}},lu=class{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Pr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>Xb(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Zt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function U6(t,e,n){let i=t.get(e);if(i){if(i.length){let r=i.indexOf(n);i.splice(r,1)}i.length==0&&t.delete(e)}return i}function $6(t){return t??null}function Xp(t){return t&&t.nodeType===1}function H6(t){return t=="start"||t=="done"}function DO(t,e){let n=t.style.display;return t.style.display=e??"none",n}function CO(t,e,n,i,r){let s=[];n.forEach(c=>s.push(DO(c)));let o=[];i.forEach((c,l)=>{let u=new Map;c.forEach(d=>{let h=e.computeStyle(l,d,r);u.set(d,h),(!h||h.length==0)&&(l[Mn]=B6,o.push(l))}),t.set(l,u)});let a=0;return n.forEach(c=>DO(c,s[a++])),o}function TO(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let c=s.get(a);if(c)return c;let l=a.parentNode;return n.has(l)?c=l:r.has(l)?c=i:c=o(l),s.set(a,c),c}return e.forEach(a=>{let c=o(a);c!==i&&n.get(c).push(a)}),n}function pn(t,e){t.classList?.add(e)}function Sa(t,e){t.classList?.remove(e)}function z6(t,e,n){Or(n).onDone(()=>t.processLeaveNode(e))}function q6(t){let e=[];return jO(t,e),e}function jO(t,e){for(let n=0;n<t.length;n++){let i=t[n];i instanceof iu?jO(i.players,e):e.push(i)}}function G6(t,e){let n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){let s=n[r];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function SO(t,e,n){let i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(s=>r.add(s)):e.set(t,i),n.delete(t),!0}var Aa=class{constructor(e,n,i){this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Yb(e.body,n,i),this._timelineEngine=new Kb(e.body,n,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,n,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let c=[],l=[],u=kO(this._driver,s,c,l);if(c.length)throw G9(r,c);l.length&&void 0,a=N6(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,r,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if(i.charAt(0)=="@"){let[s,o]=mO(i),a=r;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,s){if(i.charAt(0)=="@"){let[o,a]=mO(i);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function W6(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Fb(e[0]),e.length>1&&(i=Fb(e[e.length-1]))):e instanceof Map&&(n=Fb(e)),n||i?new K6(t,n,i):null}var K6=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._startStyles=r,this._endStyles=s,this._state=0;let o=e.initialStylesByElement.get(i);o||e.initialStylesByElement.set(i,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&wi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(wi(this._element,this._initialStyles),this._endStyles&&(wi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Hs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hs(this._element,this._endStyles),this._endStyles=null),wi(this._element,this._initialStyles),this._state=3)}};e.initialStylesByElement=new WeakMap;let t=e;return t})();function Fb(t){let e=null;return t.forEach((n,i)=>{Q6(i)&&(e=e||new Map,e.set(i,n))}),e}function Q6(t){return t==="display"||t==="position"}var am=class{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:iD(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}},cm=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return RO(e,n)}getParentElement(e){return eD(e)}query(e,n,i){return xO(e,n,i)}computeStyle(e,n,i){return iD(e,n)}animate(e,n,i,r,s,o=[]){let a=r==0?"both":"forwards",c={duration:i,delay:r,fill:a};s&&(c.easing=s);let l=new Map,u=o.filter(f=>f instanceof am);p6(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=d6(n).map(f=>new Map(f));d=m6(e,d,l);let h=W6(e,d);return new am(e,d,c,h)}};var Jp="@",BO="@.disabled",lm=class{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){n.charAt(0)==Jp&&n==BO?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},Zb=class extends lm{constructor(e,n,i,r,s){super(n,i,r,s),this.factory=e,this.namespaceId=n}setProperty(e,n,i){n.charAt(0)==Jp?n.charAt(1)=="."&&n==BO?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if(n.charAt(0)==Jp){let r=Y6(e),s=n.slice(1),o="";return s.charAt(0)!=Jp&&([s,o]=Z6(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let c=a._data||-1;this.factory.scheduleListenerCallback(c,i,a)})}return this.delegate.listen(e,n,i)}};function Y6(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function Z6(t){let e=t.indexOf("."),n=t.substring(0,e),i=t.slice(e+1);return[n,i]}var um=class{constructor(e,n,i){this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(r,s)=>{let o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(e,n){let i="",r=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,u=l.get(r);if(!u){let d=()=>l.delete(r);u=new lm(i,r,this.engine,d),l.set(r,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return n.data.animation.forEach(a),new Zb(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([n,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var J6=(()=>{let e=class e extends Aa{constructor(i,r,s,o){super(i,r,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(y(z),y(uu),y(zs),y(Jn))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function e5(){return new nm}function t5(t,e,n){return new um(t,e,n)}var $O=[{provide:zs,useFactory:e5},{provide:Aa,useClass:J6},{provide:Jr,useFactory:t5,deps:[Ch,Aa,P]}],UO=[{provide:uu,useFactory:()=>new cm},{provide:Ft,useValue:"BrowserAnimations"},...$O],n5=[{provide:uu,useClass:tD},{provide:Ft,useValue:"NoopAnimations"},...$O],Uoe=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?n5:UO}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:UO,imports:[PA]});let t=e;return t})();var oD;try{oD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{oD=!1}var ze=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?E_(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||oD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(y(sn))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ra,HO=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Qoe(){if(Ra)return Ra;if(typeof document!="object"||!document)return Ra=new Set(HO),Ra;let t=document.createElement("input");return Ra=new Set(HO.filter(e=>(t.setAttribute("type",e),t.type===e))),Ra}var du;function i5(){if(du==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>du=!0}))}finally{du=du||!1}return du}function xa(t){return i5()?t:!!t.capture}var qs;function zO(){if(qs==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return qs=!1,qs;if("scrollBehavior"in document.documentElement.style)qs=!0;else{let t=Element.prototype.scrollTo;t?qs=!/\{\s*\[native code\]\s*\}/.test(t.toString()):qs=!1}}return qs}var sD;function r5(){if(sD==null){let t=typeof document<"u"?document.head:null;sD=!!(t&&(t.createShadowRoot||t.attachShadow))}return sD}function qO(t){if(r5()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Ma(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function Nn(t){return t.composedPath?t.composedPath()[0]:t.target}function hu(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function dm(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function s5(t){return t!=null&&`${t}`!="false"}function pu(t,e=0){return o5(t)?Number(t):e}function o5(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function Na(t){return Array.isArray(t)?t:[t]}function We(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Bi(t){return t instanceof pe?t.nativeElement:t}function Xoe(t,e=/\s+/){let n=[];if(t!=null){let i=Array.isArray(t)?t:`${t}`.split(e);for(let r of i){let s=`${r}`.trim();s&&n.push(s)}}return n}var a5=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var GO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:[a5]});let t=e;return t})();var WO=new Set,Gs,c5=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):u5}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&l5(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(y(ze),y(pc,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function l5(t,e){if(!WO.has(t))try{Gs||(Gs=document.createElement("style"),e&&(Gs.nonce=e),Gs.setAttribute("type","text/css"),document.head.appendChild(Gs)),Gs.sheet&&(Gs.sheet.insertRule(`@media ${t} {body{ }}`,0),WO.add(t))}catch(n){console.error(n)}}function u5(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var QO=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new $}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return KO(Na(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let s=KO(Na(i)).map(a=>this._registerQuery(a).observable),o=Hr(s);return o=Fn(o.pipe(ke(1)),o.pipe(Ka(1),ld(0))),o.pipe(K(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),o={observable:new U(a=>{let c=l=>this._zone.run(()=>a.next(l));return r.addListener(c),()=>{r.removeListener(c)}}).pipe(_n(r),K(({matches:a})=>({query:i,matches:a})),vn(this._destroySubject)),mql:r};return this._queries.set(i,o),o}};e.\u0275fac=function(r){return new(r||e)(y(c5),y(P))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function KO(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var mu=(()=>{let e=class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return h5(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=d5(w5(i));if(r&&(YO(r)===-1||!this.isVisible(r)))return!1;let s=i.nodeName.toLowerCase(),o=YO(i);return i.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!_5(i)?!1:s==="audio"?i.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return v5(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};e.\u0275fac=function(r){return new(r||e)(y(ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function d5(t){try{return t.frameElement}catch{return null}}function h5(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function f5(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function p5(t){return g5(t)&&t.type=="hidden"}function m5(t){return y5(t)&&t.hasAttribute("href")}function g5(t){return t.nodeName.toLowerCase()=="input"}function y5(t){return t.nodeName.toLowerCase()=="a"}function JO(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function YO(t){if(!JO(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function _5(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function v5(t){return p5(t)?!1:f5(t)||m5(t)||t.hasAttribute("contenteditable")||JO(t)}function w5(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var cD=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,i,r,s=!1){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(ke(1)).subscribe(e)}},gu=(()=>{let e=class e{constructor(i,r,s){this._checker=i,this._ngZone=r,this._document=s}create(i,r=!1){return new cD(i,this._checker,this._ngZone,this._document,r)}};e.\u0275fac=function(r){return new(r||e)(y(mu),y(P),y(z))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xae=(()=>{let e=class e{get enabled(){return this.focusTrap?.enabled||!1}set enabled(i){this.focusTrap&&(this.focusTrap.enabled=i)}constructor(i,r,s){this._elementRef=i,this._focusTrapFactory=r,this._previouslyFocusedElement=null,D(ze).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(i){let r=i.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Ma(),this.focusTrap?.focusInitialElementWhenReady()}};e.\u0275fac=function(r){return new(r||e)(S(pe),S(gu),S(z))},e.\u0275dir=be({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[de.HasDecoratorInputTransform,"cdkTrapFocus","enabled",an],autoCapture:[de.HasDecoratorInputTransform,"cdkTrapFocusAutoCapture","autoCapture",an]},exportAs:["cdkTrapFocus"],standalone:!0,features:[Ai,kt]});let t=e;return t})();function lD(t){return t.buttons===0||t.detail===0}function uD(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var E5=new T("cdk-input-modality-detector-options"),I5={ignoreKeys:[18,17,224,91,16]},ek=650,Pa=xa({passive:!0,capture:!0}),b5=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,s,o){this._platform=i,this._mostRecentTarget=null,this._modality=new qe(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(c=>c===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Nn(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<ek||(this._modality.next(lD(a)?"keyboard":"mouse"),this._mostRecentTarget=Nn(a))},this._onTouchstart=a=>{if(uD(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nn(a)},this._options=w(w({},I5),o),this.modalityDetected=this._modality.pipe(Ka(1)),this.modalityChanged=this.modalityDetected.pipe(Ga()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Pa),s.addEventListener("mousedown",this._onMousedown,Pa),s.addEventListener("touchstart",this._onTouchstart,Pa)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pa),document.removeEventListener("mousedown",this._onMousedown,Pa),document.removeEventListener("touchstart",this._onTouchstart,Pa))}};e.\u0275fac=function(r){return new(r||e)(y(ze),y(P),y(z),y(E5,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fm=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(fm||{}),D5=new T("cdk-focus-monitor-default-options"),hm=xa({passive:!0,capture:!0}),yu=(()=>{let e=class e{constructor(i,r,s,o,a){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $,this._rootNodeFocusAndBlurListener=c=>{let l=Nn(c);for(let u=l;u;u=u.parentElement)c.type==="focus"?this._onFocus(c,u):this._onBlur(c,u)},this._document=o,this._detectionMode=a?.detectionMode||fm.IMMEDIATE}monitor(i,r=!1){let s=Bi(i);if(!this._platform.isBrowser||s.nodeType!==1)return F();let o=qO(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return r&&(a.checkChildren=!0),a.subject;let c={checkChildren:r,subject:new $,rootNode:o};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(i){let r=Bi(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){let o=Bi(i),a=this._getDocument().activeElement;o===a?this._getClosestElementsInfo(o).forEach(([c,l])=>this._originChanged(c,r,l)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===fm.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===fm.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?ek:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(i,r){let s=this._elementInfo.get(r),o=Nn(i);!s||!s.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),s)}_onBlur(i,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,hm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,hm)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,hm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,hm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((s,o)=>{(o===i||s.checkChildren&&o.contains(i))&&r.push([o,s])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let o=i.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(y(P),y(ze),y(b5),y(z,8),y(D5,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mae=(()=>{let e=class e{constructor(i,r){this._elementRef=i,this._focusMonitor=r,this._focusOrigin=null,this.cdkFocusChange=new ge}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,i.nodeType===1&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(r=>{this._focusOrigin=r,this.cdkFocusChange.emit(r)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(S(pe),S(yu))},e.\u0275dir=be({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let t=e;return t})(),Ws=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(Ws||{}),ZO="cdk-high-contrast-black-on-white",XO="cdk-high-contrast-white-on-black",aD="cdk-high-contrast-active",dD=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=D(QO).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ws.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ws.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ws.BLACK_ON_WHITE}return Ws.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(aD,ZO,XO),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Ws.BLACK_ON_WHITE?i.add(aD,ZO):r===Ws.WHITE_ON_BLACK&&i.add(aD,XO)}}};e.\u0275fac=function(r){return new(r||e)(y(ze),y(z))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nae=(()=>{let e=class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(y(dD))},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[GO]});let t=e;return t})();var C5=new T("cdk-dir-doc",{providedIn:"root",factory:T5});function T5(){return D(z)}var S5=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function A5(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?S5.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var _u=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new ge,i){let r=i.body?i.body.dir:null,s=i.documentElement?i.documentElement.dir:null;this.value=A5(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(y(C5,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var kr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();function x5(){return!0}var M5=new T("mat-sanity-checks",{providedIn:"root",factory:x5}),tk=(()=>{let e=class e{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return hu()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(y(dD),y(M5,8),y(z))},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[kr,kr]});let t=e;return t})();var nk=class{constructor(e,n,i,r,s){this._defaultMatcher=e,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){let e=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=typeof i?.isErrorState=="function"?i.isErrorState(r,n):!1;s!==e&&(this.errorState=s,this._stateChanges.next())}};var ik=new T("MAT_DATE_LOCALE",{providedIn:"root",factory:N5});function N5(){return D(ko)}var mm=class{constructor(){this._localeChanges=new $,this.localeChanges=this._localeChanges}getValidDateOrNull(e){return this.isDateInstance(e)&&this.isValid(e)?e:null}deserialize(e){return e==null||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,n){return this.getYear(e)-this.getYear(n)||this.getMonth(e)-this.getMonth(n)||this.getDate(e)-this.getDate(n)}sameDate(e,n){if(e&&n){let i=this.isValid(e),r=this.isValid(n);return i&&r?!this.compareDate(e,n):i==r}return e==n}clampDate(e,n,i){return n&&this.compareDate(e,n)<0?n:i&&this.compareDate(e,i)>0?i:e}},P5=new T("mat-date-formats"),O5=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function fD(t,e){let n=Array(t);for(let i=0;i<t;i++)n[i]=e(i);return n}var k5=(()=>{let e=class e extends mm{constructor(i){super(),this.useUtcForDisplay=!1,this._matDateLocale=D(ik,{optional:!0}),i!==void 0&&(this._matDateLocale=i),super.setLocale(this._matDateLocale)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){let r=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return fD(12,s=>this._format(r,new Date(2017,s,1)))}getDateNames(){let i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return fD(31,r=>this._format(i,new Date(2017,0,r+1)))}getDayOfWeekNames(i){let r=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return fD(7,s=>this._format(r,new Date(2017,0,s+1)))}getYearName(i){let r=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(r,i)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,r,s){let o=this._createDateWithOverflow(i,r,s);return o.getMonth()!=r,o}today(){return new Date}parse(i,r){return typeof i=="number"?new Date(i):i?new Date(Date.parse(i)):null}format(i,r){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");let s=new Intl.DateTimeFormat(this.locale,ue(w({},r),{timeZone:"utc"}));return this._format(s,i)}addCalendarYears(i,r){return this.addCalendarMonths(i,r*12)}addCalendarMonths(i,r){let s=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+r,this.getDate(i));return this.getMonth(s)!=((this.getMonth(i)+r)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(i,r){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+r)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if(typeof i=="string"){if(!i)return null;if(O5.test(i)){let r=new Date(i);if(this.isValid(r))return r}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(i,r,s){let o=new Date;return o.setFullYear(i,r,s),o.setHours(0,0,0,0),o}_2digit(i){return("00"+i).slice(-2)}_format(i,r){let s=new Date;return s.setUTCFullYear(r.getFullYear(),r.getMonth(),r.getDate()),s.setUTCHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),i.format(s)}};e.\u0275fac=function(r){return new(r||e)(y(ik,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),F5={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};function cce(t=F5){return[{provide:mm,useClass:k5},{provide:P5,useValue:t}]}var lce=(()=>{let e=class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var mn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(mn||{}),gD=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=mn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},rk=xa({passive:!0,capture:!0}),yD=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=Nn(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){let s=this._events.get(n);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,rk)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,rk)))}},sk={enterDuration:225,exitDuration:150},L5=800,ok=xa({passive:!0,capture:!0}),ak=["mousedown","touchstart"],ck=["mouseup","mouseleave","touchend","touchcancel"],vu=class vu{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Bi(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=w(w({},sk),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let o=i.radius||V5(e,n,r),a=e-r.left,c=n-r.top,l=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-o}px`,u.style.top=`${c-o}px`,u.style.height=`${o*2}px`,u.style.width=`${o*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),h=d.transitionProperty,f=d.transitionDuration,p=h==="none"||f==="0s"||f==="0s, 0s"||r.width===0&&r.height===0,g=new gD(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",g.state=mn.FADING_IN,i.persistent||(this._mostRecentTransientRipple=g);let _=null;return!p&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let I=()=>this._finishRippleTransition(g),M=()=>this._destroyRipple(g);u.addEventListener("transitionend",I),u.addEventListener("transitioncancel",M),_={onTransitionEnd:I,onTransitionCancel:M}}),this._activeRipples.set(g,_),(p||!l)&&this._finishRippleTransition(g),g}fadeOutRipple(e){if(e.state===mn.FADING_OUT||e.state===mn.HIDDEN)return;let n=e.element,i=w(w({},sk),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=mn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Bi(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,ak.forEach(i=>{vu._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ck.forEach(n=>{this._triggerElement.addEventListener(n,this,ok)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===mn.FADING_IN?this._startFadeOutTransition(e):e.state===mn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=mn.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=mn.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=lD(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+L5;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!uD(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===mn.VISIBLE||e.config.terminateOnPointerUp&&e.state===mn.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(ak.forEach(n=>vu._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&ck.forEach(n=>e.removeEventListener(n,this,ok)))}};vu._eventManager=new yD;var _D=vu;function V5(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var hk=new T("mat-ripple-global-options"),j5=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,o,a){this._elementRef=i,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new _D(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:w(w(w({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,w(w({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,w(w({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(S(pe),S(P),S(ze),S(hk,8),S(Ft,8))},e.\u0275dir=be({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){r&2&&lr("mat-ripple-unbounded",s.unbounded)},inputs:{color:[de.None,"matRippleColor","color"],unbounded:[de.None,"matRippleUnbounded","unbounded"],centered:[de.None,"matRippleCentered","centered"],radius:[de.None,"matRippleRadius","radius"],animation:[de.None,"matRippleAnimation","animation"],disabled:[de.None,"matRippleDisabled","disabled"],trigger:[de.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),uce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[tk,tk]});let t=e;return t})();var lk={capture:!0},uk=["focus","click","mouseenter","touchstart"],pD="mat-ripple-loader-uninitialized",mD="mat-ripple-loader-class-name",dk="mat-ripple-loader-centered",pm="mat-ripple-loader-disabled",dce=(()=>{let e=class e{constructor(){this._document=D(z,{optional:!0}),this._animationMode=D(Ft,{optional:!0}),this._globalRippleOptions=D(hk,{optional:!0}),this._platform=D(ze),this._ngZone=D(P),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let s=i.target.closest(`[${pD}]`);s&&this._createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(let i of uk)this._document?.addEventListener(i,this._onInteraction,lk)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of uk)this._document?.removeEventListener(r,this._onInteraction,lk)}configureRipple(i,r){i.setAttribute(pD,""),(r.className||!i.hasAttribute(mD))&&i.setAttribute(mD,r.className||""),r.centered&&i.setAttribute(dk,""),r.disabled&&i.setAttribute(pm,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let s=this._hosts.get(i);if(s){s.disabled=r;return}r?i.setAttribute(pm,""):i.removeAttribute(pm)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let s=this._document.createElement("span");s.classList.add("mat-ripple",i.getAttribute(mD)),i.append(s);let o=new j5(new pe(s),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=i,o.centered=i.hasAttribute(dk),o.disabled=i.hasAttribute(pm),this.attachRipple(i,o),o}attachRipple(i,r){i.removeAttribute(pD),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var B5=20,pk=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this._platform=r,this._scrolled=new $,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=B5){return this._platform.isBrowser?new U(r=>{this._globalSubscription||this._addGlobalListener();let s=i>0?this._scrolled.pipe(ad(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):F()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let s=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(xe(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,i)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let s=Bi(r),o=i.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return Ha(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(y(P),y(ze),y(z,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var U5=20,vD=(()=>{let e=class e{constructor(i,r,s){this._platform=i,this._change=new $,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(i.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),s=i.documentElement,o=s.getBoundingClientRect(),a=-o.top||i.body.scrollTop||r.scrollY||s.scrollTop||0,c=-o.left||i.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:a,left:c}}change(i=U5){return i>0?this._change.pipe(ad(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(y(ze),y(P),y(z,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var fk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})(),wD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[kr,fk,kr,fk]});let t=e;return t})();var wu=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Oa=class extends wu{constructor(e,n,i,r,s){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}},ka=class extends wu{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},ED=class extends wu{constructor(e){super(),this.element=e instanceof pe?e.nativeElement:e}},Fa=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Oa)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof ka)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof ED)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var gm=class extends Fa{constructor(e,n,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||Ce.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Eu=(()=>{let e=class e extends Fa{constructor(i,r,s){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new ge,this.attachDomPortal=o=>{this._document;let a=o.element;a.parentNode;let c=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,o=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),a=r.createComponent(o,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(S(ar),S(on),S(z))},e.\u0275dir=be({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[de.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[gt]});let t=e;return t})();var ym=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();var mk=zO(),ID=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=We(-this._previousScrollPosition.left),e.style.top=We(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),mk&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mk&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var bD=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(xe(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},_m=class{enable(){}disable(){}attach(){}};function DD(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,s=t.right<n.left,o=t.left>n.right;return i||r||s||o})}function gk(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,s=t.left<n.left,o=t.right>n.right;return i||r||s||o})}var CD=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();DD(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},H5=(()=>{let e=class e{constructor(i,r,s,o){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new _m,this.close=a=>new bD(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new ID(this._viewportRuler,this._document),this.reposition=a=>new CD(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}};e.\u0275fac=function(r){return new(r||e)(y(pk),y(vD),y(P),y(z))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Iu=class{constructor(e){if(this.scrollStrategy=new _m,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var TD=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var Ek=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(y(z))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),z5=(()=>{let e=class e extends Ek{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=s=>{let o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){let c=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(y(z),y(P,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),q5=(()=>{let e=class e extends Ek{constructor(i,r,s){super(i),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Nn(o)},this._clickListener=o=>{let a=Nn(o),c=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){let d=l[u];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(c))break;let h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(y(z),y(ze),y(P,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),La=(()=>{let e=class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||hu()){let s=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let r=this._document.createElement("div");r.classList.add(i),hu()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(y(z),y(ze))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ui=class{constructor(e,n,i,r,s,o,a,c,l,u=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new $,this._attachments=new $,this._detachments=new $,this._locationChanges=Ie.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new $,this._outsidePointerEvents=new $,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ke(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=w(w({},this._config),e),this._updateElementSize()}setDirection(e){this._config=ue(w({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=We(this._config.width),e.height=We(this._config.height),e.minWidth=We(this._config.minWidth),e.minHeight=We(this._config.minHeight),e.maxWidth=We(this._config.maxWidth),e.maxHeight=We(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){let r=Na(n||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(vn(za(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},yk="cdk-overlay-connected-position-bounding-box",G5=/([A-Za-z%]+)$/,SD=class{get positions(){return this._preferredPositions}constructor(e,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new $,this._resizeSubscription=Ie.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(yk),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],o;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,n,a),u=this._getOverlayFit(l,n,i,a);if(u.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(u,l,i)){s.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:n})}if(s.length){let a=null,c=-1;for(let l of s){let u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ks(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=i.originX=="start"?o:a}n.left<0&&(r-=n.left);let s;return i.originY=="center"?s=e.top+e.height/2:s=i.originY=="top"?e.top:e.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let s;return i.overlayY=="center"?s=-n.height/2:s=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,n,i,r){let s=vk(n),{x:o,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(o+=c),l&&(a+=l);let u=0-o,d=o+s.width-i.width,h=0-a,f=a+s.height-i.height,p=this._subtractOverflows(s.width,u,d),g=this._subtractOverflows(s.height,h,f),_=p*g;return{visibleArea:_,isCompletelyWithinViewport:s.width*s.height===_,fitsInViewportVertically:g===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,s=i.right-n.x,o=_k(this._overlayRef.getConfig().minHeight),a=_k(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||o!=null&&o<=r,l=e.fitsInViewportHorizontally||a!=null&&a<=s;return c&&l}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=vk(n),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),a=Math.max(e.y+r.height-s.height,0),c=Math.max(s.top-i.top-e.y,0),l=Math.max(s.left-i.left-e.x,0),u=0,d=0;return r.width<=s.width?u=l||-o:u=e.x<this._viewportMargin?s.left-i.left-e.x:0,r.height<=s.height?d=c||-a:d=e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){let i=this._getScrollVisibility(),r=new TD(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),s,o,a;if(n.overlayY==="top")o=e.y,s=i.height-o+this._viewportMargin;else if(n.overlayY==="bottom")a=i.height-e.y+this._viewportMargin*2,s=i.height-a+this._viewportMargin;else{let f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;s=f*2,o=e.y-f,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-p/2)}let c=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,l=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,u,d,h;if(l)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if(c)d=e.x,u=i.right-e.x;else{let f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=f*2,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:o,left:d,bottom:a,right:h,width:u,height:s}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=We(i.height),r.top=We(i.top),r.bottom=We(i.bottom),r.width=We(i.width),r.left=We(i.left),r.right=We(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=We(s)),o&&(r.maxWidth=We(o))}this._lastBoundingBoxSize=i,Ks(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ks(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ks(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let u=this._viewportRuler.getViewportScrollPosition();Ks(i,this._getExactOverlayY(n,e,u)),Ks(i,this._getExactOverlayX(n,e,u))}else i.position="static";let a="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=We(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=We(o.maxWidth):s&&(i.maxWidth="")),Ks(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=We(s.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(s.x+this._overlayRect.width)}px`}else r.left=We(s.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gk(e,i),isOriginOutsideView:DD(e,i),isOverlayClipped:gk(n,i),isOverlayOutsideView:DD(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Na(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof pe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function Ks(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function _k(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(G5);return!n||n==="px"?parseFloat(e):null}return t||null}function vk(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}var wk="cdk-global-overlay-wrapper",AD=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(wk),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,c=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),l=(s==="100%"||s==="100vh")&&(!a||a==="100%"||a==="100vh"),u=this._xPosition,d=this._xOffset,h=this._overlayRef.getConfig().direction==="rtl",f="",p="",g="";c?g="flex-start":u==="center"?(g="center",h?p=d:f=d):h?u==="left"||u==="end"?(g="flex-end",f=d):(u==="right"||u==="start")&&(g="flex-start",p=d):u==="left"||u==="start"?(g="flex-start",f=d):(u==="right"||u==="end")&&(g="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=c?"0":f,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":p,n.justifyContent=g,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(wk),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},W5=(()=>{let e=class e{constructor(i,r,s,o){this._viewportRuler=i,this._document=r,this._platform=s,this._overlayContainer=o}global(){return new AD}flexibleConnectedTo(i){return new SD(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(y(vD),y(z),y(ze),y(La))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K5=0,Pn=(()=>{let e=class e{constructor(i,r,s,o,a,c,l,u,d,h,f,p){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=c,this._ngZone=l,this._document=u,this._directionality=d,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=p}create(i){let r=this._createHostElement(),s=this._createPaneElement(r),o=this._createPortalOutlet(s),a=new Iu(i);return a.direction=a.direction||this._directionality.value,new Ui(o,r,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${K5++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(Jn)),new gm(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(y(H5),y(La),y(ar),y(W5),y(z5),y(Ce),y(P),y(z),y(_u),y(ni),y(q5),y(Ft,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Q5=new T("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=D(Pn);return()=>t.scrollStrategies.reposition()}});function Y5(t){return()=>t.scrollStrategies.reposition()}var Z5={provide:Q5,deps:[Pn],useFactory:Y5},Ik=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({providers:[Pn,Z5],imports:[kr,ym,wD,wD]});let t=e;return t})();function X5(t,e){}var Qs=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var MD=(()=>{let e=class e extends Fa{constructor(i,r,s,o,a,c,l,u){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=o,this._interactivityChecker=a,this._ngZone=c,this._overlayRef=l,this._focusMonitor=u,this._platform=D(ze),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=D(Qn),this.attachDomPortal=d=>{this._portalOutlet.hasAttached();let h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=s,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let r=this._ariaLabelledByQueue.indexOf(i);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{i.removeEventListener("blur",s),i.removeEventListener("mousedown",s),i.removeAttribute("tabindex")};i.addEventListener("blur",s),i.addEventListener("mousedown",s)})),i.focus(r)}_focusByCssSelector(i,r){let s=this._elementRef.nativeElement.querySelector(i);s&&this._forceFocus(s,r)}_trapFocus(){let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let i=this._config.restoreFocus,r=null;if(typeof i=="string"?r=this._document.querySelector(i):typeof i=="boolean"?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&typeof r.focus=="function"){let s=Ma(),o=this._elementRef.nativeElement;(!s||s===this._document.body||s===o||o.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,r=Ma();return i===r||i.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ma()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(r){return new(r||e)(S(pe),S(gu),S(z,8),S(Qs),S(mu),S(P),S(Ui),S(yu))},e.\u0275cmp=Gn({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,s){if(r&1&&hh(Eu,7),r&2){let o;_c(o=vc())&&(s._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,s){r&2&&Yn("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},standalone:!0,features:[gt,Xn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,s){r&1&&Ut(0,X5,0,0,"ng-template",0)},dependencies:[Eu],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),bu=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new $,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!dm(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},J5=new T("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=D(Pn);return()=>t.scrollStrategies.block()}}),e8=new T("DialogData"),t8=new T("DefaultDialogConfig");var n8=0,Dk=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,s,o,a,c){this._overlay=i,this._injector=r,this._defaultOptions=s,this._parentDialog=o,this._overlayContainer=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new $,this._afterOpenedAtThisLevel=new $,this._ariaHiddenElements=new Map,this.afterAllClosed=Yi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_n(void 0))),this._scrollStrategy=c}open(i,r){let s=this._defaultOptions||new Qs;r=w(w({},s),r),r.id=r.id||`cdk-dialog-${n8++}`,r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),a=this._overlay.create(o),c=new bu(a,r),l=this._attachContainer(a,c,r);return c.containerInstance=l,this._attachDialogContent(i,c,l,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){RD(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){RD(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),RD(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let r=new Iu({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,s){let o=s.injector||s.viewContainerRef?.injector,a=[{provide:Qs,useValue:s},{provide:bu,useValue:r},{provide:Ui,useValue:i}],c;s.container?typeof s.container=="function"?c=s.container:(c=s.container.type,a.push(...s.container.providers(s))):c=MD;let l=new Oa(c,s.viewContainerRef,Ce.create({parent:o||this._injector,providers:a}),s.componentFactoryResolver);return i.attach(l).instance}_attachDialogContent(i,r,s,o){if(i instanceof bn){let a=this._createInjector(o,r,s,void 0),c={$implicit:o.data,dialogRef:r};o.templateContext&&(c=w(w({},c),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),s.attachTemplatePortal(new ka(i,null,c,a))}else{let a=this._createInjector(o,r,s,this._injector),c=s.attachComponentPortal(new Oa(i,o.viewContainerRef,a,o.componentFactoryResolver));r.componentRef=c,r.componentInstance=c.instance}}_createInjector(i,r,s,o){let a=i.injector||i.viewContainerRef?.injector,c=[{provide:e8,useValue:i.data},{provide:bu,useValue:r}];return i.providers&&(typeof i.providers=="function"?c.push(...i.providers(r,i,s)):c.push(...i.providers)),i.direction&&(!a||!a.get(_u,null,{optional:!0}))&&c.push({provide:_u,useValue:{value:i.direction,change:F()}}),Ce.create({parent:a||o,providers:c})}_removeOpenDialog(i,r){let s=this.openDialogs.indexOf(i);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let r=i.parentElement.children;for(let s=r.length-1;s>-1;s--){let o=r[s];o!==i&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(r){return new(r||e)(y(Pn),y(Ce),y(t8,8),y(e,12),y(La),y(J5))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RD(t,e){let n=t.length;for(;n--;)e(t[n])}function i8(t,e){}var Du=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},ND="mdc-dialog--open",Ck="mdc-dialog--opening",Tk="mdc-dialog--closing",r8=150,s8=75,o8=(()=>{let e=class e extends MD{constructor(i,r,s,o,a,c,l,u,d){super(i,r,s,o,a,c,l,d),this._animationMode=u,this._animationStateChanged=new ge,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Ak(this._config.enterAnimationDuration)??r8:0,this._exitAnimationDuration=this._animationsEnabled?Ak(this._config.exitAnimationDuration)??s8:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Sk,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ck,ND)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ND),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ND),this._animationsEnabled?(this._hostElement.style.setProperty(Sk,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Tk)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(Ck,Tk)}_waitForAnimationToComplete(i,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let r=super.attachComponentPortal(i);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};e.\u0275fac=function(r){return new(r||e)(S(pe),S(gu),S(z,8),S(Du),S(mu),S(P),S(Ui),S(Ft,8),S(yu))},e.\u0275cmp=Gn({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(r,s){r&2&&(uh("id",s._config.id),Yn("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledByQueue[0])("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),lr("_mat-animation-noopable",!s._animationsEnabled))},standalone:!0,features:[gt,Xn],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,s){r&1&&(At(0,"div",0)(1,"div",1),Ut(2,i8,0,0,"ng-template",2),yt()())},dependencies:[Eu],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let t=e;return t})(),Sk="--mat-dialog-transition-duration";function Ak(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?pu(t.substring(0,t.length-2)):t.endsWith("s")?pu(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var vm=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(vm||{}),PD=class{constructor(e,n,i){this._ref=e,this._containerInstance=i,this._afterOpened=new $,this._beforeClosed=new $,this._state=vm.OPEN,this.disableClose=n.disableClose,this.id=e.id,i._animationStateChanged.pipe(xe(r=>r.state==="opened"),ke(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(xe(r=>r.state==="closed"),ke(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),za(this.backdropClick(),this.keydownEvents().pipe(xe(r=>r.keyCode===27&&!this.disableClose&&!dm(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),a8(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(xe(n=>n.state==="closing"),ke(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=vm.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=vm.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function a8(t,e,n){return t._closeInteractionType=e,t.close(n)}var OD=new T("MatMdcDialogData"),c8=new T("mat-mdc-dialog-default-options"),l8=new T("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=D(Pn);return()=>t.scrollStrategies.block()}});var u8=0,Rk=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,r,s,o,a,c,l,u){this._overlay=i,this._defaultOptions=o,this._scrollStrategy=a,this._parentDialog=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new $,this._afterOpenedAtThisLevel=new $,this.dialogConfigClass=Du,this.afterAllClosed=Yi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_n(void 0))),this._dialog=r.get(Dk),this._dialogRefConstructor=PD,this._dialogContainerType=o8,this._dialogDataToken=OD}open(i,r){let s;r=w(w({},this._defaultOptions||new Du),r),r.id=r.id||`mat-mdc-dialog-${u8++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let o=this._dialog.open(i,ue(w({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Qs,useValue:r}]},templateContext:()=>({dialogRef:s}),providers:(a,c,l)=>(s=new this._dialogRefConstructor(a,r,l),s.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:l},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:s}])}));return s.componentRef=o.componentRef,s.componentInstance=o.componentInstance,this.openDialogs.push(s),this.afterOpened.next(s),s.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(s);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let r=i.length;for(;r--;)i[r].close()}};e.\u0275fac=function(r){return new(r||e)(y(Pn),y(Ce),y(ni,8),y(c8,8),y(l8),y(e,12),y(La),y(Ft,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function h8(t,e){if(t&1){let n=o_();At(0,"button",12),Rt("click",function(){Iy(n);let r=No();return by(r.cancel())}),yT(),At(1,"svg",13),ur(2,"path",14),yt(),_T(),At(3,"span",15),Po(4,"Close modal"),yt()()}}function f8(t,e){t&1&&s_(0)}function p8(t,e){if(t&1&&Ut(0,f8,1,0,"ng-container",16),t&2){let n=No();os("ngTemplateOutlet",n.templateRef)}}function m8(t,e){if(t&1){let n=o_();At(0,"button",17),Rt("click",function(){Iy(n);let r=No();return by(r.cancel())}),Po(1),yt()}if(t&2){let n=No();Kn(),cs(" ",n.cancelText," ")}}var xk=(()=>{let e=class e{constructor(i){if(this.data=i,this.doConfirm=new ge,this.doCancel=new ge,this.title="\u901A\u77E5",this.content="",this.okText="\u78BA\u8A8D",this.cancelText="\u53D6\u6D88",this.showCrossBtn=!0,this.outsideClose=!1,this.showCancelBtn=!0,this.btnCenter=!0,this.data){let{title:r,content:s,okText:o,cancelText:a,showCrossBtn:c,outsideClose:l,showCancelBtn:u,contentTemplateRef:d,btnCenter:h}=i;this.title=r,this.content=s,this.okText=o,this.cancelText=a,this.showCrossBtn=c,this.outsideClose=l,this.showCancelBtn=u,this.btnCenter=h,this.templateRef=d}}ngOnInit(){}clickOutsideClose(){this.outsideClose&&this.cancel()}cancel(){this.doCancel.emit()}ok(){this.doConfirm.emit()}};e.\u0275fac=function(r){return new(r||e)(S(OD))},e.\u0275cmp=Gn({type:e,selectors:[["app-modal"]],outputs:{doConfirm:"doConfirm",doCancel:"doCancel"},standalone:!0,features:[Xn],decls:15,vars:6,consts:[[1,"cdk-overlay-dark-backdrop","min-w-72","min-h-48","flex","overflow-y-auto","overflow-x-hidden","justify-center","items-center","w-full","md:inset-0","h-[calc(100%-1rem)]","max-h-full"],[1,"relative","w-full","max-w-2xl","max-h-full"],[1,"relative","bg-white","rounded-lg","shadow","dark:bg-gray-700"],[1,"flex","items-center","justify-between","p-4","md:p-5","border-b","rounded-t","dark:border-gray-600"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],["type","button","class","text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white","data-modal-hide","default-modal",3,"click",4,"ngIf"],[1,"p-4","md:p-5","space-y-4","text-white","min-h-20"],[3,"innerHTML"],[1,"flex","justify-center","items-center","p-4","md:p-5","border-t","border-gray-200","rounded-b","dark:border-gray-600"],["type","button",1,"text-white","bg-blue-700","hover:bg-blue-800","focus:ring-4","focus:outline-none","focus:ring-blue-300","font-medium","rounded-lg","text-sm","px-5","py-2.5","text-center","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["type","button","class","ms-3 text-gray-500 bg-white hover:bg-gray-100 focus:ring-4 focus:outline-none focus:ring-blue-300 rounded-lg border border-gray-200 text-sm font-medium px-5 py-2.5 hover:text-gray-900 focus:z-10 dark:bg-gray-700 dark:text-gray-300 dark:border-gray-500 dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-gray-600",3,"click",4,"ngIf"],[1,"fixed","h-full","w-full","top-0","left-0","-z-10",3,"click"],["type","button","data-modal-hide","default-modal",1,"text-gray-400","bg-transparent","hover:bg-gray-200","hover:text-gray-900","rounded-lg","text-sm","w-8","h-8","ms-auto","inline-flex","justify-center","items-center","dark:hover:bg-gray-600","dark:hover:text-white",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 14 14",1,"w-3","h-3"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"],[1,"sr-only"],[4,"ngTemplateOutlet"],["type","button",1,"ms-3","text-gray-500","bg-white","hover:bg-gray-100","focus:ring-4","focus:outline-none","focus:ring-blue-300","rounded-lg","border","border-gray-200","text-sm","font-medium","px-5","py-2.5","hover:text-gray-900","focus:z-10","dark:bg-gray-700","dark:text-gray-300","dark:border-gray-500","dark:hover:text-white","dark:hover:bg-gray-600","dark:focus:ring-gray-600",3,"click"]],template:function(r,s){r&1&&(At(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),Po(5),yt(),Ut(6,h8,5,0,"button",5),yt(),At(7,"div",6),ur(8,"p",7),Ut(9,p8,1,1,"ng-container"),yt(),At(10,"div",8)(11,"button",9),Rt("click",function(){return s.ok()}),Po(12),yt(),Ut(13,m8,2,1,"button",10),yt()()()(),At(14,"div",11),Rt("click",function(){return s.clickOutsideClose()}),yt()),r&2&&(Kn(5),cs(" ",s.title," "),Kn(),os("ngIf",s.showCrossBtn&&s.showCancelBtn),Kn(2),os("innerHTML",s.content,cS),Kn(),r_(9,s.templateRef?9:-1),Kn(3),cs(" ",s.okText," "),Kn(),os("ngIf",s.showCancelBtn))},dependencies:[ls,bA,DA]});let t=e;return t})();var Hle=(()=>{let e=class e{constructor(i){this.dialog=i,this.modalQueue=[],this.currentModal$=new Ua,this.executeStatus$=new $,this.executeModal()}executeModal(){this.executeStatus$.subscribe(()=>{this.modalQueue.length>0&&this.currentModal$.next(this.modalQueue[0])})}openConfirm(i){let r=Date.now();this.pushModalConfig(r);let s=({title:o="\u901A\u77E5",content:a,okText:c="\u78BA\u8A8D",cancelText:l="\u53D6\u6D88",outsideClose:u=!1,showCrossBtn:d=!0,showCancelBtn:h=!0,btnCenter:f=!0,contentTemplateRef:p})=>({data:{content:a,title:o,okText:c,cancelText:l,outsideClose:u,showCrossBtn:d,showCancelBtn:h,btnCenter:f,contentTemplateRef:p}});return this.modalQueue.length===1&&this.executeStatus$.next(!0),new Promise(o=>{this.currentModal$.subscribe(a=>{if(a===r){let c=this.dialog.open(xk,s(i));o(c),c.componentInstance.doConfirm.subscribe(()=>{i.onOk&&i.onOk(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)}),c.componentInstance.doCancel.subscribe(()=>{i.onCancel&&i.onCancel(),this.modalQueue.shift(),c.close(),this.executeStatus$.next(!0)})}})})}pushModalConfig(i){this.modalQueue.push(i)}cleanQueue(){let i=this.modalQueue[0];this.modalQueue=[i]}};e.\u0275fac=function(r){return new(r||e)(y(Rk))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jk=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(S(cr),S(pe))},e.\u0275dir=be({type:e});let t=e;return t})(),Bk=(()=>{let e=class e extends jk{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=rs(e)))(s||e)}})(),e.\u0275dir=be({type:e,features:[gt]});let t=e;return t})(),LD=new T("NgValueAccessor");var g8={provide:LD,useExisting:rr(()=>Uk),multi:!0};function y8(){let t=ti()?ti().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var _8=new T("CompositionEventMode"),Uk=(()=>{let e=class e extends jk{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!y8())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(S(cr),S(pe),S(_8,8))},e.\u0275dir=be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Rt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Zn([g8]),gt]});let t=e;return t})();function Fr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function $k(t){return t!=null&&typeof t.length=="number"}var VD=new T("NgValidators"),jD=new T("NgAsyncValidators"),v8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Mk=class{static min(e){return w8(e)}static max(e){return E8(e)}static required(e){return I8(e)}static requiredTrue(e){return b8(e)}static email(e){return D8(e)}static minLength(e){return C8(e)}static maxLength(e){return T8(e)}static pattern(e){return S8(e)}static nullValidator(e){return Hk(e)}static compose(e){return Qk(e)}static composeAsync(e){return Yk(e)}};function w8(t){return e=>{if(Fr(e.value)||Fr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function E8(t){return e=>{if(Fr(e.value)||Fr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function I8(t){return Fr(t.value)?{required:!0}:null}function b8(t){return t.value===!0?null:{required:!0}}function D8(t){return Fr(t.value)||v8.test(t.value)?null:{email:!0}}function C8(t){return e=>Fr(e.value)||!$k(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function T8(t){return e=>$k(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function S8(t){if(!t)return Hk;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(Fr(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Hk(t){return null}function zk(t){return t!=null}function qk(t){return as(t)?Te(t):t}function Gk(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function Wk(t,e){return e.map(n=>n(t))}function A8(t){return!t.validate}function Kk(t){return t.map(e=>A8(e)?e:n=>e.validate(n))}function Qk(t){if(!t)return null;let e=t.filter(zk);return e.length==0?null:function(n){return Gk(Wk(n,e))}}function BD(t){return t!=null?Qk(Kk(t)):null}function Yk(t){if(!t)return null;let e=t.filter(zk);return e.length==0?null:function(n){let i=Wk(n,e).map(qk);return Km(i).pipe(K(Gk))}}function UD(t){return t!=null?Yk(Kk(t)):null}function Nk(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Zk(t){return t._rawValidators}function Xk(t){return t._rawAsyncValidators}function kD(t){return t?Array.isArray(t)?t:[t]:[]}function Em(t,e){return Array.isArray(t)?t.includes(e):t===e}function Pk(t,e){let n=kD(e);return kD(t).forEach(r=>{Em(n,r)||n.push(r)}),n}function Ok(t,e){return kD(e).filter(n=>!Em(t,n))}var Im=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=BD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=UD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ys=class extends Im{get formDirective(){return null}get path(){return null}},Au=class extends Im{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},FD=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},R8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oue=ue(w({},R8),{"[class.ng-submitted]":"isSubmitted"}),aue=(()=>{let e=class e extends FD{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(S(Au,2))},e.\u0275dir=be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&lr("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[gt]});let t=e;return t})();var Cu="VALID",wm="INVALID",Va="PENDING",Tu="DISABLED";function Jk(t){return(Am(t)?t.validators:t)||null}function x8(t){return Array.isArray(t)?BD(t):t||null}function eF(t,e){return(Am(e)?e.asyncValidators:t)||null}function M8(t){return Array.isArray(t)?UD(t):t||null}function Am(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function N8(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new C(1e3,"");if(!i[n])throw new C(1001,"")}function P8(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new C(1002,"")})}var bm=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Cu}get invalid(){return this.status===wm}get pending(){return this.status==Va}get disabled(){return this.status===Tu}get enabled(){return this.status!==Tu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Pk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Pk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ok(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ok(e,this._rawAsyncValidators))}hasValidator(e){return Em(this._rawValidators,e)}hasAsyncValidator(e){return Em(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Va,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Tu,this.errors=null,this._forEachChild(i=>{i.disable(ue(w({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cu,this._forEachChild(i=>{i.enable(ue(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(w({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cu||this.status===Va)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tu:Cu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Va,this._hasOwnPendingAsyncValidator=!0;let n=qk(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?Tu:this.errors?wm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Va)?Va:this._anyControlsHaveStatus(wm)?wm:Cu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Am(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=x8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=M8(this._rawAsyncValidators)}},Dm=class extends bm{constructor(e,n,i){super(Jk(n),eF(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){P8(this,!0,e),Object.keys(e).forEach(i=>{N8(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ru=new T("CallSetDisabledState",{providedIn:"root",factory:()=>Rm}),Rm="always";function O8(t,e){return[...e.path,t]}function Cm(t,e,n=Rm){$D(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),F8(t,e),V8(t,e),L8(t,e),k8(t,e)}function kk(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Sm(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Tm(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function k8(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function $D(t,e){let n=Zk(t);e.validator!==null?t.setValidators(Nk(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Xk(t);e.asyncValidator!==null?t.setAsyncValidators(Nk(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Tm(e._rawValidators,r),Tm(e._rawAsyncValidators,r)}function Sm(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Zk(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Xk(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return Tm(e._rawValidators,i),Tm(e._rawAsyncValidators,i),n}function F8(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&tF(t,e)})}function L8(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&tF(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function tF(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function V8(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function nF(t,e){t==null,$D(t,e)}function j8(t,e){return Sm(t,e)}function B8(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function U8(t){return Object.getPrototypeOf(t.constructor)===Bk}function iF(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function $8(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===Uk?n=s:U8(s)?i=s:r=s}),r||i||n||null}function H8(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var z8={provide:Ys,useExisting:rr(()=>q8)},Su=Promise.resolve(),q8=(()=>{let e=class e extends Ys{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ge,this.form=new Dm({},BD(i),UD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Su.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Cm(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Su.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Su.then(()=>{let r=this._findContainer(i.path),s=new Dm({});nF(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Su.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Su.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,iF(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(S(VD,10),S(jD,10),S(Ru,8))},e.\u0275dir=be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&Rt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[de.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zn([z8]),gt]});let t=e;return t})();function Fk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Lk(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var rF=class extends bm{constructor(e=null,n,i){super(Jk(n),eF(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Am(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Lk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Lk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var G8=t=>t instanceof rF;var W8={provide:Au,useExisting:rr(()=>K8)},Vk=Promise.resolve(),K8=(()=>{let e=class e extends Au{constructor(i,r,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new rF,this._registered=!1,this.name="",this.update=new ge,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=$8(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),B8(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Cm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Vk.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&an(r);Vk.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?O8(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(S(Ys,9),S(VD,10),S(jD,10),S(LD,10),S(Qn,8),S(Ru,8))},e.\u0275dir=be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[de.None,"disabled","isDisabled"],model:[de.None,"ngModel","model"],options:[de.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zn([W8]),gt,kt]});let t=e;return t})();var Q8={provide:LD,useExisting:rr(()=>Y8),multi:!0},Y8=(()=>{let e=class e extends Bk{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=rs(e)))(s||e)}})(),e.\u0275dir=be({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&Rt("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Zn([Q8]),gt]});let t=e;return t})();var Z8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({});let t=e;return t})();var X8=new T("NgModelWithFormControlWarning");var J8={provide:Ys,useExisting:rr(()=>eK)},eK=(()=>{let e=class e extends Ys{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ge,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Cm(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){kk(i.control||null,i,!1),H8(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,iF(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(kk(r||null,i),G8(s)&&(Cm(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);nF(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&j8(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$D(this.form,this),this._oldForm&&Sm(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(S(VD,10),S(jD,10),S(Ru,8))},e.\u0275dir=be({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Rt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[de.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zn([J8]),gt,kt]});let t=e;return t})();var sF=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[Z8]});let t=e;return t})();var HD=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ru,useValue:i.callSetDisabledState??Rm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[sF]});let t=e;return t})(),zD=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:X8,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ru,useValue:i.callSetDisabledState??Rm}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[sF]});let t=e;return t})();var tK=[ls,HD,zD,gv],pue=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=J({type:e}),e.\u0275inj=X({imports:[tK,ls,HD,zD,gv]});let t=e;return t})();export{w as a,ue as b,nK as c,iK as d,m as e,Ie as f,U as g,$ as h,w0 as i,Nt as j,i7 as k,Te as l,F as m,co as n,K as o,Re as p,Fn as q,Yi as r,Ha as s,WF as t,za as u,KF as v,xe as w,ke as x,YF as y,JF as z,_n as A,Vt as B,vn as C,Ge as D,rr as E,r1 as F,E as G,X as H,Ke as I,T as J,y as K,D as L,de as M,Gn as N,J as O,be as P,kt as Q,Iy as R,by as S,yT as T,_T as U,rs as V,Ny as W,mt as X,NT as Y,Jd as Z,ML as _,Ce as $,sn as aa,Ft as ba,_te as ca,pe as da,uS as ea,Kn as fa,S as ga,_S as ha,Qn as ia,ge as ja,P as ka,gt as la,Ai as ma,on as na,Ut as oa,Yn as pa,os as qa,i_ as ra,lr as sa,Ete as ta,r_ as ua,Ite as va,bte as wa,Dte as xa,At as ya,yt as za,ur as Aa,o_ as Ba,uh as Ca,ZB as Da,Rt as Ea,iU as Fa,No as Ga,ZS as Ha,XS as Ia,gU as Ja,hh as Ka,_c as La,vc as Ma,Tte as Na,Po as Oa,vU as Pa,cs as Qa,Zn as Ra,Xn as Sa,Ste as Ta,Ate as Ua,Rte as Va,xte as Wa,Mte as Xa,_h as Ya,Jn as Za,Nte as _a,an as $a,z as ab,vA as bb,ene as cb,bA as db,tne as eb,ls as fb,E_ as gb,Ene as hb,Ine as ib,pr as jb,o$ as kb,Dn as lb,Bne as mb,Une as nb,gv as ob,qne as pb,xie as qb,Mie as rb,ws as sb,Ere as tb,Sw as ub,$x as vb,Dre as wb,dt as xb,nu as yb,ooe as zb,aoe as Ab,coe as Bb,loe as Cb,uoe as Db,doe as Eb,hoe as Fb,foe as Gb,poe as Hb,moe as Ib,goe as Jb,yoe as Kb,_oe as Lb,voe as Mb,woe as Nb,Eoe as Ob,s5 as Pb,pu as Qb,Na as Rb,Bi as Sb,Xoe as Tb,ze as Ub,Qoe as Vb,xa as Wb,qO as Xb,Ma as Yb,Nn as Zb,_u as _b,pk as $b,vD as ac,fk as bc,Oa as cc,Eu as dc,ym as ec,dm as fc,Iu as gc,SD as hc,Pn as ic,Ik as jc,GO as kc,xae as lc,lD as mc,uD as nc,yu as oc,Mae as pc,Nae as qc,Doe as rc,Coe as sc,xb as tc,Toe as uc,Soe as vc,Aoe as wc,Uoe as xc,tk as yc,nk as zc,ik as Ac,mm as Bc,P5 as Cc,k5 as Dc,cce as Ec,lce as Fc,uce as Gc,dce as Hc,Hle as Ic,LD as Jc,Uk as Kc,VD as Lc,Mk as Mc,Au as Nc,aue as Oc,q8 as Pc,K8 as Qc,Y8 as Rc,eK as Sc,HD as Tc,pue as Uc};
